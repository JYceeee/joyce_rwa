# Test Buy/Sell åœ°å€è·å–ä¿®å¤æŠ¥å‘Š

## é—®é¢˜æè¿°

åœ¨TradeProjectViewçš„Contract Testing sectionä¸­ï¼š
- âœ… "Get User Address"æŒ‰é’®èƒ½æˆåŠŸè·å–åˆ°é’±åŒ…åœ°å€
- âŒ "Test Buy"å’Œ"Test Sell"æŒ‰é’®æ— æ³•è·å–åœ°å€ï¼Œæ˜¾ç¤º"Address Retrieval Failed"é”™è¯¯

## é—®é¢˜æ ¹å› 

**æ–¹æ³•åå†²çª**: åœ¨TradeProjectViewä¸­å­˜åœ¨ä¸¤ä¸ªåŒåçš„`getUserAddress`æ–¹æ³•ï¼š

1. **ä¸»è¦æ–¹æ³•** (`async getUserAddress()`) - ç”¨äºå®é™…äº¤æ˜“ï¼Œä»WalletViewè·å–ç»‘å®šåœ°å€
2. **æµ‹è¯•æ–¹æ³•** (`async getUserAddress()`) - ç”¨äºContract Testingï¼Œæ˜¾ç¤ºæµ‹è¯•ç»“æœ

ç”±äºJavaScriptä¸­åŒåæ–¹æ³•ä¼šç›¸äº’è¦†ç›–ï¼Œç¬¬äºŒä¸ªæ–¹æ³•ï¼ˆæµ‹è¯•ç”¨ï¼‰è¦†ç›–äº†ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼ˆä¸»è¦çš„ï¼‰ï¼Œå¯¼è‡´ï¼š
- "Get User Address"æŒ‰é’®è°ƒç”¨æµ‹è¯•æ–¹æ³•ï¼Œèƒ½æ­£å¸¸æ˜¾ç¤ºç»“æœ
- "Test Buy"/"Test Sell"æŒ‰é’®è°ƒç”¨ä¸»è¦æ–¹æ³•ï¼Œä½†å®é™…è¢«æµ‹è¯•æ–¹æ³•è¦†ç›–ï¼Œå¯¼è‡´é€»è¾‘æ··ä¹±

## è§£å†³æ–¹æ¡ˆ

### 1. é‡å‘½åæµ‹è¯•æ–¹æ³•
å°†æµ‹è¯•ç”¨çš„`getUserAddress`æ–¹æ³•é‡å‘½åä¸º`testGetUserAddress`ï¼š

```javascript
// ä¿®æ”¹å‰
async getUserAddress() {
  // æµ‹è¯•é€»è¾‘
}

// ä¿®æ”¹å  
async testGetUserAddress() {
  // æµ‹è¯•é€»è¾‘
}
```

### 2. æ›´æ–°æŒ‰é’®è°ƒç”¨
ä¿®æ”¹"Get User Address"æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼š

```vue
<!-- ä¿®æ”¹å‰ -->
@click="getUserAddress"

<!-- ä¿®æ”¹å -->
@click="testGetUserAddress"
```

### 3. æ›´æ–°runAllTestsæ–¹æ³•
ä¿®æ”¹`runAllTests`æ–¹æ³•ä¸­çš„è°ƒç”¨ï¼š

```javascript
// ä¿®æ”¹å‰
await this.getUserAddress()

// ä¿®æ”¹å
await this.testGetUserAddress()
```

## ä¿®å¤åçš„æ–¹æ³•ç»“æ„

### ä¸»è¦æ–¹æ³• (ç”¨äºäº¤æ˜“)
```javascript
async getUserAddress() {
  // 1. ä»localStorageè·å–WalletViewç»‘å®šåœ°å€
  // 2. å¤‡ç”¨ï¼šuseWalletåœ°å€
  // 3. å¤‡ç”¨ï¼šethereumåœ°å€
  // è¿”å›åœ°å€å­—ç¬¦ä¸²ï¼Œç”¨äºäº¤æ˜“
}
```

### æµ‹è¯•æ–¹æ³• (ç”¨äºContract Testing)
```javascript
async testGetUserAddress() {
  // 1. ä»localStorageè·å–WalletViewç»‘å®šåœ°å€
  // 2. å¤‡ç”¨ï¼šuseWalletåœ°å€  
  // 3. å¤‡ç”¨ï¼šethereumåœ°å€
  // æ˜¾ç¤ºæµ‹è¯•ç»“æœï¼ŒåŒ…å«è¯¦ç»†ä¿¡æ¯å’Œæ¥æº
}
```

## ä¿®å¤éªŒè¯

### æµ‹è¯•æ­¥éª¤
1. **è®¿é—®TradeProjecté¡µé¢**
2. **ç‚¹å‡»"Initialize Contract"** â†’ ç¡®ä¿åˆçº¦åˆå§‹åŒ–æˆåŠŸ
3. **ç‚¹å‡»"Get User Address"** â†’ åº”è¯¥æ˜¾ç¤ºæˆåŠŸçš„åœ°å€è·å–ç»“æœ
4. **ç‚¹å‡»"Test Buy"** â†’ åº”è¯¥èƒ½æˆåŠŸè·å–åœ°å€å¹¶æ‰§è¡Œæµ‹è¯•
5. **ç‚¹å‡»"Test Sell"** â†’ åº”è¯¥èƒ½æˆåŠŸè·å–åœ°å€å¹¶æ‰§è¡Œæµ‹è¯•

### é¢„æœŸç»“æœ
- âœ… "Get User Address"æŒ‰é’®æ˜¾ç¤ºè¯¦ç»†çš„æµ‹è¯•ç»“æœ
- âœ… "Test Buy"æŒ‰é’®èƒ½æˆåŠŸè·å–åœ°å€å¹¶æ‰§è¡Œä¹°å…¥æµ‹è¯•
- âœ… "Test Sell"æŒ‰é’®èƒ½æˆåŠŸè·å–åœ°å€å¹¶æ‰§è¡Œå–å‡ºæµ‹è¯•
- âœ… æ‰€æœ‰æŒ‰é’®ä½¿ç”¨ç›¸åŒçš„åœ°å€è·å–é€»è¾‘

## æŠ€æœ¯ç»†èŠ‚

### åœ°å€è·å–ä¼˜å…ˆçº§ (ä¸¤ä¸ªæ–¹æ³•ç°åœ¨éƒ½ä½¿ç”¨ç›¸åŒé€»è¾‘)
1. **ç¬¬ä¸€ä¼˜å…ˆçº§**: `localStorage.getItem('walletBoundAccounts')`
2. **ç¬¬äºŒä¼˜å…ˆçº§**: `useWallet().fullAddress`
3. **ç¬¬ä¸‰ä¼˜å…ˆçº§**: `window.ethereum.request({ method: 'eth_accounts' })`

### æ§åˆ¶å°æ—¥å¿—
ä¿®å¤åï¼ŒTest Buy/Sellä¼šè¾“å‡ºæ­£ç¡®çš„æ—¥å¿—ï¼š
```
ğŸ” TradeProjectView: æ­£åœ¨è·å–ç”¨æˆ·é’±åŒ…åœ°å€...
âœ… TradeProjectView: ä»WalletViewè·å–ç»‘å®šåœ°å€: 0x1234...
```

### é”™è¯¯å¤„ç†
- å¦‚æœæ— æ³•è·å–åœ°å€ï¼Œä¼šæ˜¾ç¤ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯
- æµ‹è¯•ç»“æœä¼šæ˜¾ç¤ºåœ°å€æ¥æºå’Œè¯¦ç»†ä¿¡æ¯
- ä¿æŒå‘åå…¼å®¹æ€§

## æ–‡ä»¶ä¿®æ”¹æ¸…å•

- `Website/src/views/core/TradeProjectView.vue`
  - é‡å‘½åæµ‹è¯•ç”¨`getUserAddress`æ–¹æ³•ä¸º`testGetUserAddress`
  - æ›´æ–°"Get User Address"æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
  - æ›´æ–°`runAllTests`æ–¹æ³•ä¸­çš„æ–¹æ³•è°ƒç”¨

## å…¼å®¹æ€§è¯´æ˜

- âœ… **å‘åå…¼å®¹**: ä¸»è¦äº¤æ˜“åŠŸèƒ½ä¸å—å½±å“
- âœ… **åŠŸèƒ½ä¸€è‡´**: Test Buy/Sellç°åœ¨ä½¿ç”¨ä¸Get User Addressç›¸åŒçš„åœ°å€è·å–é€»è¾‘
- âœ… **é”™è¯¯å¤„ç†**: ä¿æŒåŸæœ‰çš„é”™è¯¯å¤„ç†æœºåˆ¶

## åç»­å»ºè®®

1. **ä»£ç å®¡æŸ¥**: æ£€æŸ¥å…¶ä»–ç»„ä»¶æ˜¯å¦æœ‰ç±»ä¼¼çš„æ–¹æ³•åå†²çª
2. **å‘½åè§„èŒƒ**: å»ºç«‹æ˜ç¡®çš„æ–¹æ³•å‘½åè§„èŒƒï¼Œé¿å…å†²çª
3. **å•å…ƒæµ‹è¯•**: ä¸ºåœ°å€è·å–åŠŸèƒ½æ·»åŠ å•å…ƒæµ‹è¯•
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°å¼€å‘æ–‡æ¡£ï¼Œè¯´æ˜æ–¹æ³•å‘½åè§„èŒƒ

---

**ä¿®å¤æ—¶é—´**: 2025å¹´1æœˆ
**ä¿®å¤çŠ¶æ€**: âœ… å·²å®Œæˆ
**æµ‹è¯•çŠ¶æ€**: ğŸ”„ å¾…éªŒè¯
**å½±å“èŒƒå›´**: Contract TestingåŠŸèƒ½

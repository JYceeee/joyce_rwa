(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bc(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ie={},$i=[],zs=()=>{},Bf=()=>!1,ca=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wc=e=>e.startsWith("onUpdate:"),De=Object.assign,Ac=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Tg=Object.prototype.hasOwnProperty,te=(e,t)=>Tg.call(e,t),wt=Array.isArray,Vi=e=>so(e)==="[object Map]",ar=e=>so(e)==="[object Set]",pu=e=>so(e)==="[object Date]",_t=e=>typeof e=="function",_e=e=>typeof e=="string",Qs=e=>typeof e=="symbol",re=e=>e!==null&&typeof e=="object",Of=e=>(re(e)||_t(e))&&_t(e.then)&&_t(e.catch),Mf=Object.prototype.toString,so=e=>Mf.call(e),Sg=e=>so(e).slice(8,-1),Uf=e=>so(e)==="[object Object]",Ec=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ar=bc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ua=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},_g=/-\w/g,Cs=ua(e=>e.replace(_g,t=>t.slice(1).toUpperCase())),Pg=/\B([A-Z])/g,ki=ua(e=>e.replace(Pg,"-$1").toLowerCase()),da=ua(e=>e.charAt(0).toUpperCase()+e.slice(1)),za=ua(e=>e?`on${da(e)}`:""),Mn=(e,t)=>!Object.is(e,t),No=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ff=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},$o=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ig=e=>{const t=_e(e)?Number(e):NaN;return isNaN(t)?e:t};let mu;const fa=()=>mu||(mu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function is(e){if(wt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=_e(n)?Dg(n):is(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(_e(e)||re(e))return e}const xg=/;(?![^(]*\))/g,Rg=/:([^]+)/,Ng=/\/\*[^]*?\*\//g;function Dg(e){const t={};return e.replace(Ng,"").split(xg).forEach(s=>{if(s){const n=s.split(Rg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function St(e){let t="";if(_e(e))t=e;else if(wt(e))for(let s=0;s<e.length;s++){const n=St(e[s]);n&&(t+=n+" ")}else if(re(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Lg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bg=bc(Lg);function $f(e){return!!e||e===""}function Og(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=no(e[n],t[n]);return s}function no(e,t){if(e===t)return!0;let s=pu(e),n=pu(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Qs(e),n=Qs(t),s||n)return e===t;if(s=wt(e),n=wt(t),s||n)return s&&n?Og(e,t):!1;if(s=re(e),n=re(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!no(e[a],t[a]))return!1}}return String(e)===String(t)}function kc(e,t){return e.findIndex(s=>no(s,t))}const Vf=e=>!!(e&&e.__v_isRef===!0),m=e=>_e(e)?e:e==null?"":wt(e)||re(e)&&(e.toString===Mf||!_t(e.toString))?Vf(e)?m(e.value):JSON.stringify(e,Hf,2):String(e),Hf=(e,t)=>Vf(t)?Hf(e,t.value):Vi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],r)=>(s[Qa(n,r)+" =>"]=i,s),{})}:ar(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Qa(s))}:Qs(t)?Qa(t):re(t)&&!wt(t)&&!Uf(t)?String(t):t,Qa=(e,t="")=>{var s;return Qs(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ss;class Mg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ss,!t&&ss&&(this.index=(ss.scopes||(ss.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ss;try{return ss=this,t()}finally{ss=s}}}on(){++this._on===1&&(this.prevScope=ss,ss=this)}off(){this._on>0&&--this._on===0&&(ss=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ug(){return ss}let oe;const qa=new WeakSet;class jf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ss&&ss.active&&ss.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qa.has(this)&&(qa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gu(this),Kf(this);const t=oe,s=Ls;oe=this,Ls=!0;try{return this.fn()}finally{Yf(this),oe=t,Ls=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Sc(t);this.deps=this.depsTail=void 0,gu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Rl(this)&&this.run()}get dirty(){return Rl(this)}}let Wf=0,Er,kr;function Gf(e,t=!1){if(e.flags|=8,t){e.next=kr,kr=e;return}e.next=Er,Er=e}function Cc(){Wf++}function Tc(){if(--Wf>0)return;if(kr){let t=kr;for(kr=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Er;){let t=Er;for(Er=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Kf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yf(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),Sc(n),Fg(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Rl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Lr)||(e.globalVersion=Lr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Rl(e))))return;e.flags|=2;const t=e.dep,s=oe,n=Ls;oe=e,Ls=!0;try{Kf(e);const i=e.fn(e._value);(t.version===0||Mn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{oe=s,Ls=n,Yf(e),e.flags&=-3}}function Sc(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Sc(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Fg(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ls=!0;const Qf=[];function gn(){Qf.push(Ls),Ls=!1}function vn(){const e=Qf.pop();Ls=e===void 0?!0:e}function gu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=oe;oe=void 0;try{t()}finally{oe=s}}}let Lr=0;class $g{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _c{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!oe||!Ls||oe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==oe)s=this.activeLink=new $g(oe,this),oe.deps?(s.prevDep=oe.depsTail,oe.depsTail.nextDep=s,oe.depsTail=s):oe.deps=oe.depsTail=s,qf(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=oe.depsTail,s.nextDep=void 0,oe.depsTail.nextDep=s,oe.depsTail=s,oe.deps===s&&(oe.deps=n)}return s}trigger(t){this.version++,Lr++,this.notify(t)}notify(t){Cc();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Tc()}}}function qf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)qf(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Nl=new WeakMap,pi=Symbol(""),Dl=Symbol(""),Br=Symbol("");function Ue(e,t,s){if(Ls&&oe){let n=Nl.get(e);n||Nl.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new _c),i.map=n,i.key=s),i.track()}}function an(e,t,s,n,i,r){const a=Nl.get(e);if(!a){Lr++;return}const l=c=>{c&&c.trigger()};if(Cc(),t==="clear")a.forEach(l);else{const c=wt(e),u=c&&Ec(s);if(c&&s==="length"){const d=Number(n);a.forEach((f,h)=>{(h==="length"||h===Br||!Qs(h)&&h>=d)&&l(f)})}else switch((s!==void 0||a.has(void 0))&&l(a.get(s)),u&&l(a.get(Br)),t){case"add":c?u&&l(a.get("length")):(l(a.get(pi)),Vi(e)&&l(a.get(Dl)));break;case"delete":c||(l(a.get(pi)),Vi(e)&&l(a.get(Dl)));break;case"set":Vi(e)&&l(a.get(pi));break}}Tc()}function xi(e){const t=Qt(e);return t===e?t:(Ue(t,"iterate",Br),Es(e)?t:t.map(Be))}function ha(e){return Ue(e=Qt(e),"iterate",Br),e}const Vg={__proto__:null,[Symbol.iterator](){return Ja(this,Symbol.iterator,Be)},concat(...e){return xi(this).concat(...e.map(t=>wt(t)?xi(t):t))},entries(){return Ja(this,"entries",e=>(e[1]=Be(e[1]),e))},every(e,t){return Js(this,"every",e,t,void 0,arguments)},filter(e,t){return Js(this,"filter",e,t,s=>s.map(Be),arguments)},find(e,t){return Js(this,"find",e,t,Be,arguments)},findIndex(e,t){return Js(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Js(this,"findLast",e,t,Be,arguments)},findLastIndex(e,t){return Js(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Js(this,"forEach",e,t,void 0,arguments)},includes(...e){return Za(this,"includes",e)},indexOf(...e){return Za(this,"indexOf",e)},join(e){return xi(this).join(e)},lastIndexOf(...e){return Za(this,"lastIndexOf",e)},map(e,t){return Js(this,"map",e,t,void 0,arguments)},pop(){return dr(this,"pop")},push(...e){return dr(this,"push",e)},reduce(e,...t){return vu(this,"reduce",e,t)},reduceRight(e,...t){return vu(this,"reduceRight",e,t)},shift(){return dr(this,"shift")},some(e,t){return Js(this,"some",e,t,void 0,arguments)},splice(...e){return dr(this,"splice",e)},toReversed(){return xi(this).toReversed()},toSorted(e){return xi(this).toSorted(e)},toSpliced(...e){return xi(this).toSpliced(...e)},unshift(...e){return dr(this,"unshift",e)},values(){return Ja(this,"values",Be)}};function Ja(e,t,s){const n=ha(e),i=n[t]();return n!==e&&!Es(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=s(r.value)),r}),i}const Hg=Array.prototype;function Js(e,t,s,n,i,r){const a=ha(e),l=a!==e&&!Es(e),c=a[t];if(c!==Hg[t]){const f=c.apply(e,r);return l?Be(f):f}let u=s;a!==e&&(l?u=function(f,h){return s.call(this,Be(f),h,e)}:s.length>2&&(u=function(f,h){return s.call(this,f,h,e)}));const d=c.call(a,u,n);return l&&i?i(d):d}function vu(e,t,s,n){const i=ha(e);let r=s;return i!==e&&(Es(e)?s.length>3&&(r=function(a,l,c){return s.call(this,a,l,c,e)}):r=function(a,l,c){return s.call(this,a,Be(l),c,e)}),i[t](r,...n)}function Za(e,t,s){const n=Qt(e);Ue(n,"iterate",Br);const i=n[t](...s);return(i===-1||i===!1)&&xc(s[0])?(s[0]=Qt(s[0]),n[t](...s)):i}function dr(e,t,s=[]){gn(),Cc();const n=Qt(e)[t].apply(e,s);return Tc(),vn(),n}const jg=bc("__proto__,__v_isRef,__isVue"),Jf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qs));function Wg(e){Qs(e)||(e=String(e));const t=Qt(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class Zf{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?tv:sh:r?eh:th).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=wt(t);if(!i){let c;if(a&&(c=Vg[s]))return c;if(s==="hasOwnProperty")return Wg}const l=Reflect.get(t,s,$e(t)?t:n);return(Qs(s)?Jf.has(s):jg(s))||(i||Ue(t,"get",s),r)?l:$e(l)?a&&Ec(s)?l:l.value:re(l)?i?ih(l):io(l):l}}class Xf extends Zf{constructor(t=!1){super(!1,t)}set(t,s,n,i){let r=t[s];if(!this._isShallow){const c=Fn(r);if(!Es(n)&&!Fn(n)&&(r=Qt(r),n=Qt(n)),!wt(t)&&$e(r)&&!$e(n))return c||(r.value=n),!0}const a=wt(t)&&Ec(s)?Number(s)<t.length:te(t,s),l=Reflect.set(t,s,n,$e(t)?t:i);return t===Qt(i)&&(a?Mn(n,r)&&an(t,"set",s,n):an(t,"add",s,n)),l}deleteProperty(t,s){const n=te(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&an(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Qs(s)||!Jf.has(s))&&Ue(t,"has",s),n}ownKeys(t){return Ue(t,"iterate",wt(t)?"length":pi),Reflect.ownKeys(t)}}class Gg extends Zf{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Kg=new Xf,Yg=new Gg,zg=new Xf(!0);const Ll=e=>e,yo=e=>Reflect.getPrototypeOf(e);function Qg(e,t,s){return function(...n){const i=this.__v_raw,r=Qt(i),a=Vi(r),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,u=i[e](...n),d=s?Ll:t?Vo:Be;return!t&&Ue(r,"iterate",c?Dl:pi),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:l?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function bo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qg(e,t){const s={get(i){const r=this.__v_raw,a=Qt(r),l=Qt(i);e||(Mn(i,l)&&Ue(a,"get",i),Ue(a,"get",l));const{has:c}=yo(a),u=t?Ll:e?Vo:Be;if(c.call(a,i))return u(r.get(i));if(c.call(a,l))return u(r.get(l));r!==a&&r.get(i)},get size(){const i=this.__v_raw;return!e&&Ue(Qt(i),"iterate",pi),i.size},has(i){const r=this.__v_raw,a=Qt(r),l=Qt(i);return e||(Mn(i,l)&&Ue(a,"has",i),Ue(a,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const a=this,l=a.__v_raw,c=Qt(l),u=t?Ll:e?Vo:Be;return!e&&Ue(c,"iterate",pi),l.forEach((d,f)=>i.call(r,u(d),u(f),a))}};return De(s,e?{add:bo("add"),set:bo("set"),delete:bo("delete"),clear:bo("clear")}:{add(i){!t&&!Es(i)&&!Fn(i)&&(i=Qt(i));const r=Qt(this);return yo(r).has.call(r,i)||(r.add(i),an(r,"add",i,i)),this},set(i,r){!t&&!Es(r)&&!Fn(r)&&(r=Qt(r));const a=Qt(this),{has:l,get:c}=yo(a);let u=l.call(a,i);u||(i=Qt(i),u=l.call(a,i));const d=c.call(a,i);return a.set(i,r),u?Mn(r,d)&&an(a,"set",i,r):an(a,"add",i,r),this},delete(i){const r=Qt(this),{has:a,get:l}=yo(r);let c=a.call(r,i);c||(i=Qt(i),c=a.call(r,i)),l&&l.call(r,i);const u=r.delete(i);return c&&an(r,"delete",i,void 0),u},clear(){const i=Qt(this),r=i.size!==0,a=i.clear();return r&&an(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Qg(i,e,t)}),s}function Pc(e,t){const s=qg(e,t);return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(te(s,i)&&i in n?s:n,i,r)}const Jg={get:Pc(!1,!1)},Zg={get:Pc(!1,!0)},Xg={get:Pc(!0,!1)};const th=new WeakMap,eh=new WeakMap,sh=new WeakMap,tv=new WeakMap;function ev(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sv(e){return e.__v_skip||!Object.isExtensible(e)?0:ev(Sg(e))}function io(e){return Fn(e)?e:Ic(e,!1,Kg,Jg,th)}function nh(e){return Ic(e,!1,zg,Zg,eh)}function ih(e){return Ic(e,!0,Yg,Xg,sh)}function Ic(e,t,s,n,i){if(!re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=sv(e);if(r===0)return e;const a=i.get(e);if(a)return a;const l=new Proxy(e,r===2?n:s);return i.set(e,l),l}function Hi(e){return Fn(e)?Hi(e.__v_raw):!!(e&&e.__v_isReactive)}function Fn(e){return!!(e&&e.__v_isReadonly)}function Es(e){return!!(e&&e.__v_isShallow)}function xc(e){return e?!!e.__v_raw:!1}function Qt(e){const t=e&&e.__v_raw;return t?Qt(t):e}function nv(e){return!te(e,"__v_skip")&&Object.isExtensible(e)&&Ff(e,"__v_skip",!0),e}const Be=e=>re(e)?io(e):e,Vo=e=>re(e)?ih(e):e;function $e(e){return e?e.__v_isRef===!0:!1}function pt(e){return rh(e,!1)}function iv(e){return rh(e,!0)}function rh(e,t){return $e(e)?e:new rv(e,t)}class rv{constructor(t,s){this.dep=new _c,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Qt(t),this._value=s?t:Be(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Es(t)||Fn(t);t=n?t:Qt(t),Mn(t,s)&&(this._rawValue=t,this._value=n?t:Be(t),this.dep.trigger())}}function zt(e){return $e(e)?e.value:e}const ov={get:(e,t,s)=>t==="__v_raw"?e:zt(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return $e(i)&&!$e(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function oh(e){return Hi(e)?e:new Proxy(e,ov)}class av{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new _c(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Lr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return Gf(this,!0),!0}get value(){const t=this.dep.track();return zf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function lv(e,t,s=!1){let n,i;return _t(e)?n=e:(n=e.get,i=e.set),new av(n,i,s)}const wo={},Ho=new WeakMap;let ei;function cv(e,t=!1,s=ei){if(s){let n=Ho.get(s);n||Ho.set(s,n=[]),n.push(e)}}function uv(e,t,s=ie){const{immediate:n,deep:i,once:r,scheduler:a,augmentJob:l,call:c}=s,u=N=>i?N:Es(N)||i===!1||i===0?ln(N,1):ln(N);let d,f,h,p,w=!1,v=!1;if($e(e)?(f=()=>e.value,w=Es(e)):Hi(e)?(f=()=>u(e),w=!0):wt(e)?(v=!0,w=e.some(N=>Hi(N)||Es(N)),f=()=>e.map(N=>{if($e(N))return N.value;if(Hi(N))return u(N);if(_t(N))return c?c(N,2):N()})):_t(e)?t?f=c?()=>c(e,2):e:f=()=>{if(h){gn();try{h()}finally{vn()}}const N=ei;ei=d;try{return c?c(e,3,[p]):e(p)}finally{ei=N}}:f=zs,t&&i){const N=f,j=i===!0?1/0:i;f=()=>ln(N(),j)}const g=Ug(),_=()=>{d.stop(),g&&g.active&&Ac(g.effects,d)};if(r&&t){const N=t;t=(...j)=>{N(...j),_()}}let D=v?new Array(e.length).fill(wo):wo;const L=N=>{if(!(!(d.flags&1)||!d.dirty&&!N))if(t){const j=d.run();if(i||w||(v?j.some((W,U)=>Mn(W,D[U])):Mn(j,D))){h&&h();const W=ei;ei=d;try{const U=[j,D===wo?void 0:v&&D[0]===wo?[]:D,p];D=j,c?c(t,3,U):t(...U)}finally{ei=W}}}else d.run()};return l&&l(L),d=new jf(f),d.scheduler=a?()=>a(L,!1):L,p=N=>cv(N,!1,d),h=d.onStop=()=>{const N=Ho.get(d);if(N){if(c)c(N,4);else for(const j of N)j();Ho.delete(d)}},t?n?L(!0):D=d.run():a?a(L.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function ln(e,t=1/0,s){if(t<=0||!re(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,$e(e))ln(e.value,t,s);else if(wt(e))for(let n=0;n<e.length;n++)ln(e[n],t,s);else if(ar(e)||Vi(e))e.forEach(n=>{ln(n,t,s)});else if(Uf(e)){for(const n in e)ln(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&ln(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ro(e,t,s,n){try{return n?e(...n):e()}catch(i){pa(i,t,s)}}function Os(e,t,s,n){if(_t(e)){const i=ro(e,t,s,n);return i&&Of(i)&&i.catch(r=>{pa(r,t,s)}),i}if(wt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(Os(e[r],t,s,n));return i}}function pa(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||ie;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,c,u)===!1)return}l=l.parent}if(r){gn(),ro(r,null,10,[e,c,u]),vn();return}}dv(e,s,i,n,a)}function dv(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const Ye=[];let Hs=-1;const ji=[];let Nn=null,Li=0;const ah=Promise.resolve();let jo=null;function Or(e){const t=jo||ah;return e?t.then(this?e.bind(this):e):t}function fv(e){let t=Hs+1,s=Ye.length;for(;t<s;){const n=t+s>>>1,i=Ye[n],r=Mr(i);r<e||r===e&&i.flags&2?t=n+1:s=n}return t}function Rc(e){if(!(e.flags&1)){const t=Mr(e),s=Ye[Ye.length-1];!s||!(e.flags&2)&&t>=Mr(s)?Ye.push(e):Ye.splice(fv(t),0,e),e.flags|=1,lh()}}function lh(){jo||(jo=ah.then(uh))}function hv(e){wt(e)?ji.push(...e):Nn&&e.id===-1?Nn.splice(Li+1,0,e):e.flags&1||(ji.push(e),e.flags|=1),lh()}function yu(e,t,s=Hs+1){for(;s<Ye.length;s++){const n=Ye[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ch(e){if(ji.length){const t=[...new Set(ji)].sort((s,n)=>Mr(s)-Mr(n));if(ji.length=0,Nn){Nn.push(...t);return}for(Nn=t,Li=0;Li<Nn.length;Li++){const s=Nn[Li];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Nn=null,Li=0}}const Mr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function uh(e){try{for(Hs=0;Hs<Ye.length;Hs++){const t=Ye[Hs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ro(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Hs<Ye.length;Hs++){const t=Ye[Hs];t&&(t.flags&=-2)}Hs=-1,Ye.length=0,ch(),jo=null,(Ye.length||ji.length)&&uh()}}let fs=null,dh=null;function Wo(e){const t=fs;return fs=e,dh=e&&e.type.__scopeId||null,t}function Gt(e,t=fs,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Yo(-1);const r=Wo(t);let a;try{a=e(...i)}finally{Wo(r),n._d&&Yo(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Lt(e,t){if(fs===null)return e;const s=wa(fs),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,a,l,c=ie]=t[i];r&&(_t(r)&&(r={mounted:r,updated:r}),r.deep&&ln(a),n.push({dir:r,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Qn(e,t,s,n){const i=e.dirs,r=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];r&&(l.oldValue=r[a].value);let c=l.dir[n];c&&(gn(),Os(c,s,8,[e.el,l,e,t]),vn())}}const pv=Symbol("_vte"),fh=e=>e.__isTeleport,nn=Symbol("_leaveCb"),Ao=Symbol("_enterCb");function mv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ci(()=>{e.isMounted=!0}),va(()=>{e.isUnmounting=!0}),e}const gs=[Function,Array],hh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gs,onEnter:gs,onAfterEnter:gs,onEnterCancelled:gs,onBeforeLeave:gs,onLeave:gs,onAfterLeave:gs,onLeaveCancelled:gs,onBeforeAppear:gs,onAppear:gs,onAfterAppear:gs,onAppearCancelled:gs},ph=e=>{const t=e.subTree;return t.component?ph(t.component):t},gv={name:"BaseTransition",props:hh,setup(e,{slots:t}){const s=Hh(),n=mv();return()=>{const i=t.default&&vh(t.default(),!0);if(!i||!i.length)return;const r=mh(i),a=Qt(e),{mode:l}=a;if(n.isLeaving)return Xa(r);const c=bu(r);if(!c)return Xa(r);let u=Bl(c,a,n,s,f=>u=f);c.type!==qe&&Ur(c,u);let d=s.subTree&&bu(s.subTree);if(d&&d.type!==qe&&!ni(d,c)&&ph(s).type!==qe){let f=Bl(d,a,n,s);if(Ur(d,f),l==="out-in"&&c.type!==qe)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,d=void 0},Xa(r);l==="in-out"&&c.type!==qe?f.delayLeave=(h,p,w)=>{const v=gh(n,d);v[String(d.key)]=d,h[nn]=()=>{p(),h[nn]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{w(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function mh(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==qe){t=s;break}}return t}const vv=gv;function gh(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Bl(e,t,s,n,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:w,onLeaveCancelled:v,onBeforeAppear:g,onAppear:_,onAfterAppear:D,onAppearCancelled:L}=t,N=String(e.key),j=gh(s,e),W=(X,it)=>{X&&Os(X,n,9,it)},U=(X,it)=>{const tt=it[1];W(X,it),wt(X)?X.every(z=>z.length<=1)&&tt():X.length<=1&&tt()},J={mode:a,persisted:l,beforeEnter(X){let it=c;if(!s.isMounted)if(r)it=g||c;else return;X[nn]&&X[nn](!0);const tt=j[N];tt&&ni(e,tt)&&tt.el[nn]&&tt.el[nn](),W(it,[X])},enter(X){let it=u,tt=d,z=f;if(!s.isMounted)if(r)it=_||u,tt=D||d,z=L||f;else return;let at=!1;const Ot=X[Ao]=G=>{at||(at=!0,G?W(z,[X]):W(tt,[X]),J.delayedLeave&&J.delayedLeave(),X[Ao]=void 0)};it?U(it,[X,Ot]):Ot()},leave(X,it){const tt=String(e.key);if(X[Ao]&&X[Ao](!0),s.isUnmounting)return it();W(h,[X]);let z=!1;const at=X[nn]=Ot=>{z||(z=!0,it(),Ot?W(v,[X]):W(w,[X]),X[nn]=void 0,j[tt]===e&&delete j[tt])};j[tt]=e,p?U(p,[X,at]):at()},clone(X){const it=Bl(X,t,s,n,i);return i&&i(it),it}};return J}function Xa(e){if(ma(e))return e=$n(e),e.children=null,e}function bu(e){if(!ma(e))return fh(e.type)&&e.children?mh(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&_t(s.default))return s.default()}}function Ur(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ur(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vh(e,t=!1,s){let n=[],i=0;for(let r=0;r<e.length;r++){let a=e[r];const l=s==null?a.key:String(s)+String(a.key!=null?a.key:r);a.type===kt?(a.patchFlag&128&&i++,n=n.concat(vh(a.children,t,l))):(t||a.type!==qe)&&n.push(l!=null?$n(a,{key:l}):a)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function yh(e,t){return _t(e)?De({name:e.name},t,{setup:e}):e}function bh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Go=new WeakMap;function Cr(e,t,s,n,i=!1){if(wt(e)){e.forEach((w,v)=>Cr(w,t&&(wt(t)?t[v]:t),s,n,i));return}if(Tr(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Cr(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?wa(n.component):n.el,a=i?null:r,{i:l,r:c}=e,u=t&&t.r,d=l.refs===ie?l.refs={}:l.refs,f=l.setupState,h=Qt(f),p=f===ie?Bf:w=>te(h,w);if(u!=null&&u!==c){if(wu(t),_e(u))d[u]=null,p(u)&&(f[u]=null);else if($e(u)){u.value=null;const w=t;w.k&&(d[w.k]=null)}}if(_t(c))ro(c,l,12,[a,d]);else{const w=_e(c),v=$e(c);if(w||v){const g=()=>{if(e.f){const _=w?p(c)?f[c]:d[c]:c.value;if(i)wt(_)&&Ac(_,r);else if(wt(_))_.includes(r)||_.push(r);else if(w)d[c]=[r],p(c)&&(f[c]=d[c]);else{const D=[r];c.value=D,e.k&&(d[e.k]=D)}}else w?(d[c]=a,p(c)&&(f[c]=a)):v&&(c.value=a,e.k&&(d[e.k]=a))};if(a){const _=()=>{g(),Go.delete(e)};_.id=-1,Go.set(e,_),cs(_,s)}else wu(e),g()}}}function wu(e){const t=Go.get(e);t&&(t.flags|=8,Go.delete(e))}fa().requestIdleCallback;fa().cancelIdleCallback;const Tr=e=>!!e.type.__asyncLoader,ma=e=>e.type.__isKeepAlive;function yv(e,t){wh(e,"a",t)}function bv(e,t){wh(e,"da",t)}function wh(e,t,s=Fe){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ga(t,n,s),s){let i=s.parent;for(;i&&i.parent;)ma(i.parent.vnode)&&wv(n,t,s,i),i=i.parent}}function wv(e,t,s,n){const i=ga(t,e,n,!0);Nc(()=>{Ac(n[t],i)},s)}function ga(e,t,s=Fe,n=!1){if(s){const i=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...a)=>{gn();const l=oo(s),c=Os(t,s,e,a);return l(),vn(),c});return n?i.unshift(r):i.push(r),r}}const An=e=>(t,s=Fe)=>{(!$r||e==="sp")&&ga(e,(...n)=>t(...n),s)},Av=An("bm"),Ci=An("m"),Ev=An("bu"),kv=An("u"),va=An("bum"),Nc=An("um"),Cv=An("sp"),Tv=An("rtg"),Sv=An("rtc");function _v(e,t=Fe){ga("ec",e,t)}const Ah="components",Pv="directives";function mi(e,t){return Eh(Ah,e,!0,t)||e}const Iv=Symbol.for("v-ndc");function xv(e){return Eh(Pv,e)}function Eh(e,t,s=!0,n=!1){const i=fs||Fe;if(i){const r=i.type;if(e===Ah){const l=v0(r,!1);if(l&&(l===t||l===Cs(t)||l===da(Cs(t))))return r}const a=Au(i[e]||r[e],t)||Au(i.appContext[e],t);return!a&&n?r:a}}function Au(e,t){return e&&(e[t]||e[Cs(t)]||e[da(Cs(t))])}function ke(e,t,s,n){let i;const r=s,a=wt(e);if(a||_e(e)){const l=a&&Hi(e);let c=!1,u=!1;l&&(c=!Es(e),u=Fn(e),e=ha(e)),i=new Array(e.length);for(let d=0,f=e.length;d<f;d++)i[d]=t(c?u?Vo(Be(e[d])):Be(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,r)}else if(re(e))if(e[Symbol.iterator])i=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);i=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const d=l[c];i[c]=t(e[d],d,c,r)}}else i=[];return i}const Ol=e=>e?jh(e)?wa(e):Ol(e.parent):null,Sr=De(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ol(e.parent),$root:e=>Ol(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ch(e),$forceUpdate:e=>e.f||(e.f=()=>{Rc(e.update)}),$nextTick:e=>e.n||(e.n=Or.bind(e.proxy)),$watch:e=>Jv.bind(e)}),tl=(e,t)=>e!==ie&&!e.__isScriptSetup&&te(e,t),Rv={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:a,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return r[t]}else{if(tl(n,t))return a[t]=1,n[t];if(i!==ie&&te(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&te(u,t))return a[t]=3,r[t];if(s!==ie&&te(s,t))return a[t]=4,s[t];Ml&&(a[t]=0)}}const d=Sr[t];let f,h;if(d)return t==="$attrs"&&Ue(e.attrs,"get",""),d(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(s!==ie&&te(s,t))return a[t]=4,s[t];if(h=c.config.globalProperties,te(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:r}=e;return tl(i,t)?(i[t]=s,!0):n!==ie&&te(n,t)?(n[t]=s,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:a}},l){let c,u;return!!(s[l]||e!==ie&&l[0]!=="$"&&te(e,l)||tl(t,l)||(c=r[0])&&te(c,l)||te(n,l)||te(Sr,l)||te(i.config.globalProperties,l)||(u=a.__cssModules)&&u[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:te(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Eu(e){return wt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ml=!0;function Nv(e){const t=Ch(e),s=e.proxy,n=e.ctx;Ml=!1,t.beforeCreate&&ku(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:a,watch:l,provide:c,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:w,activated:v,deactivated:g,beforeDestroy:_,beforeUnmount:D,destroyed:L,unmounted:N,render:j,renderTracked:W,renderTriggered:U,errorCaptured:J,serverPrefetch:X,expose:it,inheritAttrs:tt,components:z,directives:at,filters:Ot}=t;if(u&&Dv(u,n,null),a)for(const rt in a){const ht=a[rt];_t(ht)&&(n[rt]=ht.bind(s))}if(i){const rt=i.call(s,s);re(rt)&&(e.data=io(rt))}if(Ml=!0,r)for(const rt in r){const ht=r[rt],Et=_t(ht)?ht.bind(s,s):_t(ht.get)?ht.get.bind(s,s):zs,Ut=!_t(ht)&&_t(ht.set)?ht.set.bind(s):zs,Vt=Tt({get:Et,set:Ut});Object.defineProperty(n,rt,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Nt=>Vt.value=Nt})}if(l)for(const rt in l)kh(l[rt],n,s,rt);if(c){const rt=_t(c)?c.call(s):c;Reflect.ownKeys(rt).forEach(ht=>{Do(ht,rt[ht])})}d&&ku(d,e,"c");function Y(rt,ht){wt(ht)?ht.forEach(Et=>rt(Et.bind(s))):ht&&rt(ht.bind(s))}if(Y(Av,f),Y(Ci,h),Y(Ev,p),Y(kv,w),Y(yv,v),Y(bv,g),Y(_v,J),Y(Sv,W),Y(Tv,U),Y(va,D),Y(Nc,N),Y(Cv,X),wt(it))if(it.length){const rt=e.exposed||(e.exposed={});it.forEach(ht=>{Object.defineProperty(rt,ht,{get:()=>s[ht],set:Et=>s[ht]=Et,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===zs&&(e.render=j),tt!=null&&(e.inheritAttrs=tt),z&&(e.components=z),at&&(e.directives=at),X&&bh(e)}function Dv(e,t,s=zs){wt(e)&&(e=Ul(e));for(const n in e){const i=e[n];let r;re(i)?"default"in i?r=Bs(i.from||n,i.default,!0):r=Bs(i.from||n):r=Bs(i),$e(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[n]=r}}function ku(e,t,s){Os(wt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function kh(e,t,s,n){let i=n.includes(".")?Mh(s,n):()=>s[n];if(_e(e)){const r=t[e];_t(r)&&Gs(i,r)}else if(_t(e))Gs(i,e.bind(s));else if(re(e))if(wt(e))e.forEach(r=>kh(r,t,s,n));else{const r=_t(e.handler)?e.handler.bind(s):t[e.handler];_t(r)&&Gs(i,r,e)}}function Ch(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let c;return l?c=l:!i.length&&!s&&!n?c=t:(c={},i.length&&i.forEach(u=>Ko(c,u,a,!0)),Ko(c,t,a)),re(t)&&r.set(t,c),c}function Ko(e,t,s,n=!1){const{mixins:i,extends:r}=t;r&&Ko(e,r,s,!0),i&&i.forEach(a=>Ko(e,a,s,!0));for(const a in t)if(!(n&&a==="expose")){const l=Lv[a]||s&&s[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Lv={data:Cu,props:Tu,emits:Tu,methods:yr,computed:yr,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:yr,directives:yr,watch:Ov,provide:Cu,inject:Bv};function Cu(e,t){return t?e?function(){return De(_t(e)?e.call(this,this):e,_t(t)?t.call(this,this):t)}:t:e}function Bv(e,t){return yr(Ul(e),Ul(t))}function Ul(e){if(wt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function je(e,t){return e?[...new Set([].concat(e,t))]:t}function yr(e,t){return e?De(Object.create(null),e,t):t}function Tu(e,t){return e?wt(e)&&wt(t)?[...new Set([...e,...t])]:De(Object.create(null),Eu(e),Eu(t??{})):t}function Ov(e,t){if(!e)return t;if(!t)return e;const s=De(Object.create(null),e);for(const n in t)s[n]=je(e[n],t[n]);return s}function Th(){return{app:null,config:{isNativeTag:Bf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mv=0;function Uv(e,t){return function(n,i=null){_t(n)||(n=De({},n)),i!=null&&!re(i)&&(i=null);const r=Th(),a=new WeakSet,l=[];let c=!1;const u=r.app={_uid:Mv++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:b0,get config(){return r.config},set config(d){},use(d,...f){return a.has(d)||(d&&_t(d.install)?(a.add(d),d.install(u,...f)):_t(d)&&(a.add(d),d(u,...f))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,f){return f?(r.components[d]=f,u):r.components[d]},directive(d,f){return f?(r.directives[d]=f,u):r.directives[d]},mount(d,f,h){if(!c){const p=u._ceVNode||Ct(n,i);return p.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(p,d,h),c=!0,u._container=d,d.__vue_app__=u,wa(p.component)}},onUnmount(d){l.push(d)},unmount(){c&&(Os(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return r.provides[d]=f,u},runWithContext(d){const f=Wi;Wi=u;try{return d()}finally{Wi=f}}};return u}}let Wi=null;function Do(e,t){if(Fe){let s=Fe.provides;const n=Fe.parent&&Fe.parent.provides;n===s&&(s=Fe.provides=Object.create(n)),s[e]=t}}function Bs(e,t,s=!1){const n=Hh();if(n||Wi){let i=Wi?Wi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&_t(t)?t.call(n&&n.proxy):t}}const Sh={},_h=()=>Object.create(Sh),Ph=e=>Object.getPrototypeOf(e)===Sh;function Fv(e,t,s,n=!1){const i={},r=_h();e.propsDefaults=Object.create(null),Ih(e,t,i,r);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);s?e.props=n?i:nh(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function $v(e,t,s,n){const{props:i,attrs:r,vnode:{patchFlag:a}}=e,l=Qt(i),[c]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(ya(e.emitsOptions,h))continue;const p=t[h];if(c)if(te(r,h))p!==r[h]&&(r[h]=p,u=!0);else{const w=Cs(h);i[w]=Fl(c,l,w,p,e,!1)}else p!==r[h]&&(r[h]=p,u=!0)}}}else{Ih(e,t,i,r)&&(u=!0);let d;for(const f in l)(!t||!te(t,f)&&((d=ki(f))===f||!te(t,d)))&&(c?s&&(s[f]!==void 0||s[d]!==void 0)&&(i[f]=Fl(c,l,f,void 0,e,!0)):delete i[f]);if(r!==l)for(const f in r)(!t||!te(t,f))&&(delete r[f],u=!0)}u&&an(e.attrs,"set","")}function Ih(e,t,s,n){const[i,r]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Ar(c))continue;const u=t[c];let d;i&&te(i,d=Cs(c))?!r||!r.includes(d)?s[d]=u:(l||(l={}))[d]=u:ya(e.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,a=!0)}if(r){const c=Qt(s),u=l||ie;for(let d=0;d<r.length;d++){const f=r[d];s[f]=Fl(i,c,f,u[f],e,!te(u,f))}}return a}function Fl(e,t,s,n,i,r){const a=e[s];if(a!=null){const l=te(a,"default");if(l&&n===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&_t(c)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const d=oo(i);n=u[s]=c.call(null,t),d()}}else n=c;i.ce&&i.ce._setProp(s,n)}a[0]&&(r&&!l?n=!1:a[1]&&(n===""||n===ki(s))&&(n=!0))}return n}const Vv=new WeakMap;function xh(e,t,s=!1){const n=s?Vv:t.propsCache,i=n.get(e);if(i)return i;const r=e.props,a={},l=[];let c=!1;if(!_t(e)){const d=f=>{c=!0;const[h,p]=xh(f,t,!0);De(a,h),p&&l.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return re(e)&&n.set(e,$i),$i;if(wt(r))for(let d=0;d<r.length;d++){const f=Cs(r[d]);Su(f)&&(a[f]=ie)}else if(r)for(const d in r){const f=Cs(d);if(Su(f)){const h=r[d],p=a[f]=wt(h)||_t(h)?{type:h}:De({},h),w=p.type;let v=!1,g=!0;if(wt(w))for(let _=0;_<w.length;++_){const D=w[_],L=_t(D)&&D.name;if(L==="Boolean"){v=!0;break}else L==="String"&&(g=!1)}else v=_t(w)&&w.name==="Boolean";p[0]=v,p[1]=g,(v||te(p,"default"))&&l.push(f)}}const u=[a,l];return re(e)&&n.set(e,u),u}function Su(e){return e[0]!=="$"&&!Ar(e)}const Dc=e=>e==="_"||e==="_ctx"||e==="$stable",Lc=e=>wt(e)?e.map(Ws):[Ws(e)],Hv=(e,t,s)=>{if(t._n)return t;const n=Gt((...i)=>Lc(t(...i)),s);return n._c=!1,n},Rh=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Dc(i))continue;const r=e[i];if(_t(r))t[i]=Hv(i,r,n);else if(r!=null){const a=Lc(r);t[i]=()=>a}}},Nh=(e,t)=>{const s=Lc(t);e.slots.default=()=>s},Dh=(e,t,s)=>{for(const n in t)(s||!Dc(n))&&(e[n]=t[n])},jv=(e,t,s)=>{const n=e.slots=_h();if(e.vnode.shapeFlag&32){const i=t._;i?(Dh(n,t,s),s&&Ff(n,"_",i,!0)):Rh(t,n)}else t&&Nh(e,t)},Wv=(e,t,s)=>{const{vnode:n,slots:i}=e;let r=!0,a=ie;if(n.shapeFlag&32){const l=t._;l?s&&l===1?r=!1:Dh(i,t,s):(r=!t.$stable,Rh(t,i)),a=t}else t&&(Nh(e,t),a={default:1});if(r)for(const l in i)!Dc(l)&&a[l]==null&&delete i[l]},cs=r0;function Gv(e){return Kv(e)}function Kv(e,t){const s=fa();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:a,createText:l,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=zs,insertStaticContent:w}=e,v=(y,A,x,O=null,F=null,M=null,et=void 0,q=null,Q=!!A.dynamicChildren)=>{if(y===A)return;y&&!ni(y,A)&&(O=B(y),Nt(y,F,M,!0),y=null),A.patchFlag===-2&&(Q=!1,A.dynamicChildren=null);const{type:K,ref:gt,shapeFlag:st}=A;switch(K){case ba:g(y,A,x,O);break;case qe:_(y,A,x,O);break;case Lo:y==null&&D(A,x,O,et);break;case kt:z(y,A,x,O,F,M,et,q,Q);break;default:st&1?j(y,A,x,O,F,M,et,q,Q):st&6?at(y,A,x,O,F,M,et,q,Q):(st&64||st&128)&&K.process(y,A,x,O,F,M,et,q,Q,ct)}gt!=null&&F?Cr(gt,y&&y.ref,M,A||y,!A):gt==null&&y&&y.ref!=null&&Cr(y.ref,null,M,y,!0)},g=(y,A,x,O)=>{if(y==null)n(A.el=l(A.children),x,O);else{const F=A.el=y.el;A.children!==y.children&&u(F,A.children)}},_=(y,A,x,O)=>{y==null?n(A.el=c(A.children||""),x,O):A.el=y.el},D=(y,A,x,O)=>{[y.el,y.anchor]=w(y.children,A,x,O,y.el,y.anchor)},L=({el:y,anchor:A},x,O)=>{let F;for(;y&&y!==A;)F=h(y),n(y,x,O),y=F;n(A,x,O)},N=({el:y,anchor:A})=>{let x;for(;y&&y!==A;)x=h(y),i(y),y=x;i(A)},j=(y,A,x,O,F,M,et,q,Q)=>{A.type==="svg"?et="svg":A.type==="math"&&(et="mathml"),y==null?W(A,x,O,F,M,et,q,Q):X(y,A,F,M,et,q,Q)},W=(y,A,x,O,F,M,et,q)=>{let Q,K;const{props:gt,shapeFlag:st,transition:mt,dirs:bt}=y;if(Q=y.el=a(y.type,M,gt&&gt.is,gt),st&8?d(Q,y.children):st&16&&J(y.children,Q,null,O,F,el(y,M),et,q),bt&&Qn(y,null,O,"created"),U(Q,y,y.scopeId,et,O),gt){for(const Zt in gt)Zt!=="value"&&!Ar(Zt)&&r(Q,Zt,null,gt[Zt],M,O);"value"in gt&&r(Q,"value",null,gt.value,M),(K=gt.onVnodeBeforeMount)&&$s(K,O,y)}bt&&Qn(y,null,O,"beforeMount");const It=Yv(F,mt);It&&mt.beforeEnter(Q),n(Q,A,x),((K=gt&&gt.onVnodeMounted)||It||bt)&&cs(()=>{K&&$s(K,O,y),It&&mt.enter(Q),bt&&Qn(y,null,O,"mounted")},F)},U=(y,A,x,O,F)=>{if(x&&p(y,x),O)for(let M=0;M<O.length;M++)p(y,O[M]);if(F){let M=F.subTree;if(A===M||Fh(M.type)&&(M.ssContent===A||M.ssFallback===A)){const et=F.vnode;U(y,et,et.scopeId,et.slotScopeIds,F.parent)}}},J=(y,A,x,O,F,M,et,q,Q=0)=>{for(let K=Q;K<y.length;K++){const gt=y[K]=q?Dn(y[K]):Ws(y[K]);v(null,gt,A,x,O,F,M,et,q)}},X=(y,A,x,O,F,M,et)=>{const q=A.el=y.el;let{patchFlag:Q,dynamicChildren:K,dirs:gt}=A;Q|=y.patchFlag&16;const st=y.props||ie,mt=A.props||ie;let bt;if(x&&qn(x,!1),(bt=mt.onVnodeBeforeUpdate)&&$s(bt,x,A,y),gt&&Qn(A,y,x,"beforeUpdate"),x&&qn(x,!0),(st.innerHTML&&mt.innerHTML==null||st.textContent&&mt.textContent==null)&&d(q,""),K?it(y.dynamicChildren,K,q,x,O,el(A,F),M):et||ht(y,A,q,null,x,O,el(A,F),M,!1),Q>0){if(Q&16)tt(q,st,mt,x,F);else if(Q&2&&st.class!==mt.class&&r(q,"class",null,mt.class,F),Q&4&&r(q,"style",st.style,mt.style,F),Q&8){const It=A.dynamicProps;for(let Zt=0;Zt<It.length;Zt++){const jt=It[Zt],Ie=st[jt],Yt=mt[jt];(Yt!==Ie||jt==="value")&&r(q,jt,Ie,Yt,F,x)}}Q&1&&y.children!==A.children&&d(q,A.children)}else!et&&K==null&&tt(q,st,mt,x,F);((bt=mt.onVnodeUpdated)||gt)&&cs(()=>{bt&&$s(bt,x,A,y),gt&&Qn(A,y,x,"updated")},O)},it=(y,A,x,O,F,M,et)=>{for(let q=0;q<A.length;q++){const Q=y[q],K=A[q],gt=Q.el&&(Q.type===kt||!ni(Q,K)||Q.shapeFlag&198)?f(Q.el):x;v(Q,K,gt,null,O,F,M,et,!0)}},tt=(y,A,x,O,F)=>{if(A!==x){if(A!==ie)for(const M in A)!Ar(M)&&!(M in x)&&r(y,M,A[M],null,F,O);for(const M in x){if(Ar(M))continue;const et=x[M],q=A[M];et!==q&&M!=="value"&&r(y,M,q,et,F,O)}"value"in x&&r(y,"value",A.value,x.value,F)}},z=(y,A,x,O,F,M,et,q,Q)=>{const K=A.el=y?y.el:l(""),gt=A.anchor=y?y.anchor:l("");let{patchFlag:st,dynamicChildren:mt,slotScopeIds:bt}=A;bt&&(q=q?q.concat(bt):bt),y==null?(n(K,x,O),n(gt,x,O),J(A.children||[],x,gt,F,M,et,q,Q)):st>0&&st&64&&mt&&y.dynamicChildren?(it(y.dynamicChildren,mt,x,F,M,et,q),(A.key!=null||F&&A===F.subTree)&&Lh(y,A,!0)):ht(y,A,x,gt,F,M,et,q,Q)},at=(y,A,x,O,F,M,et,q,Q)=>{A.slotScopeIds=q,y==null?A.shapeFlag&512?F.ctx.activate(A,x,O,et,Q):Ot(A,x,O,F,M,et,Q):G(y,A,Q)},Ot=(y,A,x,O,F,M,et)=>{const q=y.component=f0(y,O,F);if(ma(y)&&(q.ctx.renderer=ct),h0(q,!1,et),q.asyncDep){if(F&&F.registerDep(q,Y,et),!y.el){const Q=q.subTree=Ct(qe);_(null,Q,A,x),y.placeholder=Q.el}}else Y(q,y,A,x,F,M,et)},G=(y,A,x)=>{const O=A.component=y.component;if(n0(y,A,x))if(O.asyncDep&&!O.asyncResolved){rt(O,A,x);return}else O.next=A,O.update();else A.el=y.el,O.vnode=A},Y=(y,A,x,O,F,M,et)=>{const q=()=>{if(y.isMounted){let{next:st,bu:mt,u:bt,parent:It,vnode:Zt}=y;{const es=Bh(y);if(es){st&&(st.el=Zt.el,rt(y,st,et)),es.asyncDep.then(()=>{y.isUnmounted||q()});return}}let jt=st,Ie;qn(y,!1),st?(st.el=Zt.el,rt(y,st,et)):st=Zt,mt&&No(mt),(Ie=st.props&&st.props.onVnodeBeforeUpdate)&&$s(Ie,It,st,Zt),qn(y,!0);const Yt=Pu(y),Le=y.subTree;y.subTree=Yt,v(Le,Yt,f(Le.el),B(Le),y,F,M),st.el=Yt.el,jt===null&&i0(y,Yt.el),bt&&cs(bt,F),(Ie=st.props&&st.props.onVnodeUpdated)&&cs(()=>$s(Ie,It,st,Zt),F)}else{let st;const{el:mt,props:bt}=A,{bm:It,m:Zt,parent:jt,root:Ie,type:Yt}=y,Le=Tr(A);qn(y,!1),It&&No(It),!Le&&(st=bt&&bt.onVnodeBeforeMount)&&$s(st,jt,A),qn(y,!0);{Ie.ce&&Ie.ce._def.shadowRoot!==!1&&Ie.ce._injectChildStyle(Yt);const es=y.subTree=Pu(y);v(null,es,x,O,y,F,M),A.el=es.el}if(Zt&&cs(Zt,F),!Le&&(st=bt&&bt.onVnodeMounted)){const es=A;cs(()=>$s(st,jt,es),F)}(A.shapeFlag&256||jt&&Tr(jt.vnode)&&jt.vnode.shapeFlag&256)&&y.a&&cs(y.a,F),y.isMounted=!0,A=x=O=null}};y.scope.on();const Q=y.effect=new jf(q);y.scope.off();const K=y.update=Q.run.bind(Q),gt=y.job=Q.runIfDirty.bind(Q);gt.i=y,gt.id=y.uid,Q.scheduler=()=>Rc(gt),qn(y,!0),K()},rt=(y,A,x)=>{A.component=y;const O=y.vnode.props;y.vnode=A,y.next=null,$v(y,A.props,O,x),Wv(y,A.children,x),gn(),yu(y),vn()},ht=(y,A,x,O,F,M,et,q,Q=!1)=>{const K=y&&y.children,gt=y?y.shapeFlag:0,st=A.children,{patchFlag:mt,shapeFlag:bt}=A;if(mt>0){if(mt&128){Ut(K,st,x,O,F,M,et,q,Q);return}else if(mt&256){Et(K,st,x,O,F,M,et,q,Q);return}}bt&8?(gt&16&&ne(K,F,M),st!==K&&d(x,st)):gt&16?bt&16?Ut(K,st,x,O,F,M,et,q,Q):ne(K,F,M,!0):(gt&8&&d(x,""),bt&16&&J(st,x,O,F,M,et,q,Q))},Et=(y,A,x,O,F,M,et,q,Q)=>{y=y||$i,A=A||$i;const K=y.length,gt=A.length,st=Math.min(K,gt);let mt;for(mt=0;mt<st;mt++){const bt=A[mt]=Q?Dn(A[mt]):Ws(A[mt]);v(y[mt],bt,x,null,F,M,et,q,Q)}K>gt?ne(y,F,M,!0,!1,st):J(A,x,O,F,M,et,q,Q,st)},Ut=(y,A,x,O,F,M,et,q,Q)=>{let K=0;const gt=A.length;let st=y.length-1,mt=gt-1;for(;K<=st&&K<=mt;){const bt=y[K],It=A[K]=Q?Dn(A[K]):Ws(A[K]);if(ni(bt,It))v(bt,It,x,null,F,M,et,q,Q);else break;K++}for(;K<=st&&K<=mt;){const bt=y[st],It=A[mt]=Q?Dn(A[mt]):Ws(A[mt]);if(ni(bt,It))v(bt,It,x,null,F,M,et,q,Q);else break;st--,mt--}if(K>st){if(K<=mt){const bt=mt+1,It=bt<gt?A[bt].el:O;for(;K<=mt;)v(null,A[K]=Q?Dn(A[K]):Ws(A[K]),x,It,F,M,et,q,Q),K++}}else if(K>mt)for(;K<=st;)Nt(y[K],F,M,!0),K++;else{const bt=K,It=K,Zt=new Map;for(K=It;K<=mt;K++){const he=A[K]=Q?Dn(A[K]):Ws(A[K]);he.key!=null&&Zt.set(he.key,K)}let jt,Ie=0;const Yt=mt-It+1;let Le=!1,es=0;const qs=new Array(Yt);for(K=0;K<Yt;K++)qs[K]=0;for(K=bt;K<=st;K++){const he=y[K];if(Ie>=Yt){Nt(he,F,M,!0);continue}let Ve;if(he.key!=null)Ve=Zt.get(he.key);else for(jt=It;jt<=mt;jt++)if(qs[jt-It]===0&&ni(he,A[jt])){Ve=jt;break}Ve===void 0?Nt(he,F,M,!0):(qs[Ve-It]=K+1,Ve>=es?es=Ve:Le=!0,v(he,A[Ve],x,null,F,M,et,q,Q),Ie++)}const kn=Le?zv(qs):$i;for(jt=kn.length-1,K=Yt-1;K>=0;K--){const he=It+K,Ve=A[he],Gn=A[he+1],_i=he+1<gt?Gn.el||Gn.placeholder:O;qs[K]===0?v(null,Ve,x,_i,F,M,et,q,Q):Le&&(jt<0||K!==kn[jt]?Vt(Ve,x,_i,2):jt--)}}},Vt=(y,A,x,O,F=null)=>{const{el:M,type:et,transition:q,children:Q,shapeFlag:K}=y;if(K&6){Vt(y.component.subTree,A,x,O);return}if(K&128){y.suspense.move(A,x,O);return}if(K&64){et.move(y,A,x,ct);return}if(et===kt){n(M,A,x);for(let st=0;st<Q.length;st++)Vt(Q[st],A,x,O);n(y.anchor,A,x);return}if(et===Lo){L(y,A,x);return}if(O!==2&&K&1&&q)if(O===0)q.beforeEnter(M),n(M,A,x),cs(()=>q.enter(M),F);else{const{leave:st,delayLeave:mt,afterLeave:bt}=q,It=()=>{y.ctx.isUnmounted?i(M):n(M,A,x)},Zt=()=>{M._isLeaving&&M[nn](!0),st(M,()=>{It(),bt&&bt()})};mt?mt(M,It,Zt):Zt()}else n(M,A,x)},Nt=(y,A,x,O=!1,F=!1)=>{const{type:M,props:et,ref:q,children:Q,dynamicChildren:K,shapeFlag:gt,patchFlag:st,dirs:mt,cacheIndex:bt}=y;if(st===-2&&(F=!1),q!=null&&(gn(),Cr(q,null,x,y,!0),vn()),bt!=null&&(A.renderCache[bt]=void 0),gt&256){A.ctx.deactivate(y);return}const It=gt&1&&mt,Zt=!Tr(y);let jt;if(Zt&&(jt=et&&et.onVnodeBeforeUnmount)&&$s(jt,A,y),gt&6)Mt(y.component,x,O);else{if(gt&128){y.suspense.unmount(x,O);return}It&&Qn(y,null,A,"beforeUnmount"),gt&64?y.type.remove(y,A,x,ct,O):K&&!K.hasOnce&&(M!==kt||st>0&&st&64)?ne(K,A,x,!1,!0):(M===kt&&st&384||!F&&gt&16)&&ne(Q,A,x),O&&de(y)}(Zt&&(jt=et&&et.onVnodeUnmounted)||It)&&cs(()=>{jt&&$s(jt,A,y),It&&Qn(y,null,A,"unmounted")},x)},de=y=>{const{type:A,el:x,anchor:O,transition:F}=y;if(A===kt){Ae(x,O);return}if(A===Lo){N(y);return}const M=()=>{i(x),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(y.shapeFlag&1&&F&&!F.persisted){const{leave:et,delayLeave:q}=F,Q=()=>et(x,M);q?q(y.el,M,Q):Q()}else M()},Ae=(y,A)=>{let x;for(;y!==A;)x=h(y),i(y),y=x;i(A)},Mt=(y,A,x)=>{const{bum:O,scope:F,job:M,subTree:et,um:q,m:Q,a:K}=y;_u(Q),_u(K),O&&No(O),F.stop(),M&&(M.flags|=8,Nt(et,y,A,x)),q&&cs(q,A),cs(()=>{y.isUnmounted=!0},A)},ne=(y,A,x,O=!1,F=!1,M=0)=>{for(let et=M;et<y.length;et++)Nt(y[et],A,x,O,F)},B=y=>{if(y.shapeFlag&6)return B(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const A=h(y.anchor||y.el),x=A&&A[pv];return x?h(x):A};let nt=!1;const Z=(y,A,x)=>{y==null?A._vnode&&Nt(A._vnode,null,null,!0):v(A._vnode||null,y,A,null,null,null,x),A._vnode=y,nt||(nt=!0,yu(),ch(),nt=!1)},ct={p:v,um:Nt,m:Vt,r:de,mt:Ot,mc:J,pc:ht,pbc:it,n:B,o:e};return{render:Z,hydrate:void 0,createApp:Uv(Z)}}function el({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qn({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yv(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Lh(e,t,s=!1){const n=e.children,i=t.children;if(wt(n)&&wt(i))for(let r=0;r<n.length;r++){const a=n[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Dn(i[r]),l.el=a.el),!s&&l.patchFlag!==-2&&Lh(a,l)),l.type===ba&&l.patchFlag!==-1&&(l.el=a.el),l.type===qe&&!l.el&&(l.el=a.el)}}function zv(e){const t=e.slice(),s=[0];let n,i,r,a,l;const c=e.length;for(n=0;n<c;n++){const u=e[n];if(u!==0){if(i=s[s.length-1],e[i]<u){t[n]=i,s.push(n);continue}for(r=0,a=s.length-1;r<a;)l=r+a>>1,e[s[l]]<u?r=l+1:a=l;u<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=t[a];return s}function Bh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bh(t)}function _u(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qv=Symbol.for("v-scx"),qv=()=>Bs(Qv);function Gs(e,t,s){return Oh(e,t,s)}function Oh(e,t,s=ie){const{immediate:n,deep:i,flush:r,once:a}=s,l=De({},s),c=t&&n||!t&&r!=="post";let u;if($r){if(r==="sync"){const p=qv();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=zs,p.resume=zs,p.pause=zs,p}}const d=Fe;l.call=(p,w,v)=>Os(p,d,w,v);let f=!1;r==="post"?l.scheduler=p=>{cs(p,d&&d.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(p,w)=>{w?p():Rc(p)}),l.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const h=uv(e,t,l);return $r&&(u?u.push(h):c&&h()),h}function Jv(e,t,s){const n=this.proxy,i=_e(e)?e.includes(".")?Mh(n,e):()=>n[e]:e.bind(n,n);let r;_t(t)?r=t:(r=t.handler,s=t);const a=oo(this),l=Oh(i,r.bind(n),s);return a(),l}function Mh(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Zv=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Cs(t)}Modifiers`]||e[`${ki(t)}Modifiers`];function Xv(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||ie;let i=s;const r=t.startsWith("update:"),a=r&&Zv(n,t.slice(7));a&&(a.trim&&(i=s.map(d=>_e(d)?d.trim():d)),a.number&&(i=s.map($o)));let l,c=n[l=za(t)]||n[l=za(Cs(t))];!c&&r&&(c=n[l=za(ki(t))]),c&&Os(c,e,6,i);const u=n[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Os(u,e,6,i)}}const t0=new WeakMap;function Uh(e,t,s=!1){const n=s?t0:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let a={},l=!1;if(!_t(e)){const c=u=>{const d=Uh(u,t,!0);d&&(l=!0,De(a,d))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(re(e)&&n.set(e,null),null):(wt(r)?r.forEach(c=>a[c]=null):De(a,r),re(e)&&n.set(e,a),a)}function ya(e,t){return!e||!ca(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,ki(t))||te(e,t))}function Pu(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:a,attrs:l,emit:c,render:u,renderCache:d,props:f,data:h,setupState:p,ctx:w,inheritAttrs:v}=e,g=Wo(e);let _,D;try{if(s.shapeFlag&4){const N=i||n,j=N;_=Ws(u.call(j,N,d,f,p,h,w)),D=l}else{const N=t;_=Ws(N.length>1?N(f,{attrs:l,slots:a,emit:c}):N(f,null)),D=t.props?l:e0(l)}}catch(N){_r.length=0,pa(N,e,1),_=Ct(qe)}let L=_;if(D&&v!==!1){const N=Object.keys(D),{shapeFlag:j}=L;N.length&&j&7&&(r&&N.some(wc)&&(D=s0(D,r)),L=$n(L,D,!1,!0))}return s.dirs&&(L=$n(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&Ur(L,s.transition),_=L,Wo(g),_}const e0=e=>{let t;for(const s in e)(s==="class"||s==="style"||ca(s))&&((t||(t={}))[s]=e[s]);return t},s0=(e,t)=>{const s={};for(const n in e)(!wc(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function n0(e,t,s){const{props:n,children:i,component:r}=e,{props:a,children:l,patchFlag:c}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?Iu(n,a,u):!!a;if(c&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==n[h]&&!ya(u,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?Iu(n,a,u):!0:!!a;return!1}function Iu(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!ya(s,r))return!0}return!1}function i0({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Fh=e=>e.__isSuspense;function r0(e,t){t&&t.pendingBranch?wt(e)?t.effects.push(...e):t.effects.push(e):hv(e)}const kt=Symbol.for("v-fgt"),ba=Symbol.for("v-txt"),qe=Symbol.for("v-cmt"),Lo=Symbol.for("v-stc"),_r=[];let hs=null;function E(e=!1){_r.push(hs=e?null:[])}function o0(){_r.pop(),hs=_r[_r.length-1]||null}let Fr=1;function Yo(e,t=!1){Fr+=e,e<0&&hs&&t&&(hs.hasOnce=!0)}function $h(e){return e.dynamicChildren=Fr>0?hs||$i:null,o0(),Fr>0&&hs&&hs.push(e),e}function k(e,t,s,n,i,r){return $h(o(e,t,s,n,i,r,!0))}function Bc(e,t,s,n,i){return $h(Ct(e,t,s,n,i,!0))}function zo(e){return e?e.__v_isVNode===!0:!1}function ni(e,t){return e.type===t.type&&e.key===t.key}const Vh=({key:e})=>e??null,Bo=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||$e(e)||_t(e)?{i:fs,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,n=0,i=null,r=e===kt?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vh(t),ref:t&&Bo(t),scopeId:dh,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:fs};return l?(Oc(c,s),r&128&&e.normalize(c)):s&&(c.shapeFlag|=_e(s)?8:16),Fr>0&&!a&&hs&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&hs.push(c),c}const Ct=a0;function a0(e,t=null,s=null,n=0,i=null,r=!1){if((!e||e===Iv)&&(e=qe),zo(e)){const l=$n(e,t,!0);return s&&Oc(l,s),Fr>0&&!r&&hs&&(l.shapeFlag&6?hs[hs.indexOf(e)]=l:hs.push(l)),l.patchFlag=-2,l}if(y0(e)&&(e=e.__vccOpts),t){t=l0(t);let{class:l,style:c}=t;l&&!_e(l)&&(t.class=St(l)),re(c)&&(xc(c)&&!wt(c)&&(c=De({},c)),t.style=is(c))}const a=_e(e)?1:Fh(e)?128:fh(e)?64:re(e)?4:_t(e)?2:0;return o(e,t,s,n,i,a,r,!0)}function l0(e){return e?xc(e)||Ph(e)?De({},e):e:null}function $n(e,t,s=!1,n=!1){const{props:i,ref:r,patchFlag:a,children:l,transition:c}=e,u=t?c0(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Vh(u),ref:t&&t.ref?s&&r?wt(r)?r.concat(Bo(t)):[r,Bo(t)]:Bo(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&Ur(d,c.clone(d)),d}function ut(e=" ",t=0){return Ct(ba,null,e,t)}function qt(e,t){const s=Ct(Lo,null,e);return s.staticCount=t,s}function H(e="",t=!1){return t?(E(),Bc(qe,null,e)):Ct(qe,null,e)}function Ws(e){return e==null||typeof e=="boolean"?Ct(qe):wt(e)?Ct(kt,null,e.slice()):zo(e)?Dn(e):Ct(ba,null,String(e))}function Dn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function Oc(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(wt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Oc(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Ph(t)?t._ctx=fs:i===3&&fs&&(fs.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:fs},s=32):(t=String(t),n&64?(s=16,t=[ut(t)]):s=8);e.children=t,e.shapeFlag|=s}function c0(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=St([t.class,n.class]));else if(i==="style")t.style=is([t.style,n.style]);else if(ca(i)){const r=t[i],a=n[i];a&&r!==a&&!(wt(r)&&r.includes(a))&&(t[i]=r?[].concat(r,a):a)}else i!==""&&(t[i]=n[i])}return t}function $s(e,t,s,n=null){Os(e,t,7,[s,n])}const u0=Th();let d0=0;function f0(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||u0,r={uid:d0++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xh(n,i),emitsOptions:Uh(n,i),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:n.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Xv.bind(null,r),e.ce&&e.ce(r),r}let Fe=null;const Hh=()=>Fe||fs;let Qo,$l;{const e=fa(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),r=>{i.length>1?i.forEach(a=>a(r)):i[0](r)}};Qo=t("__VUE_INSTANCE_SETTERS__",s=>Fe=s),$l=t("__VUE_SSR_SETTERS__",s=>$r=s)}const oo=e=>{const t=Fe;return Qo(e),e.scope.on(),()=>{e.scope.off(),Qo(t)}},xu=()=>{Fe&&Fe.scope.off(),Qo(null)};function jh(e){return e.vnode.shapeFlag&4}let $r=!1;function h0(e,t=!1,s=!1){t&&$l(t);const{props:n,children:i}=e.vnode,r=jh(e);Fv(e,n,r,t),jv(e,i,s||t);const a=r?p0(e,t):void 0;return t&&$l(!1),a}function p0(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Rv);const{setup:n}=s;if(n){gn();const i=e.setupContext=n.length>1?g0(e):null,r=oo(e),a=ro(n,e,0,[e.props,i]),l=Of(a);if(vn(),r(),(l||e.sp)&&!Tr(e)&&bh(e),l){if(a.then(xu,xu),t)return a.then(c=>{Ru(e,c)}).catch(c=>{pa(c,e,0)});e.asyncDep=a}else Ru(e,a)}else Wh(e)}function Ru(e,t,s){_t(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:re(t)&&(e.setupState=oh(t)),Wh(e)}function Wh(e,t,s){const n=e.type;e.render||(e.render=n.render||zs);{const i=oo(e);gn();try{Nv(e)}finally{vn(),i()}}}const m0={get(e,t){return Ue(e,"get",""),e[t]}};function g0(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,m0),slots:e.slots,emit:e.emit,expose:t}}function wa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(oh(nv(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Sr)return Sr[s](e)},has(t,s){return s in t||s in Sr}})):e.proxy}function v0(e,t=!0){return _t(e)?e.displayName||e.name:e.name||t&&e.__name}function y0(e){return _t(e)&&"__vccOpts"in e}const Tt=(e,t)=>lv(e,t,$r);function Mc(e,t,s){const n=(r,a,l)=>{Yo(-1);try{return Ct(r,a,l)}finally{Yo(1)}},i=arguments.length;return i===2?re(t)&&!wt(t)?zo(t)?n(e,null,[t]):n(e,t):n(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&zo(s)&&(s=[s]),n(e,t,s))}const b0="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vl;const Nu=typeof window<"u"&&window.trustedTypes;if(Nu)try{Vl=Nu.createPolicy("vue",{createHTML:e=>e})}catch{}const Gh=Vl?e=>Vl.createHTML(e):e=>e,w0="http://www.w3.org/2000/svg",A0="http://www.w3.org/1998/Math/MathML",tn=typeof document<"u"?document:null,Du=tn&&tn.createElement("template"),E0={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?tn.createElementNS(w0,e):t==="mathml"?tn.createElementNS(A0,e):s?tn.createElement(e,{is:s}):tn.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>tn.createTextNode(e),createComment:e=>tn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,r){const a=s?s.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Du.innerHTML=Gh(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=Du.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Tn="transition",fr="animation",Vr=Symbol("_vtc"),Kh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},k0=De({},hh,Kh),C0=e=>(e.displayName="Transition",e.props=k0,e),T0=C0((e,{slots:t})=>Mc(vv,S0(e),t)),Jn=(e,t=[])=>{wt(e)?e.forEach(s=>s(...t)):e&&e(...t)},Lu=e=>e?wt(e)?e.some(t=>t.length>1):e.length>1:!1;function S0(e){const t={};for(const z in e)z in Kh||(t[z]=e[z]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:c=r,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,w=_0(i),v=w&&w[0],g=w&&w[1],{onBeforeEnter:_,onEnter:D,onEnterCancelled:L,onLeave:N,onLeaveCancelled:j,onBeforeAppear:W=_,onAppear:U=D,onAppearCancelled:J=L}=t,X=(z,at,Ot,G)=>{z._enterCancelled=G,Zn(z,at?d:l),Zn(z,at?u:a),Ot&&Ot()},it=(z,at)=>{z._isLeaving=!1,Zn(z,f),Zn(z,p),Zn(z,h),at&&at()},tt=z=>(at,Ot)=>{const G=z?U:D,Y=()=>X(at,z,Ot);Jn(G,[at,Y]),Bu(()=>{Zn(at,z?c:r),Zs(at,z?d:l),Lu(G)||Ou(at,n,v,Y)})};return De(t,{onBeforeEnter(z){Jn(_,[z]),Zs(z,r),Zs(z,a)},onBeforeAppear(z){Jn(W,[z]),Zs(z,c),Zs(z,u)},onEnter:tt(!1),onAppear:tt(!0),onLeave(z,at){z._isLeaving=!0;const Ot=()=>it(z,at);Zs(z,f),z._enterCancelled?(Zs(z,h),Fu()):(Fu(),Zs(z,h)),Bu(()=>{z._isLeaving&&(Zn(z,f),Zs(z,p),Lu(N)||Ou(z,n,g,Ot))}),Jn(N,[z,Ot])},onEnterCancelled(z){X(z,!1,void 0,!0),Jn(L,[z])},onAppearCancelled(z){X(z,!0,void 0,!0),Jn(J,[z])},onLeaveCancelled(z){it(z),Jn(j,[z])}})}function _0(e){if(e==null)return null;if(re(e))return[sl(e.enter),sl(e.leave)];{const t=sl(e);return[t,t]}}function sl(e){return Ig(e)}function Zs(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Vr]||(e[Vr]=new Set)).add(t)}function Zn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[Vr];s&&(s.delete(t),s.size||(e[Vr]=void 0))}function Bu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let P0=0;function Ou(e,t,s,n){const i=e._endId=++P0,r=()=>{i===e._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:a,timeout:l,propCount:c}=I0(e,t);if(!a)return n();const u=a+"end";let d=0;const f=()=>{e.removeEventListener(u,h),r()},h=p=>{p.target===e&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},l+1),e.addEventListener(u,h)}function I0(e,t){const s=window.getComputedStyle(e),n=w=>(s[w]||"").split(", "),i=n(`${Tn}Delay`),r=n(`${Tn}Duration`),a=Mu(i,r),l=n(`${fr}Delay`),c=n(`${fr}Duration`),u=Mu(l,c);let d=null,f=0,h=0;t===Tn?a>0&&(d=Tn,f=a,h=r.length):t===fr?u>0&&(d=fr,f=u,h=c.length):(f=Math.max(a,u),d=f>0?a>u?Tn:fr:null,h=d?d===Tn?r.length:c.length:0);const p=d===Tn&&/\b(?:transform|all)(?:,|$)/.test(n(`${Tn}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function Mu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>Uu(s)+Uu(e[n])))}function Uu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Fu(){return document.body.offsetHeight}function x0(e,t,s){const n=e[Vr];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const qo=Symbol("_vod"),Yh=Symbol("_vsh"),R0={name:"show",beforeMount(e,{value:t},{transition:s}){e[qo]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):hr(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),hr(e,!0),n.enter(e)):n.leave(e,()=>{hr(e,!1)}):hr(e,t))},beforeUnmount(e,{value:t}){hr(e,t)}};function hr(e,t){e.style.display=t?e[qo]:"none",e[Yh]=!t}const N0=Symbol(""),D0=/(?:^|;)\s*display\s*:/;function L0(e,t,s){const n=e.style,i=_e(s);let r=!1;if(s&&!i){if(t)if(_e(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();s[l]==null&&Oo(n,l,"")}else for(const a in t)s[a]==null&&Oo(n,a,"");for(const a in s)a==="display"&&(r=!0),Oo(n,a,s[a])}else if(i){if(t!==s){const a=n[N0];a&&(s+=";"+a),n.cssText=s,r=D0.test(s)}}else t&&e.removeAttribute("style");qo in e&&(e[qo]=r?n.display:"",e[Yh]&&(n.display="none"))}const $u=/\s*!important$/;function Oo(e,t,s){if(wt(s))s.forEach(n=>Oo(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=B0(e,t);$u.test(s)?e.setProperty(ki(n),s.replace($u,""),"important"):e[n]=s}}const Vu=["Webkit","Moz","ms"],nl={};function B0(e,t){const s=nl[t];if(s)return s;let n=Cs(t);if(n!=="filter"&&n in e)return nl[t]=n;n=da(n);for(let i=0;i<Vu.length;i++){const r=Vu[i]+n;if(r in e)return nl[t]=r}return t}const Hu="http://www.w3.org/1999/xlink";function ju(e,t,s,n,i,r=Bg(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Hu,t.slice(6,t.length)):e.setAttributeNS(Hu,t,s):s==null||r&&!$f(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Qs(s)?String(s):s)}function Wu(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Gh(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=$f(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(i||t)}function Bn(e,t,s,n){e.addEventListener(t,s,n)}function O0(e,t,s,n){e.removeEventListener(t,s,n)}const Gu=Symbol("_vei");function M0(e,t,s,n,i=null){const r=e[Gu]||(e[Gu]={}),a=r[t];if(n&&a)a.value=n;else{const[l,c]=U0(t);if(n){const u=r[t]=V0(n,i);Bn(e,l,u,c)}else a&&(O0(e,l,a,c),r[t]=void 0)}}const Ku=/(?:Once|Passive|Capture)$/;function U0(e){let t;if(Ku.test(e)){t={};let n;for(;n=e.match(Ku);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ki(e.slice(2)),t]}let il=0;const F0=Promise.resolve(),$0=()=>il||(F0.then(()=>il=0),il=Date.now());function V0(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Os(H0(n,s.value),t,5,[n])};return s.value=e,s.attached=$0(),s}function H0(e,t){if(wt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Yu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,j0=(e,t,s,n,i,r)=>{const a=i==="svg";t==="class"?x0(e,n,a):t==="style"?L0(e,s,n):ca(t)?wc(t)||M0(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):W0(e,t,n,a))?(Wu(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ju(e,t,n,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_e(n))?Wu(e,Cs(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ju(e,t,n,a))};function W0(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yu(t)&&_t(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Yu(t)&&_e(s)?!1:t in e}const qi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return wt(t)?s=>No(t,s):t};function G0(e){e.target.composing=!0}function zu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const hn=Symbol("_assign"),me={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[hn]=qi(i);const r=n||i.props&&i.props.type==="number";Bn(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;s&&(l=l.trim()),r&&(l=$o(l)),e[hn](l)}),s&&Bn(e,"change",()=>{e.value=e.value.trim()}),t||(Bn(e,"compositionstart",G0),Bn(e,"compositionend",zu),Bn(e,"change",zu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},a){if(e[hn]=qi(a),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?$o(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===c)||(e.value=c))}},Hl={deep:!0,created(e,t,s){e[hn]=qi(s),Bn(e,"change",()=>{const n=e._modelValue,i=Hr(e),r=e.checked,a=e[hn];if(wt(n)){const l=kc(n,i),c=l!==-1;if(r&&!c)a(n.concat(i));else if(!r&&c){const u=[...n];u.splice(l,1),a(u)}}else if(ar(n)){const l=new Set(n);r?l.add(i):l.delete(i),a(l)}else a(zh(e,r))})},mounted:Qu,beforeUpdate(e,t,s){e[hn]=qi(s),Qu(e,t,s)}};function Qu(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(wt(t))i=kc(t,n.props.value)>-1;else if(ar(t))i=t.has(n.props.value);else{if(t===s)return;i=no(t,zh(e,!0))}e.checked!==i&&(e.checked=i)}const ks={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=ar(t);Bn(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?$o(Hr(a)):Hr(a));e[hn](e.multiple?i?new Set(r):r:r[0]),e._assigning=!0,Or(()=>{e._assigning=!1})}),e[hn]=qi(n)},mounted(e,{value:t}){qu(e,t)},beforeUpdate(e,t,s){e[hn]=qi(s)},updated(e,{value:t}){e._assigning||qu(e,t)}};function qu(e,t){const s=e.multiple,n=wt(t);if(!(s&&!n&&!ar(t))){for(let i=0,r=e.options.length;i<r;i++){const a=e.options[i],l=Hr(a);if(s)if(n){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(u=>String(u)===String(l)):a.selected=kc(t,l)>-1}else a.selected=t.has(l);else if(no(Hr(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Hr(e){return"_value"in e?e._value:e.value}function zh(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const K0=["ctrl","shift","alt","meta"],Y0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>K0.some(s=>e[`${s}Key`]&&!t.includes(s))},yt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((i,...r)=>{for(let a=0;a<t.length;a++){const l=Y0[t[a]];if(l&&l(i,t))return}return e(i,...r)}))},z0=De({patchProp:j0},E0);let Ju;function Q0(){return Ju||(Ju=Gv(z0))}const q0=((...e)=>{const t=Q0().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Z0(n);if(!i)return;const r=t._component;!_t(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=s(i,!1,J0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t});function J0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Z0(e){return _e(e)?document.querySelector(e):e}const Qh="auth-changed";function X0(){localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("remember_email"),window.dispatchEvent(new Event(Qh))}function ai(){return localStorage.getItem("isLoggedIn")==="true"}const Zu=Qh,qh="/icons/RWA-logo.png",ty="/icons/search-icon.png",ce=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},ey={name:"AppHeader",props:{},data(){return{searchOpen:!1,searchText:"",isLoggedIn:!1,moreDropdownOpen:!1,mobileMenuOpen:!1,walletDropdownOpen:!1}},methods:{noop(){},go(e){this.$router.push(e),this.closeSearch(),this.closeMoreDropdown(),this.closeMobileMenu()},toggleMoreDropdown(){this.moreDropdownOpen=!this.moreDropdownOpen,this.closeSearch(),this.closeMobileMenu()},closeMoreDropdown(){this.moreDropdownOpen=!1},toggleWalletDropdown(){this.walletDropdownOpen=!this.walletDropdownOpen,this.updateArrowRotation()},hideWalletDropdown(){this.walletDropdownOpen=!1,this.updateArrowRotation()},updateArrowRotation(){this.$nextTick(()=>{const e=this.$el.querySelector(".dropdown-arrow");e&&(e.style.transform=this.walletDropdownOpen?"rotate(180deg)":"rotate(0deg)")})},toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen,this.closeSearch(),this.closeMoreDropdown()},closeMobileMenu(){this.mobileMenuOpen=!1},checkLogin(){this.isLoggedIn=ai()},logout(){X0(),this.$router.push("/login")},toggleSearch(){this.searchOpen=!this.searchOpen,this.$nextTick(()=>{this.searchOpen&&this.$refs.searchInput&&this.$refs.searchInput.focus()})},closeSearch(){this.searchOpen=!1,this.searchText=""},submitSearch(){this.$emit("search",this.searchText)},onDocClick(e){const t=this.$refs.searchInput,s=this.$el.querySelector(".search-toggle"),n=this.$el.querySelector(".dropdown-container"),i=this.$el.querySelector(".mobile-menu-btn"),r=this.$el.querySelector(".mobile-menu"),a=this.$el.querySelector(".wallet-dropdown-container");t&&this.searchOpen&&!t.contains(e.target)&&!s.contains(e.target)&&this.closeSearch(),n&&this.moreDropdownOpen&&!n.contains(e.target)&&this.closeMoreDropdown(),a&&this.walletDropdownOpen&&!a.contains(e.target)&&this.hideWalletDropdown(),r&&this.mobileMenuOpen&&!r.contains(e.target)&&!i.contains(e.target)&&this.closeMobileMenu()},async connectWallet(){if(typeof window.ethereum<"u")try{const e=await window.ethereum.request({method:"eth_requestAccounts"});this.account=e[0],console.log("钱包已连接：",this.account),this.addManualWalletAddress(this.account),localStorage.setItem("walletConnected","true"),localStorage.setItem("walletAddress",this.account)}catch(e){console.error("连接失败",e),alert("钱包连接失败："+e.message)}else alert("请先安装 MetaMask 插件！")},shortenAddress(e){return e.slice(0,6)+"..."+e.slice(-4)},goToWallet(){this.go("/wallet")},goToProfile(){this.go("/profile")},linkNewWallet(){this.hideWalletDropdown(),this.connectWallet()},addManualWallet(){this.hideWalletDropdown();const e=prompt("请输入钱包地址:");e&&e.trim()&&this.addManualWalletAddress(e.trim())},addManualWalletAddress(e){if(e.length===42&&e.startsWith("0x")){const t=JSON.parse(localStorage.getItem("linkedWallets")||"[]");t.includes(e)?alert("该钱包地址已存在"):(t.push(e),localStorage.setItem("linkedWallets",JSON.stringify(t)),alert(`钱包地址 ${e} 已添加`),this.$emit("wallet-added",e))}else alert("请输入有效的以太坊地址")},setPrimaryWallet(){this.hideWalletDropdown();const e=JSON.parse(localStorage.getItem("linkedWallets")||"[]"),t=localStorage.getItem("walletAddress");if(e.length===0){alert("没有可设置的钱包地址");return}let s=e.map((r,a)=>`${a+1}. ${r}${r===t?" (当前)":""}`).join(`
`);const n=prompt(`选择要设置为主钱包的地址:
${s}

请输入序号:`),i=parseInt(n)-1;if(i>=0&&i<e.length){const r=e[i];localStorage.setItem("primaryWallet",r),localStorage.setItem("walletAddress",r),alert(`主钱包已设置为: ${r}`),this.$emit("primary-wallet-changed",r)}else n!==null&&alert("无效的选择")},disconnectWallet(){this.hideWalletDropdown();const e=JSON.parse(localStorage.getItem("linkedWallets")||"[]");if(e.length===0){alert("没有可断开的钱包地址");return}let t=e.map((i,r)=>`${r+1}. ${i}`).join(`
`);const s=prompt(`选择要断开的钱包地址:
${t}

请输入序号:`),n=parseInt(s)-1;if(n>=0&&n<e.length){const i=e[n];confirm(`确定要断开钱包 ${i} 吗？`)&&this.disconnectWalletConnection(i)}else s!==null&&alert("无效的选择")},disconnectWalletConnection(e){const s=JSON.parse(localStorage.getItem("linkedWallets")||"[]").filter(i=>i!==e);localStorage.setItem("linkedWallets",JSON.stringify(s)),localStorage.getItem("walletAddress")===e&&(localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAddress"),localStorage.removeItem("primaryWallet")),alert(`钱包 ${e} 已断开连接`),this.$emit("wallet-disconnected",e)}},mounted(){document.addEventListener("click",this.onDocClick),this.checkLogin(),window.addEventListener(Zu,this.checkLogin),this.isLoggedIn=ai()},beforeUnmount(){document.removeEventListener("click",this.onDocClick),window.removeEventListener(Zu,this.checkLogin)}},sy={key:0,class:"modal-mask"},ny={class:"modal-wrapper"},iy={class:"modal-container"},ry={style:{display:"block","font-size":"15px",padding:"8px 0",color:"#ffffff",background:"#2a2a4a","border-radius":"8px"}},oy={style:{"text-align":"right"}},ay={key:1,class:"modal-mask"},ly={class:"modal-wrapper"},cy={class:"modal-container"},uy={style:{color:"#ffffff"}},dy={style:{"text-align":"right"}},fy={class:"header"},hy={class:"container nav"},py={class:"left"},my={class:"menu","aria-label":"Primary"},gy={class:"dropdown-container"},vy={key:0,class:"dropdown-menu"},yy={class:"right"},by={class:"search-wrapper"},wy={key:0},Ay={class:"wallet-dropdown-container"},Ey={class:"wallet-btn-wrapper"},ky={key:0,class:"wallet-dropdown-menu"},Cy={key:1},Ty={key:0,class:"mobile-menu"},Sy={class:"mobile-menu-content"};function _y(e,t,s,n,i,r){return E(),k(kt,null,[e.showDisconnectModal?(E(),k("div",sy,[o("div",ny,[o("div",iy,[t[35]||(t[35]=o("h2",{style:{"margin-bottom":"8px",color:"#ffffff"}},"Disconnect Wallet",-1)),t[36]||(t[36]=o("p",{style:{color:"#ffffff"}},"Select the wallet account you want to disconnect:",-1)),o("div",null,[o("span",ry,m(e.selectedAccount),1)]),o("div",oy,[o("button",{class:"mm-btn mm-outline",onClick:t[0]||(t[0]=a=>e.showDisconnectModal=!1)},"Cancel"),o("button",{class:"mm-btn mm-outline",style:{"margin-left":"8px"},onClick:t[1]||(t[1]=(...a)=>e.disconnectAccount&&e.disconnectAccount(...a))},"Confirm")])])])])):H("",!0),e.showDisconnectSuccess?(E(),k("div",ay,[o("div",ly,[o("div",cy,[t[37]||(t[37]=o("h2",{style:{"margin-bottom":"8px",color:"#ffffff"}},"Wallet Disconnected",-1)),o("p",uy,m(e.disconnectSuccessMsg),1),o("div",dy,[o("button",{class:"mm-btn mm-outline",onClick:t[2]||(t[2]=a=>e.showDisconnectSuccess=!1)},"Confirm")])])])])):H("",!0),o("header",fy,[o("div",hy,[o("div",py,[o("a",{class:"brand",href:"#",onClick:t[3]||(t[3]=yt(a=>r.go("/"),["prevent"]))},[...t[38]||(t[38]=[o("img",{src:qh,alt:"Mortgage RWA",class:"brand-logo"},null,-1)])]),o("nav",my,[o("a",{href:"#",onClick:t[4]||(t[4]=yt(a=>r.go("/home"),["prevent"])),class:"menu-item"},"Home"),o("a",{href:"#",onClick:t[5]||(t[5]=yt(a=>r.go("/projects"),["prevent"])),class:"menu-item"},"Projects"),o("a",{href:"#",onClick:t[6]||(t[6]=yt(a=>r.go("/portfolio"),["prevent"])),class:"menu-item"},"Portfolio"),o("div",gy,[o("a",{href:"#",class:"menu-item more-link",onClick:t[7]||(t[7]=yt((...a)=>r.toggleMoreDropdown&&r.toggleMoreDropdown(...a),["prevent"]))},"More ▾"),i.moreDropdownOpen?(E(),k("div",vy,[o("a",{href:"#",onClick:t[8]||(t[8]=yt(a=>r.go("/overview"),["prevent"])),class:"dropdown-item"},"Overview"),o("a",{href:"#",onClick:t[9]||(t[9]=yt(a=>r.go("/about"),["prevent"])),class:"dropdown-item"},"About Us"),o("a",{href:"#",onClick:t[10]||(t[10]=yt(a=>r.go("/contact"),["prevent"])),class:"dropdown-item"},"Contact")])):H("",!0)])]),o("button",{class:St(["mobile-menu-btn",{active:i.mobileMenuOpen}]),onClick:t[11]||(t[11]=(...a)=>r.toggleMobileMenu&&r.toggleMobileMenu(...a)),"aria-label":"Toggle mobile menu"},[...t[39]||(t[39]=[o("span",{class:"hamburger-line"},null,-1),o("span",{class:"hamburger-line"},null,-1),o("span",{class:"hamburger-line"},null,-1)])],2)]),o("div",yy,[o("div",by,[o("form",{class:"search-form",onSubmit:t[14]||(t[14]=yt((...a)=>r.submitSearch&&r.submitSearch(...a),["prevent"]))},[Lt(o("input",{ref:"searchInput",type:"text",class:St(["search-input",{expanded:i.searchOpen}]),placeholder:"Search...","onUpdate:modelValue":t[12]||(t[12]=a=>i.searchText=a)},null,2),[[me,i.searchText]]),o("button",{type:"button",class:"search-toggle",onClick:t[13]||(t[13]=(...a)=>r.toggleSearch&&r.toggleSearch(...a))},[...t[40]||(t[40]=[o("img",{src:ty,alt:"Search"},null,-1)])])],32)]),i.isLoggedIn?(E(),k("div",wy,[o("div",Ay,[o("div",Ey,[o("button",{class:"btn orange pill wallet-main-btn",onClick:t[15]||(t[15]=yt(a=>r.goToWallet(),["prevent"]))},[...t[41]||(t[41]=[o("span",null,"Wallet",-1)])]),t[43]||(t[43]=o("div",{class:"wallet-divider"},null,-1)),o("button",{class:"btn orange pill wallet-dropdown-btn",onClick:t[16]||(t[16]=yt((...a)=>r.toggleWalletDropdown&&r.toggleWalletDropdown(...a),["prevent"]))},[...t[42]||(t[42]=[o("span",{class:"dropdown-arrow"},"▾",-1)])])]),i.walletDropdownOpen?(E(),k("div",ky,[t[48]||(t[48]=o("div",{class:"wallet-dropdown-header"},"Wallet Management",-1)),o("a",{href:"#",onClick:t[17]||(t[17]=yt((...a)=>r.linkNewWallet&&r.linkNewWallet(...a),["prevent"])),class:"wallet-dropdown-item"},[...t[44]||(t[44]=[o("span",null,"Link new wallet",-1)])]),o("a",{href:"#",onClick:t[18]||(t[18]=yt((...a)=>r.addManualWallet&&r.addManualWallet(...a),["prevent"])),class:"wallet-dropdown-item"},[...t[45]||(t[45]=[o("span",null,"Add wallet manually",-1)])]),o("a",{href:"#",onClick:t[19]||(t[19]=yt((...a)=>r.setPrimaryWallet&&r.setPrimaryWallet(...a),["prevent"])),class:"wallet-dropdown-item"},[...t[46]||(t[46]=[o("span",null,"Set primary wallet",-1)])]),o("a",{href:"#",onClick:t[20]||(t[20]=yt((...a)=>r.disconnectWallet&&r.disconnectWallet(...a),["prevent"])),class:"wallet-dropdown-item"},[...t[47]||(t[47]=[o("span",null,"Disconnect wallet",-1)])])])):H("",!0)]),o("button",{class:"btn light pill",onClick:t[21]||(t[21]=yt(a=>r.goToProfile(),["prevent"]))},[...t[49]||(t[49]=[o("span",null,"👤",-1)])]),o("button",{class:"btn ghost pill settings-btn",onClick:t[22]||(t[22]=yt(a=>r.go("/settings"),["prevent"]))},"⚙️")])):(E(),k("div",Cy,[o("a",{class:"btn ghost",href:"#",onClick:t[23]||(t[23]=yt(a=>r.go("/login"),["prevent"]))},"Log in"),o("a",{class:"btn orange",href:"#",onClick:t[24]||(t[24]=yt(a=>r.go("/signup"),["prevent"]))},"Sign up")]))])]),i.mobileMenuOpen?(E(),k("div",Ty,[o("div",Sy,[o("a",{href:"#",onClick:t[25]||(t[25]=yt(a=>r.go("/home"),["prevent"])),class:"mobile-menu-item"},[...t[50]||(t[50]=[o("span",{class:"mobile-menu-icon"},"🏠",-1),o("span",null,"Home",-1)])]),o("a",{href:"#",onClick:t[26]||(t[26]=yt(a=>r.go("/projects"),["prevent"])),class:"mobile-menu-item"},[...t[51]||(t[51]=[o("span",{class:"mobile-menu-icon"},"📊",-1),o("span",null,"Projects",-1)])]),o("a",{href:"#",onClick:t[27]||(t[27]=yt(a=>r.go("/portfolio"),["prevent"])),class:"mobile-menu-item"},[...t[52]||(t[52]=[o("span",{class:"mobile-menu-icon"},"💼",-1),o("span",null,"Portfolio",-1)])]),t[60]||(t[60]=o("div",{class:"mobile-menu-divider"},null,-1)),o("a",{href:"#",onClick:t[28]||(t[28]=yt(a=>r.go("/overview"),["prevent"])),class:"mobile-menu-item"},[...t[53]||(t[53]=[o("span",{class:"mobile-menu-icon"},"📋",-1),o("span",null,"Overview",-1)])]),o("a",{href:"#",onClick:t[29]||(t[29]=yt(a=>r.go("/about"),["prevent"])),class:"mobile-menu-item"},[...t[54]||(t[54]=[o("span",{class:"mobile-menu-icon"},"🏢",-1),o("span",null,"About Us",-1)])]),o("a",{href:"#",onClick:t[30]||(t[30]=yt(a=>r.go("/solutions"),["prevent"])),class:"mobile-menu-item"},[...t[55]||(t[55]=[o("span",{class:"mobile-menu-icon"},"🔧",-1),o("span",null,"Solutions",-1)])]),o("a",{href:"#",onClick:t[31]||(t[31]=yt(a=>r.go("/tutorials"),["prevent"])),class:"mobile-menu-item"},[...t[56]||(t[56]=[o("span",{class:"mobile-menu-icon"},"📚",-1),o("span",null,"Tutorials",-1)])]),o("a",{href:"#",onClick:t[32]||(t[32]=yt(a=>r.go("/pricing"),["prevent"])),class:"mobile-menu-item"},[...t[57]||(t[57]=[o("span",{class:"mobile-menu-icon"},"💰",-1),o("span",null,"Pricing",-1)])]),o("a",{href:"#",onClick:t[33]||(t[33]=yt(a=>r.go("/contact"),["prevent"])),class:"mobile-menu-item"},[...t[58]||(t[58]=[o("span",{class:"mobile-menu-icon"},"📞",-1),o("span",null,"Contact",-1)])]),o("a",{href:"#",onClick:t[34]||(t[34]=yt(a=>r.go("/faq"),["prevent"])),class:"mobile-menu-item"},[...t[59]||(t[59]=[o("span",{class:"mobile-menu-icon"},"❓",-1),o("span",null,"FAQ",-1)])])])])):H("",!0)])],64)}const Py=ce(ey,[["render",_y],["__scopeId","data-v-b88c54cd"]]),rl="http://localhost:3000/api",Vn={async getAllProducts(){try{console.log("📊 API: 从数据库获取所有产品数据");const e=await fetch(`${rl}/product_details`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return console.log("📊 API: 数据库返回数据:",t),t}catch(e){return console.error("❌ API: 获取产品数据失败:",e),{status:1,message:e instanceof Error?e.message:"Unknown error",data:[]}}},async getProductByCode(e){try{console.log("📊 API: 从数据库根据代码获取产品:",e);const t=await fetch(`${rl}/product_details/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.json();return console.log("📊 API: 数据库返回产品详情:",s),s}catch(t){return console.error("❌ API: 获取产品详情失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:null}}},async searchProducts(e){try{console.log("📊 API: 搜索产品:",e);const t=await this.getAllProducts();if(t.status!==0)return t;const s=t.data||[];return!e||e.trim()===""?{status:0,message:"Success",data:s}:{status:0,message:"Success",data:s.filter(i=>{const r=e.toLowerCase();return i.code.toLowerCase().includes(r)||i.name.toLowerCase().includes(r)||i.subtitle.toLowerCase().includes(r)||i.region.toLowerCase().includes(r)})}}catch(t){return console.error("❌ API: 搜索产品失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:[]}}},async getProductsByType(e){try{console.log("📊 API: 根据类型获取产品:",e);const t=await this.getAllProducts();if(t.status!==0)return t;const s=t.data||[];return!e||e==="all"?{status:0,message:"Success",data:s}:{status:0,message:"Success",data:s.filter(i=>i.type===e)}}catch(t){return console.error("❌ API: 根据类型获取产品失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:[]}}},async getProductsByRisk(e){try{console.log("📊 API: 根据风险等级获取产品:",e);const t=await this.getAllProducts();if(t.status!==0)return t;const s=t.data||[];return!e||e==="all"?{status:0,message:"Success",data:s}:{status:0,message:"Success",data:s.filter(i=>i.risk===e)}}catch(t){return console.error("❌ API: 根据风险等级获取产品失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:[]}}},async updateProductSubscription(e,t){try{console.log("📊 API: 更新产品订阅信息:",e,t);const s={current_subscribed_token:t.subscribed||t.current_subscribed_token},n=await fetch(`${rl}/product_details/${e}/subscription`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return console.log("📊 API: 数据库更新订阅信息结果:",i),i}catch(s){return console.error("❌ API: 更新产品订阅信息失败:",s),{status:1,message:s instanceof Error?s.message:"Unknown error",data:null}}}},ol=Object.freeze(Object.defineProperty({__proto__:null,productAPI:Vn},Symbol.toStringTag,{value:"Module"})),Iy="modulepreload",xy=function(e){return"/"+e},Xu={},al=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var a=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(s.map(d=>{if(d=xy(d),d in Xu)return;Xu[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Iy,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((w,v)=>{p.addEventListener("load",w),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};class Ry{constructor(){this.subscribers=new Map,this.refreshInterval=null,this.isRefreshing=!1,this.lastRefreshTime=null,this.cache=new Map}subscribe(t,s){return this.subscribers.has(t)||this.subscribers.set(t,new Set),this.subscribers.get(t).add(s),this.cache.has(t)&&s(this.cache.get(t)),()=>this.unsubscribe(t,s)}unsubscribe(t,s){this.subscribers.has(t)&&(this.subscribers.get(t).delete(s),this.subscribers.get(t).size===0&&this.subscribers.delete(t))}notify(t,s){this.subscribers.has(t)&&this.subscribers.get(t).forEach(n=>{try{n(s)}catch(i){console.error("通知订阅者失败:",i)}})}setCache(t,s){this.cache.set(t,{data:s,timestamp:Date.now()})}getCache(t){const s=this.cache.get(t);return s&&!(Date.now()-s.timestamp>3e5)?s.data:null}startAutoRefresh(t=3e4){this.refreshInterval&&clearInterval(this.refreshInterval),this.refreshInterval=setInterval(()=>{this.refreshAllData()},t),console.log("🔄 数据库同步服务: 开始自动刷新，间隔",t/1e3,"秒")}stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null,console.log("⏹️ 数据库同步服务: 停止自动刷新"))}async refreshAllData(){if(this.isRefreshing){console.log("🔄 数据库同步服务: 正在刷新中，跳过本次刷新");return}this.isRefreshing=!0,this.lastRefreshTime=new Date;try{console.log("🔄 数据库同步服务: 开始刷新所有数据..."),await this.refreshProductsData(),console.log("✅ 数据库同步服务: 所有数据刷新完成")}catch(t){console.error("❌ 数据库同步服务: 刷新数据失败:",t)}finally{this.isRefreshing=!1}}async refreshProductsData(){try{const{productAPI:t}=await al(async()=>{const{productAPI:n}=await Promise.resolve().then(()=>ol);return{productAPI:n}},void 0),s=await t.getAllProducts();if(s.status===0){const n=s.data||[];this.setCache("products",n),this.notify("products",n),console.log("✅ 数据库同步服务: 产品数据刷新成功，共",n.length,"个项目")}else console.error("❌ 数据库同步服务: 获取产品数据失败:",s.message)}catch(t){console.error("❌ 数据库同步服务: 刷新产品数据失败:",t)}}async refreshProductData(t){try{const{productAPI:s}=await al(async()=>{const{productAPI:i}=await Promise.resolve().then(()=>ol);return{productAPI:i}},void 0),n=await s.getProductByCode(t);if(n.status===0){const i=n.data;return this.setCache(`product_${t}`,i),this.notify(`product_${t}`,i),console.log("✅ 数据库同步服务: 产品",t,"数据刷新成功"),i}else return console.error("❌ 数据库同步服务: 获取产品",t,"数据失败:",n.message),null}catch(s){return console.error("❌ 数据库同步服务: 刷新产品",t,"数据失败:",s),null}}async refresh(){console.log("🔄 数据库同步服务: 手动刷新..."),await this.refreshAllData()}getLastRefreshTime(){return this.lastRefreshTime}async checkForUpdates(){try{const{productAPI:t}=await al(async()=>{const{productAPI:n}=await Promise.resolve().then(()=>ol);return{productAPI:n}},void 0),s=await t.getAllProducts();if(s.status===0){const n=s.data||[],i=this.getCache("products")||[],r=n.filter(a=>!i.some(l=>l.code===a.code));return r.length>0&&(console.log("🆕 数据库同步服务: 发现",r.length,"个新项目:",r.map(a=>a.code)),this.setCache("products",n),this.notify("products",n),this.notify("new_projects",r)),r}}catch(t){console.error("❌ 数据库同步服务: 检查更新失败:",t)}return[]}destroy(){this.stopAutoRefresh(),this.subscribers.clear(),this.cache.clear(),console.log("🗑️ 数据库同步服务: 已销毁")}}const js=new Ry,Uc=()=>({subscribeProducts:e=>js.subscribe("products",e),subscribeProduct:(e,t)=>js.subscribe(`product_${e}`,t),subscribeNewProjects:e=>js.subscribe("new_projects",e),refresh:()=>js.refresh(),getLastRefreshTime:()=>js.getLastRefreshTime(),checkForUpdates:()=>js.checkForUpdates(),startAutoRefresh:e=>js.startAutoRefresh(e),stopAutoRefresh:()=>js.stopAutoRefresh()});typeof window<"u"&&(js.startAutoRefresh(),window.addEventListener("beforeunload",()=>{js.destroy()}));const Ny="/videos/Blockchainvideo.mp4",Dy={name:"HomeView",components:{},emits:["notify"],data(){return{products:[],loading:!1,error:null,form:{name:"",email:"",phone:"",subject:"",message:""},isSubmitting:!1}},computed:{upcomingProjects(){return this.products.filter(e=>e.status==="upcoming").sort((e,t)=>e.code.localeCompare(t.code))},newListingProject(){return this.upcomingProjects.length>0?this.upcomingProjects[0]:null}},methods:{notify(e){this.$emit("notify",e)},async loadProducts(){this.loading=!0,this.error=null;try{console.log("HomeView: 从数据库加载产品数据...");const e=await Vn.getAllProducts();e.status===0?(this.products=e.data||[],console.log("HomeView: 成功加载",this.products.length,"个产品"),console.log("HomeView: Upcoming项目:",this.upcomingProjects)):(this.error=e.message||"加载产品数据失败",console.error("HomeView: 加载产品数据失败:",this.error),this.notify("加载产品数据失败: "+this.error))}catch(e){this.error=e.message||"网络错误",console.error("HomeView: 加载产品数据异常:",e),this.notify("加载产品数据异常: "+this.error)}finally{this.loading=!1}},setupDatabaseSync(){const{subscribeProducts:e,subscribeNewProjects:t}=Uc();this.unsubscribeProducts=e(s=>{console.log("🔄 HomeView: 收到产品数据更新，共",s.length,"个项目"),this.products=s;const n=s.filter(i=>i.status==="upcoming"&&!this.products.some(r=>r.code===i.code));n.length>0&&(console.log("🆕 HomeView: 发现",n.length,"个新的upcoming项目"),this.notify(`发现 ${n.length} 个新项目`))}),this.unsubscribeNewProjects=t(s=>{console.log("🆕 HomeView: 收到新项目通知:",s),this.notify(`新增 ${s.length} 个项目`)})},getStatusText(e){return{active:"Active",upcoming:"Upcoming",research:"Research",planning:"Planning",completed:"Completed"}[e]||"Unknown"},getStatusClass(e){return{active:"status-active",upcoming:"status-upcoming",research:"status-research",planning:"status-planning",completed:"status-completed"}[e]||"status-unknown"},viewProjectDetails(e){this.$router.push(`/detail/${e}`)},addToWatchlist(e){this.notify(`Added ${e} to watchlist`),console.log("Added to watchlist:",e)},refreshListings(){this.notify("Refreshing listings..."),console.log("🔄 Refreshing listings...")},viewAllProjects(){this.$router.push("/projects")},formatNumber(e){return e?new Intl.NumberFormat("en-US").format(e):"0"},handleWalletActivityUpdate(e){console.log("🏠 HomeView: Received wallet activity update:",e)},async submitForm(){if(this.isSubmitting)return;if(!this.form.name||!this.form.email||!this.form.subject||!this.form.message){alert("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.form.email)){alert("Please enter a valid email address");return}this.isSubmitting=!0;try{console.log("Submit contact form:",this.form),await new Promise(t=>setTimeout(t,1e3)),alert("Message sent successfully! We will reply to you as soon as possible."),this.form={name:"",email:"",phone:"",subject:"",message:""}}catch(t){console.error("Form submission failed:",t),alert("Message sending failed, please try again later.")}finally{this.isSubmitting=!1}}},async mounted(){this.setupDatabaseSync(),await this.loadProducts(),console.log("🏠 HomeView: Loaded product data:",this.products.length,"projects"),console.log("📋 HomeView: Upcoming项目:",this.upcomingProjects),console.log("🆕 HomeView: New Listing项目:",this.newListingProject),this.newListingProject?console.log("✅ HomeView: Project Details of New Listing:",{code:this.newListingProject.code,name:this.newListingProject.name,loanAmount:this.newListingProject.loanAmount,targetYield:this.newListingProject.targetYield,loanTerm:this.newListingProject.loanTerm,status:this.newListingProject.status}):console.log("ℹ️ HomeView: No upcoming project"),this.$root.$on("walletActivityUpdated",this.handleWalletActivityUpdate)},beforeUnmount(){this.unsubscribeProducts&&this.unsubscribeProducts(),this.unsubscribeNewProjects&&this.unsubscribeNewProjects(),this.$root.$off("walletActivityUpdated",this.handleWalletActivityUpdate)}},Ly={class:"section"},By={class:"cards","aria-label":"Highlights"},Oy={class:"container"},My={key:0,class:"loading-state"},Uy={key:1,class:"error-state"},Fy={class:"error-description"},$y={key:2,class:"projects-grid"},Vy=["aria-labelledby"],Hy={class:"card-header"},jy={class:"project-name"},Wy={class:"card-content"},Gy={class:"project-details"},Ky={class:"detail-item"},Yy={class:"detail-value"},zy={class:"detail-item"},Qy={class:"detail-value highlight"},qy={class:"detail-item"},Jy={class:"detail-value"},Zy={class:"detail-item"},Xy={class:"detail-value status"},tb={class:"card-actions"},eb=["onClick"],sb=["onClick"],nb={key:3,class:"empty-state"},ib={key:0,class:"view-all-section"},rb={class:"container"},ob={class:"contact-content"},ab={class:"contact-grid"},lb={class:"contact-form"},cb={class:"form-fields"},ub={class:"form-group"},db={class:"form-group"},fb={class:"form-group"},hb={class:"form-group"},pb={class:"form-submit"},mb=["disabled"];function gb(e,t,s,n,i,r){return E(),k(kt,null,[t[26]||(t[26]=o("section",{class:"container hero"},[o("div",{class:"grid"},[o("div",null,[o("h1",{class:"headline"},"Invest in RWA Property Loans with Monthly Returns"),o("p",{class:"sub"}," We are the RWA dealmaker who is good at originating real estate assets as RWA underlying assets that investors like "),o("p",{class:"foot"},[ut("By continuing, you agree to our Terms and acknowledge our "),o("a",{href:"/src/components/privacypolicy.vue"},"Privacy Policy.")])]),o("video",{autoplay:"",loop:"",muted:"",playsinline:"",class:"bg-video"},[o("source",{src:Ny,type:"video/mp4"})])])],-1)),o("section",Ly,[o("div",By,[t[17]||(t[17]=o("div",{class:"new-listings-section"},[o("h1",null,"New Listing")],-1)),o("div",Oy,[i.loading?(E(),k("div",My,[...t[8]||(t[8]=[o("div",{class:"loading-spinner"},null,-1),o("p",{class:"loading-text"},"Loading project data...",-1)])])):i.error?(E(),k("div",Uy,[t[9]||(t[9]=o("div",{class:"error-icon"},"⚠️",-1)),t[10]||(t[10]=o("h4",{class:"error-title"},"Loading failed",-1)),o("p",Fy,m(i.error),1),o("button",{class:"btn-primary",onClick:t[0]||(t[0]=(...a)=>r.loadProducts&&r.loadProducts(...a))}," Reload ")])):r.upcomingProjects.length>0?(E(),k("div",$y,[(E(!0),k(kt,null,ke(r.upcomingProjects,(a,l)=>(E(),k("article",{key:a.code,class:"listing-card","aria-labelledby":`listing-title-${l}`},[o("div",Hy,[o("h4",jy,m(a.code)+" • "+m(a.name),1),o("div",{class:St(["status-badge",r.getStatusClass(a.status)])},m(r.getStatusText(a.status)),3)]),o("div",Wy,[o("div",Gy,[o("div",Ky,[t[11]||(t[11]=o("span",{class:"detail-label"},"LOAN SIZE",-1)),o("span",Yy,m(a.loanAmount),1)]),o("div",zy,[t[12]||(t[12]=o("span",{class:"detail-label"},"EST. YIELD (IRR)",-1)),o("span",Qy,m(a.targetYield)+"%",1)]),o("div",qy,[t[13]||(t[13]=o("span",{class:"detail-label"},"TERM",-1)),o("span",Jy,m(a.loanTerm),1)]),o("div",Zy,[t[14]||(t[14]=o("span",{class:"detail-label"},"STATUS",-1)),o("span",Xy,m(r.getStatusText(a.status)),1)])]),o("div",tb,[o("button",{class:"btn-primary",onClick:c=>r.viewProjectDetails(a.code)}," VIEW DETAILS ",8,eb),o("button",{class:"btn-secondary",onClick:c=>r.addToWatchlist(a.code)}," ADD TO WATCHLIST ",8,sb)])])],8,Vy))),128))])):H("",!0),!i.loading&&!i.error&&r.upcomingProjects.length===0?(E(),k("div",nb,[t[15]||(t[15]=o("h4",{class:"empty-title"},"No upcoming projects at the moment",-1)),t[16]||(t[16]=o("p",{class:"empty-description"},"Check back soon for new opportunities",-1)),o("button",{class:"btn-primary",onClick:t[1]||(t[1]=(...a)=>r.refreshListings&&r.refreshListings(...a))}," REFRESH LISTINGS ")])):H("",!0)]),!i.loading&&!i.error&&r.upcomingProjects.length>0?(E(),k("div",ib,[o("button",{class:"view-all-projects btn-outline",onClick:t[2]||(t[2]=yt(a=>e.go("/projects"),["prevent"]))}," VIEW ALL PROJECTS ")])):H("",!0)])]),o("div",rb,[t[25]||(t[25]=o("div",{class:"page-header"},[o("h1",null,"Contact Us"),o("p",{class:"page-subtitle"},"We are happy to help you")],-1)),o("div",ob,[o("div",ab,[t[24]||(t[24]=qt('<div class="contact-info" data-v-8db630bf><h2 data-v-8db630bf>Contact Information</h2><div class="contact-methods" data-v-8db630bf><div class="contact-method" data-v-8db630bf><div class="method-icon" data-v-8db630bf>📧</div><div class="method-details" data-v-8db630bf><h4 data-v-8db630bf>Email</h4><p data-v-8db630bf>support@mortgagerwa.com</p><p data-v-8db630bf>business@mortgagerwa.com</p></div></div><div class="contact-method" data-v-8db630bf><div class="method-icon" data-v-8db630bf>📞</div><div class="method-details" data-v-8db630bf><h4 data-v-8db630bf>Phone</h4><p data-v-8db630bf>+61 2 1234 5678</p><p data-v-8db630bf>Monday to Friday 9:00-18:00</p></div></div><div class="contact-method" data-v-8db630bf><div class="method-icon" data-v-8db630bf>📍</div><div class="method-details" data-v-8db630bf><h4 data-v-8db630bf>Address</h4><p data-v-8db630bf>123 George Street</p><p data-v-8db630bf>Sydney NSW 2000, Australia</p></div></div><div class="contact-method" data-v-8db630bf><div class="method-icon" data-v-8db630bf>💬</div><div class="method-details" data-v-8db630bf><h4 data-v-8db630bf>Online Customer Service</h4><p data-v-8db630bf>24/7 Online Support</p><p data-v-8db630bf>Average Response Time &lt; 5 minutes</p></div></div></div><div class="social-links" data-v-8db630bf><h3 data-v-8db630bf>Follow Us</h3><div class="social-icons" data-v-8db630bf><a href="#" class="social-icon" data-v-8db630bf>🐦</a><a href="#" class="social-icon" data-v-8db630bf>💼</a><a href="#" class="social-icon" data-v-8db630bf>📘</a><a href="#" class="social-icon" data-v-8db630bf>🐙</a></div></div></div>',1)),o("div",lb,[t[23]||(t[23]=o("h2",null,"Send Message",-1)),o("form",{onSubmit:t[7]||(t[7]=yt((...a)=>r.submitForm&&r.submitForm(...a),["prevent"])),class:"form-container"},[o("div",cb,[o("div",ub,[t[18]||(t[18]=o("label",{for:"name"},"Your Name *",-1)),Lt(o("input",{type:"text",id:"name","onUpdate:modelValue":t[3]||(t[3]=a=>i.form.name=a),required:""},null,512),[[me,i.form.name]])]),o("div",db,[t[19]||(t[19]=o("label",{for:"email"},"Your Email *",-1)),Lt(o("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=a=>i.form.email=a),required:""},null,512),[[me,i.form.email]])]),o("div",fb,[t[21]||(t[21]=o("label",{for:"subject"},"Subject *",-1)),Lt(o("select",{id:"subject","onUpdate:modelValue":t[5]||(t[5]=a=>i.form.subject=a),required:""},[...t[20]||(t[20]=[qt('<option value="" data-v-8db630bf>Please select a subject</option><option value="investor" data-v-8db630bf>I am an Investor/I am interested in investing</option><option value="asset_holder" data-v-8db630bf>I am an Asset Holder/I am interested in holding assets</option><option value="general" data-v-8db630bf>I need General Consultation</option><option value="technical" data-v-8db630bf>I need Technical Support</option><option value="business" data-v-8db630bf>I would like to have a Business Cooperation</option><option value="other" data-v-8db630bf>Others</option>',7)])],512),[[ks,i.form.subject]])]),o("div",hb,[t[22]||(t[22]=o("label",{for:"message"},"Message Content *",-1)),Lt(o("textarea",{id:"message","onUpdate:modelValue":t[6]||(t[6]=a=>i.form.message=a),rows:"5",required:""},null,512),[[me,i.form.message]])])]),o("div",pb,[o("button",{type:"submit",class:"btn primary",disabled:i.isSubmitting},m(i.isSubmitting?"Sending...":"Send Message"),9,mb)])],32)])])])])],64)}const Jh=ce(Dy,[["render",gb],["__scopeId","data-v-8db630bf"]]),vb={name:"ProjectsView",props:{code:{type:String,default:null}},data(){return{filters:{q:"",type:"",risk:"",status:"",minYield:0,maxYield:20},products:[],currentProduct:null,loading:!0,error:null,refreshInterval:null,lastRefreshTime:null,isDetailView:!1}},async mounted(){this.isDetailView=!!this.code,this.isDetailView?await this.loadSingleProduct():await this.loadProducts(),this.setupDatabaseSync()},beforeUnmount(){this.cleanupDatabaseSync()},watch:{$route(e,t){e.params.code!==t.params.code&&(this.code=e.params.code,this.isDetailView=!!this.code,this.isDetailView?this.loadSingleProduct():this.loadProducts())},code:{handler(e){this.isDetailView=!!e,this.isDetailView?this.loadSingleProduct():this.loadProducts()},immediate:!0}},methods:{async loadSingleProduct(){try{this.loading=!0,this.error=null,console.log("🔄 ProjectsView: 从数据库加载单个产品数据...",this.code);const e=await Vn.getProductByCode(this.code);if(e.status===0){const t=e.data,s={...t,totalOffering:t.total_token,subscribed:t.current_subscribed_token,targetYield:t.target_yield,ltv:t.LTV,annualInterestRate:t.annual_interest_rate,loanAmount:t.loan_amount,valuation:t.valuation,image:t.image||this.getProductImage(t.code)};this.currentProduct={code:s.code,name:s.name,image:s.image,subtitle:s.subtitle,type:s.type,risk:s.risk,targetYield:s.targetYield,status:s.status,summary:s.summary,totalOffering:s.totalOffering,subscribed:s.subscribed,totalSubscriptionTokens:s.totalSubscriptionTokens,subscribedTokens:s.subscribedTokens,metrics:{currentElaraPrice:this.calculateTokenPrice(s),collateralPropertyValue:s.valuation||"TBA",rentalIncome:this.calculateRentalIncome(s),targetLoanYield:`${s.targetYield}% p.a.`},loanAmount:s.loanAmount,annualInterestRate:s.annualInterestRate,loanTerm:s.loanTerm,ltv:s.ltv,drawdownDate:s.drawdownDate,earlyRepayment:s.earlyRepayment,repaymentArrangement:s.repaymentArrangement,issuer:s.issuer,pwShareholders:s.pwShareholders,lender:s.lender,borrower:s.borrower,guarantor:s.guarantor,disbursementMethod:s.disbursementMethod,interest:s.interest,earlyRepaymentDetails:s.earlyRepaymentDetails,maturityDate:s.maturityDate,propertyAddress:s.propertyAddress,valuation:s.valuation,securityRank:s.securityRank,defaultInterestRate:s.defaultInterestRate,defaultTriggers:s.defaultTriggers,defaultProcess:s.defaultProcess,issuerToken:s.issuerToken,loanToken:s.loanToken,valuationReport:s.valuationReport,mortgageDeed:s.mortgageDeed},this.lastRefreshTime=new Date,console.log("✅ ProjectsView: 单个产品数据加载成功:",this.currentProduct)}else this.error=e.message||"获取产品数据失败",console.error("❌ ProjectsView: API返回错误:",e)}catch(e){this.error="网络错误，无法获取产品数据",console.error("❌ ProjectsView: 获取单个产品数据失败:",e)}finally{this.loading=!1}},async loadProducts(){try{this.loading=!0,this.error=null,console.log("🔄 从数据库加载产品数据...");const e=await Vn.getAllProducts();e.status===0?(this.products=(e.data||[]).map(t=>{const s={...t,totalOffering:t.total_token,subscribed:t.current_subscribed_token,targetYield:t.target_yield,ltv:t.LTV,annualInterestRate:t.annual_interest_rate,loanAmount:t.loan_amount,valuation:t.valuation,image:t.image||this.getProductImage(t.code)};return s.metrics={currentElaraPrice:this.calculateTokenPrice(s),collateralPropertyValue:s.valuation||"TBA",rentalIncome:this.calculateRentalIncome(s),targetLoanYield:`${s.targetYield}% p.a.`},s}),this.lastRefreshTime=new Date,console.log("✅ 产品数据加载成功，共",this.products.length,"个项目")):(this.error=e.message||"获取产品数据失败",console.error("❌ API返回错误:",e))}catch(e){this.error="网络错误，无法获取产品数据",console.error("❌ 加载产品数据失败:",e)}finally{this.loading=!1}},async refreshProducts(){console.log("🔄 手动刷新产品数据..."),this.isDetailView?await this.loadSingleProduct():await this.loadProducts()},setupDatabaseSync(){const{subscribeProducts:e,subscribeNewProjects:t,getLastRefreshTime:s}=Uc();this.unsubscribeProducts=e(i=>{console.log("📡 ProjectsView: 收到产品数据更新，共",i.length,"个项目"),this.products=i.map(r=>({...r,totalOffering:r.total_token,subscribed:r.current_subscribed_token,targetYield:r.target_yield,ltv:r.LTV,annualInterestRate:r.annual_interest_rate,loanAmount:r.loan_amount,valuation:r.valuation,image:r.image||this.getProductImage(r.code)})),this.lastRefreshTime=new Date}),this.unsubscribeNewProjects=t(i=>{console.log("🆕 ProjectsView: 发现",i.length,"个新项目"),this.showNewProjectsNotification(i)});const n=s();n&&(this.lastRefreshTime=n)},cleanupDatabaseSync(){this.unsubscribeProducts&&this.unsubscribeProducts(),this.unsubscribeNewProjects&&this.unsubscribeNewProjects()},showNewProjectsNotification(e){if(e.length>0){const t=e.map(s=>s.name).join(", ");console.log("🆕 发现新项目:",t)}},startAutoRefresh(){this.refreshInterval=setInterval(()=>{console.log("🔄 自动刷新产品数据..."),this.loadProducts()},3e4)},stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null,console.log("⏹️ 停止自动刷新"))},formatCurrency(e){if(!e)return null;const t=parseFloat(e);return isNaN(t)?e:`A$${t.toLocaleString()}`},resetFilters(){this.filters={q:"",type:"",risk:"",status:"",minYield:0,maxYield:20}},openDetail(e){const t=this.products.find(n=>n.code===e);try{sessionStorage.setItem("lastProduct",JSON.stringify(t))}catch{}const s=t.project_id||e;this.$router.push({name:"detail",params:{id:s}})},openTrade(e){const t=this.products.find(s=>s.code===e);try{sessionStorage.setItem("lastProduct",JSON.stringify(t))}catch{}this.$router.push({name:"tradeProject",params:{code:e}})},getProgressPercentage(e){if(!e.totalOffering||!e.subscribed)return 0;const t=e.totalOffering.toString().replace(/[A$,]/g,""),s=e.subscribed.toString().replace(/[A$,]/g,""),n=parseFloat(t),i=parseFloat(s);if(n===0)return 0;const r=i/n*100;return Math.min(Math.round(r),100)},getStatusText(e){return{active:"Active",upcoming:"Upcoming",research:"Research",planning:"Planning",completed:"Completed"}[e]||"Unknown"},joinWaitlist(e){const t=this.products.find(s=>s.code===e);alert(`已加入 ${t.name} 的等待列表！`),console.log("Join waitlist for:",e)},registerInterest(e){const t=this.products.find(s=>s.code===e);alert(`已注册对 ${t.name} 的投资兴趣！`),console.log("Register interest for:",e)},formatTime(e){if(!e)return"";const s=new Date-e,n=Math.floor(s/6e4);if(n<1)return"刚刚";if(n<60)return`${n}分钟前`;const i=Math.floor(n/60);return i<24?`${i}小时前`:`${Math.floor(i/24)}天前`},getProductImage(e){return{RWA001:"/pics/TYMU.png",RWA002:"/pics/SQNB.png",RWA003:"/pics/LZYT.png",YYD:"/pics/YYD.png",COMP:"/pics/TYMU.png"}[e]||"/pics/TYMU.png"},calculateTokenPrice(e){return`A$${(1*((e.targetYield||6)/6)).toFixed(2)}`},calculateRentalIncome(e){if(!e.valuation)return"TBA";const t=e.valuation.replace(/[A$,]/g,""),s=parseFloat(t),n=(e.targetYield||6)/12/100;return`A$${(s*n).toLocaleString("en-AU",{maximumFractionDigits:0})} / month`},getSubscriptionProgress(e){if(!e||!e.totalOffering||!e.subscribed)return 0;const t=parseFloat(e.totalOffering),s=parseFloat(e.subscribed);if(t===0)return 0;const n=s/t*100;return Math.round(n*100)/100},formatNumber(e){if(!e)return"0";const t=parseFloat(e);return isNaN(t)?e:t.toLocaleString()}},computed:{filteredProducts(){const e=this.filters.q.trim().toLowerCase();return this.products.filter(t=>{const s=!e||t.code.toLowerCase().includes(e)||(t.name||"").toLowerCase().includes(e)||(t.subtitle||"").toLowerCase().includes(e),n=!this.filters.type||t.type===this.filters.type,i=!this.filters.risk||t.risk===this.filters.risk,r=!this.filters.status||t.status===this.filters.status,a=parseFloat(t.targetYield)||0,l=a>=this.filters.minYield&&a<=this.filters.maxYield;return s&&n&&i&&r&&l}).sort((t,s)=>t.code.localeCompare(s.code))},hasActiveFilters(){return this.filters.q.trim()!==""||this.filters.type!==""||this.filters.risk!==""||this.filters.status!==""||this.filters.minYield>0||this.filters.maxYield<20},projectData(){const e=this.project;if(e)return console.log("TradeProjectView: Retrieve project data from database:",e),{code:e.code,name:e.name,image:e.image||this.getProductImage(e.code),subtitle:e.subtitle,type:e.type,risk:e.risk,targetYield:e.targetYield,status:e.status,summary:e.summary,totalOffering:e.totalOffering,subscribed:e.subscribed,totalSubscriptionTokens:e.totalSubscriptionTokens,subscribedTokens:e.subscribedTokens,metrics:{currentElaraPrice:this.calculateTokenPrice(e),collateralPropertyValue:e.valuation||"TBA",rentalIncome:this.calculateRentalIncome(e),targetLoanYield:`${e.targetYield}% p.a.`},loanAmount:e.loanAmount,annualInterestRate:e.annualInterestRate,loanTerm:e.loanTerm,ltv:e.ltv,drawdownDate:e.drawdownDate,earlyRepayment:e.earlyRepayment,repaymentArrangement:e.repaymentArrangement,issuer:e.issuer,pwShareholders:e.pwShareholders,lender:e.lender,borrower:e.borrower,guarantor:e.guarantor,disbursementMethod:e.disbursementMethod,interest:e.interest,earlyRepaymentDetails:e.earlyRepaymentDetails,maturityDate:e.maturityDate,propertyAddress:e.propertyAddress,valuation:e.valuation,securityRank:e.securityRank,defaultInterestRate:e.defaultInterestRate,defaultTriggers:e.defaultTriggers,defaultProcess:e.defaultProcess,issuerToken:e.issuerToken,loanToken:e.loanToken,valuationReport:e.valuationReport,mortgageDeed:e.mortgageDeed}}}},yb={class:"container"},bb={class:"doc-header"},wb={class:"headline"},Ab={class:"subline"},Eb={key:0,class:"filters",style:{display:"flex",gap:"10px","flex-wrap":"wrap","align-items":"center",margin:"8px 0 6px"}},kb={class:"yield-range-filter"},Cb={class:"yield-range-container"},Tb={class:"yield-range-slider"},Sb=["max"],_b=["min"],Pb={class:"yield-range-display"},Ib={key:1,class:"filter-stats",style:{margin:"8px 0",color:"var(--muted)","font-size":"14px",display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"8px"}},xb={key:0,style:{"margin-left":"12px"}},Rb={style:{display:"flex","align-items":"center",gap:"12px"}},Nb={key:0,style:{"font-size":"12px",color:"#6b7280"}},Db=["disabled"],Lb={key:2,class:"loading-container"},Bb={key:3,class:"error-container"},Ob={class:"error-message"},Mb={key:4,class:"doc-list"},Ub={class:"doc-card","aria-labelledby":"'title-' + currentProduct.code"},Fb={class:"main-content"},$b={class:"left-content"},Vb={class:"title-section"},Hb={class:"title-header"},jb=["id"],Wb={class:"doc-code"},Gb={class:"doc-name"},Kb={class:"doc-subtitle"},Yb={class:"project-basic-info"},zb={class:"info-item"},Qb={class:"info-value"},qb={class:"right-content"},Jb=["src","alt"],Zb={class:"doc-section"},Xb={class:"investment-grid"},t1={class:"investment-item"},e1={class:"investment-value"},s1={class:"investment-item"},n1={class:"investment-value"},i1={class:"investment-item"},r1={class:"investment-value"},o1={class:"investment-item"},a1={class:"investment-value"},l1={class:"investment-item"},c1={class:"investment-value"},u1={class:"investment-item"},d1={class:"investment-value"},f1={class:"investment-item"},h1={class:"investment-value"},p1={class:"progress-actions-row"},m1={class:"progress-container"},g1={class:"progress-bar"},v1={class:"progress-text"},y1={class:"doc-actions"},b1={key:5,class:"doc-list"},w1={class:"pf-project-header"},A1=["src","alt"],E1={class:"pf-project-info"},k1=["id"],C1={class:"pf-project-metrics"},T1={class:"pf-project-metric"},S1={class:"pf-metric-value"},_1={class:"pf-project-metric"},P1={class:"pf-metric-value",style:{color:"#16a34a"}},I1={class:"pf-project-metric"},x1={class:"pf-metric-value"},R1={class:"pf-investment-progress"},N1={class:"pf-progress-metrics"},D1={class:"pf-progress-metric"},L1={class:"pf-progress-value"},B1={class:"pf-progress-metric"},O1={class:"pf-progress-value"},M1={class:"pf-progress-metric"},U1={class:"pf-progress-value",style:{color:"#10b981"}},F1={class:"pf-progress-bar-container"},$1={class:"pf-progress-bar"},V1={class:"pf-progress-text"},H1={class:"pf-project-actions"},j1=["onClick"],W1=["onClick"],G1=["onClick"],K1=["onClick"],Y1=["onClick"],z1=["onClick"],Q1=["onClick"],q1=["onClick"],J1=["onClick"],Z1=["onClick"];function X1(e,t,s,n,i,r){return E(),k("div",yb,[o("header",bb,[o("h1",wb,[i.isDetailView&&i.currentProduct?(E(),k(kt,{key:0},[ut(m(i.currentProduct.name)+" - "+m(i.currentProduct.code),1)],64)):(E(),k(kt,{key:1},[ut(" Property Loans ")],64))]),o("p",Ab,[i.isDetailView&&i.currentProduct?(E(),k(kt,{key:0},[ut(m(i.currentProduct.subtitle),1)],64)):(E(),k(kt,{key:1},[ut(" First-lien mortgages · LTV control · Monthly interest ")],64))])]),i.isDetailView?H("",!0):(E(),k("div",Eb,[Lt(o("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.filters.q=a),class:"input",placeholder:"Search code/name/subtitle",style:{"max-width":"240px",height:"38px"}},null,512),[[me,i.filters.q]]),Lt(o("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.filters.type=a),class:"input",style:{"max-width":"160px",height:"38px"}},[...t[19]||(t[19]=[o("option",{value:""},"All Types",-1),o("option",{value:"residential"},"Residential",-1),o("option",{value:"commercial"},"Commercial",-1)])],512),[[ks,i.filters.type]]),Lt(o("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>i.filters.status=a),class:"input",style:{"max-width":"160px",height:"38px"}},[...t[20]||(t[20]=[qt('<option value="" data-v-c4dcf082>All Status</option><option value="active" data-v-c4dcf082>Active</option><option value="upcoming" data-v-c4dcf082>Upcoming</option><option value="research" data-v-c4dcf082>Research</option><option value="planning" data-v-c4dcf082>Planning</option><option value="completed" data-v-c4dcf082>Completed</option>',6)])],512),[[ks,i.filters.status]]),o("div",kb,[t[21]||(t[21]=o("label",{class:"yield-range-label"},"Target Yield Range:",-1)),o("div",Cb,[o("div",Tb,[Lt(o("input",{type:"range","onUpdate:modelValue":t[3]||(t[3]=a=>i.filters.minYield=a),min:0,max:i.filters.maxYield-.5,step:.5,class:"yield-slider yield-slider-min"},null,8,Sb),[[me,i.filters.minYield,void 0,{number:!0}]]),Lt(o("input",{type:"range","onUpdate:modelValue":t[4]||(t[4]=a=>i.filters.maxYield=a),min:i.filters.minYield+.5,max:20,step:.5,class:"yield-slider yield-slider-max"},null,8,_b),[[me,i.filters.maxYield,void 0,{number:!0}]])]),o("div",Pb,m(i.filters.minYield)+"% - "+m(i.filters.maxYield)+"% ",1)])]),o("button",{class:"btn",onClick:t[5]||(t[5]=(...a)=>r.resetFilters&&r.resetFilters(...a))},"Reset")])),i.isDetailView?H("",!0):(E(),k("div",Ib,[o("div",null,[ut(" Showing "+m(r.filteredProducts.length)+" of "+m(i.products.length)+" projects ",1),r.hasActiveFilters?(E(),k("span",xb,[o("button",{onClick:t[6]||(t[6]=(...a)=>r.resetFilters&&r.resetFilters(...a)),style:{background:"none",border:"none",color:"#3b82f6","text-decoration":"underline",cursor:"pointer"}}," Clear filters ")])):H("",!0)]),o("div",Rb,[i.lastRefreshTime?(E(),k("span",Nb," Last Updated: "+m(r.formatTime(i.lastRefreshTime)),1)):H("",!0),o("button",{onClick:t[7]||(t[7]=(...a)=>r.refreshProducts&&r.refreshProducts(...a)),disabled:i.loading,class:"refresh-btn",style:is([{background:"#374151",border:"1px solid #4b5563",color:"#ffffff",padding:"6px 12px","border-radius":"6px","font-size":"12px",cursor:"pointer",transition:"all 0.2s ease"},{opacity:i.loading?.6:1,cursor:i.loading?"not-allowed":"pointer"}])},m(i.loading?"刷新中...":"刷新数据"),13,Db)])])),i.loading?(E(),k("div",Lb,[...t[22]||(t[22]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"Loading product data...",-1)])])):i.error?(E(),k("div",Bb,[o("div",Ob,[t[23]||(t[23]=o("h3",null,"Load Failed",-1)),o("p",null,m(i.error),1),o("button",{onClick:t[8]||(t[8]=(...a)=>r.loadProducts&&r.loadProducts(...a)),class:"btn retry-btn"},"Retry")])])):i.isDetailView&&i.currentProduct?(E(),k("section",Mb,[o("article",Ub,[o("div",Fb,[o("div",$b,[o("section",Vb,[o("div",Hb,[o("h2",{id:"title-"+i.currentProduct.code},[o("span",Wb,m(i.currentProduct.code),1),o("span",Gb,m(i.currentProduct.name),1)],8,jb),o("div",{class:St(["status-badge","status-"+i.currentProduct.status])},m(r.getStatusText(i.currentProduct.status)),3)]),o("p",Kb,m(i.currentProduct.subtitle),1),o("div",Yb,[o("div",zb,[t[24]||(t[24]=o("span",{class:"info-label"},"Type:",-1)),o("span",Qb,m(i.currentProduct.type),1)])])]),t[25]||(t[25]=o("hr",{class:"sep"},null,-1))]),o("div",qb,[o("img",{src:i.currentProduct.image,class:"doc-cover",alt:i.currentProduct.code},null,8,Jb)])]),o("section",Zb,[t[33]||(t[33]=o("h3",{class:"doc-h3"},"Investment Details",-1)),o("div",Xb,[o("div",t1,[t[26]||(t[26]=o("div",{class:"investment-label"},"Collateral Value",-1)),o("div",e1,m(i.currentProduct.metrics.collateralPropertyValue),1)]),o("div",s1,[t[27]||(t[27]=o("div",{class:"investment-label"},"Loan Amount",-1)),o("div",n1,m(i.currentProduct.loanAmount||"TBA"),1)]),o("div",i1,[t[28]||(t[28]=o("div",{class:"investment-label"},"Total Offering",-1)),o("div",r1,m(i.currentProduct.totalOffering||"TBA"),1)]),o("div",o1,[t[29]||(t[29]=o("div",{class:"investment-label"},"Subscribed",-1)),o("div",a1,m(i.currentProduct.subscribed||"TBA"),1)]),o("div",l1,[t[30]||(t[30]=o("div",{class:"investment-label"},"Target Yield",-1)),o("div",c1,m(i.currentProduct.metrics.targetLoanYield),1)]),o("div",u1,[t[31]||(t[31]=o("div",{class:"investment-label"},"LTV",-1)),o("div",d1,m(i.currentProduct.ltv||"TBA")+"%",1)]),o("div",f1,[t[32]||(t[32]=o("div",{class:"investment-label"},"Loan Term",-1)),o("div",h1,m(i.currentProduct.loanTerm||"TBA")+" months",1)])]),o("div",p1,[o("div",m1,[o("div",g1,[o("div",{class:"progress-fill",style:is({width:r.getProgressPercentage(i.currentProduct)+"%"})},null,4),o("div",{class:"progress-empty",style:is({width:100-r.getProgressPercentage(i.currentProduct)+"%"})},null,4)]),o("span",v1,m(r.getProgressPercentage(i.currentProduct))+"%",1)]),o("div",y1,[i.currentProduct.status==="active"?(E(),k(kt,{key:0},[o("a",{href:"#",class:"btn small orange",onClick:t[9]||(t[9]=yt(a=>r.openTrade(i.currentProduct.code),["prevent"]))},"Buy"),o("a",{href:"#",class:"btn small",onClick:t[10]||(t[10]=yt(a=>r.openDetail(i.currentProduct.code),["prevent"]))},"Detail")],64)):i.currentProduct.status==="upcoming"?(E(),k(kt,{key:1},[o("a",{href:"#",class:"btn small",onClick:t[11]||(t[11]=yt(a=>r.openDetail(i.currentProduct.code),["prevent"]))},"Preview"),o("a",{href:"#",class:"btn small",onClick:t[12]||(t[12]=yt(a=>r.joinWaitlist(i.currentProduct.code),["prevent"]))},"Join Waitlist")],64)):i.currentProduct.status==="research"?(E(),k(kt,{key:2},[o("a",{href:"#",class:"btn small",onClick:t[13]||(t[13]=yt(a=>r.openDetail(i.currentProduct.code),["prevent"]))},"Learn More"),o("a",{href:"#",class:"btn small",onClick:t[14]||(t[14]=yt(a=>r.joinWaitlist(i.currentProduct.code),["prevent"]))},"Join Waitlist")],64)):i.currentProduct.status==="planning"?(E(),k(kt,{key:3},[o("a",{href:"#",class:"btn small",onClick:t[15]||(t[15]=yt(a=>r.openDetail(i.currentProduct.code),["prevent"]))},"Learn More"),o("a",{href:"#",class:"btn small",onClick:t[16]||(t[16]=yt(a=>r.joinWaitlist(i.currentProduct.code),["prevent"]))},"Join Waitlist")],64)):i.currentProduct.status==="completed"?(E(),k("a",{key:4,href:"#",class:"btn small",onClick:t[17]||(t[17]=yt(a=>r.openDetail(i.currentProduct.code),["prevent"]))},"View Details")):(E(),k("a",{key:5,href:"#",class:"btn small",onClick:t[18]||(t[18]=yt(a=>r.openDetail(i.currentProduct.code),["prevent"]))},"Learn More"))])])])])])):(E(),k("section",b1,[(E(!0),k(kt,null,ke(r.filteredProducts,a=>(E(),k("article",{key:a.code,class:"pf-project-card","aria-labelledby":"'title-' + p.code"},[o("div",w1,[o("img",{src:a.image,class:"pf-project-image",alt:a.code},null,8,A1),o("div",E1,[o("h4",{id:"title-"+a.code},m(a.code)+" • "+m(a.name),9,k1),o("p",null,m(a.subtitle),1)]),o("div",{class:St(["status-badge","status-"+a.status])},m(r.getStatusText(a.status)),3)]),o("div",C1,[o("div",T1,[t[34]||(t[34]=o("span",{class:"pf-metric-label"},"LOAN SIZE",-1)),o("span",S1,m(a.loanAmount),1)]),o("div",_1,[t[35]||(t[35]=o("span",{class:"pf-metric-label"},"EST. YIELD (IRR)",-1)),o("span",P1,m(a.metrics.targetLoanYield),1)]),o("div",I1,[t[36]||(t[36]=o("span",{class:"pf-metric-label"},"TERM",-1)),o("span",x1,m(a.loanTerm)+" months",1)])]),o("div",R1,[o("div",N1,[o("div",D1,[t[37]||(t[37]=o("span",{class:"pf-progress-label"},"SUBSCRIBED",-1)),o("span",L1,"A$"+m(r.formatNumber(a.subscribed||0)),1)]),o("div",B1,[t[38]||(t[38]=o("span",{class:"pf-progress-label"},"TOTAL OFFERING",-1)),o("span",O1,"A$"+m(r.formatNumber(a.totalOffering||0)),1)]),o("div",M1,[t[39]||(t[39]=o("span",{class:"pf-progress-label"},"PROGRESS",-1)),o("span",U1,m(r.getSubscriptionProgress(a))+"%",1)])]),o("div",F1,[o("div",$1,[o("div",{class:"pf-progress-fill",style:is({width:r.getSubscriptionProgress(a)+"%"})},null,4)]),o("div",V1,m(r.getSubscriptionProgress(a))+"% Subscribed",1)])]),o("div",H1,[a.status==="active"?(E(),k(kt,{key:0},[o("button",{class:"pf-project-btn pf-project-btn-secondary",onClick:l=>r.openTrade(a.code)},"BUY",8,j1),o("button",{class:"pf-project-btn",onClick:l=>r.openDetail(a.code)},"DETAILS",8,W1)],64)):a.status==="upcoming"?(E(),k(kt,{key:1},[o("button",{class:"pf-project-btn",onClick:l=>r.openDetail(a.code)},"DETAILS",8,G1),o("button",{class:"pf-project-btn",onClick:l=>r.joinWaitlist(a.code)},"ADD TO WATCHLIST",8,K1)],64)):a.status==="research"?(E(),k(kt,{key:2},[o("button",{class:"pf-project-btn",onClick:l=>r.openDetail(a.code)},"DETAILS",8,Y1),o("button",{class:"pf-project-btn",onClick:l=>r.registerInterest(a.code)},"ADD TO WATCHLIST",8,z1)],64)):a.status==="planning"?(E(),k(kt,{key:3},[o("button",{class:"pf-project-btn",onClick:l=>r.openDetail(a.code)},"DETAILS",8,Q1),o("button",{class:"pf-project-btn",onClick:l=>r.registerInterest(a.code)},"ADD TO WATCHLIST",8,q1)],64)):a.status==="completed"?(E(),k("button",{key:4,class:"pf-project-btn",onClick:l=>r.openDetail(a.code)},"DETAILS",8,J1)):(E(),k("button",{key:5,class:"pf-project-btn",onClick:l=>r.openDetail(a.code)},"DETAILS",8,Z1))])]))),128))]))])}const jl=ce(vb,[["render",X1],["__scopeId","data-v-c4dcf082"]]),tw="6.15.0";function ew(e,t,s){const n=t.split("|").map(r=>r.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${s}`,i.value=e,i}async function Ge(e){const t=Object.keys(e);return(await Promise.all(t.map(n=>Promise.resolve(e[n])))).reduce((n,i,r)=>(n[t[r]]=i,n),{})}function At(e,t,s){for(let n in t){let i=t[n];const r=s?s[n]:null;r&&ew(i,r,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Mi(e,t){if(e==null)return"null";if(t==null&&(t=new Set),typeof e=="object"){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(s=>Mi(s,t)).join(", ")+" ]";if(e instanceof Uint8Array){const s="0123456789abcdef";let n="0x";for(let i=0;i<e.length;i++)n+=s[e[i]>>4],n+=s[e[i]&15];return n}if(typeof e=="object"&&typeof e.toJSON=="function")return Mi(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const s=Object.keys(e);return s.sort(),"{ "+s.map(n=>`${Mi(n,t)}: ${Mi(e[n],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Me(e,t){return e&&e.code===t}function Fc(e){return Me(e,"CALL_EXCEPTION")}function fe(e,t,s){let n=e;{const r=[];if(s){if("message"in s||"code"in s||"name"in s)throw new Error(`value will overwrite populated values: ${Mi(s)}`);for(const a in s){if(a==="shortMessage")continue;const l=s[a];r.push(a+"="+Mi(l))}}r.push(`code=${t}`),r.push(`version=${tw}`),r.length&&(e+=" ("+r.join(", ")+")")}let i;switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return At(i,{code:t}),s&&Object.assign(i,s),i.shortMessage==null&&At(i,{shortMessage:n}),i}function $(e,t,s,n){if(!e)throw fe(t,s,n)}function P(e,t,s,n){$(e,t,"INVALID_ARGUMENT",{argument:s,value:n})}function Zh(e,t,s){s==null&&(s=""),s&&(s=": "+s),$(e>=t,"missing argument"+s,"MISSING_ARGUMENT",{count:e,expectedCount:t}),$(e<=t,"too many arguments"+s,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");e.push(t)}catch{}return e},[]);function ao(e,t,s){if(s==null&&(s=""),e!==t){let n=s,i="new";s&&(n+=".",i+=" "+s),$(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Xh(e,t,s){if(e instanceof Uint8Array)return s?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((e.length-2)/2);let i=2;for(let r=0;r<n.length;r++)n[r]=parseInt(e.substring(i,i+2),16),i+=2;return n}P(!1,"invalid BytesLike value",t||"value",e)}function Bt(e,t){return Xh(e,t,!1)}function Je(e,t){return Xh(e,t,!0)}function le(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}function $c(e){return le(e,!0)||e instanceof Uint8Array}const td="0123456789abcdef";function lt(e){const t=Bt(e);let s="0x";for(let n=0;n<t.length;n++){const i=t[n];s+=td[(i&240)>>4]+td[i&15]}return s}function we(e){return"0x"+e.map(t=>lt(t).substring(2)).join("")}function Gi(e){return le(e,!0)?(e.length-2)/2:Bt(e).length}function ve(e,t,s){const n=Bt(e);return s!=null&&s>n.length&&$(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:s}),lt(n.slice(t??0,s??n.length))}function tp(e,t,s){const n=Bt(e);$(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),s?i.set(n,t-n.length):i.set(n,0),lt(i)}function yn(e,t){return tp(e,t,!0)}function sw(e,t){return tp(e,t,!1)}const Aa=BigInt(0),Ns=BigInt(1),Ui=9007199254740991;function Jo(e,t){const s=Ea(e,"value"),n=BigInt(Rt(t,"width"));if($(s>>n===Aa,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),s>>n-Ns){const i=(Ns<<n)-Ns;return-((~s&i)+Ns)}return s}function ep(e,t){let s=ft(e,"value");const n=BigInt(Rt(t,"width")),i=Ns<<n-Ns;if(s<Aa){s=-s,$(s<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});const r=(Ns<<n)-Ns;return(~s&r)+Ns}else $(s<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return s}function li(e,t){const s=Ea(e,"value"),n=BigInt(Rt(t,"bits"));return s&(Ns<<n)-Ns}function ft(e,t){switch(typeof e){case"bigint":return e;case"number":return P(Number.isInteger(e),"underflow",t||"value",e),P(e>=-Ui&&e<=Ui,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(s){P(!1,`invalid BigNumberish string: ${s.message}`,t||"value",e)}}P(!1,"invalid BigNumberish value",t||"value",e)}function Ea(e,t){const s=ft(e,t);return $(s>=Aa,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),s}const ed="0123456789abcdef";function ka(e){if(e instanceof Uint8Array){let t="0x0";for(const s of e)t+=ed[s>>4],t+=ed[s&15];return BigInt(t)}return ft(e)}function Rt(e,t){switch(typeof e){case"bigint":return P(e>=-Ui&&e<=Ui,"overflow",t||"value",e),Number(e);case"number":return P(Number.isInteger(e),"underflow",t||"value",e),P(e>=-Ui&&e<=Ui,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return Rt(BigInt(e),t)}catch(s){P(!1,`invalid numeric string: ${s.message}`,t||"value",e)}}P(!1,"invalid numeric value",t||"value",e)}function nw(e){return Rt(ka(e))}function Hn(e,t){let n=Ea(e,"value").toString(16);if(t==null)n.length%2&&(n="0"+n);else{const i=Rt(t,"width");for($(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<i*2;)n="0"+n}return"0x"+n}function xe(e){const t=Ea(e,"value");if(t===Aa)return new Uint8Array([]);let s=t.toString(16);s.length%2&&(s="0"+s);const n=new Uint8Array(s.length/2);for(let i=0;i<n.length;i++){const r=i*2;n[i]=parseInt(s.substring(r,r+2),16)}return n}function Rs(e){let t=lt($c(e)?e:xe(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const sd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const nd=BigInt(58);function iw(e){const t=Bt(e);let s=ka(t),n="";for(;s;)n=sd[Number(s%nd)]+n,s/=nd;for(let i=0;i<t.length&&!t[i];i++)n=sd[0]+n;return n}function rw(e){e=atob(e);const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return Bt(t)}function ow(e){const t=Bt(e);let s="";for(let n=0;n<t.length;n++)s+=String.fromCharCode(t[n]);return btoa(s)}class sp{filter;emitter;#t;constructor(t,s,n){this.#t=s,At(this,{emitter:t,filter:n})}async removeListener(){this.#t!=null&&await this.emitter.off(this.filter,this.#t)}}function aw(e,t,s,n,i){P(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",s)}function np(e,t,s,n,i){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let r=0;for(let a=t+1;a<s.length&&s[a]>>6===2;a++)r++;return r}return e==="OVERRUN"?s.length-t-1:0}function lw(e,t,s,n,i){return e==="OVERLONG"?(P(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),np(e,t,s))}const cw=Object.freeze({error:aw,ignore:np,replace:lw});function uw(e,t){t==null&&(t=cw.error);const s=Bt(e,"bytes"),n=[];let i=0;for(;i<s.length;){const r=s[i++];if(r>>7===0){n.push(r);continue}let a=null,l=null;if((r&224)===192)a=1,l=127;else if((r&240)===224)a=2,l=2047;else if((r&248)===240)a=3,l=65535;else{(r&192)===128?i+=t("UNEXPECTED_CONTINUE",i-1,s,n):i+=t("BAD_PREFIX",i-1,s,n);continue}if(i-1+a>=s.length){i+=t("OVERRUN",i-1,s,n);continue}let c=r&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=s[i];if((d&192)!=128){i+=t("MISSING_CONTINUE",i,s,n),c=null;break}c=c<<6|d&63,i++}if(c!==null){if(c>1114111){i+=t("OUT_OF_RANGE",i-1-a,s,n,c);continue}if(c>=55296&&c<=57343){i+=t("UTF16_SURROGATE",i-1-a,s,n,c);continue}if(c<=l){i+=t("OVERLONG",i-1-a,s,n,c);continue}n.push(c)}}return n}function pn(e,t){P(typeof e=="string","invalid string value","str",e);let s=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)s.push(i);else if(i<2048)s.push(i>>6|192),s.push(i&63|128);else if((i&64512)==55296){n++;const r=e.charCodeAt(n);P(n<e.length&&(r&64512)===56320,"invalid surrogate pair","str",e);const a=65536+((i&1023)<<10)+(r&1023);s.push(a>>18|240),s.push(a>>12&63|128),s.push(a>>6&63|128),s.push(a&63|128)}else s.push(i>>12|224),s.push(i>>6&63|128),s.push(i&63|128)}return new Uint8Array(s)}function dw(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Zo(e,t){return dw(uw(e,t))}function ip(e){async function t(s,n){$(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=s.url.split(":")[0].toLowerCase();$(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),$(i==="https"||!s.credentials||s.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const a=new AbortController,l=setTimeout(()=>{r=fe("request timeout","TIMEOUT"),a.abort()},s.timeout);n&&n.addListener(()=>{r=fe("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},e,{method:s.method,headers:new Headers(Array.from(s)),body:s.body||void 0,signal:a.signal});let u;try{u=await fetch(s.url,c)}catch(p){throw clearTimeout(l),r||p}clearTimeout(l);const d={};u.headers.forEach((p,w)=>{d[w.toLowerCase()]=p});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return t}const fw=12,hw=250;let id=ip();const pw=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),mw=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ll=!1;async function rp(e,t){try{const s=e.match(pw);if(!s)throw new Error("invalid data");return new Un(200,"OK",{"content-type":s[1]||"text/plain"},s[2]?rw(s[3]):vw(s[3]))}catch{return new Un(599,"BAD REQUEST (invalid data: URI)",{},null,new bn(e))}}function op(e){async function t(s,n){try{const i=s.match(mw);if(!i)throw new Error("invalid link");return new bn(`${e}${i[2]}`)}catch{return new Un(599,"BAD REQUEST (invalid IPFS URI)",{},null,new bn(s))}}return t}const Eo={data:rp,ipfs:op("https://gateway.ipfs.io/ipfs/")},ap=new WeakMap;class gw{#t;#e;constructor(t){this.#t=[],this.#e=!1,ap.set(t,()=>{if(!this.#e){this.#e=!0;for(const s of this.#t)setTimeout(()=>{s()},0);this.#t=[]}})}addListener(t){$(!this.#e,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#t.push(t)}get cancelled(){return this.#e}checkSignal(){$(!this.cancelled,"cancelled","CANCELLED",{})}}function ko(e){if(e==null)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class bn{#t;#e;#s;#n;#i;#o;#r;#a;#d;#c;#p;#m;#l;#u;#f;get url(){return this.#o}set url(t){this.#o=String(t)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}set body(t){if(t==null)this.#r=void 0,this.#a=void 0;else if(typeof t=="string")this.#r=pn(t),this.#a="text/plain";else if(t instanceof Uint8Array)this.#r=t,this.#a="application/octet-stream";else if(typeof t=="object")this.#r=pn(JSON.stringify(t)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#r!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),this.#n=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#s);return this.#d&&(t.authorization=`Basic ${ow(pn(this.#d))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&this.#a&&(t["content-type"]=this.#a),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,s){this.#s[String(t).toLowerCase()]=String(s)}clearHeaders(){this.#s={}}[Symbol.iterator](){const t=this.headers,s=Object.keys(t);let n=0;return{next:()=>{if(n<s.length){const i=s[n++];return{value:[i,t[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(t,s){P(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${t}:${s}`}get allowGzip(){return this.#e}set allowGzip(t){this.#e=!!t}get allowInsecureAuthentication(){return!!this.#t}set allowInsecureAuthentication(t){this.#t=!!t}get timeout(){return this.#i}set timeout(t){P(t>=0,"timeout must be non-zero","timeout",t),this.#i=t}get preflightFunc(){return this.#c||null}set preflightFunc(t){this.#c=t}get processFunc(){return this.#p||null}set processFunc(t){this.#p=t}get retryFunc(){return this.#m||null}set retryFunc(t){this.#m=t}get getUrlFunc(){return this.#f||id}set getUrlFunc(t){this.#f=t}constructor(t){this.#o=String(t),this.#t=!1,this.#e=!0,this.#s={},this.#n="",this.#i=3e5,this.#u={slotInterval:hw,maxAttempts:fw},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#r?lt(this.#r):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(this.#u.slotInterval=t.slotInterval),t.maxAttempts!=null&&(this.#u.maxAttempts=t.maxAttempts)}async#h(t,s,n,i,r){if(t>=this.#u.maxAttempts)return r.makeServerError("exceeded maximum retry limit");$(rd()<=s,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await yw(n);let a=this.clone();const l=(a.url.split(":")[0]||"").toLowerCase();if(l in Eo){const d=await Eo[l](a.url,ko(i.#l));if(d instanceof Un){let f=d;if(this.processFunc){ko(i.#l);try{f=await this.processFunc(a,f)}catch(h){(h.throttle==null||typeof h.stall!="number")&&f.makeServerError("error in post-processing function",h).assertOk()}}return f}a=d}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,ko(i.#l));let u=new Un(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const d=u.headers.location||"";return a.redirect(d).#h(t+1,s,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,t))){const d=u.headers["retry-after"];let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof d=="string"&&d.match(/^[1-9][0-9]*$/)&&(f=parseInt(d)),a.clone().#h(t+1,s,f,i,u)}if(this.processFunc){ko(i.#l);try{u=await this.processFunc(a,u)}catch(d){(d.throttle==null||typeof d.stall!="number")&&u.makeServerError("error in post-processing function",d).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return d.stall>=0&&(f=d.stall),a.clone().#h(t+1,s,f,i,u)}}return u}send(){return $(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new gw(this),this.#h(0,rd()+this.timeout,0,this,new Un(0,"",{},null,this))}cancel(){$(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=ap.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const s=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();$(this.method==="GET"&&(s!=="https"||n!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const i=new bn(t);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#s=Object.assign({},this.#s),this.#r&&(i.#r=new Uint8Array(this.#r)),i.#a=this.#a,i}clone(){const t=new bn(this.url);return t.#n=this.#n,this.#r&&(t.#r=this.#r),t.#a=this.#a,t.#s=Object.assign({},this.#s),t.#d=this.#d,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#c=this.#c,t.#p=this.#p,t.#m=this.#m,t.#u=Object.assign({},this.#u),t.#f=this.#f,t}static lockConfig(){ll=!0}static getGateway(t){return Eo[t.toLowerCase()]||null}static registerGateway(t,s){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(ll)throw new Error("gateways locked");Eo[t]=s}static registerGetUrl(t){if(ll)throw new Error("gateways locked");id=t}static createGetUrlFunc(t){return ip(t)}static createDataGateway(){return rp}static createIpfsGatewayFunc(t){return op(t)}}class Un{#t;#e;#s;#n;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?lt(this.#n):"null"}>`}get statusCode(){return this.#t}get statusMessage(){return this.#e}get headers(){return Object.assign({},this.#s)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":Zo(this.#n)}catch{$(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{$(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,s=Object.keys(t);let n=0;return{next:()=>{if(n<s.length){const i=s[n++];return{value:[i,t[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,s,n,i,r){this.#t=t,this.#e=s,this.#s=Object.keys(n).reduce((a,l)=>(a[l.toLowerCase()]=String(n[l]),a),{}),this.#n=i==null?null:new Uint8Array(i),this.#i=r||null,this.#o={message:""}}makeServerError(t,s){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const i=new Un(599,n,this.headers,this.body,this.#i||void 0);return i.#o={message:t,error:s},i}throwThrottleError(t,s){s==null?s=-1:P(Number.isInteger(s)&&s>=0,"invalid stall timeout","stall",s);const n=new Error(t||"throttling requests");throw At(n,{stall:s,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:s}=this.#o;t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{this.#n&&(i=Zo(this.#n))}catch{}$(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:s,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function rd(){return new Date().getTime()}function vw(e){return pn(e.replace(/%([0-9a-f][0-9a-f])/gi,(t,s)=>String.fromCharCode(parseInt(s,16))))}function yw(e){return new Promise(t=>setTimeout(t,e))}const bw=BigInt(-1),Ps=BigInt(0),Fi=BigInt(1),ww=BigInt(5),Ri={};let Ki="0000";for(;Ki.length<80;)Ki+=Ki;function Xn(e){let t=Ki;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function pr(e,t,s){const n=BigInt(t.width);if(t.signed){const i=Fi<<n-Fi;$(s==null||e>=-i&&e<i,"overflow","NUMERIC_FAULT",{operation:s,fault:"overflow",value:e}),e>Ps?e=Jo(li(e,n),n):e=-Jo(li(-e,n),n)}else{const i=Fi<<n;$(s==null||e>=0&&e<i,"overflow","NUMERIC_FAULT",{operation:s,fault:"overflow",value:e}),e=(e%i+i)%i&i-Fi}return e}function cl(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,s=128,n=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const r=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);P(r,"invalid fixed format","format",e),t=r[1]!=="u",s=parseInt(r[2]),n=parseInt(r[3])}}else if(e){const r=e,a=(l,c,u)=>r[l]==null?u:(P(typeof r[l]===c,"invalid fixed format ("+l+" not "+c+")","format."+l,r[l]),r[l]);t=a("signed","boolean",t),s=a("width","number",s),n=a("decimals","number",n)}P(s%8===0,"invalid FixedNumber width (not byte aligned)","format.width",s),P(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(t?"":"u")+"fixed"+String(s)+"x"+String(n);return{signed:t,width:s,decimals:n,name:i}}function Aw(e,t){let s="";e<Ps&&(s="-",e*=bw);let n=e.toString();if(t===0)return s+n;for(;n.length<=t;)n=Ki+n;const i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return s+n}class rn{format;#t;#e;#s;_value;constructor(t,s,n){ao(t,Ri,"FixedNumber"),this.#e=s,this.#t=n;const i=Aw(s,n.decimals);At(this,{format:n.name,_value:i}),this.#s=Xn(n.decimals)}get signed(){return this.#t.signed}get width(){return this.#t.width}get decimals(){return this.#t.decimals}get value(){return this.#e}#n(t){P(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#i(t,s){return t=pr(t,this.#t,s),new rn(Ri,t,this.#t)}#o(t,s){return this.#n(t),this.#i(this.#e+t.#e,s)}addUnsafe(t){return this.#o(t)}add(t){return this.#o(t,"add")}#r(t,s){return this.#n(t),this.#i(this.#e-t.#e,s)}subUnsafe(t){return this.#r(t)}sub(t){return this.#r(t,"sub")}#a(t,s){return this.#n(t),this.#i(this.#e*t.#e/this.#s,s)}mulUnsafe(t){return this.#a(t)}mul(t){return this.#a(t,"mul")}mulSignal(t){this.#n(t);const s=this.#e*t.#e;return $(s%this.#s===Ps,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(s/this.#s,"mulSignal")}#d(t,s){return $(t.#e!==Ps,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(t),this.#i(this.#e*this.#s/t.#e,s)}divUnsafe(t){return this.#d(t)}div(t){return this.#d(t,"div")}divSignal(t){$(t.#e!==Ps,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(t);const s=this.#e*this.#s;return $(s%t.#e===Ps,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(s/t.#e,"divSignal")}cmp(t){let s=this.value,n=t.value;const i=this.decimals-t.decimals;return i>0?n*=Xn(i):i<0&&(s*=Xn(-i)),s<n?-1:s>n?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#e;return this.#e<Ps&&(t-=this.#s-Fi),t=this.#e/this.#s*this.#s,this.#i(t,"floor")}ceiling(){let t=this.#e;return this.#e>Ps&&(t+=this.#s-Fi),t=this.#e/this.#s*this.#s,this.#i(t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const s=this.decimals-t,n=ww*Xn(s-1);let i=this.value+n;const r=Xn(s);return i=i/r*r,pr(i,this.#t,"round"),new rn(Ri,i,this.#t)}isZero(){return this.#e===Ps}isNegative(){return this.#e<Ps}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return rn.fromString(this.toString(),t)}static fromValue(t,s,n){const i=s==null?0:Rt(s),r=cl(n);let a=ft(t,"value");const l=i-r.decimals;if(l>0){const c=Xn(l);$(a%c===Ps,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),a/=c}else l<0&&(a*=Xn(-l));return pr(a,r,"fromValue"),new rn(Ri,a,r)}static fromString(t,s){const n=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);P(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",t);const i=cl(s);let r=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=Ki;$(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),a=a.substring(0,i.decimals);const l=BigInt(n[1]+r+a);return pr(l,i,"fromString"),new rn(Ri,l,i)}static fromBytes(t,s){let n=ka(Bt(t,"value"));const i=cl(s);return i.signed&&(n=Jo(n,i.width)),pr(n,i,"fromBytes"),new rn(Ri,n,i)}}function Ew(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function od(e,t,s){let n=0;for(let i=0;i<s;i++)n=n*256+e[t+i];return n}function ad(e,t,s,n){const i=[];for(;s<t+1+n;){const r=lp(e,s);i.push(r.result),s+=r.consumed,$(s<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function lp(e,t){$(e.length!==0,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const s=n=>{$(n<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:n})};if(e[t]>=248){const n=e[t]-247;s(t+1+n);const i=od(e,t+1,n);return s(t+1+n+i),ad(e,t,t+1+n,n+i)}else if(e[t]>=192){const n=e[t]-192;return s(t+1+n),ad(e,t,t+1,n)}else if(e[t]>=184){const n=e[t]-183;s(t+1+n);const i=od(e,t+1,n);s(t+1+n+i);const r=lt(e.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:r}}else if(e[t]>=128){const n=e[t]-128;s(t+1+n);const i=lt(e.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:Ew(e[t])}}function lo(e){const t=Bt(e,"data"),s=lp(t,0);return P(s.consumed===t.length,"unexpected junk after rlp payload","data",e),s.result}function ld(e){const t=[];for(;e;)t.unshift(e&255),e>>=8;return t}function cp(e){if(Array.isArray(e)){let n=[];if(e.forEach(function(r){n=n.concat(cp(r))}),n.length<=55)return n.unshift(192+n.length),n;const i=ld(n.length);return i.unshift(247+i.length),i.concat(n)}const t=Array.prototype.slice.call(Bt(e,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const s=ld(t.length);return s.unshift(183+s.length),s.concat(t)}const cd="0123456789abcdef";function jn(e){let t="0x";for(const s of cp(e))t+=cd[s>>4],t+=cd[s&15];return t}const kw=["wei","kwei","mwei","gwei","szabo","finney","ether"];function up(e,t){let s=18;if(typeof t=="string"){const n=kw.indexOf(t);P(n>=0,"invalid unit","unit",t),s=3*n}else t!=null&&(s=Rt(t,"unit"));return rn.fromValue(e,s,{decimals:s,width:512}).toString()}function Cw(e,t){P(typeof e=="string","value must be a string","value",e);let s=18;return s=Rt(t,"unit"),rn.fromString(e,{decimals:s,width:512}).value}function en(e){return up(e,18)}function ud(e){return Cw(e,18)}const Ze=32,Wl=new Uint8Array(Ze),Tw=["then"],Co={},dp=new WeakMap;function ii(e){return dp.get(e)}function dd(e,t){dp.set(e,t)}function mr(e,t){const s=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw s.error=t,s}function Gl(e,t,s){return e.indexOf(null)>=0?t.map((n,i)=>n instanceof dn?Gl(ii(n),n,s):n):e.reduce((n,i,r)=>{let a=t.getValue(i);return i in n||(s&&a instanceof dn&&(a=Gl(ii(a),a,s)),n[i]=a),n},{})}class dn extends Array{#t;constructor(...t){const s=t[0];let n=t[1],i=(t[2]||[]).slice(),r=!0;s!==Co&&(n=t,i=[],r=!1),super(n.length),n.forEach((c,u)=>{this[u]=c});const a=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(dd(this,Object.freeze(n.map((c,u)=>{const d=i[u];return d!=null&&a.get(d)===1?d:null}))),this.#t=[],this.#t==null&&this.#t,!r)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const h=Rt(u,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=c[h];return p instanceof Error&&mr(`index ${h}`,p),p}if(Tw.indexOf(u)>=0)return Reflect.get(c,u,d);const f=c[u];if(f instanceof Function)return function(...h){return f.apply(this===d?c:this,h)};if(!(u in c))return c.getValue.apply(this===d?c:this,[u])}return Reflect.get(c,u,d)}});return dd(l,ii(this)),l}toArray(t){const s=[];return this.forEach((n,i)=>{n instanceof Error&&mr(`index ${i}`,n),t&&n instanceof dn&&(n=n.toArray(t)),s.push(n)}),s}toObject(t){const s=ii(this);return s.reduce((n,i,r)=>($(i!=null,`value at index ${r} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Gl(s,this,t)),{})}slice(t,s){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),s==null&&(s=this.length),s<0&&(s+=this.length,s<0&&(s=0)),s>this.length&&(s=this.length);const n=ii(this),i=[],r=[];for(let a=t;a<s;a++)i.push(this[a]),r.push(n[a]);return new dn(Co,i,r)}filter(t,s){const n=ii(this),i=[],r=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&mr(`index ${a}`,l),t.call(s,l,a,this)&&(i.push(l),r.push(n[a]))}return new dn(Co,i,r)}map(t,s){const n=[];for(let i=0;i<this.length;i++){const r=this[i];r instanceof Error&&mr(`index ${i}`,r),n.push(t.call(s,r,i,this))}return n}getValue(t){const s=ii(this).indexOf(t);if(s===-1)return;const n=this[s];return n instanceof Error&&mr(`property ${JSON.stringify(t)}`,n.error),n}static fromItems(t,s){return new dn(Co,t,s)}}function fd(e){let t=xe(e);return $(t.length<=Ze,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ze,offset:t.length}),t.length!==Ze&&(t=Je(we([Wl.slice(t.length%Ze),t]))),t}class En{name;type;localName;dynamic;constructor(t,s,n,i){At(this,{name:t,type:s,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,s){P(!1,t,this.localName,s)}}class Kl{#t;#e;constructor(){this.#t=[],this.#e=0}get data(){return we(this.#t)}get length(){return this.#e}#s(t){return this.#t.push(t),this.#e+=t.length,t.length}appendWriter(t){return this.#s(Je(t.data))}writeBytes(t){let s=Je(t);const n=s.length%Ze;return n&&(s=Je(we([s,Wl.slice(n)]))),this.#s(s)}writeValue(t){return this.#s(fd(t))}writeUpdatableValue(){const t=this.#t.length;return this.#t.push(Wl),this.#e+=Ze,s=>{this.#t[t]=fd(s)}}}class Vc{allowLoose;#t;#e;#s;#n;#i;constructor(t,s,n){At(this,{allowLoose:!!s}),this.#t=Je(t),this.#s=0,this.#n=null,this.#i=n??1024,this.#e=0}get data(){return lt(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#t)}#o(t){if(this.#n)return this.#n.#o(t);this.#s+=t,$(this.#i<1||this.#s<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Je(this.#t),offset:this.#e,length:t,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#r(t,s,n){let i=Math.ceil(s/Ze)*Ze;return this.#e+i>this.#t.length&&(this.allowLoose&&n&&this.#e+s<=this.#t.length?i=s:$(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Je(this.#t),length:this.#t.length,offset:this.#e+i})),this.#t.slice(this.#e,this.#e+i)}subReader(t){const s=new Vc(this.#t.slice(this.#e+t),this.allowLoose,this.#i);return s.#n=this,s}readBytes(t,s){let n=this.#r(0,t,!!s);return this.#o(t),this.#e+=n.length,n.slice(0,t)}readValue(){return ka(this.readBytes(Ze))}readIndex(){return nw(this.readBytes(Ze))}}function Xo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Hc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Sw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xo(e.outputLen),Xo(e.blockLen)}function Ji(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fp(e,t){Hc(e);const s=t.outputLen;if(e.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const ul=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hp=e=>e instanceof Uint8Array,_w=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),dl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Vs=(e,t)=>e<<32-t|e>>>t,Pw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pw)throw new Error("Non little-endian hardware is not supported");function Iw(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ca(e){if(typeof e=="string"&&(e=Iw(e)),!hp(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function xw(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let s=0;return e.forEach(n=>{if(!hp(n))throw new Error("Uint8Array expected");t.set(n,s),s+=n.length}),t}class jc{clone(){return this._cloneInto()}}function Wc(e){const t=n=>e().update(Ca(n)).digest(),s=e();return t.outputLen=s.outputLen,t.blockLen=s.blockLen,t.create=()=>e(),t}function Rw(e=32){if(ul&&typeof ul.getRandomValues=="function")return ul.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class pp extends jc{constructor(t,s){super(),this.finished=!1,this.destroyed=!1,Sw(t);const n=Ca(s);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,r=new Uint8Array(i);r.set(n.length>i?t.create().update(n).digest():n);for(let a=0;a<r.length;a++)r[a]^=54;this.iHash.update(r),this.oHash=t.create();for(let a=0;a<r.length;a++)r[a]^=106;this.oHash.update(r),r.fill(0)}update(t){return Ji(this),this.iHash.update(t),this}digestInto(t){Ji(this),Hc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:n,finished:i,destroyed:r,blockLen:a,outputLen:l}=this;return t=t,t.finished=i,t.destroyed=r,t.blockLen=a,t.outputLen=l,t.oHash=s._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mp=(e,t,s)=>new pp(e,t).update(s).digest();mp.create=(e,t)=>new pp(e,t);function Nw(e,t,s,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,s,n);const i=BigInt(32),r=BigInt(4294967295),a=Number(s>>i&r),l=Number(s&r),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,l,n)}class gp extends jc{constructor(t,s,n,i){super(),this.blockLen=t,this.outputLen=s,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=dl(this.buffer)}update(t){Ji(this);const{view:s,buffer:n,blockLen:i}=this;t=Ca(t);const r=t.length;for(let a=0;a<r;){const l=Math.min(i-this.pos,r-a);if(l===i){const c=dl(t);for(;i<=r-a;a+=i)this.process(c,a);continue}n.set(t.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(s,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ji(this),fp(t,this),this.finished=!0;const{buffer:s,view:n,blockLen:i,isLE:r}=this;let{pos:a}=this;s[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)s[f]=0;Nw(n,i-8,BigInt(this.length*8),r),this.process(n,0);const l=dl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)l.setUint32(4*f,d[f],r)}digest(){const{buffer:t,outputLen:s}=this;this.digestInto(t);const n=t.slice(0,s);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:s,buffer:n,length:i,finished:r,destroyed:a,pos:l}=this;return t.length=i,t.pos=l,t.finished=r,t.destroyed=a,i%s&&t.buffer.set(n),t}}const Dw=(e,t,s)=>e&t^~e&s,Lw=(e,t,s)=>e&t^e&s^t&s,Bw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_n=new Uint32Array(64);class Ow extends gp{constructor(){super(64,32,8,!1),this.A=Sn[0]|0,this.B=Sn[1]|0,this.C=Sn[2]|0,this.D=Sn[3]|0,this.E=Sn[4]|0,this.F=Sn[5]|0,this.G=Sn[6]|0,this.H=Sn[7]|0}get(){const{A:t,B:s,C:n,D:i,E:r,F:a,G:l,H:c}=this;return[t,s,n,i,r,a,l,c]}set(t,s,n,i,r,a,l,c){this.A=t|0,this.B=s|0,this.C=n|0,this.D=i|0,this.E=r|0,this.F=a|0,this.G=l|0,this.H=c|0}process(t,s){for(let f=0;f<16;f++,s+=4)_n[f]=t.getUint32(s,!1);for(let f=16;f<64;f++){const h=_n[f-15],p=_n[f-2],w=Vs(h,7)^Vs(h,18)^h>>>3,v=Vs(p,17)^Vs(p,19)^p>>>10;_n[f]=v+_n[f-7]+w+_n[f-16]|0}let{A:n,B:i,C:r,D:a,E:l,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const h=Vs(l,6)^Vs(l,11)^Vs(l,25),p=d+h+Dw(l,c,u)+Bw[f]+_n[f]|0,v=(Vs(n,2)^Vs(n,13)^Vs(n,22))+Lw(n,i,r)|0;d=u,u=c,c=l,l=a+p|0,a=r,r=i,i=n,n=p+v|0}n=n+this.A|0,i=i+this.B|0,r=r+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,i,r,a,l,c,u,d)}roundClean(){_n.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const vp=Wc(()=>new Ow),To=BigInt(2**32-1),Yl=BigInt(32);function yp(e,t=!1){return t?{h:Number(e&To),l:Number(e>>Yl&To)}:{h:Number(e>>Yl&To)|0,l:Number(e&To)|0}}function bp(e,t=!1){let s=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:r,l:a}=yp(e[i],t);[s[i],n[i]]=[r,a]}return[s,n]}const Mw=(e,t)=>BigInt(e>>>0)<<Yl|BigInt(t>>>0),Uw=(e,t,s)=>e>>>s,Fw=(e,t,s)=>e<<32-s|t>>>s,$w=(e,t,s)=>e>>>s|t<<32-s,Vw=(e,t,s)=>e<<32-s|t>>>s,Hw=(e,t,s)=>e<<64-s|t>>>s-32,jw=(e,t,s)=>e>>>s-32|t<<64-s,Ww=(e,t)=>t,Gw=(e,t)=>e,wp=(e,t,s)=>e<<s|t>>>32-s,Ap=(e,t,s)=>t<<s|e>>>32-s,Ep=(e,t,s)=>t<<s-32|e>>>64-s,kp=(e,t,s)=>e<<s-32|t>>>64-s;function Kw(e,t,s,n){const i=(t>>>0)+(n>>>0);return{h:e+s+(i/2**32|0)|0,l:i|0}}const Yw=(e,t,s)=>(e>>>0)+(t>>>0)+(s>>>0),zw=(e,t,s,n)=>t+s+n+(e/2**32|0)|0,Qw=(e,t,s,n)=>(e>>>0)+(t>>>0)+(s>>>0)+(n>>>0),qw=(e,t,s,n,i)=>t+s+n+i+(e/2**32|0)|0,Jw=(e,t,s,n,i)=>(e>>>0)+(t>>>0)+(s>>>0)+(n>>>0)+(i>>>0),Zw=(e,t,s,n,i,r)=>t+s+n+i+r+(e/2**32|0)|0,Dt={fromBig:yp,split:bp,toBig:Mw,shrSH:Uw,shrSL:Fw,rotrSH:$w,rotrSL:Vw,rotrBH:Hw,rotrBL:jw,rotr32H:Ww,rotr32L:Gw,rotlSH:wp,rotlSL:Ap,rotlBH:Ep,rotlBL:kp,add:Kw,add3L:Yw,add3H:zw,add4L:Qw,add4H:qw,add5H:Zw,add5L:Jw},[Xw,tA]=Dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Pn=new Uint32Array(80),In=new Uint32Array(80);class eA extends gp{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:s,Bh:n,Bl:i,Ch:r,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:w,Hh:v,Hl:g}=this;return[t,s,n,i,r,a,l,c,u,d,f,h,p,w,v,g]}set(t,s,n,i,r,a,l,c,u,d,f,h,p,w,v,g){this.Ah=t|0,this.Al=s|0,this.Bh=n|0,this.Bl=i|0,this.Ch=r|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=w|0,this.Hh=v|0,this.Hl=g|0}process(t,s){for(let L=0;L<16;L++,s+=4)Pn[L]=t.getUint32(s),In[L]=t.getUint32(s+=4);for(let L=16;L<80;L++){const N=Pn[L-15]|0,j=In[L-15]|0,W=Dt.rotrSH(N,j,1)^Dt.rotrSH(N,j,8)^Dt.shrSH(N,j,7),U=Dt.rotrSL(N,j,1)^Dt.rotrSL(N,j,8)^Dt.shrSL(N,j,7),J=Pn[L-2]|0,X=In[L-2]|0,it=Dt.rotrSH(J,X,19)^Dt.rotrBH(J,X,61)^Dt.shrSH(J,X,6),tt=Dt.rotrSL(J,X,19)^Dt.rotrBL(J,X,61)^Dt.shrSL(J,X,6),z=Dt.add4L(U,tt,In[L-7],In[L-16]),at=Dt.add4H(z,W,it,Pn[L-7],Pn[L-16]);Pn[L]=at|0,In[L]=z|0}let{Ah:n,Al:i,Bh:r,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:f,El:h,Fh:p,Fl:w,Gh:v,Gl:g,Hh:_,Hl:D}=this;for(let L=0;L<80;L++){const N=Dt.rotrSH(f,h,14)^Dt.rotrSH(f,h,18)^Dt.rotrBH(f,h,41),j=Dt.rotrSL(f,h,14)^Dt.rotrSL(f,h,18)^Dt.rotrBL(f,h,41),W=f&p^~f&v,U=h&w^~h&g,J=Dt.add5L(D,j,U,tA[L],In[L]),X=Dt.add5H(J,_,N,W,Xw[L],Pn[L]),it=J|0,tt=Dt.rotrSH(n,i,28)^Dt.rotrBH(n,i,34)^Dt.rotrBH(n,i,39),z=Dt.rotrSL(n,i,28)^Dt.rotrBL(n,i,34)^Dt.rotrBL(n,i,39),at=n&r^n&l^r&l,Ot=i&a^i&c^a&c;_=v|0,D=g|0,v=p|0,g=w|0,p=f|0,w=h|0,{h:f,l:h}=Dt.add(u|0,d|0,X|0,it|0),u=l|0,d=c|0,l=r|0,c=a|0,r=n|0,a=i|0;const G=Dt.add3L(it,z,Ot);n=Dt.add3H(G,X,tt,at),i=G|0}({h:n,l:i}=Dt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:r,l:a}=Dt.add(this.Bh|0,this.Bl|0,r|0,a|0),{h:l,l:c}=Dt.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Dt.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=Dt.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:w}=Dt.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:v,l:g}=Dt.add(this.Gh|0,this.Gl|0,v|0,g|0),{h:_,l:D}=Dt.add(this.Hh|0,this.Hl|0,_|0,D|0),this.set(n,i,r,a,l,c,u,d,f,h,p,w,v,g,_,D)}roundClean(){Pn.fill(0),In.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sA=Wc(()=>new eA);function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const hd=nA();hd.crypto||hd.msCrypto;function iA(e){switch(e){case"sha256":return vp.create();case"sha512":return sA.create()}P(!1,"invalid hashing algorithm name","algorithm",e)}const[Cp,Tp,Sp]=[[],[],[]],rA=BigInt(0),gr=BigInt(1),oA=BigInt(2),aA=BigInt(7),lA=BigInt(256),cA=BigInt(113);for(let e=0,t=gr,s=1,n=0;e<24;e++){[s,n]=[n,(2*s+3*n)%5],Cp.push(2*(5*n+s)),Tp.push((e+1)*(e+2)/2%64);let i=rA;for(let r=0;r<7;r++)t=(t<<gr^(t>>aA)*cA)%lA,t&oA&&(i^=gr<<(gr<<BigInt(r))-gr);Sp.push(i)}const[uA,dA]=bp(Sp,!0),pd=(e,t,s)=>s>32?Ep(e,t,s):wp(e,t,s),md=(e,t,s)=>s>32?kp(e,t,s):Ap(e,t,s);function fA(e,t=24){const s=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)s[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=s[c],d=s[c+1],f=pd(u,d,1)^s[l],h=md(u,d,1)^s[l+1];for(let p=0;p<50;p+=10)e[a+p]^=f,e[a+p+1]^=h}let i=e[2],r=e[3];for(let a=0;a<24;a++){const l=Tp[a],c=pd(i,r,l),u=md(i,r,l),d=Cp[a];i=e[d],r=e[d+1],e[d]=c,e[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)s[l]=e[a+l];for(let l=0;l<10;l++)e[a+l]^=~s[(l+2)%10]&s[(l+4)%10]}e[0]^=uA[n],e[1]^=dA[n]}s.fill(0)}class Gc extends jc{constructor(t,s,n,i=!1,r=24){if(super(),this.blockLen=t,this.suffix=s,this.outputLen=n,this.enableXOF=i,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Xo(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_w(this.state)}keccak(){fA(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ji(this);const{blockLen:s,state:n}=this;t=Ca(t);const i=t.length;for(let r=0;r<i;){const a=Math.min(s-this.pos,i-r);for(let l=0;l<a;l++)n[this.pos++]^=t[r++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:s,pos:n,blockLen:i}=this;t[n]^=s,(s&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Ji(this,!1),Hc(t),this.finish();const s=this.state,{blockLen:n}=this;for(let i=0,r=t.length;i<r;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,r-i);t.set(s.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Xo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(fp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:s,suffix:n,outputLen:i,rounds:r,enableXOF:a}=this;return t||(t=new Gc(s,n,i,a,r)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=r,t.suffix=n,t.outputLen=i,t.enableXOF=a,t.destroyed=this.destroyed,t}}const hA=(e,t,s)=>Wc(()=>new Gc(t,e,s)),pA=hA(1,136,256/8);let _p=!1;const Pp=function(e){return pA(e)};let Ip=Pp;function Se(e){const t=Bt(e,"data");return lt(Ip(t))}Se._=Pp;Se.lock=function(){_p=!0};Se.register=function(e){if(_p)throw new TypeError("keccak256 is locked");Ip=e};Object.freeze(Se);const xp=function(e){return iA("sha256").update(e).digest()};let Rp=xp,Np=!1;function lr(e){const t=Bt(e,"data");return lt(Rp(t))}lr._=xp;lr.lock=function(){Np=!0};lr.register=function(e){if(Np)throw new Error("sha256 is locked");Rp=e};Object.freeze(lr);Object.freeze(lr);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dp=BigInt(0),Ta=BigInt(1),mA=BigInt(2),Sa=e=>e instanceof Uint8Array,gA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zi(e){if(!Sa(e))throw new Error("Uint8Array expected");let t="";for(let s=0;s<e.length;s++)t+=gA[e[s]];return t}function Lp(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Kc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Xi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(t/2);for(let n=0;n<s.length;n++){const i=n*2,r=e.slice(i,i+2),a=Number.parseInt(r,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");s[n]=a}return s}function gi(e){return Kc(Zi(e))}function Yc(e){if(!Sa(e))throw new Error("Uint8Array expected");return Kc(Zi(Uint8Array.from(e).reverse()))}function tr(e,t){return Xi(e.toString(16).padStart(t*2,"0"))}function zc(e,t){return tr(e,t).reverse()}function vA(e){return Xi(Lp(e))}function Is(e,t,s){let n;if(typeof t=="string")try{n=Xi(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(Sa(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof s=="number"&&i!==s)throw new Error(`${e} expected ${s} bytes, got ${i}`);return n}function jr(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let s=0;return e.forEach(n=>{if(!Sa(n))throw new Error("Uint8Array expected");t.set(n,s),s+=n.length}),t}function yA(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function bA(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function wA(e){let t;for(t=0;e>Dp;e>>=Ta,t+=1);return t}function AA(e,t){return e>>BigInt(t)&Ta}const EA=(e,t,s)=>e|(s?Ta:Dp)<<BigInt(t),Qc=e=>(mA<<BigInt(e-1))-Ta,fl=e=>new Uint8Array(e),gd=e=>Uint8Array.from(e);function Bp(e,t,s){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof s!="function")throw new Error("hmacFn must be a function");let n=fl(e),i=fl(e),r=0;const a=()=>{n.fill(1),i.fill(0),r=0},l=(...f)=>s(i,n,...f),c=(f=fl())=>{i=l(gd([0]),f),n=l(),f.length!==0&&(i=l(gd([1]),f),n=l())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){n=l();const p=n.slice();h.push(p),f+=n.length}return jr(...h)};return(f,h)=>{a(),c(f);let p;for(;!(p=h(u()));)c();return a(),p}}const kA={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function co(e,t,s={}){const n=(i,r,a)=>{const l=kA[r];if(typeof l!="function")throw new Error(`Invalid validator "${r}", expected function`);const c=e[i];if(!(a&&c===void 0)&&!l(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${r}`)};for(const[i,r]of Object.entries(t))n(i,r,!1);for(const[i,r]of Object.entries(s))n(i,r,!0);return e}const CA=Object.freeze(Object.defineProperty({__proto__:null,bitGet:AA,bitLen:wA,bitMask:Qc,bitSet:EA,bytesToHex:Zi,bytesToNumberBE:gi,bytesToNumberLE:Yc,concatBytes:jr,createHmacDrbg:Bp,ensureBytes:Is,equalBytes:yA,hexToBytes:Xi,hexToNumber:Kc,numberToBytesBE:tr,numberToBytesLE:zc,numberToHexUnpadded:Lp,numberToVarBytesBE:vA,utf8ToBytes:bA,validateObject:co},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ne=BigInt(0),Te=BigInt(1),ri=BigInt(2),TA=BigInt(3),zl=BigInt(4),vd=BigInt(5),yd=BigInt(8);BigInt(9);BigInt(16);function ns(e,t){const s=e%t;return s>=Ne?s:t+s}function SA(e,t,s){if(s<=Ne||t<Ne)throw new Error("Expected power/modulo > 0");if(s===Te)return Ne;let n=Te;for(;t>Ne;)t&Te&&(n=n*e%s),e=e*e%s,t>>=Te;return n}function vs(e,t,s){let n=e;for(;t-- >Ne;)n*=n,n%=s;return n}function Ql(e,t){if(e===Ne||t<=Ne)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let s=ns(e,t),n=t,i=Ne,r=Te;for(;s!==Ne;){const l=n/s,c=n%s,u=i-r*l;n=s,s=c,i=r,r=u}if(n!==Te)throw new Error("invert: does not exist");return ns(i,t)}function _A(e){const t=(e-Te)/ri;let s,n,i;for(s=e-Te,n=0;s%ri===Ne;s/=ri,n++);for(i=ri;i<e&&SA(i,t,e)!==e-Te;i++);if(n===1){const a=(e+Te)/zl;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const r=(s+Te)/ri;return function(l,c){if(l.pow(c,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=n,d=l.pow(l.mul(l.ONE,i),s),f=l.pow(c,r),h=l.pow(c,s);for(;!l.eql(h,l.ONE);){if(l.eql(h,l.ZERO))return l.ZERO;let p=1;for(let v=l.sqr(h);p<u&&!l.eql(v,l.ONE);p++)v=l.sqr(v);const w=l.pow(d,Te<<BigInt(u-p-1));d=l.sqr(w),f=l.mul(f,w),h=l.mul(h,d),u=p}return f}}function PA(e){if(e%zl===TA){const t=(e+Te)/zl;return function(n,i){const r=n.pow(i,t);if(!n.eql(n.sqr(r),i))throw new Error("Cannot find square root");return r}}if(e%yd===vd){const t=(e-vd)/yd;return function(n,i){const r=n.mul(i,ri),a=n.pow(r,t),l=n.mul(i,a),c=n.mul(n.mul(l,ri),a),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return _A(e)}const IA=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xA(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},s=IA.reduce((n,i)=>(n[i]="function",n),t);return co(e,s)}function RA(e,t,s){if(s<Ne)throw new Error("Expected power > 0");if(s===Ne)return e.ONE;if(s===Te)return t;let n=e.ONE,i=t;for(;s>Ne;)s&Te&&(n=e.mul(n,i)),i=e.sqr(i),s>>=Te;return n}function NA(e,t){const s=new Array(t.length),n=t.reduce((r,a,l)=>e.is0(a)?r:(s[l]=r,e.mul(r,a)),e.ONE),i=e.inv(n);return t.reduceRight((r,a,l)=>e.is0(a)?r:(s[l]=e.mul(r,s[l]),e.mul(r,a)),i),s}function Op(e,t){const s=t!==void 0?t:e.toString(2).length,n=Math.ceil(s/8);return{nBitLength:s,nByteLength:n}}function DA(e,t,s=!1,n={}){if(e<=Ne)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:r}=Op(e,t);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=PA(e),l=Object.freeze({ORDER:e,BITS:i,BYTES:r,MASK:Qc(i),ZERO:Ne,ONE:Te,create:c=>ns(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ne<=c&&c<e},is0:c=>c===Ne,isOdd:c=>(c&Te)===Te,neg:c=>ns(-c,e),eql:(c,u)=>c===u,sqr:c=>ns(c*c,e),add:(c,u)=>ns(c+u,e),sub:(c,u)=>ns(c-u,e),mul:(c,u)=>ns(c*u,e),pow:(c,u)=>RA(l,c,u),div:(c,u)=>ns(c*Ql(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Ql(c,e),sqrt:n.sqrt||(c=>a(l,c)),invertBatch:c=>NA(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>s?zc(c,r):tr(c,r),fromBytes:c=>{if(c.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${c.length}`);return s?Yc(c):gi(c)}});return Object.freeze(l)}function Mp(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Up(e){const t=Mp(e);return t+Math.ceil(t/2)}function LA(e,t,s=!1){const n=e.length,i=Mp(t),r=Up(t);if(n<16||n<r||n>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${n}`);const a=s?gi(e):Yc(e),l=ns(a,t-Te)+Te;return s?zc(l,i):tr(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BA=BigInt(0),hl=BigInt(1);function OA(e,t){const s=(i,r)=>{const a=r.negate();return i?a:r},n=i=>{const r=Math.ceil(t/i)+1,a=2**(i-1);return{windows:r,windowSize:a}};return{constTimeNegate:s,unsafeLadder(i,r){let a=e.ZERO,l=i;for(;r>BA;)r&hl&&(a=a.add(l)),l=l.double(),r>>=hl;return a},precomputeWindow(i,r){const{windows:a,windowSize:l}=n(r),c=[];let u=i,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let h=1;h<l;h++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(i,r,a){const{windows:l,windowSize:c}=n(i);let u=e.ZERO,d=e.BASE;const f=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let w=0;w<l;w++){const v=w*c;let g=Number(a&f);a>>=p,g>c&&(g-=h,a+=hl);const _=v,D=v+Math.abs(g)-1,L=w%2!==0,N=g<0;g===0?d=d.add(s(L,r[_])):u=u.add(s(N,r[D]))}return{p:u,f:d}},wNAFCached(i,r,a,l){const c=i._WINDOW_SIZE||1;let u=r.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&r.set(i,l(u))),this.wNAF(c,u,a)}}}function Fp(e){return xA(e.Fp),co(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Op(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MA(e){const t=Fp(e);co(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:s,Fp:n,a:i}=t;if(s){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof s!="object"||typeof s.beta!="bigint"||typeof s.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:UA,hexToBytes:FA}=CA,ci={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=ci;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const s=e[1],n=e.subarray(2,s+2);if(!s||n.length!==s)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:UA(n),l:e.subarray(s+2)}},toSig(e){const{Err:t}=ci,s=typeof e=="string"?FA(e):e;if(!(s instanceof Uint8Array))throw new Error("ui8a expected");let n=s.length;if(n<2||s[0]!=48)throw new t("Invalid signature tag");if(s[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:r}=ci._parseInt(s.subarray(2)),{d:a,l}=ci._parseInt(r);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,s=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},n=t(s(e.s)),i=t(s(e.r)),r=n.length/2,a=i.length/2,l=s(r),c=s(a);return`30${s(a+r+4)}02${c}${i}02${l}${n}`}},cn=BigInt(0),bs=BigInt(1);BigInt(2);const bd=BigInt(3);BigInt(4);function $A(e){const t=MA(e),{Fp:s}=t,n=t.toBytes||((w,v,g)=>{const _=v.toAffine();return jr(Uint8Array.from([4]),s.toBytes(_.x),s.toBytes(_.y))}),i=t.fromBytes||(w=>{const v=w.subarray(1),g=s.fromBytes(v.subarray(0,s.BYTES)),_=s.fromBytes(v.subarray(s.BYTES,2*s.BYTES));return{x:g,y:_}});function r(w){const{a:v,b:g}=t,_=s.sqr(w),D=s.mul(_,w);return s.add(s.add(D,s.mul(w,v)),g)}if(!s.eql(s.sqr(t.Gy),r(t.Gx)))throw new Error("bad generator point: equation left != right");function a(w){return typeof w=="bigint"&&cn<w&&w<t.n}function l(w){if(!a(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:v,nByteLength:g,wrapPrivateKey:_,n:D}=t;if(v&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Zi(w)),typeof w!="string"||!v.includes(w.length))throw new Error("Invalid key");w=w.padStart(g*2,"0")}let L;try{L=typeof w=="bigint"?w:gi(Is("private key",w,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof w}`)}return _&&(L=ns(L,D)),l(L),L}const u=new Map;function d(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,g,_){if(this.px=v,this.py=g,this.pz=_,v==null||!s.isValid(v))throw new Error("x required");if(g==null||!s.isValid(g))throw new Error("y required");if(_==null||!s.isValid(_))throw new Error("z required")}static fromAffine(v){const{x:g,y:_}=v||{};if(!v||!s.isValid(g)||!s.isValid(_))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const D=L=>s.eql(L,s.ZERO);return D(g)&&D(_)?f.ZERO:new f(g,_,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const g=s.invertBatch(v.map(_=>_.pz));return v.map((_,D)=>_.toAffine(g[D])).map(f.fromAffine)}static fromHex(v){const g=f.fromAffine(i(Is("pointHex",v)));return g.assertValidity(),g}static fromPrivateKey(v){return f.BASE.multiply(c(v))}_setWindowSize(v){this._WINDOW_SIZE=v,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!s.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:g}=this.toAffine();if(!s.isValid(v)||!s.isValid(g))throw new Error("bad point: x or y not FE");const _=s.sqr(g),D=r(v);if(!s.eql(_,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(s.isOdd)return!s.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){d(v);const{px:g,py:_,pz:D}=this,{px:L,py:N,pz:j}=v,W=s.eql(s.mul(g,j),s.mul(L,D)),U=s.eql(s.mul(_,j),s.mul(N,D));return W&&U}negate(){return new f(this.px,s.neg(this.py),this.pz)}double(){const{a:v,b:g}=t,_=s.mul(g,bd),{px:D,py:L,pz:N}=this;let j=s.ZERO,W=s.ZERO,U=s.ZERO,J=s.mul(D,D),X=s.mul(L,L),it=s.mul(N,N),tt=s.mul(D,L);return tt=s.add(tt,tt),U=s.mul(D,N),U=s.add(U,U),j=s.mul(v,U),W=s.mul(_,it),W=s.add(j,W),j=s.sub(X,W),W=s.add(X,W),W=s.mul(j,W),j=s.mul(tt,j),U=s.mul(_,U),it=s.mul(v,it),tt=s.sub(J,it),tt=s.mul(v,tt),tt=s.add(tt,U),U=s.add(J,J),J=s.add(U,J),J=s.add(J,it),J=s.mul(J,tt),W=s.add(W,J),it=s.mul(L,N),it=s.add(it,it),J=s.mul(it,tt),j=s.sub(j,J),U=s.mul(it,X),U=s.add(U,U),U=s.add(U,U),new f(j,W,U)}add(v){d(v);const{px:g,py:_,pz:D}=this,{px:L,py:N,pz:j}=v;let W=s.ZERO,U=s.ZERO,J=s.ZERO;const X=t.a,it=s.mul(t.b,bd);let tt=s.mul(g,L),z=s.mul(_,N),at=s.mul(D,j),Ot=s.add(g,_),G=s.add(L,N);Ot=s.mul(Ot,G),G=s.add(tt,z),Ot=s.sub(Ot,G),G=s.add(g,D);let Y=s.add(L,j);return G=s.mul(G,Y),Y=s.add(tt,at),G=s.sub(G,Y),Y=s.add(_,D),W=s.add(N,j),Y=s.mul(Y,W),W=s.add(z,at),Y=s.sub(Y,W),J=s.mul(X,G),W=s.mul(it,at),J=s.add(W,J),W=s.sub(z,J),J=s.add(z,J),U=s.mul(W,J),z=s.add(tt,tt),z=s.add(z,tt),at=s.mul(X,at),G=s.mul(it,G),z=s.add(z,at),at=s.sub(tt,at),at=s.mul(X,at),G=s.add(G,at),tt=s.mul(z,G),U=s.add(U,tt),tt=s.mul(Y,G),W=s.mul(Ot,W),W=s.sub(W,tt),tt=s.mul(Ot,z),J=s.mul(Y,J),J=s.add(J,tt),new f(W,U,J)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return p.wNAFCached(this,u,v,g=>{const _=s.invertBatch(g.map(D=>D.pz));return g.map((D,L)=>D.toAffine(_[L])).map(f.fromAffine)})}multiplyUnsafe(v){const g=f.ZERO;if(v===cn)return g;if(l(v),v===bs)return this;const{endo:_}=t;if(!_)return p.unsafeLadder(this,v);let{k1neg:D,k1:L,k2neg:N,k2:j}=_.splitScalar(v),W=g,U=g,J=this;for(;L>cn||j>cn;)L&bs&&(W=W.add(J)),j&bs&&(U=U.add(J)),J=J.double(),L>>=bs,j>>=bs;return D&&(W=W.negate()),N&&(U=U.negate()),U=new f(s.mul(U.px,_.beta),U.py,U.pz),W.add(U)}multiply(v){l(v);let g=v,_,D;const{endo:L}=t;if(L){const{k1neg:N,k1:j,k2neg:W,k2:U}=L.splitScalar(g);let{p:J,f:X}=this.wNAF(j),{p:it,f:tt}=this.wNAF(U);J=p.constTimeNegate(N,J),it=p.constTimeNegate(W,it),it=new f(s.mul(it.px,L.beta),it.py,it.pz),_=J.add(it),D=X.add(tt)}else{const{p:N,f:j}=this.wNAF(g);_=N,D=j}return f.normalizeZ([_,D])[0]}multiplyAndAddUnsafe(v,g,_){const D=f.BASE,L=(j,W)=>W===cn||W===bs||!j.equals(D)?j.multiplyUnsafe(W):j.multiply(W),N=L(this,g).add(L(v,_));return N.is0()?void 0:N}toAffine(v){const{px:g,py:_,pz:D}=this,L=this.is0();v==null&&(v=L?s.ONE:s.inv(D));const N=s.mul(g,v),j=s.mul(_,v),W=s.mul(D,v);if(L)return{x:s.ZERO,y:s.ZERO};if(!s.eql(W,s.ONE))throw new Error("invZ was invalid");return{x:N,y:j}}isTorsionFree(){const{h:v,isTorsionFree:g}=t;if(v===bs)return!0;if(g)return g(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:g}=t;return v===bs?this:g?g(f,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),n(f,this,v)}toHex(v=!0){return Zi(this.toRawBytes(v))}}f.BASE=new f(t.Gx,t.Gy,s.ONE),f.ZERO=new f(s.ZERO,s.ONE,s.ZERO);const h=t.nBitLength,p=OA(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:a}}function VA(e){const t=Fp(e);return co(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function HA(e){const t=VA(e),{Fp:s,n}=t,i=s.BYTES+1,r=2*s.BYTES+1;function a(G){return cn<G&&G<s.ORDER}function l(G){return ns(G,n)}function c(G){return Ql(G,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=$A({...t,toBytes(G,Y,rt){const ht=Y.toAffine(),Et=s.toBytes(ht.x),Ut=jr;return rt?Ut(Uint8Array.from([Y.hasEvenY()?2:3]),Et):Ut(Uint8Array.from([4]),Et,s.toBytes(ht.y))},fromBytes(G){const Y=G.length,rt=G[0],ht=G.subarray(1);if(Y===i&&(rt===2||rt===3)){const Et=gi(ht);if(!a(Et))throw new Error("Point is not on curve");const Ut=f(Et);let Vt=s.sqrt(Ut);const Nt=(Vt&bs)===bs;return(rt&1)===1!==Nt&&(Vt=s.neg(Vt)),{x:Et,y:Vt}}else if(Y===r&&rt===4){const Et=s.fromBytes(ht.subarray(0,s.BYTES)),Ut=s.fromBytes(ht.subarray(s.BYTES,2*s.BYTES));return{x:Et,y:Ut}}else throw new Error(`Point of length ${Y} was invalid. Expected ${i} compressed bytes or ${r} uncompressed bytes`)}}),p=G=>Zi(tr(G,t.nByteLength));function w(G){const Y=n>>bs;return G>Y}function v(G){return w(G)?l(-G):G}const g=(G,Y,rt)=>gi(G.slice(Y,rt));class _{constructor(Y,rt,ht){this.r=Y,this.s=rt,this.recovery=ht,this.assertValidity()}static fromCompact(Y){const rt=t.nByteLength;return Y=Is("compactSignature",Y,rt*2),new _(g(Y,0,rt),g(Y,rt,2*rt))}static fromDER(Y){const{r:rt,s:ht}=ci.toSig(Is("DER",Y));return new _(rt,ht)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Y){return new _(this.r,this.s,Y)}recoverPublicKey(Y){const{r:rt,s:ht,recovery:Et}=this,Ut=U(Is("msgHash",Y));if(Et==null||![0,1,2,3].includes(Et))throw new Error("recovery id invalid");const Vt=Et===2||Et===3?rt+t.n:rt;if(Vt>=s.ORDER)throw new Error("recovery id 2 or 3 invalid");const Nt=(Et&1)===0?"02":"03",de=u.fromHex(Nt+p(Vt)),Ae=c(Vt),Mt=l(-Ut*Ae),ne=l(ht*Ae),B=u.BASE.multiplyAndAddUnsafe(de,Mt,ne);if(!B)throw new Error("point at infinify");return B.assertValidity(),B}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Xi(this.toDERHex())}toDERHex(){return ci.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xi(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const D={isValidPrivateKey(G){try{return d(G),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const G=Up(t.n);return LA(t.randomBytes(G),t.n)},precompute(G=8,Y=u.BASE){return Y._setWindowSize(G),Y.multiply(BigInt(3)),Y}};function L(G,Y=!0){return u.fromPrivateKey(G).toRawBytes(Y)}function N(G){const Y=G instanceof Uint8Array,rt=typeof G=="string",ht=(Y||rt)&&G.length;return Y?ht===i||ht===r:rt?ht===2*i||ht===2*r:G instanceof u}function j(G,Y,rt=!0){if(N(G))throw new Error("first arg must be private key");if(!N(Y))throw new Error("second arg must be public key");return u.fromHex(Y).multiply(d(G)).toRawBytes(rt)}const W=t.bits2int||function(G){const Y=gi(G),rt=G.length*8-t.nBitLength;return rt>0?Y>>BigInt(rt):Y},U=t.bits2int_modN||function(G){return l(W(G))},J=Qc(t.nBitLength);function X(G){if(typeof G!="bigint")throw new Error("bigint expected");if(!(cn<=G&&G<J))throw new Error(`bigint expected < 2^${t.nBitLength}`);return tr(G,t.nByteLength)}function it(G,Y,rt=tt){if(["recovered","canonical"].some(Z=>Z in rt))throw new Error("sign() legacy options not supported");const{hash:ht,randomBytes:Et}=t;let{lowS:Ut,prehash:Vt,extraEntropy:Nt}=rt;Ut==null&&(Ut=!0),G=Is("msgHash",G),Vt&&(G=Is("prehashed msgHash",ht(G)));const de=U(G),Ae=d(Y),Mt=[X(Ae),X(de)];if(Nt!=null){const Z=Nt===!0?Et(s.BYTES):Nt;Mt.push(Is("extraEntropy",Z))}const ne=jr(...Mt),B=de;function nt(Z){const ct=W(Z);if(!h(ct))return;const Ht=c(ct),y=u.BASE.multiply(ct).toAffine(),A=l(y.x);if(A===cn)return;const x=l(Ht*l(B+A*Ae));if(x===cn)return;let O=(y.x===A?0:2)|Number(y.y&bs),F=x;return Ut&&w(x)&&(F=v(x),O^=1),new _(A,F,O)}return{seed:ne,k2sig:nt}}const tt={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};function at(G,Y,rt=tt){const{seed:ht,k2sig:Et}=it(G,Y,rt),Ut=t;return Bp(Ut.hash.outputLen,Ut.nByteLength,Ut.hmac)(ht,Et)}u.BASE._setWindowSize(8);function Ot(G,Y,rt,ht=z){const Et=G;if(Y=Is("msgHash",Y),rt=Is("publicKey",rt),"strict"in ht)throw new Error("options.strict was renamed to lowS");const{lowS:Ut,prehash:Vt}=ht;let Nt,de;try{if(typeof Et=="string"||Et instanceof Uint8Array)try{Nt=_.fromDER(Et)}catch(y){if(!(y instanceof ci.Err))throw y;Nt=_.fromCompact(Et)}else if(typeof Et=="object"&&typeof Et.r=="bigint"&&typeof Et.s=="bigint"){const{r:y,s:A}=Et;Nt=new _(y,A)}else throw new Error("PARSE");de=u.fromHex(rt)}catch(y){if(y.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ut&&Nt.hasHighS())return!1;Vt&&(Y=t.hash(Y));const{r:Ae,s:Mt}=Nt,ne=U(Y),B=c(Mt),nt=l(ne*B),Z=l(Ae*B),ct=u.BASE.multiplyAndAddUnsafe(de,nt,Z)?.toAffine();return ct?l(ct.x)===Ae:!1}return{CURVE:t,getPublicKey:L,getSharedSecret:j,sign:at,verify:Ot,ProjectivePoint:u,Signature:_,utils:D}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jA(e){return{hash:e,hmac:(t,...s)=>mp(e,t,xw(...s)),randomBytes:Rw}}function WA(e,t){const s=n=>HA({...e,...jA(n)});return Object.freeze({...s(t),create:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $p=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),GA=BigInt(1),ql=BigInt(2),Ad=(e,t)=>(e+t/ql)/t;function KA(e){const t=$p,s=BigInt(3),n=BigInt(6),i=BigInt(11),r=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=vs(d,s,t)*d%t,h=vs(f,s,t)*d%t,p=vs(h,ql,t)*u%t,w=vs(p,i,t)*p%t,v=vs(w,r,t)*w%t,g=vs(v,l,t)*v%t,_=vs(g,c,t)*g%t,D=vs(_,l,t)*v%t,L=vs(D,s,t)*d%t,N=vs(L,a,t)*w%t,j=vs(N,n,t)*u%t,W=vs(j,ql,t);if(!Jl.eql(Jl.sqr(W),e))throw new Error("Cannot find square root");return W}const Jl=DA($p,void 0,void 0,{sqrt:KA}),Rn=WA({a:BigInt(0),b:BigInt(7),Fp:Jl,n:wd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=wd,s=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-GA*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=s,a=BigInt("0x100000000000000000000000000000000"),l=Ad(r*e,t),c=Ad(-n*e,t);let u=ns(e-l*s-c*i,t),d=ns(-l*n-c*r,t);const f=u>a,h=d>a;if(f&&(u=t-u),h&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},vp);BigInt(0);Rn.ProjectivePoint;const Wr="0x0000000000000000000000000000000000000000",Ed="0x0000000000000000000000000000000000000000000000000000000000000000",kd=BigInt(0),Cd=BigInt(1),Td=BigInt(2),Sd=BigInt(27),_d=BigInt(28),So=BigInt(35),Ni={};function Pd(e){return yn(xe(e),32)}class ye{#t;#e;#s;#n;get r(){return this.#t}set r(t){P(Gi(t)===32,"invalid r","value",t),this.#t=lt(t)}get s(){return P(parseInt(this.#e.substring(0,3))<8,"non-canonical s; use ._s","s",this.#e),this.#e}set s(t){P(Gi(t)===32,"invalid s","value",t),this.#e=lt(t)}get _s(){return this.#e}isValid(){return parseInt(this.#e.substring(0,3))<8}get v(){return this.#s}set v(t){const s=Rt(t,"value");P(s===27||s===28,"invalid v","v",t),this.#s=s}get networkV(){return this.#n}get legacyChainId(){const t=this.networkV;return t==null?null:ye.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=Bt(this.s);return this.yParity&&(t[0]|=128),lt(t)}get compactSerialized(){return we([this.r,this.yParityAndS])}get serialized(){return we([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,s,n,i){ao(t,Ni,"Signature"),this.#t=s,this.#e=n,this.#s=i,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new ye(Ni,this.r,this._s,this.v);return this.networkV&&(t.#n=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(t){const s=ft(t,"v");return s==Sd||s==_d?kd:(P(s>=So,"invalid EIP-155 v","v",t),(s-So)/Td)}static getChainIdV(t,s){return ft(t)*Td+BigInt(35+s-27)}static getNormalizedV(t){const s=ft(t);return s===kd||s===Sd?27:s===Cd||s===_d?28:(P(s>=So,"invalid v","v",t),s&Cd?27:28)}static from(t){function s(u,d){P(u,d,"signature",t)}if(t==null)return new ye(Ni,Ed,Ed,27);if(typeof t=="string"){const u=Bt(t,"signature");if(u.length===64){const d=lt(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new ye(Ni,d,lt(f),h)}if(u.length===65){const d=lt(u.slice(0,32)),f=lt(u.slice(32,64)),h=ye.getNormalizedV(u[64]);return new ye(Ni,d,f,h)}s(!1,"invalid raw signature length")}if(t instanceof ye)return t.clone();const n=t.r;s(n!=null,"missing r");const i=Pd(n),r=(function(u,d){if(u!=null)return Pd(u);if(d!=null){s(le(d,32),"invalid yParityAndS");const f=Bt(d);return f[0]&=127,lt(f)}s(!1,"missing s")})(t.s,t.yParityAndS),{networkV:a,v:l}=(function(u,d,f){if(u!=null){const h=ft(u);return{networkV:h>=So?h:void 0,v:ye.getNormalizedV(h)}}if(d!=null)return s(le(d,32),"invalid yParityAndS"),{v:Bt(d)[0]&128?28:27};if(f!=null){switch(Rt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}s(!1,"invalid yParity")}s(!1,"missing v")})(t.v,t.yParityAndS,t.yParity),c=new ye(Ni,i,r,l);return a&&(c.#n=a),s(t.yParity==null||Rt(t.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),s(t.yParityAndS==null||t.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class un{#t;constructor(t){P(Gi(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#t=lt(t)}get privateKey(){return this.#t}get publicKey(){return un.computePublicKey(this.#t)}get compressedPublicKey(){return un.computePublicKey(this.#t,!0)}sign(t){P(Gi(t)===32,"invalid digest length","digest",t);const s=Rn.sign(Je(t),Je(this.#t),{lowS:!0});return ye.from({r:Hn(s.r,32),s:Hn(s.s,32),v:s.recovery?28:27})}computeSharedSecret(t){const s=un.computePublicKey(t);return lt(Rn.getSharedSecret(Je(this.#t),Bt(s),!1))}static computePublicKey(t,s){let n=Bt(t,"key");if(n.length===32){const r=Rn.getPublicKey(n,!!s);return lt(r)}if(n.length===64){const r=new Uint8Array(65);r[0]=4,r.set(n,1),n=r}const i=Rn.ProjectivePoint.fromHex(n);return lt(i.toRawBytes(s))}static recoverPublicKey(t,s){P(Gi(t)===32,"invalid digest length","digest",t);const n=ye.from(s);let i=Rn.Signature.fromCompact(Je(we([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const r=i.recoverPublicKey(Je(t));return P(r!=null,"invalid signature for digest","signature",s),"0x"+r.toHex(!1)}static addPoints(t,s,n){const i=Rn.ProjectivePoint.fromHex(un.computePublicKey(t).substring(2)),r=Rn.ProjectivePoint.fromHex(un.computePublicKey(s).substring(2));return"0x"+i.add(r).toHex(!!n)}}const YA=BigInt(0),zA=BigInt(36);function Id(e){e=e.toLowerCase();const t=e.substring(2).split(""),s=new Uint8Array(40);for(let i=0;i<40;i++)s[i]=t[i].charCodeAt(0);const n=Bt(Se(s));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const qc={};for(let e=0;e<10;e++)qc[String(e)]=String(e);for(let e=0;e<26;e++)qc[String.fromCharCode(65+e)]=String(10+e);const xd=15;function QA(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>qc[n]).join("");for(;t.length>=xd;){let n=t.substring(0,xd);t=parseInt(n,10)%97+t.substring(n.length)}let s=String(98-parseInt(t,10)%97);for(;s.length<2;)s="0"+s;return s}const qA=(function(){const e={};for(let t=0;t<36;t++){const s="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[s]=BigInt(t)}return e})();function JA(e){e=e.toLowerCase();let t=YA;for(let s=0;s<e.length;s++)t=t*zA+qA[e[s]];return t}function Jt(e){if(P(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Id(e);return P(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){P(e.substring(2,4)===QA(e),"bad icap checksum","address",e);let t=JA(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Id("0x"+t)}P(!1,"invalid address","address",e)}function ZA(e){const t=Jt(e.from);let n=ft(e.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Jt(ve(Se(jn([t,n])),12))}function Vp(e){return e&&typeof e.getAddress=="function"}function Jc(e){try{return Jt(e),!0}catch{}return!1}async function pl(e,t){const s=await t;return(s==null||s==="0x0000000000000000000000000000000000000000")&&($(typeof e!="string","unconfigured name","UNCONFIGURED_NAME",{value:e}),P(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Jt(s)}function Xe(e,t){if(typeof e=="string")return e.match(/^0x[0-9a-f]{40}$/i)?Jt(e):($(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),pl(e,t.resolveName(e)));if(Vp(e))return pl(e,e.getAddress());if(e&&typeof e.then=="function")return pl(e,e);P(!1,"unsupported addressable value","target",e)}const sn={};function dt(e,t){let s=!1;return t<0&&(s=!0,t*=-1),new be(sn,`${s?"":"u"}int${t}`,e,{signed:s,width:t})}function Kt(e,t){return new be(sn,`bytes${t||""}`,e,{size:t})}const Rd=Symbol.for("_ethers_typed");class be{type;value;#t;_typedSymbol;constructor(t,s,n,i){i==null&&(i=null),ao(sn,t,"Typed"),At(this,{_typedSymbol:Rd,type:s,value:n}),this.#t=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#t}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#t===!0?-1:this.#t===!1?this.value.length:null}static from(t,s){return new be(sn,t,s)}static uint8(t){return dt(t,8)}static uint16(t){return dt(t,16)}static uint24(t){return dt(t,24)}static uint32(t){return dt(t,32)}static uint40(t){return dt(t,40)}static uint48(t){return dt(t,48)}static uint56(t){return dt(t,56)}static uint64(t){return dt(t,64)}static uint72(t){return dt(t,72)}static uint80(t){return dt(t,80)}static uint88(t){return dt(t,88)}static uint96(t){return dt(t,96)}static uint104(t){return dt(t,104)}static uint112(t){return dt(t,112)}static uint120(t){return dt(t,120)}static uint128(t){return dt(t,128)}static uint136(t){return dt(t,136)}static uint144(t){return dt(t,144)}static uint152(t){return dt(t,152)}static uint160(t){return dt(t,160)}static uint168(t){return dt(t,168)}static uint176(t){return dt(t,176)}static uint184(t){return dt(t,184)}static uint192(t){return dt(t,192)}static uint200(t){return dt(t,200)}static uint208(t){return dt(t,208)}static uint216(t){return dt(t,216)}static uint224(t){return dt(t,224)}static uint232(t){return dt(t,232)}static uint240(t){return dt(t,240)}static uint248(t){return dt(t,248)}static uint256(t){return dt(t,256)}static uint(t){return dt(t,256)}static int8(t){return dt(t,-8)}static int16(t){return dt(t,-16)}static int24(t){return dt(t,-24)}static int32(t){return dt(t,-32)}static int40(t){return dt(t,-40)}static int48(t){return dt(t,-48)}static int56(t){return dt(t,-56)}static int64(t){return dt(t,-64)}static int72(t){return dt(t,-72)}static int80(t){return dt(t,-80)}static int88(t){return dt(t,-88)}static int96(t){return dt(t,-96)}static int104(t){return dt(t,-104)}static int112(t){return dt(t,-112)}static int120(t){return dt(t,-120)}static int128(t){return dt(t,-128)}static int136(t){return dt(t,-136)}static int144(t){return dt(t,-144)}static int152(t){return dt(t,-152)}static int160(t){return dt(t,-160)}static int168(t){return dt(t,-168)}static int176(t){return dt(t,-176)}static int184(t){return dt(t,-184)}static int192(t){return dt(t,-192)}static int200(t){return dt(t,-200)}static int208(t){return dt(t,-208)}static int216(t){return dt(t,-216)}static int224(t){return dt(t,-224)}static int232(t){return dt(t,-232)}static int240(t){return dt(t,-240)}static int248(t){return dt(t,-248)}static int256(t){return dt(t,-256)}static int(t){return dt(t,-256)}static bytes1(t){return Kt(t,1)}static bytes2(t){return Kt(t,2)}static bytes3(t){return Kt(t,3)}static bytes4(t){return Kt(t,4)}static bytes5(t){return Kt(t,5)}static bytes6(t){return Kt(t,6)}static bytes7(t){return Kt(t,7)}static bytes8(t){return Kt(t,8)}static bytes9(t){return Kt(t,9)}static bytes10(t){return Kt(t,10)}static bytes11(t){return Kt(t,11)}static bytes12(t){return Kt(t,12)}static bytes13(t){return Kt(t,13)}static bytes14(t){return Kt(t,14)}static bytes15(t){return Kt(t,15)}static bytes16(t){return Kt(t,16)}static bytes17(t){return Kt(t,17)}static bytes18(t){return Kt(t,18)}static bytes19(t){return Kt(t,19)}static bytes20(t){return Kt(t,20)}static bytes21(t){return Kt(t,21)}static bytes22(t){return Kt(t,22)}static bytes23(t){return Kt(t,23)}static bytes24(t){return Kt(t,24)}static bytes25(t){return Kt(t,25)}static bytes26(t){return Kt(t,26)}static bytes27(t){return Kt(t,27)}static bytes28(t){return Kt(t,28)}static bytes29(t){return Kt(t,29)}static bytes30(t){return Kt(t,30)}static bytes31(t){return Kt(t,31)}static bytes32(t){return Kt(t,32)}static address(t){return new be(sn,"address",t)}static bool(t){return new be(sn,"bool",!!t)}static bytes(t){return new be(sn,"bytes",t)}static string(t){return new be(sn,"string",t)}static array(t,s){throw new Error("not implemented yet")}static tuple(t,s){throw new Error("not implemented yet")}static overrides(t){return new be(sn,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===Rd}static dereference(t,s){if(be.isTyped(t)){if(t.type!==s)throw new Error(`invalid type: expecetd ${s}, got ${t.type}`);return t.value}return t}}class XA extends En{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,s){let n=be.dereference(s,"string");try{n=Jt(n)}catch(i){return this._throwError(i.message,s)}return t.writeValue(n)}decode(t){return Jt(Hn(t.readValue(),20))}}class t2 extends En{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,s){return this.coder.encode(t,s)}decode(t){return this.coder.decode(t)}}function Hp(e,t,s){let n=[];if(Array.isArray(s))n=s;else if(s&&typeof s=="object"){let c={};n=t.map(u=>{const d=u.localName;return $(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:s}),$(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:s}),c[d]=!0,s[d]})}else P(!1,"invalid tuple value","tuple",s);P(t.length===n.length,"types/value length mismatch","tuple",s);let i=new Kl,r=new Kl,a=[];t.forEach((c,u)=>{let d=n[u];if(c.dynamic){let f=r.length;c.encode(r,d);let h=i.writeUpdatableValue();a.push(p=>{h(p+f)})}else c.encode(i,d)}),a.forEach(c=>{c(i.length)});let l=e.appendWriter(i);return l+=e.appendWriter(r),l}function jp(e,t){let s=[],n=[],i=e.subReader(0);return t.forEach(r=>{let a=null;if(r.dynamic){let l=e.readIndex(),c=i.subReader(l);try{a=r.decode(c)}catch(u){if(Me(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=r.name,a.name=r.localName,a.type=r.type}}else try{a=r.decode(e)}catch(l){if(Me(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=r.name,a.name=r.localName,a.type=r.type}if(a==null)throw new Error("investigate");s.push(a),n.push(r.localName||null)}),dn.fromItems(s,n)}class e2 extends En{coder;length;constructor(t,s,n){const i=t.type+"["+(s>=0?s:"")+"]",r=s===-1||t.dynamic;super("array",i,n,r),At(this,{coder:t,length:s})}defaultValue(){const t=this.coder.defaultValue(),s=[];for(let n=0;n<this.length;n++)s.push(t);return s}encode(t,s){const n=be.dereference(s,"array");Array.isArray(n)||this._throwError("expected array value",n);let i=this.length;i===-1&&(i=n.length,t.writeValue(n.length)),Zh(n.length,i,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let a=0;a<n.length;a++)r.push(this.coder);return Hp(t,r,n)}decode(t){let s=this.length;s===-1&&(s=t.readIndex(),$(s*Ze<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:s*Ze,length:t.dataLength}));let n=[];for(let i=0;i<s;i++)n.push(new t2(this.coder));return jp(t,n)}}class s2 extends En{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,s){const n=be.dereference(s,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class Wp extends En{constructor(t,s){super(t,t,s,!0)}defaultValue(){return"0x"}encode(t,s){s=Je(s);let n=t.writeValue(s.length);return n+=t.writeBytes(s),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class n2 extends Wp{constructor(t){super("bytes",t)}decode(t){return lt(super.decode(t))}}class i2 extends En{size;constructor(t,s){let n="bytes"+String(t);super(n,n,s,!1),At(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,s){let n=Je(be.dereference(s,this.type));return n.length!==this.size&&this._throwError("incorrect data length",s),t.writeBytes(n)}decode(t){return lt(t.readBytes(this.size))}}const r2=new Uint8Array([]);class o2 extends En{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,s){return s!=null&&this._throwError("not null",s),t.writeBytes(r2)}decode(t){return t.readBytes(0),null}}const a2=BigInt(0),l2=BigInt(1),c2=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class u2 extends En{size;signed;constructor(t,s,n){const i=(s?"int":"uint")+t*8;super(i,i,n,!1),At(this,{size:t,signed:s},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,s){let n=ft(be.dereference(s,this.type)),i=li(c2,Ze*8);if(this.signed){let r=li(i,this.size*8-1);(n>r||n<-(r+l2))&&this._throwError("value out-of-bounds",s),n=ep(n,8*Ze)}else(n<a2||n>li(i,this.size*8))&&this._throwError("value out-of-bounds",s);return t.writeValue(n)}decode(t){let s=li(t.readValue(),this.size*8);return this.signed&&(s=Jo(s,this.size*8)),s}}class d2 extends Wp{constructor(t){super("string",t)}defaultValue(){return""}encode(t,s){return super.encode(t,pn(be.dereference(s,"string")))}decode(t){return Zo(super.decode(t))}}class _o extends En{coders;constructor(t,s){let n=!1;const i=[];t.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const r="tuple("+i.join(",")+")";super("tuple",r,s,n),At(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const s=this.coders.reduce((n,i)=>{const r=i.localName;return r&&(n[r]||(n[r]=0),n[r]++),n},{});return this.coders.forEach((n,i)=>{let r=n.localName;!r||s[r]!==1||(r==="length"&&(r="_length"),t[r]==null&&(t[r]=t[i]))}),Object.freeze(t)}encode(t,s){const n=be.dereference(s,"tuple");return Hp(t,this.coders,n)}decode(t){return jp(t,this.coders)}}function ml(e,t){return{address:Jt(e),storageKeys:t.map((s,n)=>(P(le(s,32),"invalid slot",`storageKeys[${n}]`,s),s.toLowerCase()))}}function Ti(e){if(Array.isArray(e))return e.map((s,n)=>Array.isArray(s)?(P(s.length===2,"invalid slot set",`value[${n}]`,s),ml(s[0],s[1])):(P(s!=null&&typeof s=="object","invalid address-slot set","value",e),ml(s.address,s.storageKeys)));P(e!=null&&typeof e=="object","invalid access list","value",e);const t=Object.keys(e).map(s=>{const n=e[s].reduce((i,r)=>(i[r]=!0,i),{});return ml(s,Object.keys(n).sort())});return t.sort((s,n)=>s.address.localeCompare(n.address)),t}function Gp(e){return{address:Jt(e.address),nonce:ft(e.nonce!=null?e.nonce:0),chainId:ft(e.chainId!=null?e.chainId:0),signature:ye.from(e.signature)}}function f2(e){let t;return typeof e=="string"?t=un.computePublicKey(e,!1):t=e.publicKey,Jt(Se("0x"+t.substring(4)).substring(26))}function h2(e,t){return f2(un.recoverPublicKey(e,t))}const Re=BigInt(0),p2=BigInt(2),m2=BigInt(27),g2=BigInt(28),v2=BigInt(35),y2=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),gl=4096*32;function b2(e){return{blobToKzgCommitment:n=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment=="function")return Bt(e.blobToKzgCommitment(lt(n)))}else if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment=="function")return Bt(e.blobToKzgCommitment(n));if("blobToKZGCommitment"in e&&typeof e.blobToKZGCommitment=="function")return Bt(e.blobToKZGCommitment(lt(n)));P(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in e&&typeof e.computeBlobProof=="function")return Bt(e.computeBlobProof(lt(n),lt(i)));if("computeBlobKzgProof"in e&&typeof e.computeBlobKzgProof=="function")return e.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in e&&typeof e.computeBlobKZGProof=="function")return Bt(e.computeBlobKZGProof(lt(n),lt(i)));P(!1,"unsupported KZG library","kzg",e)}}}function Nd(e,t){let s=e.toString(16);for(;s.length<2;)s="0"+s;return s+=lr(t).substring(4),"0x"+s}function cr(e){return e==="0x"?null:Jt(e)}function _a(e,t){try{return Ti(e)}catch(s){P(!1,s.message,t,e)}}function w2(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const s=[];for(let n=0;n<e.length;n++){const i=e[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);s.push({address:cr(i[1]),nonce:se(i[2],"nonce"),chainId:se(i[0],"chainId"),signature:ye.from({yParity:Si(i[3],"yParity"),r:yn(i[4],32),s:yn(i[5],32)})})}return s}catch(s){P(!1,s.message,t,e)}}function Si(e,t){return e==="0x"?0:Rt(e,t)}function se(e,t){if(e==="0x")return Re;const s=ft(e,t);return P(s<=y2,"value exceeds uint size",t,s),s}function $t(e,t){const s=ft(e,"value"),n=xe(s);return P(n.length<=32,"value too large",`tx.${t}`,s),n}function Pa(e){return Ti(e).map(t=>[t.address,t.storageKeys])}function A2(e){return e.map(t=>[$t(t.chainId,"chainId"),t.address,$t(t.nonce,"nonce"),$t(t.signature.yParity,"yParity"),xe(t.signature.r),xe(t.signature.s)])}function E2(e,t){P(Array.isArray(e),`invalid ${t}`,"value",e);for(let s=0;s<e.length;s++)P(le(e[s],32),"invalid ${ param } hash",`value[${s}]`,e[s]);return e}function k2(e){const t=lo(e);P(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",e);const s={type:0,nonce:Si(t[0],"nonce"),gasPrice:se(t[1],"gasPrice"),gasLimit:se(t[2],"gasLimit"),to:cr(t[3]),value:se(t[4],"value"),data:lt(t[5]),chainId:Re};if(t.length===6)return s;const n=se(t[6],"v"),i=se(t[7],"r"),r=se(t[8],"s");if(i===Re&&r===Re)s.chainId=n;else{let a=(n-v2)/p2;a<Re&&(a=Re),s.chainId=a,P(a!==Re||n===m2||n===g2,"non-canonical legacy v","v",t[6]),s.signature=ye.from({r:yn(t[7],32),s:yn(t[8],32),v:n})}return s}function C2(e,t){const s=[$t(e.nonce,"nonce"),$t(e.gasPrice||0,"gasPrice"),$t(e.gasLimit,"gasLimit"),e.to||"0x",$t(e.value,"value"),e.data];let n=Re;if(e.chainId!=Re)n=ft(e.chainId,"tx.chainId"),P(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const r=e.signature.legacyChainId;r!=null&&(n=r)}if(!t)return n!==Re&&(s.push(xe(n)),s.push("0x"),s.push("0x")),jn(s);let i=BigInt(27+t.yParity);return n!==Re?i=ye.getChainIdV(n,t.v):BigInt(t.v)!==i&&P(!1,"tx.chainId/sig.v mismatch","sig",t),s.push(xe(i)),s.push(xe(t.r)),s.push(xe(t.s)),jn(s)}function Ia(e,t){let s;try{if(s=Si(t[0],"yParity"),s!==0&&s!==1)throw new Error("bad yParity")}catch{P(!1,"invalid yParity","yParity",t[0])}const n=yn(t[1],32),i=yn(t[2],32),r=ye.from({r:n,s:i,yParity:s});e.signature=r}function T2(e){const t=lo(Bt(e).slice(1));P(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",lt(e));const s={type:2,chainId:se(t[0],"chainId"),nonce:Si(t[1],"nonce"),maxPriorityFeePerGas:se(t[2],"maxPriorityFeePerGas"),maxFeePerGas:se(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:se(t[4],"gasLimit"),to:cr(t[5]),value:se(t[6],"value"),data:lt(t[7]),accessList:_a(t[8],"accessList")};return t.length===9||Ia(s,t.slice(9)),s}function S2(e,t){const s=[$t(e.chainId,"chainId"),$t(e.nonce,"nonce"),$t(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(e.maxFeePerGas||0,"maxFeePerGas"),$t(e.gasLimit,"gasLimit"),e.to||"0x",$t(e.value,"value"),e.data,Pa(e.accessList||[])];return t&&(s.push($t(t.yParity,"yParity")),s.push(xe(t.r)),s.push(xe(t.s))),we(["0x02",jn(s)])}function _2(e){const t=lo(Bt(e).slice(1));P(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",lt(e));const s={type:1,chainId:se(t[0],"chainId"),nonce:Si(t[1],"nonce"),gasPrice:se(t[2],"gasPrice"),gasLimit:se(t[3],"gasLimit"),to:cr(t[4]),value:se(t[5],"value"),data:lt(t[6]),accessList:_a(t[7],"accessList")};return t.length===8||Ia(s,t.slice(8)),s}function P2(e,t){const s=[$t(e.chainId,"chainId"),$t(e.nonce,"nonce"),$t(e.gasPrice||0,"gasPrice"),$t(e.gasLimit,"gasLimit"),e.to||"0x",$t(e.value,"value"),e.data,Pa(e.accessList||[])];return t&&(s.push($t(t.yParity,"recoveryParam")),s.push(xe(t.r)),s.push(xe(t.s))),we(["0x01",jn(s)])}function I2(e){let t=lo(Bt(e).slice(1)),s="3",n=null;if(t.length===4&&Array.isArray(t[0])){s="3 (network format)";const r=t[1],a=t[2],l=t[3];P(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),P(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),P(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),P(r.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t),P(r.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let c=0;c<t[1].length;c++)n.push({data:r[c],commitment:a[c],proof:l[c]});t=t[0]}P(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${s}`,"data",lt(e));const i={type:3,chainId:se(t[0],"chainId"),nonce:Si(t[1],"nonce"),maxPriorityFeePerGas:se(t[2],"maxPriorityFeePerGas"),maxFeePerGas:se(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:se(t[4],"gasLimit"),to:cr(t[5]),value:se(t[6],"value"),data:lt(t[7]),accessList:_a(t[8],"accessList"),maxFeePerBlobGas:se(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(i.blobs=n),P(i.to!=null,`invalid address for transaction type: ${s}`,"data",e),P(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let r=0;r<i.blobVersionedHashes.length;r++)P(le(i.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",e);return t.length===11||Ia(i,t.slice(11)),i}function x2(e,t,s){const n=[$t(e.chainId,"chainId"),$t(e.nonce,"nonce"),$t(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(e.maxFeePerGas||0,"maxFeePerGas"),$t(e.gasLimit,"gasLimit"),e.to||Wr,$t(e.value,"value"),e.data,Pa(e.accessList||[]),$t(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),E2(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push($t(t.yParity,"yParity")),n.push(xe(t.r)),n.push(xe(t.s)),s)?we(["0x03",jn([n,s.map(i=>i.data),s.map(i=>i.commitment),s.map(i=>i.proof)])]):we(["0x03",jn(n)])}function R2(e){const t=lo(Bt(e).slice(1));P(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",lt(e));const s={type:4,chainId:se(t[0],"chainId"),nonce:Si(t[1],"nonce"),maxPriorityFeePerGas:se(t[2],"maxPriorityFeePerGas"),maxFeePerGas:se(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:se(t[4],"gasLimit"),to:cr(t[5]),value:se(t[6],"value"),data:lt(t[7]),accessList:_a(t[8],"accessList"),authorizationList:w2(t[9],"authorizationList")};return t.length===10||Ia(s,t.slice(10)),s}function N2(e,t){const s=[$t(e.chainId,"chainId"),$t(e.nonce,"nonce"),$t(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(e.maxFeePerGas||0,"maxFeePerGas"),$t(e.gasLimit,"gasLimit"),e.to||"0x",$t(e.value,"value"),e.data,Pa(e.accessList||[]),A2(e.authorizationList||[])];return t&&(s.push($t(t.yParity,"yParity")),s.push(xe(t.r)),s.push(xe(t.s))),we(["0x04",jn(s)])}class xs{#t;#e;#s;#n;#i;#o;#r;#a;#d;#c;#p;#m;#l;#u;#f;#h;#v;get type(){return this.#t}set type(t){switch(t){case null:this.#t=null;break;case 0:case"legacy":this.#t=0;break;case 1:case"berlin":case"eip-2930":this.#t=1;break;case 2:case"london":case"eip-1559":this.#t=2;break;case 3:case"cancun":case"eip-4844":this.#t=3;break;case 4:case"pectra":case"eip-7702":this.#t=4;break;default:P(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=this.#e;return t==null&&this.type===3?Wr:t}set to(t){this.#e=t==null?null:Jt(t)}get nonce(){return this.#n}set nonce(t){this.#n=Rt(t,"value")}get gasLimit(){return this.#i}set gasLimit(t){this.#i=ft(t)}get gasPrice(){const t=this.#o;return t==null&&(this.type===0||this.type===1)?Re:t}set gasPrice(t){this.#o=t==null?null:ft(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#r;return t??(this.type===2||this.type===3?Re:null)}set maxPriorityFeePerGas(t){this.#r=t==null?null:ft(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#a;return t??(this.type===2||this.type===3?Re:null)}set maxFeePerGas(t){this.#a=t==null?null:ft(t,"maxFeePerGas")}get data(){return this.#s}set data(t){this.#s=lt(t)}get value(){return this.#d}set value(t){this.#d=ft(t,"value")}get chainId(){return this.#c}set chainId(t){this.#c=ft(t)}get signature(){return this.#p||null}set signature(t){this.#p=t==null?null:ye.from(t)}get accessList(){const t=this.#m||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){this.#m=t==null?null:Ti(t)}get authorizationList(){const t=this.#v||null;return t==null&&this.type===4?[]:t}set authorizationList(t){this.#v=t==null?null:t.map(s=>Gp(s))}get maxFeePerBlobGas(){const t=this.#l;return t==null&&this.type===3?Re:t}set maxFeePerBlobGas(t){this.#l=t==null?null:ft(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#u;return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){P(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let s=0;s<t.length;s++)P(le(t[s],32),"invalid blobVersionedHash",`value[${s}]`,t[s])}this.#u=t}get blobs(){return this.#h==null?null:this.#h.map(t=>Object.assign({},t))}set blobs(t){if(t==null){this.#h=null;return}const s=[],n=[];for(let i=0;i<t.length;i++){const r=t[i];if($c(r)){$(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Bt(r);if(P(a.length<=gl,"blob is too large",`blobs[${i}]`,r),a.length!==gl){const u=new Uint8Array(gl);u.set(a),a=u}const l=this.#f.blobToKzgCommitment(a),c=lt(this.#f.computeBlobKzgProof(a,l));s.push({data:lt(a),commitment:lt(l),proof:c}),n.push(Nd(1,l))}else{const a=lt(r.commitment);s.push({data:lt(r.data),commitment:a,proof:lt(r.proof)}),n.push(Nd(1,a))}}this.#h=s,this.#u=n}get kzg(){return this.#f}set kzg(t){t==null?this.#f=null:this.#f=b2(t)}constructor(){this.#t=null,this.#e=null,this.#n=0,this.#i=Re,this.#o=null,this.#r=null,this.#a=null,this.#s="0x",this.#d=Re,this.#c=Re,this.#p=null,this.#m=null,this.#l=null,this.#u=null,this.#f=null,this.#h=null,this.#v=null}get hash(){return this.signature==null?null:Se(this.#g(!0,!1))}get unsignedHash(){return Se(this.unsignedSerialized)}get from(){return this.signature==null?null:h2(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:un.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(t,s){$(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=t?this.signature:null;switch(this.inferType()){case 0:return C2(this,n);case 1:return P2(this,n);case 2:return S2(this,n);case 3:return x2(this,n,s?this.blobs:null);case 4:return N2(this,n)}$(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,s=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&$(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),$(!s||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),$(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):this.authorizationList&&this.authorizationList.length?r.push(4):s?r.push(2):t?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(i&&this.to||(r.push(0),r.push(1),r.push(2)),r.push(3)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return xs.from(this)}toJSON(){const t=s=>s==null?null:s.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new xs;if(typeof t=="string"){const n=Bt(t);if(n[0]>=127)return xs.from(k2(n));switch(n[0]){case 1:return xs.from(_2(n));case 2:return xs.from(T2(n));case 3:return xs.from(I2(n));case 4:return xs.from(R2(n))}$(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const s=new xs;return t.type!=null&&(s.type=t.type),t.to!=null&&(s.to=t.to),t.nonce!=null&&(s.nonce=t.nonce),t.gasLimit!=null&&(s.gasLimit=t.gasLimit),t.gasPrice!=null&&(s.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(s.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(s.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(s.data=t.data),t.value!=null&&(s.value=t.value),t.chainId!=null&&(s.chainId=t.chainId),t.signature!=null&&(s.signature=ye.from(t.signature)),t.accessList!=null&&(s.accessList=t.accessList),t.authorizationList!=null&&(s.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(s.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(s.kzg=t.kzg),t.blobs!=null&&(s.blobs=t.blobs),t.hash!=null&&(P(s.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),P(s.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(P(s.isSigned(),"unsigned transaction cannot define '.from'","tx",t),P(s.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),s}}function yi(e){return Se(pn(e))}var D2="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Dd=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Ld=4;function L2(e){let t=0;function s(){return e[t++]<<8|e[t++]}let n=s(),i=1,r=[0,1];for(let j=1;j<n;j++)r.push(i+=s());let a=s(),l=t;t+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}const f=31,h=2**f,p=h>>>1,w=p>>1,v=h-1;let g=0;for(let j=0;j<f;j++)g=g<<1|d();let _=[],D=0,L=h;for(;;){let j=Math.floor(((g-D+1)*i-1)/L),W=0,U=n;for(;U-W>1;){let it=W+U>>>1;j<r[it]?U=it:W=it}if(W==0)break;_.push(W);let J=D+Math.floor(L*r[W]/i),X=D+Math.floor(L*r[W+1]/i)-1;for(;((J^X)&p)==0;)g=g<<1&v|d(),J=J<<1&v,X=X<<1&v|1;for(;J&~X&w;)g=g&p|g<<1&v>>>1|d(),J=J<<1^p,X=(X^p)<<1|p|1;D=J,L=1+X-J}let N=n-4;return _.map(j=>{switch(j-N){case 3:return N+65792+(e[l++]<<16|e[l++]<<8|e[l++]);case 2:return N+256+(e[l++]<<8|e[l++]);case 1:return N+e[l++];default:return j-1}})}function B2(e){let t=0;return()=>e[t++]}function Kp(e){return B2(L2(O2(e)))}function O2(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,r)=>t[i.charCodeAt(0)]=r);let s=e.length,n=new Uint8Array(6*s>>3);for(let i=0,r=0,a=0,l=0;i<s;i++)l=l<<6|t[e.charCodeAt(i)],a+=6,a>=8&&(n[r++]=l>>(a-=8));return n}function M2(e){return e&1?~e>>1:e>>1}function U2(e,t){let s=Array(e);for(let n=0,i=0;n<e;n++)s[n]=i+=M2(t());return s}function Gr(e,t=0){let s=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let r=0;r<i;r++)s.push(t+r);t+=i+1}return s}function Yp(e){return Kr(()=>{let t=Gr(e);if(t.length)return t})}function zp(e){let t=[];for(;;){let s=e();if(s==0)break;t.push(F2(s,e))}for(;;){let s=e()-1;if(s<0)break;t.push($2(s,e))}return t.flat()}function Kr(e){let t=[];for(;;){let s=e(t.length);if(!s)break;t.push(s)}return t}function Qp(e,t,s){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)U2(e,s).forEach((r,a)=>n[a].push(r));return n}function F2(e,t){let s=1+t(),n=t(),i=Kr(t);return Qp(i.length,1+e,t).flatMap((a,l)=>{let[c,...u]=a;return Array(i[l]).fill().map((d,f)=>{let h=f*n;return[c+f*s,u.map(p=>p+h)]})})}function $2(e,t){let s=1+t();return Qp(s,1+e,t).map(i=>[i[0],i.slice(1)])}function V2(e){let t=[],s=Gr(e);return i(n([]),[]),t;function n(r){let a=e(),l=Kr(()=>{let c=Gr(e).map(u=>s[u]);if(c.length)return n(c)});return{S:a,B:l,Q:r}}function i({S:r,B:a},l,c){if(!(r&4&&c===l[l.length-1])){r&2&&(c=l[l.length-1]),r&1&&t.push(l);for(let u of a)for(let d of u.Q)i(u,[...l,d],c)}}}function H2(e){return e.toString(16).toUpperCase().padStart(2,"0")}function qp(e){return`{${H2(e)}}`}function j2(e){let t=[];for(let s=0,n=e.length;s<n;){let i=e.codePointAt(s);s+=i<65536?1:2,t.push(i)}return t}function er(e){let s=e.length;if(s<4096)return String.fromCodePoint(...e);let n=[];for(let i=0;i<s;)n.push(String.fromCodePoint(...e.slice(i,i+=4096)));return n.join("")}function W2(e,t){let s=e.length,n=s-t.length;for(let i=0;n==0&&i<s;i++)n=e[i]-t[i];return n}var G2="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Yr=44032,ta=4352,ea=4449,sa=4519,Jp=19,Zp=21,sr=28,na=Zp*sr,K2=Jp*na,Y2=Yr+K2,z2=ta+Jp,Q2=ea+Zp,q2=sa+sr;function br(e){return e>>24&255}function Xp(e){return e&16777215}let Zl,Bd,Xl,Mo;function J2(){let e=Kp(G2);Zl=new Map(Yp(e).flatMap((t,s)=>t.map(n=>[n,s+1<<24]))),Bd=new Set(Gr(e)),Xl=new Map,Mo=new Map;for(let[t,s]of zp(e)){if(!Bd.has(t)&&s.length==2){let[n,i]=s,r=Mo.get(n);r||(r=new Map,Mo.set(n,r)),r.set(i,t)}Xl.set(t,s.reverse())}}function tm(e){return e>=Yr&&e<Y2}function Z2(e,t){if(e>=ta&&e<z2&&t>=ea&&t<Q2)return Yr+(e-ta)*na+(t-ea)*sr;if(tm(e)&&t>sa&&t<q2&&(e-Yr)%sr==0)return e+(t-sa);{let s=Mo.get(e);return s&&(s=s.get(t),s)?s:-1}}function em(e){Zl||J2();let t=[],s=[],n=!1;function i(r){let a=Zl.get(r);a&&(n=!0,r|=a),t.push(r)}for(let r of e)for(;;){if(r<128)t.push(r);else if(tm(r)){let a=r-Yr,l=a/na|0,c=a%na/sr|0,u=a%sr;i(ta+l),i(ea+c),u>0&&i(sa+u)}else{let a=Xl.get(r);a?s.push(...a):i(r)}if(!s.length)break;r=s.pop()}if(n&&t.length>1){let r=br(t[0]);for(let a=1;a<t.length;a++){let l=br(t[a]);if(l==0||r<=l){r=l;continue}let c=a-1;for(;;){let u=t[c+1];if(t[c+1]=t[c],t[c]=u,!c||(r=br(t[--c]),r<=l))break}r=br(t[a])}}return t}function X2(e){let t=[],s=[],n=-1,i=0;for(let r of e){let a=br(r),l=Xp(r);if(n==-1)a==0?n=l:t.push(l);else if(i>0&&i>=a)a==0?(t.push(n,...s),s.length=0,n=l):s.push(l),i=a;else{let c=Z2(n,l);c>=0?n=c:i==0&&a==0?(t.push(n),n=l):(s.push(l),i=a)}}return n>=0&&t.push(n,...s),t}function sm(e){return em(e).map(Xp)}function t3(e){return X2(em(e))}const Od=45,nm=".",im=65039,rm=1,ia=e=>Array.from(e);function zr(e,t){return e.P.has(t)||e.Q.has(t)}class e3 extends Array{get is_emoji(){return!0}}let tc,om,ui,ec,am,Yi,vl,Bi,si,Md,sc;function Zc(){if(tc)return;let e=Kp(D2);const t=()=>Gr(e),s=()=>new Set(t()),n=(d,f)=>f.forEach(h=>d.add(h));tc=new Map(zp(e)),om=s(),ui=t(),ec=new Set(t().map(d=>ui[d])),ui=new Set(ui),am=s(),s();let i=Yp(e),r=e();const a=()=>{let d=new Set;return t().forEach(f=>n(d,i[f])),n(d,t()),d};Yi=Kr(d=>{let f=Kr(e).map(h=>h+96);if(f.length){let h=d>=r;f[0]-=32,f=er(f),h&&(f=`Restricted[${f}]`);let p=a(),w=a(),v=!e();return{N:f,P:p,Q:w,M:v,R:h}}}),vl=s(),Bi=new Map;let l=t().concat(ia(vl)).sort((d,f)=>d-f);l.forEach((d,f)=>{let h=e(),p=l[f]=h?l[f-h]:{V:[],M:new Map};p.V.push(d),vl.has(d)||Bi.set(d,p)});for(let{V:d,M:f}of new Set(Bi.values())){let h=[];for(let w of d){let v=Yi.filter(_=>zr(_,w)),g=h.find(({G:_})=>v.some(D=>_.has(D)));g||(g={G:new Set,V:[]},h.push(g)),g.V.push(w),n(g.G,v)}let p=h.flatMap(w=>ia(w.G));for(let{G:w,V:v}of h){let g=new Set(p.filter(_=>!w.has(_)));for(let _ of v)f.set(_,g)}}si=new Set;let c=new Set;const u=d=>si.has(d)?c.add(d):si.add(d);for(let d of Yi){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of si)!Bi.has(d)&&!c.has(d)&&Bi.set(d,rm);n(si,sm(si)),Md=V2(e).map(d=>e3.from(d)).sort(W2),sc=new Map;for(let d of Md){let f=[sc];for(let h of d){let p=f.map(w=>{let v=w.get(h);return v||(v=new Map,w.set(h,v)),v});h===im?f.push(...p):f=p}for(let h of f)h.V=d}}function Xc(e){return(lm(e)?"":`${tu(xa([e]))} `)+qp(e)}function tu(e){return`"${e}"‎`}function s3(e){if(e.length>=4&&e[2]==Od&&e[3]==Od)throw new Error(`invalid label extension: "${er(e.slice(0,4))}"`)}function n3(e){for(let s=e.lastIndexOf(95);s>0;)if(e[--s]!==95)throw new Error("underscore allowed only at start")}function i3(e){let t=e[0],s=Dd.get(t);if(s)throw Pr(`leading ${s}`);let n=e.length,i=-1;for(let r=1;r<n;r++){t=e[r];let a=Dd.get(t);if(a){if(i==r)throw Pr(`${s} + ${a}`);i=r+1,s=a}}if(i==n)throw Pr(`trailing ${s}`)}function xa(e,t=1/0,s=qp){let n=[];r3(e[0])&&n.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,r=e.length;for(let a=0;a<r;a++){let l=e[a];lm(l)&&(n.push(er(e.slice(i,a))),n.push(s(l)),i=a+1)}return n.push(er(e.slice(i,r))),n.join("")}function r3(e){return Zc(),ui.has(e)}function lm(e){return Zc(),am.has(e)}function o3(e){return u3(a3(e,t3,h3))}function a3(e,t,s){if(!e)return[];Zc();let n=0;return e.split(nm).map(i=>{let r=j2(i),a={input:r,offset:n};n+=r.length+1;try{let l=a.tokens=f3(r,t,s),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(n3(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(h=>h<128))s3(d),u="ASCII";else{let h=l.flatMap(p=>p.is_emoji?[]:p);if(!h.length)u="Emoji";else{if(ui.has(d[0]))throw Pr("leading combining mark");for(let v=1;v<c;v++){let g=l[v];if(!g.is_emoji&&ui.has(g[0]))throw Pr(`emoji + combining mark: "${er(l[v-1])} + ${xa([g[0]])}"`)}i3(d);let p=ia(new Set(h)),[w]=c3(p);d3(w,h),l3(w,p),u=w.N}}a.type=u}catch(l){a.error=l}return a})}function l3(e,t){let s,n=[];for(let i of t){let r=Bi.get(i);if(r===rm)return;if(r){let a=r.M.get(i);if(s=s?s.filter(l=>a.has(l)):ia(a),!s.length)return}else n.push(i)}if(s){for(let i of s)if(n.every(r=>zr(i,r)))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}}function c3(e){let t=Yi;for(let s of e){let n=t.filter(i=>zr(i,s));if(!n.length)throw Yi.some(i=>zr(i,s))?um(t[0],s):cm(s);if(t=n,n.length==1)break}return t}function u3(e){return e.map(({input:t,error:s,output:n})=>{if(s){let i=s.message;throw new Error(e.length==1?i:`Invalid label ${tu(xa(t,63))}: ${i}`)}return er(n)}).join(nm)}function cm(e){return new Error(`disallowed character: ${Xc(e)}`)}function um(e,t){let s=Xc(t),n=Yi.find(i=>i.P.has(t));return n&&(s=`${n.N} ${s}`),new Error(`illegal mixture: ${e.N} + ${s}`)}function Pr(e){return new Error(`illegal placement: ${e}`)}function d3(e,t){for(let s of t)if(!zr(e,s))throw um(e,s);if(e.M){let s=sm(t);for(let n=1,i=s.length;n<i;n++)if(ec.has(s[n])){let r=n+1;for(let a;r<i&&ec.has(a=s[r]);r++)for(let l=n;l<r;l++)if(s[l]==a)throw new Error(`duplicate non-spacing marks: ${Xc(a)}`);if(r-n>Ld)throw new Error(`excessive non-spacing marks: ${tu(xa(s.slice(n-1,r)))} (${r-n}/${Ld})`);n=r}}}function f3(e,t,s){let n=[],i=[];for(e=e.slice().reverse();e.length;){let r=p3(e);if(r)i.length&&(n.push(t(i)),i=[]),n.push(s(r));else{let a=e.pop();if(si.has(a))i.push(a);else{let l=tc.get(a);if(l)i.push(...l);else if(!om.has(a))throw cm(a)}}}return i.length&&n.push(t(i)),n}function h3(e){return e.filter(t=>t!=im)}function p3(e,t){let s=sc,n,i=e.length;for(;i&&(s=s.get(e[--i]),!!s);){let{V:r}=s;r&&(n=r,e.length=i)}return n}const dm=new Uint8Array(32);dm.fill(0);function Ud(e){return P(e.length!==0,"invalid ENS name; empty component","comp",e),e}function fm(e){const t=pn(m3(e)),s=[];if(e.length===0)return s;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(s.push(Ud(t.slice(n,i))),n=i+1);return P(n<t.length,"invalid ENS name; empty component","name",e),s.push(Ud(t.slice(n))),s}function m3(e){try{if(e.length===0)throw new Error("empty label");return o3(e)}catch(t){P(!1,`invalid ENS name (${t.message})`,"name",e)}}function nc(e){P(typeof e=="string","invalid ENS name; not a string","name",e),P(e.length,"invalid ENS name (empty label)","name",e);let t=dm;const s=fm(e);for(;s.length;)t=Se(we([t,Se(s.pop())]));return lt(t)}function g3(e,t){const s=t;return P(s<=255,"DNS encoded label cannot exceed 255","length",s),lt(we(fm(e).map(n=>{P(n.length<=s,`label ${JSON.stringify(e)} exceeds ${s} bytes`,"name",e);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}const hm=new Uint8Array(32);hm.fill(0);const v3=BigInt(-1),pm=BigInt(0),mm=BigInt(1),y3=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function b3(e){const t=Bt(e),s=t.length%32;return s?we([t,hm.slice(s)]):lt(t)}const w3=Hn(mm,32),A3=Hn(pm,32),Fd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yl=["name","version","chainId","verifyingContract","salt"];function $d(e){return function(t){return P(typeof t=="string",`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const E3={name:$d("name"),version:$d("version"),chainId:function(e){const t=ft(e,"domain.chainId");return P(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Rs(t)},verifyingContract:function(e){try{return Jt(e).toLowerCase()}catch{}P(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Bt(e,"domain.salt");return P(t.length===32,'invalid domain value "salt"',"domain.salt",e),lt(t)}};function bl(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const s=t[1]==="",n=parseInt(t[2]);P(n%8===0&&n!==0&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);const i=li(y3,s?n-1:n),r=s?(i+mm)*v3:pm;return function(a){const l=ft(a,"value");return P(l>=r&&l<=i,`value out-of-bounds for ${e}`,"value",l),Hn(s?ep(l,256):l,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const s=parseInt(t[1]);return P(s!==0&&s<=32&&t[1]===String(s),"invalid bytes width","type",e),function(n){const i=Bt(n);return P(i.length===s,`invalid length for ${e}`,"value",n),b3(n)}}}switch(e){case"address":return function(t){return yn(Jt(t),32)};case"bool":return function(t){return t?w3:A3};case"bytes":return function(t){return Se(t)};case"string":return function(t){return yi(t)}}return null}function Vd(e,t){return`${e}(${t.map(({name:s,type:n})=>n+" "+s).join(",")})`}function Po(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class us{primaryType;#t;get types(){return JSON.parse(this.#t)}#e;#s;constructor(t){this.#e=new Map,this.#s=new Map;const s=new Map,n=new Map,i=new Map,r={};Object.keys(t).forEach(c=>{r[c]=t[c].map(({name:u,type:d})=>{let{base:f,index:h}=Po(d);return f==="int"&&!t.int&&(f="int256"),f==="uint"&&!t.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),s.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),this.#t=JSON.stringify(r);for(const c in r){const u=new Set;for(const d of r[c]){P(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",t),u.add(d.name);const f=Po(d.type).base;P(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",t),!bl(f)&&(P(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",t),n.get(f).push(c),s.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);P(a.length!==0,"missing primary type","types",t),P(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",t),At(this,{primaryType:a[0]});function l(c,u){P(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",t),u.add(c);for(const d of s.get(c))if(n.has(d)){l(d,u);for(const f of u)i.get(f).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of i){const d=Array.from(u);d.sort(),this.#e.set(c,Vd(c,r[c])+d.map(f=>Vd(f,r[f])).join(""))}}getEncoder(t){let s=this.#s.get(t);return s||(s=this.#n(t),this.#s.set(t,s)),s}#n(t){{const i=bl(t);if(i)return i}const s=Po(t).array;if(s){const i=s.prefix,r=this.getEncoder(i);return a=>{P(s.count===-1||s.count===a.length,`array length mismatch; expected length ${s.count}`,"value",a);let l=a.map(r);return this.#e.has(i)&&(l=l.map(Se)),Se(we(l))}}const n=this.types[t];if(n){const i=yi(this.#e.get(t));return r=>{const a=n.map(({name:l,type:c})=>{const u=this.getEncoder(c)(r[l]);return this.#e.has(c)?Se(u):u});return a.unshift(i),we(a)}}P(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const s=this.#e.get(t);return P(s,`unknown type: ${JSON.stringify(t)}`,"name",t),s}encodeData(t,s){return this.getEncoder(t)(s)}hashStruct(t,s){return Se(this.encodeData(t,s))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,s,n){if(bl(t))return n(t,s);const i=Po(t).array;if(i)return P(i.count===-1||i.count===s.length,`array length mismatch; expected length ${i.count}`,"value",s),s.map(a=>this._visit(i.prefix,a,n));const r=this.types[t];if(r)return r.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,s[l],n),a),{});P(!1,`unknown type: ${t}`,"type",t)}visit(t,s){return this._visit(this.primaryType,t,s)}static from(t){return new us(t)}static getPrimaryType(t){return us.from(t).primaryType}static hashStruct(t,s,n){return us.from(s).hashStruct(t,n)}static hashDomain(t){const s=[];for(const n in t){if(t[n]==null)continue;const i=Fd[n];P(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),s.push({name:n,type:i})}return s.sort((n,i)=>yl.indexOf(n.name)-yl.indexOf(i.name)),us.hashStruct("EIP712Domain",{EIP712Domain:s},t)}static encode(t,s,n){return we(["0x1901",us.hashDomain(t),us.from(s).hash(n)])}static hash(t,s,n){return Se(us.encode(t,s,n))}static async resolveNames(t,s,n,i){t=Object.assign({},t);for(const l in t)t[l]==null&&delete t[l];const r={};t.verifyingContract&&!le(t.verifyingContract,20)&&(r[t.verifyingContract]="0x");const a=us.from(s);a.visit(n,(l,c)=>(l==="address"&&!le(c,20)&&(r[c]="0x"),c));for(const l in r)r[l]=await i(l);return t.verifyingContract&&r[t.verifyingContract]&&(t.verifyingContract=r[t.verifyingContract]),n=a.visit(n,(l,c)=>l==="address"&&r[c]?r[c]:c),{domain:t,value:n}}static getPayload(t,s,n){us.hashDomain(t);const i={},r=[];yl.forEach(c=>{const u=t[c];u!=null&&(i[c]=E3[c](u),r.push({name:c,type:Fd[c]}))});const a=us.from(s);s=a.types;const l=Object.assign({},s);return P(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",s),l.EIP712Domain=r,a.encode(n),{types:l,domain:i,primaryType:a.primaryType,message:a.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return lt(Bt(u));if(c.match(/^u?int/))return ft(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return P(typeof u=="string","invalid string","value",u),u}P(!1,"unsupported type","type",c)})}}}function ts(e){const t=new Set;return e.forEach(s=>t.add(s)),Object.freeze(t)}const k3="external public payable override",C3=ts(k3.split(" ")),gm="constant external internal payable private public pure view override",T3=ts(gm.split(" ")),vm="constructor error event fallback function receive struct",ym=ts(vm.split(" ")),bm="calldata memory storage payable indexed",S3=ts(bm.split(" ")),_3="tuple returns",P3=[vm,bm,_3,gm].join(" "),I3=ts(P3.split(" ")),x3={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},R3=new RegExp("^(\\s*)"),N3=new RegExp("^([0-9]+)"),D3=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),wm=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Am=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Ts{#t;#e;get offset(){return this.#t}get length(){return this.#e.length-this.#t}constructor(t){this.#t=0,this.#e=t.slice()}clone(){return new Ts(this.#e)}reset(){this.#t=0}#s(t=0,s=0){return new Ts(this.#e.slice(t,s).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))}popKeyword(t){const s=this.peek();if(s.type!=="KEYWORD"||!t.has(s.text))throw new Error(`expected keyword ${s.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const s=this.peek();throw new Error(`expected ${t}; got ${s.type} ${JSON.stringify(s.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const s=this.#s(this.#t+1,t.match+1);return this.#t=t.match+1,s}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const s=[];for(;this.#t<t.match-1;){const n=this.peek().linkNext;s.push(this.#s(this.#t+1,n)),this.#t=n}return this.#t=t.match+1,s}peek(){if(this.#t>=this.#e.length)throw new Error("out-of-bounds");return this.#e[this.#t]}peekKeyword(t){const s=this.peekType("KEYWORD");return s!=null&&t.has(s)?s:null}peekType(t){if(this.length===0)return null;const s=this.peek();return s.type===t?s.text:null}pop(){const t=this.peek();return this.#t++,t}toString(){const t=[];for(let s=this.#t;s<this.#e.length;s++){const n=this.#e[s];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}}function Wn(e){const t=[],s=a=>{const l=r<e.length?JSON.stringify(e[r]):"$EOI";throw new Error(`invalid token ${l} at ${r}: ${a}`)};let n=[],i=[],r=0;for(;r<e.length;){let a=e.substring(r),l=a.match(R3);l&&(r+=l[1].length,a=e.substring(r));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:r,value:-1};t.push(c);let u=x3[a[0]]||"";if(u){if(c.type=u,c.text=a[0],r++,u==="OPEN_PAREN")n.push(t.length-1),i.push(t.length-1);else if(u=="CLOSE_PAREN")n.length===0&&s("no matching open bracket"),c.match=n.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if(u==="COMMA")c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const f=t.pop().text;d=f+d,t[t.length-1].value=Rt(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=d}continue}if(l=a.match(D3),l){if(c.text=l[1],r+=c.text.length,I3.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Am)){c.type="TYPE";continue}c.type="ID";continue}if(l=a.match(N3),l){c.text=l[1],c.type="NUMBER",r+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${r}`)}return new Ts(t.map(a=>Object.freeze(a)))}function Hd(e,t){let s=[];for(const n in t.keys())e.has(n)&&s.push(n);if(s.length>1)throw new Error(`conflicting types: ${s.join(", ")}`)}function Ra(e,t){if(t.peekKeyword(ym)){const s=t.pop().text;if(s!==e)throw new Error(`expected ${e}, got ${s}`)}return t.popType("ID")}function wn(e,t){const s=new Set;for(;;){const n=e.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(e.pop(),s.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);s.add(n)}return Object.freeze(s)}function Em(e){let t=wn(e,T3);return Hd(t,ts("constant payable nonpayable".split(" "))),Hd(t,ts("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function mn(e,t){return e.popParams().map(s=>ae.from(s,t))}function km(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ft(e.pop().text);throw new Error("invalid gas")}return null}function bi(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const L3=new RegExp(/^(.*)\[([0-9]*)\]$/);function jd(e){const t=e.match(Am);if(P(t,"invalid type","type",e),e==="uint")return"uint256";if(e==="int")return"int256";if(t[2]){const s=parseInt(t[2]);P(s!==0&&s<=32,"invalid bytes length","type",e)}else if(t[3]){const s=parseInt(t[3]);P(s!==0&&s<=256&&s%8===0,"invalid numeric width","type",e)}return e}const pe={},as=Symbol.for("_ethers_internal"),Wd="_ParamTypeInternal",Gd="_ErrorInternal",Kd="_EventInternal",Yd="_ConstructorInternal",zd="_FallbackInternal",Qd="_FunctionInternal",qd="_StructInternal";class ae{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,s,n,i,r,a,l,c){if(ao(t,pe,"ParamType"),Object.defineProperty(this,as,{value:Wd}),a&&(a=Object.freeze(a.slice())),i==="array"){if(l==null||c==null)throw new Error("")}else if(l!=null||c!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");At(this,{name:s,type:n,baseType:i,indexed:r,components:a,arrayLength:l,arrayChildren:c})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const r=JSON.parse(this.arrayChildren.format("json"));return r.name=n,r.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(r)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(r=>JSON.parse(r.format(t)))),JSON.stringify(i)}let s="";return this.isArray()?(s+=this.arrayChildren.format(t),s+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?s+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")":s+=this.type,t!=="sighash"&&(this.indexed===!0&&(s+=" indexed"),t==="full"&&this.name&&(s+=" "+this.name)),s}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(i=>n.arrayChildren.walk(i,s))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((i,r)=>n.components[r].walk(i,s))}return s(this.type,t)}#t(t,s,n,i){if(this.isArray()){if(!Array.isArray(s))throw new Error("invalid array value");if(this.arrayLength!==-1&&s.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,l=s.slice();l.forEach((c,u)=>{a.#t(t,c,n,d=>{l[u]=d})}),i(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(s))l=s.slice();else{if(s==null||typeof s!="object")throw new Error("invalid tuple value");l=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in s))throw new Error(`missing value for component ${c.name}`);return s[c.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((c,u)=>{a[u].#t(t,c,n,d=>{l[u]=d})}),i(l);return}const r=n(this.type,s);r.then?t.push((async function(){i(await r)})()):i(r)}async walkAsync(t,s){const n=[],i=[t];return this.#t(n,t,s,r=>{i[0]=r}),n.length&&await Promise.all(n),i[0]}static from(t,s){if(ae.isParamType(t))return t;if(typeof t=="string")try{return ae.from(Wn(t),s)}catch{P(!1,"invalid param type","obj",t)}else if(t instanceof Ts){let l="",c="",u=null;wn(t,ts(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",u=t.popParams().map(v=>ae.from(v)),l=`tuple(${u.map(v=>v.format()).join(",")})`):(l=jd(t.popType("TYPE")),c=l);let d=null,f=null;for(;t.length&&t.peekType("BRACKET");){const v=t.pop();d=new ae(pe,"",l,c,null,u,f,d),f=v.value,l+=v.text,c="array",u=null}let h=null;if(wn(t,S3).has("indexed")){if(!s)throw new Error("");h=!0}const w=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ae(pe,w,l,c,h,u,f,d)}const n=t.name;P(!n||typeof n=="string"&&n.match(wm),"invalid name","obj.name",n);let i=t.indexed;i!=null&&(P(s,"parameter cannot be indexed","obj.indexed",t.indexed),i=!!i);let r=t.type,a=r.match(L3);if(a){const l=parseInt(a[2]||"-1"),c=ae.from({type:a[1],components:t.components});return new ae(pe,n||"",r,"array",i,null,l,c)}if(r==="tuple"||r.startsWith("tuple(")||r.startsWith("(")){const l=t.components!=null?t.components.map(u=>ae.from(u)):null;return new ae(pe,n||"",r,"tuple",i,l,null,null)}return r=jd(t.type),new ae(pe,n||"",r,r,i,null,null,null)}static isParamType(t){return t&&t[as]===Wd}}class wi{type;inputs;constructor(t,s,n){ao(t,pe,"Fragment"),n=Object.freeze(n.slice()),At(this,{type:s,inputs:n})}static from(t){if(typeof t=="string"){try{wi.from(JSON.parse(t))}catch{}return wi.from(Wn(t))}if(t instanceof Ts)switch(t.peekKeyword(ym)){case"constructor":return fn.from(t);case"error":return rs.from(t);case"event":return Ks.from(t);case"fallback":case"receive":return on.from(t);case"function":return Ys.from(t);case"struct":return vi.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return fn.from(t);case"error":return rs.from(t);case"event":return Ks.from(t);case"fallback":case"receive":return on.from(t);case"function":return Ys.from(t);case"struct":return vi.from(t)}$(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}P(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return fn.isFragment(t)}static isError(t){return rs.isFragment(t)}static isEvent(t){return Ks.isFragment(t)}static isFunction(t){return Ys.isFragment(t)}static isStruct(t){return vi.isFragment(t)}}class Na extends wi{name;constructor(t,s,n,i){super(t,s,i),P(typeof n=="string"&&n.match(wm),"invalid identifier","name",n),i=Object.freeze(i.slice()),At(this,{name:n})}}function Qr(e,t){return"("+t.map(s=>s.format(e)).join(e==="full"?", ":",")+")"}class rs extends Na{constructor(t,s,n){super(t,"error",s,n),Object.defineProperty(this,as,{value:Gd})}get selector(){return yi(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const s=[];return t!=="sighash"&&s.push("error"),s.push(this.name+Qr(t,this.inputs)),s.join(" ")}static from(t){if(rs.isFragment(t))return t;if(typeof t=="string")return rs.from(Wn(t));if(t instanceof Ts){const s=Ra("error",t),n=mn(t);return bi(t),new rs(pe,s,n)}return new rs(pe,t.name,t.inputs?t.inputs.map(ae.from):[])}static isFragment(t){return t&&t[as]===Gd}}class Ks extends Na{anonymous;constructor(t,s,n,i){super(t,"event",s,n),Object.defineProperty(this,as,{value:Kd}),At(this,{anonymous:i})}get topicHash(){return yi(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const s=[];return t!=="sighash"&&s.push("event"),s.push(this.name+Qr(t,this.inputs)),t!=="sighash"&&this.anonymous&&s.push("anonymous"),s.join(" ")}static getTopicHash(t,s){return s=(s||[]).map(i=>ae.from(i)),new Ks(pe,t,s,!1).topicHash}static from(t){if(Ks.isFragment(t))return t;if(typeof t=="string")try{return Ks.from(Wn(t))}catch{P(!1,"invalid event fragment","obj",t)}else if(t instanceof Ts){const s=Ra("event",t),n=mn(t,!0),i=!!wn(t,ts(["anonymous"])).has("anonymous");return bi(t),new Ks(pe,s,n,i)}return new Ks(pe,t.name,t.inputs?t.inputs.map(s=>ae.from(s,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[as]===Kd}}class fn extends wi{payable;gas;constructor(t,s,n,i,r){super(t,s,n),Object.defineProperty(this,as,{value:Yd}),At(this,{payable:i,gas:r})}format(t){if($(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const s=[`constructor${Qr(t,this.inputs)}`];return this.payable&&s.push("payable"),this.gas!=null&&s.push(`@${this.gas.toString()}`),s.join(" ")}static from(t){if(fn.isFragment(t))return t;if(typeof t=="string")try{return fn.from(Wn(t))}catch{P(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Ts){wn(t,ts(["constructor"]));const s=mn(t),n=!!wn(t,C3).has("payable"),i=km(t);return bi(t),new fn(pe,"constructor",s,n,i)}return new fn(pe,"constructor",t.inputs?t.inputs.map(ae.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[as]===Yd}}class on extends wi{payable;constructor(t,s,n){super(t,"fallback",s),Object.defineProperty(this,as,{value:zd}),At(this,{payable:n})}format(t){const s=this.inputs.length===0?"receive":"fallback";if(t==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:s,stateMutability:n})}return`${s}()${this.payable?" payable":""}`}static from(t){if(on.isFragment(t))return t;if(typeof t=="string")try{return on.from(Wn(t))}catch{P(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Ts){const s=t.toString(),n=t.peekKeyword(ts(["fallback","receive"]));if(P(n,"type must be fallback or receive","obj",s),t.popKeyword(ts(["fallback","receive"]))==="receive"){const l=mn(t);return P(l.length===0,"receive cannot have arguments","obj.inputs",l),wn(t,ts(["payable"])),bi(t),new on(pe,[],!0)}let r=mn(t);r.length?P(r.length===1&&r[0].type==="bytes","invalid fallback inputs","obj.inputs",r.map(l=>l.format("minimal")).join(", ")):r=[ae.from("bytes")];const a=Em(t);if(P(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),wn(t,ts(["returns"])).has("returns")){const l=mn(t);P(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return bi(t),new on(pe,r,a==="payable")}if(t.type==="receive")return new on(pe,[],!0);if(t.type==="fallback"){const s=[ae.from("bytes")],n=t.stateMutability==="payable";return new on(pe,s,n)}P(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[as]===zd}}class Ys extends Na{constant;outputs;stateMutability;payable;gas;constructor(t,s,n,i,r,a){super(t,"function",s,i),Object.defineProperty(this,as,{value:Qd}),r=Object.freeze(r.slice()),At(this,{constant:n==="view"||n==="pure",gas:a,outputs:r,payable:n==="payable",stateMutability:n})}get selector(){return yi(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});const s=[];return t!=="sighash"&&s.push("function"),s.push(this.name+Qr(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&s.push(this.stateMutability),this.outputs&&this.outputs.length&&(s.push("returns"),s.push(Qr(t,this.outputs))),this.gas!=null&&s.push(`@${this.gas.toString()}`)),s.join(" ")}static getSelector(t,s){return s=(s||[]).map(i=>ae.from(i)),new Ys(pe,t,"view",s,[],null).selector}static from(t){if(Ys.isFragment(t))return t;if(typeof t=="string")try{return Ys.from(Wn(t))}catch{P(!1,"invalid function fragment","obj",t)}else if(t instanceof Ts){const n=Ra("function",t),i=mn(t),r=Em(t);let a=[];wn(t,ts(["returns"])).has("returns")&&(a=mn(t));const l=km(t);return bi(t),new Ys(pe,n,r,i,a,l)}let s=t.stateMutability;return s==null&&(s="payable",typeof t.constant=="boolean"?(s="view",t.constant||(s="payable",typeof t.payable=="boolean"&&!t.payable&&(s="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(s="nonpayable")),new Ys(pe,t.name,s,t.inputs?t.inputs.map(ae.from):[],t.outputs?t.outputs.map(ae.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[as]===Qd}}class vi extends Na{constructor(t,s,n){super(t,"struct",s,n),Object.defineProperty(this,as,{value:qd})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return vi.from(Wn(t))}catch{P(!1,"invalid struct fragment","obj",t)}else if(t instanceof Ts){const s=Ra("struct",t),n=mn(t);return bi(t),new vi(pe,s,n)}return new vi(pe,t.name,t.inputs?t.inputs.map(ae.from):[])}static isFragment(t){return t&&t[as]===qd}}const Us=new Map;Us.set(0,"GENERIC_PANIC");Us.set(1,"ASSERT_FALSE");Us.set(17,"OVERFLOW");Us.set(18,"DIVIDE_BY_ZERO");Us.set(33,"ENUM_RANGE_ERROR");Us.set(34,"BAD_STORAGE_DATA");Us.set(49,"STACK_UNDERFLOW");Us.set(50,"ARRAY_RANGE_ERROR");Us.set(65,"OUT_OF_MEMORY");Us.set(81,"UNINITIALIZED_FUNCTION_CALL");const B3=new RegExp(/^bytes([0-9]*)$/),O3=new RegExp(/^(u?int)([0-9]*)$/);let wl=null,Jd=1024;function M3(e,t,s,n){let i="missing revert data",r=null;const a=null;let l=null;if(s){i="execution reverted";const u=Bt(s);if(s=lt(s),u.length===0)i+=" (no data present; likely require(false) occurred",r="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(lt(u.slice(0,4))==="0x08c379a0")try{r=n.decode(["string"],u.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[r]},i+=`: ${JSON.stringify(r)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(lt(u.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],u.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[d]},r=`Panic due to ${Us.get(d)||"UNKNOWN"}(${d})`,i+=`: ${r}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:t.to?Jt(t.to):null,data:t.data||"0x"};return t.from&&(c.from=Jt(t.from)),fe(i,"CALL_EXCEPTION",{action:e,data:s,reason:r,transaction:c,invocation:a,revert:l})}class Ai{#t(t){if(t.isArray())return new e2(this.#t(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new _o(t.components.map(n=>this.#t(n)),t.name);switch(t.baseType){case"address":return new XA(t.name);case"bool":return new s2(t.name);case"string":return new d2(t.name);case"bytes":return new n2(t.name);case"":return new o2(t.name)}let s=t.type.match(O3);if(s){let n=parseInt(s[2]||"256");return P(n!==0&&n<=256&&n%8===0,"invalid "+s[1]+" bit length","param",t),new u2(n/8,s[1]==="int",t.name)}if(s=t.type.match(B3),s){let n=parseInt(s[1]);return P(n!==0&&n<=32,"invalid bytes length","param",t),new i2(n,t.name)}P(!1,"invalid type","type",t.type)}getDefaultValue(t){const s=t.map(i=>this.#t(ae.from(i)));return new _o(s,"_").defaultValue()}encode(t,s){Zh(s.length,t.length,"types/values length mismatch");const n=t.map(a=>this.#t(ae.from(a))),i=new _o(n,"_"),r=new Kl;return i.encode(r,s),r.data}decode(t,s,n){const i=t.map(a=>this.#t(ae.from(a)));return new _o(i,"_").decode(new Vc(s,n,Jd))}static _setDefaultMaxInflation(t){P(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Jd=t}static defaultAbiCoder(){return wl==null&&(wl=new Ai),wl}static getBuiltinCallException(t,s,n){return M3(t,s,n,Ai.defaultAbiCoder())}}class U3{fragment;name;signature;topic;args;constructor(t,s,n){const i=t.name,r=t.format();At(this,{fragment:t,name:i,signature:r,topic:s,args:n})}}class F3{fragment;name;args;signature;selector;value;constructor(t,s,n,i){const r=t.name,a=t.format();At(this,{fragment:t,name:r,args:n,signature:a,selector:s,value:i})}}class $3{fragment;name;args;signature;selector;constructor(t,s,n){const i=t.name,r=t.format();At(this,{fragment:t,name:i,args:n,signature:r,selector:s})}}class Zd{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){At(this,{hash:t,_isIndexed:!0})}}const Xd={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},tf={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Xd[e.toString()]&&(t=Xd[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class oi{fragments;deploy;fallback;receive;#t;#e;#s;#n;constructor(t){let s=[];typeof t=="string"?s=JSON.parse(t):s=t,this.#s=new Map,this.#t=new Map,this.#e=new Map;const n=[];for(const a of s)try{n.push(wi.from(a))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,l.message)}At(this,{fragments:Object.freeze(n)});let i=null,r=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((a,l)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}At(this,{deploy:a});return;case"fallback":a.inputs.length===0?r=!0:(P(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${l}]`,a),i=a,r=i.payable);return;case"function":c=this.#s;break;case"event":c=this.#e;break;case"error":c=this.#t;break;default:return}const u=a.format();c.has(u)||c.set(u,a)}),this.deploy||At(this,{deploy:fn.from("constructor()")}),At(this,{fallback:i,receive:r})}format(t){const s=t?"minimal":"full";return this.fragments.map(i=>i.format(s))}formatJson(){const t=this.fragments.map(s=>s.format("json"));return JSON.stringify(t.map(s=>JSON.parse(s)))}getAbiCoder(){return Ai.defaultAbiCoder()}#i(t,s,n){if(le(t)){const r=t.toLowerCase();for(const a of this.#s.values())if(r===a.selector)return a;return null}if(t.indexOf("(")===-1){const r=[];for(const[a,l]of this.#s)a.split("(")[0]===t&&r.push(l);if(s){const a=s.length>0?s[s.length-1]:null;let l=s.length,c=!0;be.isTyped(a)&&a.type==="overrides"&&(c=!1,l--);for(let u=r.length-1;u>=0;u--){const d=r[u].inputs.length;d!==l&&(!c||d!==l-1)&&r.splice(u,1)}for(let u=r.length-1;u>=0;u--){const d=r[u].inputs;for(let f=0;f<s.length;f++)if(be.isTyped(s[f])){if(f>=d.length){if(s[f].type==="overrides")continue;r.splice(u,1);break}if(s[f].type!==d[f].baseType){r.splice(u,1);break}}}}if(r.length===1&&s&&s.length!==r[0].inputs.length){const a=s[s.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&r.splice(0,1)}if(r.length===0)return null;if(r.length>1&&n){const a=r.map(l=>JSON.stringify(l.format())).join(", ");P(!1,`ambiguous function description (i.e. matches ${a})`,"key",t)}return r[0]}const i=this.#s.get(Ys.from(t).format());return i||null}getFunctionName(t){const s=this.#i(t,null,!1);return P(s,"no matching function","key",t),s.name}hasFunction(t){return!!this.#i(t,null,!1)}getFunction(t,s){return this.#i(t,s||null,!0)}forEachFunction(t){const s=Array.from(this.#s.keys());s.sort((n,i)=>n.localeCompare(i));for(let n=0;n<s.length;n++){const i=s[n];t(this.#s.get(i),n)}}#o(t,s,n){if(le(t)){const r=t.toLowerCase();for(const a of this.#e.values())if(r===a.topicHash)return a;return null}if(t.indexOf("(")===-1){const r=[];for(const[a,l]of this.#e)a.split("(")[0]===t&&r.push(l);if(s){for(let a=r.length-1;a>=0;a--)r[a].inputs.length<s.length&&r.splice(a,1);for(let a=r.length-1;a>=0;a--){const l=r[a].inputs;for(let c=0;c<s.length;c++)if(be.isTyped(s[c])&&s[c].type!==l[c].baseType){r.splice(a,1);break}}}if(r.length===0)return null;if(r.length>1&&n){const a=r.map(l=>JSON.stringify(l.format())).join(", ");P(!1,`ambiguous event description (i.e. matches ${a})`,"key",t)}return r[0]}const i=this.#e.get(Ks.from(t).format());return i||null}getEventName(t){const s=this.#o(t,null,!1);return P(s,"no matching event","key",t),s.name}hasEvent(t){return!!this.#o(t,null,!1)}getEvent(t,s){return this.#o(t,s||null,!0)}forEachEvent(t){const s=Array.from(this.#e.keys());s.sort((n,i)=>n.localeCompare(i));for(let n=0;n<s.length;n++){const i=s[n];t(this.#e.get(i),n)}}getError(t,s){if(le(t)){const i=t.toLowerCase();if(tf[i])return rs.from(tf[i].signature);for(const r of this.#t.values())if(i===r.selector)return r;return null}if(t.indexOf("(")===-1){const i=[];for(const[r,a]of this.#t)r.split("(")[0]===t&&i.push(a);if(i.length===0)return t==="Error"?rs.from("error Error(string)"):t==="Panic"?rs.from("error Panic(uint256)"):null;if(i.length>1){const r=i.map(a=>JSON.stringify(a.format())).join(", ");P(!1,`ambiguous error description (i.e. ${r})`,"name",t)}return i[0]}if(t=rs.from(t).format(),t==="Error(string)")return rs.from("error Error(string)");if(t==="Panic(uint256)")return rs.from("error Panic(uint256)");const n=this.#t.get(t);return n||null}forEachError(t){const s=Array.from(this.#t.keys());s.sort((n,i)=>n.localeCompare(i));for(let n=0;n<s.length;n++){const i=s[n];t(this.#t.get(i),n)}}_decodeParams(t,s){return this.#n.decode(t,s)}_encodeParams(t,s){return this.#n.encode(t,s)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,s){if(typeof t=="string"){const n=this.getError(t);P(n,"unknown error","fragment",t),t=n}return P(ve(s,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",s),this._decodeParams(t.inputs,ve(s,4))}encodeErrorResult(t,s){if(typeof t=="string"){const n=this.getError(t);P(n,"unknown error","fragment",t),t=n}return we([t.selector,this._encodeParams(t.inputs,s||[])])}decodeFunctionData(t,s){if(typeof t=="string"){const n=this.getFunction(t);P(n,"unknown function","fragment",t),t=n}return P(ve(s,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",s),this._decodeParams(t.inputs,ve(s,4))}encodeFunctionData(t,s){if(typeof t=="string"){const n=this.getFunction(t);P(n,"unknown function","fragment",t),t=n}return we([t.selector,this._encodeParams(t.inputs,s||[])])}decodeFunctionResult(t,s){if(typeof t=="string"){const r=this.getFunction(t);P(r,"unknown function","fragment",t),t=r}let n="invalid length for result data";const i=Je(s);if(i.length%32===0)try{return this.#n.decode(t.outputs,i)}catch{n="could not decode result data"}$(!1,n,"BAD_DATA",{value:lt(i),info:{method:t.name,signature:t.format()}})}makeError(t,s){const n=Bt(t,"data"),i=Ai.getBuiltinCallException("call",s,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const l=lt(n.slice(0,4)),c=this.getError(l);if(c)try{const u=this.#n.decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(s);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(t,s){if(typeof t=="string"){const n=this.getFunction(t);P(n,"unknown function","fragment",t),t=n}return lt(this.#n.encode(t.outputs,s||[]))}encodeFilterTopics(t,s){if(typeof t=="string"){const r=this.getEvent(t);P(r,"unknown event","eventFragment",t),t=r}$(s.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:s.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const i=(r,a)=>r.type==="string"?yi(a):r.type==="bytes"?Se(lt(a)):(r.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":r.type.match(/^u?int/)?a=Hn(a):r.type.match(/^bytes/)?a=sw(a,32):r.type==="address"&&this.#n.encode(["address"],[a]),yn(lt(a),32));for(s.forEach((r,a)=>{const l=t.inputs[a];if(!l.indexed){P(r==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,r);return}r==null?n.push(null):l.baseType==="array"||l.baseType==="tuple"?P(!1,"filtering with tuples or arrays not supported","contract."+l.name,r):Array.isArray(r)?n.push(r.map(c=>i(l,c))):n.push(i(l,r))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,s){if(typeof t=="string"){const a=this.getEvent(t);P(a,"unknown event","eventFragment",t),t=a}const n=[],i=[],r=[];return t.anonymous||n.push(t.topicHash),P(s.length===t.inputs.length,"event arguments/values mismatch","values",s),t.inputs.forEach((a,l)=>{const c=s[l];if(a.indexed)if(a.type==="string")n.push(yi(c));else if(a.type==="bytes")n.push(Se(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([a.type],[c]))}else i.push(a),r.push(c)}),{data:this.#n.encode(i,r),topics:n}}decodeEventLog(t,s,n){if(typeof t=="string"){const p=this.getEvent(t);P(p,"unknown event","eventFragment",t),t=p}if(n!=null&&!t.anonymous){const p=t.topicHash;P(le(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],r=[],a=[];t.inputs.forEach((p,w)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(ae.from({type:"bytes32",name:p.name})),a.push(!0)):(i.push(p),a.push(!1)):(r.push(p),a.push(!1))});const l=n!=null?this.#n.decode(i,we(n)):null,c=this.#n.decode(r,s,!0),u=[],d=[];let f=0,h=0;return t.inputs.forEach((p,w)=>{let v=null;if(p.indexed)if(l==null)v=new Zd(null);else if(a[w])v=new Zd(l[h++]);else try{v=l[h++]}catch(g){v=g}else try{v=c[f++]}catch(g){v=g}u.push(v),d.push(p.name||null)}),dn.fromItems(u,d)}parseTransaction(t){const s=Bt(t.data,"tx.data"),n=ft(t.value!=null?t.value:0,"tx.value"),i=this.getFunction(lt(s.slice(0,4)));if(!i)return null;const r=this.#n.decode(i.inputs,s.slice(4));return new F3(i,i.selector,r,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const s=this.getEvent(t.topics[0]);return!s||s.anonymous?null:new U3(s,s.topicHash,this.decodeEventLog(s,t.data,t.topics))}parseError(t){const s=lt(t),n=this.getError(ve(s,0,4));if(!n)return null;const i=this.#n.decode(n.inputs,ve(s,4));return new $3(n,n.selector,i)}static from(t){return t instanceof oi?t:typeof t=="string"?new oi(JSON.parse(t)):typeof t.formatJson=="function"?new oi(t.formatJson()):typeof t.format=="function"?new oi(t.format("json")):new oi(t)}}const Cm=BigInt(0);function zi(e){return e??null}function Ce(e){return e==null?null:e.toString()}class ef{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,s,n){At(this,{gasPrice:zi(t),maxFeePerGas:zi(s),maxPriorityFeePerGas:zi(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:s,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Ce(t),maxFeePerGas:Ce(s),maxPriorityFeePerGas:Ce(n)}}}function ra(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=lt(e.data));const s="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of s)!(i in e)||e[i]==null||(t[i]=ft(e[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in e)||e[i]==null||(t[i]=Rt(e[i],`request.${i}`));return e.accessList&&(t.accessList=Ti(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(i=>$c(i)?lt(i):Object.assign({},i))),t}class V3{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#t;constructor(t,s){this.#t=t.transactions.map(n=>typeof n!="string"?new fo(n,s):n),At(this,{provider:s,hash:zi(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:zi(t.prevRandao),extraData:t.extraData,baseFeePerGas:zi(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#t.map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=this.#t.slice();return t.length===0?[]:($(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:s,extraData:n,gasLimit:i,gasUsed:r,hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:w,timestamp:v,transactions:g}=this;return{_type:"Block",baseFeePerGas:Ce(t),difficulty:Ce(s),extraData:n,gasLimit:Ce(i),gasUsed:Ce(r),blobGasUsed:Ce(this.blobGasUsed),excessBlobGas:Ce(this.excessBlobGas),hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,timestamp:v,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:w,transactions:g}}[Symbol.iterator](){let t=0;const s=this.transactions;return{next:()=>t<this.length?{value:s[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#t.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let s;if(typeof t=="number")s=this.#t[t];else{const n=t.toLowerCase();for(const i of this.#t)if(typeof i=="string"){if(i!==n)continue;s=i;break}else{if(i.hash!==n)continue;s=i;break}}if(s==null)throw new Error("no such tx");return typeof s=="string"?await this.provider.getTransaction(s):s}getPrefetchedTransaction(t){const s=this.prefetchedTransactions;if(typeof t=="number")return s[t];t=t.toLowerCase();for(const n of s)if(n.hash===t)return n;P(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return H3(this)}}class uo{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,s){this.provider=s;const n=Object.freeze(t.topics.slice());At(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:s,blockNumber:n,data:i,index:r,removed:a,topics:l,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:t,blockHash:s,blockNumber:n,data:i,index:r,removed:a,topics:l,transactionHash:c,transactionIndex:u}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return $(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return $(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return $(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return j3(this)}}class Tm{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#t;constructor(t,s){this.#t=Object.freeze(t.logs.map(i=>new uo(i,s)));let n=Cm;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&&(n=t.gasPrice),At(this,{provider:s,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:n,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#t}toJSON(){const{to:t,from:s,contractAddress:n,hash:i,index:r,blockHash:a,blockNumber:l,logsBloom:c,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:l,contractAddress:n,cumulativeGasUsed:Ce(this.cumulativeGasUsed),from:s,gasPrice:Ce(this.gasPrice),blobGasUsed:Ce(this.blobGasUsed),blobGasPrice:Ce(this.blobGasPrice),gasUsed:Ce(this.gasUsed),hash:i,index:r,logs:u,logsBloom:c,root:f,status:d,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return _m(this)}reorderedEvent(t){return $(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Sm(this,t)}}class fo{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#t;constructor(t,s){this.provider=s,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,this.#t=-1}toJSON(){const{blockNumber:t,blockHash:s,index:n,hash:i,type:r,to:a,from:l,nonce:c,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:t,blockHash:s,blobVersionedHashes:h,chainId:Ce(this.chainId),data:u,from:l,gasLimit:Ce(this.gasLimit),gasPrice:Ce(this.gasPrice),hash:i,maxFeePerGas:Ce(this.maxFeePerGas),maxPriorityFeePerGas:Ce(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ce(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:n,type:r,value:Ce(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&&(t=n.blockNumber)}if(t==null)return null;const s=this.provider.getBlock(t);if(s==null)throw new Error("TODO");return s}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:s,blockNumber:n}=await Ge({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return s==null||s.blockNumber==null?0:n-s.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,s){const n=t??1,i=s??0;let r=this.#t,a=-1,l=r===-1;const c=async()=>{if(l)return null;const{blockNumber:h,nonce:p}=await Ge({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){r=h;return}if(l)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(a===-1&&(a=r-3,a<this.#t&&(a=this.#t));a<=h;){if(l)return null;const v=await this.provider.getBlock(a,!0);if(v==null)return;for(const g of v)if(g===this.hash)return;for(let g=0;g<v.length;g++){const _=await v.getTransaction(g);if(_.from===this.from&&_.nonce===this.nonce){if(l)return null;const D=await this.provider.getTransactionReceipt(_.hash);if(D==null||h-D.blockNumber+1<n)return;let L="replaced";_.data===this.data&&_.to===this.to&&_.value===this.value?L="repriced":_.data==="0x"&&_.from===_.to&&_.value===Cm&&(L="cancelled"),$(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:L==="replaced"||L==="cancelled",reason:L,replacement:_.replaceableTransaction(r),hash:_.hash,receipt:D})}}a++}},u=h=>{if(h==null||h.status!==0)return h;$(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(d);if(d){if(n===1||await d.confirmations()>=n)return u(d)}else if(await c(),n===0)return null;return await new Promise((h,p)=>{const w=[],v=()=>{w.forEach(_=>_())};if(w.push(()=>{l=!0}),i>0){const _=setTimeout(()=>{v(),p(fe("wait for transaction timeout","TIMEOUT"))},i);w.push(()=>{clearTimeout(_)})}const g=async _=>{if(await _.confirmations()>=n){v();try{h(u(_))}catch(D){p(D)}}};if(w.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),r>=0){const _=async()=>{try{await c()}catch(D){if(Me(D,"TRANSACTION_REPLACED")){v(),p(D);return}}l||this.provider.once("block",_)};w.push(()=>{this.provider.off("block",_)}),this.provider.once("block",_)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return $(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),_m(this)}reorderedEvent(t){return $(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Sm(this,t)}replaceableTransaction(t){P(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const s=new fo(this,this.provider);return s.#t=t,s}}function H3(e){return{orphan:"drop-block",hash:e.hash,number:e.number}}function Sm(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function _m(e){return{orphan:"drop-transaction",tx:e}}function j3(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}class eu extends uo{interface;fragment;args;constructor(t,s,n){super(t,t.provider);const i=s.decodeEventLog(n,t.data,t.topics);At(this,{args:i,fragment:n,interface:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Pm extends uo{error;constructor(t,s){super(t,t.provider),At(this,{error:s})}}class W3 extends Tm{#t;constructor(t,s,n){super(n,s),this.#t=t}get logs(){return super.logs.map(t=>{const s=t.topics.length?this.#t.getEvent(t.topics[0]):null;if(s)try{return new eu(t,this.#t,s)}catch(n){return new Pm(t,n)}return t})}}class su extends fo{#t;constructor(t,s,n){super(n,s),this.#t=t}async wait(t,s){const n=await super.wait(t,s);return n==null?null:new W3(this.#t,this.provider,n)}}class Im extends sp{log;constructor(t,s,n,i){super(t,s,n),At(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class G3 extends Im{constructor(t,s,n,i,r){super(t,s,n,new eu(r,t.interface,i));const a=t.interface.decodeEventLog(i,this.log.data,this.log.topics);At(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const sf=BigInt(0);function xm(e){return e&&typeof e.call=="function"}function Rm(e){return e&&typeof e.estimateGas=="function"}function Da(e){return e&&typeof e.resolveName=="function"}function Nm(e){return e&&typeof e.sendTransaction=="function"}function Dm(e){if(e!=null){if(Da(e))return e;if(e.provider)return e.provider}}class K3{#t;fragment;constructor(t,s,n){if(At(this,{fragment:s}),s.inputs.length<n.length)throw new Error("too many arguments");const i=Ei(t.runner,"resolveName"),r=Da(i)?i:null;this.#t=(async function(){const a=await Promise.all(s.inputs.map((l,c)=>n[c]==null?null:l.walkAsync(n[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>Xe(h,r))):Xe(f,r):f)));return t.interface.encodeFilterTopics(s,a)})()}getTopicFilter(){return this.#t}}function Ei(e,t){return e==null?null:typeof e[t]=="function"?e:e.provider&&typeof e.provider[t]=="function"?e.provider:null}function di(e){return e==null?null:e.provider||null}async function Lm(e,t){const s=be.dereference(e,"overrides");P(typeof s=="object","invalid overrides parameter","overrides",e);const n=ra(s);return P(n.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),P(n.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Y3(e,t,s){const n=Ei(e,"resolveName"),i=Da(n)?n:null;return await Promise.all(t.map((r,a)=>r.walkAsync(s[a],(l,c)=>(c=be.dereference(c,l),l==="address"?Xe(c,i):c))))}function z3(e){const t=async function(a){const l=await Lm(a,["data"]);l.to=await e.getAddress(),l.from&&(l.from=await Xe(l.from,Dm(e.runner)));const c=e.interface,u=ft(l.value||sf,"overrides.value")===sf,d=(l.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&P(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),P(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data);const f=c.receive||c.fallback&&c.fallback.payable;return P(f||u,"cannot send value to non-payable fallback","overrides.value",l.value),P(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data),l},s=async function(a){const l=Ei(e.runner,"call");$(xm(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await t(a);try{return await l.call(c)}catch(u){throw Fc(u)&&u.data?e.interface.makeError(u.data,c):u}},n=async function(a){const l=e.runner;$(Nm(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await l.sendTransaction(await t(a)),u=di(e.runner);return new su(e.interface,u,c)},i=async function(a){const l=Ei(e.runner,"estimateGas");return $(Rm(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await t(a))},r=async a=>await n(a);return At(r,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:s}),r}function Q3(e,t){const s=function(...u){const d=e.interface.getFunction(t,u);return $(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:u}}),d},n=async function(...u){const d=s(...u);let f={};if(d.inputs.length+1===u.length&&(f=await Lm(u.pop()),f.from&&(f.from=await Xe(f.from,Dm(e.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await Y3(e.runner,d.inputs,u);return Object.assign({},f,await Ge({to:e.getAddress(),data:e.interface.encodeFunctionData(d,h)}))},i=async function(...u){const d=await l(...u);return d.length===1?d[0]:d},r=async function(...u){const d=e.runner;$(Nm(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await n(...u)),h=di(e.runner);return new su(e.interface,h,f)},a=async function(...u){const d=Ei(e.runner,"estimateGas");return $(Rm(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...u))},l=async function(...u){const d=Ei(e.runner,"call");$(xm(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...u);let h="0x";try{h=await d.call(f)}catch(w){throw Fc(w)&&w.data?e.interface.makeError(w.data,f):w}const p=s(...u);return e.interface.decodeFunctionResult(p,h)},c=async(...u)=>s(...u).constant?await i(...u):await r(...u);return At(c,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:s,estimateGas:a,populateTransaction:n,send:r,staticCall:i,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=e.interface.getFunction(t);return $(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),u}}),c}function q3(e,t){const s=function(...i){const r=e.interface.getEvent(t,i);return $(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:i}}),r},n=function(...i){return new K3(e,s(...i),i)};return At(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:s}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=e.interface.getEvent(t);return $(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),i}}),n}const oa=Symbol.for("_ethersInternal_contract"),Bm=new WeakMap;function J3(e,t){Bm.set(e[oa],t)}function ds(e){return Bm.get(e[oa])}function Z3(e){return e&&typeof e=="object"&&"getTopicFilter"in e&&typeof e.getTopicFilter=="function"&&e.fragment}async function nu(e,t){let s,n=null;if(Array.isArray(t)){const r=function(a){if(le(a,32))return a;const l=e.interface.getEvent(a);return P(l,"unknown fragment","name",a),l.topicHash};s=t.map(a=>a==null?null:Array.isArray(a)?a.map(r):r(a))}else t==="*"?s=[null]:typeof t=="string"?le(t,32)?s=[t]:(n=e.interface.getEvent(t),P(n,"unknown fragment","event",t),s=[n.topicHash]):Z3(t)?s=await t.getTopicFilter():"fragment"in t?(n=t.fragment,s=[n.topicHash]):P(!1,"unknown event name","event",t);s=s.map(r=>{if(r==null)return null;if(Array.isArray(r)){const a=Array.from(new Set(r.map(l=>l.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return r.toLowerCase()});const i=s.map(r=>r==null?"null":Array.isArray(r)?r.join("|"):r).join("&");return{fragment:n,tag:i,topics:s}}async function wr(e,t){const{subs:s}=ds(e);return s.get((await nu(e,t)).tag)||null}async function nf(e,t,s){const n=di(e.runner);$(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:r,topics:a}=await nu(e,s),{addr:l,subs:c}=ds(e);let u=c.get(r);if(!u){const f={address:l||e,topics:a},h=g=>{let _=i;if(_==null)try{_=e.interface.getEvent(g.topics[0])}catch{}if(_){const D=_,L=i?e.interface.decodeEventLog(i,g.data,g.topics):[];rc(e,s,L,N=>new G3(e,N,s,D,g))}else rc(e,s,[],D=>new Im(e,D,s,g))};let p=[];u={tag:r,listeners:[],start:()=>{p.length||p.push(n.on(f,h))},stop:async()=>{if(p.length==0)return;let g=p;p=[],await Promise.all(g),n.off(f,h)}},c.set(r,u)}return u}let ic=Promise.resolve();async function X3(e,t,s,n){await ic;const i=await wr(e,t);if(!i)return!1;const r=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:l})=>{const c=Array.from(s);n&&c.push(n(l?null:a));try{a.call(e,...c)}catch{}return!l}),i.listeners.length===0&&(i.stop(),ds(e).subs.delete(i.tag)),r>0}async function rc(e,t,s,n){try{await ic}catch{}const i=X3(e,t,s,n);return ic=i,await i}const Io=["then"];class Ir{target;interface;runner;filters;[oa];fallback;constructor(t,s,n,i){P(typeof t=="string"||Vp(t),"invalid value for Contract target","target",t),n==null&&(n=null);const r=oi.from(s);At(this,{target:t,runner:n,interface:r}),Object.defineProperty(this,oa,{value:{}});let a,l=null,c=null;if(i){const f=di(n);c=new su(this.interface,f,i)}let u=new Map;if(typeof t=="string")if(le(t))l=t,a=Promise.resolve(t);else{const f=Ei(n,"resolveName");if(!Da(f))throw fe("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(t).then(h=>{if(h==null)throw fe("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return ds(this).addr=h,h})}else a=t.getAddress().then(f=>{if(f==null)throw new Error("TODO");return ds(this).addr=f,f});J3(this,{addrPromise:a,addr:l,deployTx:c,subs:u});const d=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||Io.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(w){if(!Me(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(f,h)=>Io.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return At(this,{filters:d}),At(this,{fallback:r.receive||r.fallback?z3(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||Io.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(w){if(!Me(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(f,h)=>typeof h=="symbol"||h in f||Io.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new Ir(this.target,this.interface,t)}attach(t){return new Ir(t,this.interface,this.runner)}async getAddress(){return await ds(this).addrPromise}async getDeployedCode(){const t=di(this.runner);$(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const s=await t.getCode(await this.getAddress());return s==="0x"?null:s}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=di(this.runner);return $(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,r)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(l){r(l)}};a()})}deploymentTransaction(){return ds(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),Q3(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),q3(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,s,n){s==null&&(s=0),n==null&&(n="latest");const{addr:i,addrPromise:r}=ds(this),a=i||await r,{fragment:l,topics:c}=await nu(this,t),u={address:a,topics:c,fromBlock:s,toBlock:n},d=di(this.runner);return $(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=l;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new eu(f,this.interface,h)}catch(p){return new Pm(f,p)}return new uo(f,d)})}async on(t,s){const n=await nf(this,"on",t);return n.listeners.push({listener:s,once:!1}),n.start(),this}async once(t,s){const n=await nf(this,"once",t);return n.listeners.push({listener:s,once:!0}),n.start(),this}async emit(t,...s){return await rc(this,t,s,null)}async listenerCount(t){if(t){const i=await wr(this,t);return i?i.listeners.length:0}const{subs:s}=ds(this);let n=0;for(const{listeners:i}of s.values())n+=i.length;return n}async listeners(t){if(t){const i=await wr(this,t);return i?i.listeners.map(({listener:r})=>r):[]}const{subs:s}=ds(this);let n=[];for(const{listeners:i}of s.values())n=n.concat(i.map(({listener:r})=>r));return n}async off(t,s){const n=await wr(this,t);if(!n)return this;if(s){const i=n.listeners.map(({listener:r})=>r).indexOf(s);i>=0&&n.listeners.splice(i,1)}return(s==null||n.listeners.length===0)&&(n.stop(),ds(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const s=await wr(this,t);if(!s)return this;s.stop(),ds(this).subs.delete(s.tag)}else{const{subs:s}=ds(this);for(const{tag:n,stop:i}of s.values())i(),s.delete(n)}return this}async addListener(t,s){return await this.on(t,s)}async removeListener(t,s){return await this.off(t,s)}static buildClass(t){class s extends Ir{constructor(i,r=null){super(i,t,r)}}return s}static from(t,s,n){return n==null&&(n=null),new this(t,s,n)}}function tE(){return Ir}class Ke extends tE(){}function Al(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):P(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class eE{name;constructor(t){At(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,s){throw new Error("unsupported coin")}async decodeAddress(t,s){throw new Error("unsupported coin")}}const Om=new RegExp("^(ipfs)://(.*)$","i"),rf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Om,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Qi{provider;address;name;#t;#e;constructor(t,s,n){At(this,{provider:t,address:s,name:n}),this.#t=null,this.#e=new Ke(s,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return this.#t==null&&(this.#t=(async()=>{try{return await this.#e.supportsInterface("0x9061b923")}catch(t){if(Me(t,"CALL_EXCEPTION"))return!1;throw this.#t=null,t}})()),await this.#t}async#s(t,s){s=(s||[]).slice();const n=this.#e.interface;s.unshift(nc(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(t),$(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),s=[g3(this.name,255),n.encodeFunctionData(i,s)],t="resolve(bytes,bytes)"),s.push({enableCcipRead:!0});try{const r=await this.#e[t](...s);return i?n.decodeFunctionResult(i,r)[0]:r}catch(r){if(!Me(r,"CALL_EXCEPTION"))throw r}return null}async getAddress(t){if(t==null&&(t=60),t===60)try{const r=await this.#s("addr(bytes32)");return r==null||r===Wr?null:r}catch(r){if(Me(r,"CALL_EXCEPTION"))return null;throw r}if(t>=0&&t<2147483648){let r=t+2147483648;const a=await this.#s("addr(bytes32,uint)",[r]);if(le(a,20))return Jt(a)}let s=null;for(const r of this.provider.plugins)if(r instanceof eE&&r.supportsCoinType(t)){s=r;break}if(s==null)return null;const n=await this.#s("addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const i=await s.decodeAddress(t,n);if(i!=null)return i;$(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const s=await this.#s("text(bytes32,string)",[t]);return s==null||s==="0x"?null:s}async getContentHash(){const t=await this.#s("contenthash(bytes32)");if(t==null||t==="0x")return null;const s=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(s){const i=s[1]==="e3010170"?"ipfs":"ipns",r=parseInt(s[4],16);if(s[5].length===r*2)return`${i}://${iw("0x"+s[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;$(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const s=await this.getText("avatar");if(s==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:s});for(let n=0;n<rf.length;n++){const i=s.match(rf[n]);if(i==null)continue;const r=i[1].toLowerCase();switch(r){case"https":case"data":return t.push({type:"url",value:s}),{linkage:t,url:s};case"ipfs":{const a=Al(s);return t.push({type:"ipfs",value:s}),t.push({type:"url",value:a}),{linkage:t,url:a}}case"erc721":case"erc1155":{const a=r==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:r,value:s});const l=await this.getAddress();if(l==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(i[2]||"").split("/");if(c.length!==2)return t.push({type:`!${r}caip`,value:i[2]||""}),{url:null,linkage:t};const u=c[1],d=new Ke(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(r==="erc721"){const v=await d.ownerOf(u);if(l!==v)return t.push({type:"!owner",value:v}),{url:null,linkage:t};t.push({type:"owner",value:v})}else if(r==="erc1155"){const v=await d.balanceOf(l,u);if(!v)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:v.toString()})}let f=await d[a](u);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),r==="erc1155"&&(f=f.replace("{id}",Hn(u,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=Al(f)),t.push({type:"metadata-url",value:f});let h={};const p=await new bn(f).send();p.assertOk();try{h=p.bodyJson}catch{try{t.push({type:"!metadata",value:p.bodyText})}catch{const _=p.body;return _&&t.push({type:"!metadata",value:lt(_)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let w=h.image;if(typeof w!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(Om)==null)return t.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:w}),w=Al(w)}return t.push({type:"url",value:w}),{linkage:t,url:w}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const s=await t.getNetwork(),n=s.getPlugin("org.ethers.plugins.network.Ens");return $(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:s}}),n.address}static async#n(t,s){const n=await Qi.getEnsAddress(t);try{const r=await new Ke(n,["function resolver(bytes32) view returns (address)"],t).resolver(nc(s),{enableCcipRead:!0});return r===Wr?null:r}catch(i){throw i}return null}static async fromName(t,s){let n=s;for(;;){if(n===""||n==="."||s!=="eth"&&n==="eth")return null;const i=await Qi.#n(t,n);if(i!=null){const r=new Qi(t,i,s);return n!==s&&!await r.supportsWildcard()?null:r}n=n.split(".").slice(1).join(".")}}}const of=BigInt(0);function Ft(e,t){return(function(s){return s==null?t:e(s)})}function qr(e,t){return(s=>{if(t&&s==null)return null;if(!Array.isArray(s))throw new Error("not an array");return s.map(n=>e(n))})}function ho(e,t){return(s=>{const n={};for(const i in e){let r=i;if(t&&i in t&&!(r in s)){for(const a of t[i])if(a in s){r=a;break}}try{const a=e[i](s[r]);a!==void 0&&(n[i]=a)}catch(a){const l=a instanceof Error?a.message:"not-an-error";$(!1,`invalid value for value.${i} (${l})`,"BAD_DATA",{value:s})}}return n})}function sE(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}P(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}function nr(e){return P(le(e,!0),"invalid data","value",e),e}function Oe(e){return P(le(e,32),"invalid hash","value",e),e}const nE=ho({address:Jt,blockHash:Oe,blockNumber:Rt,data:nr,index:Rt,removed:Ft(sE,!1),topics:qr(Oe),transactionHash:Oe,transactionIndex:Rt},{index:["logIndex"]});function iE(e){return nE(e)}const rE=ho({hash:Ft(Oe),parentHash:Oe,parentBeaconBlockRoot:Ft(Oe,null),number:Rt,timestamp:Rt,nonce:Ft(nr),difficulty:ft,gasLimit:ft,gasUsed:ft,stateRoot:Ft(Oe,null),receiptsRoot:Ft(Oe,null),blobGasUsed:Ft(ft,null),excessBlobGas:Ft(ft,null),miner:Ft(Jt),prevRandao:Ft(Oe,null),extraData:nr,baseFeePerGas:Ft(ft)},{prevRandao:["mixHash"]});function oE(e){const t=rE(e);return t.transactions=e.transactions.map(s=>typeof s=="string"?s:Mm(s)),t}const aE=ho({transactionIndex:Rt,blockNumber:Rt,transactionHash:Oe,address:Jt,topics:qr(Oe),data:nr,index:Rt,blockHash:Oe},{index:["logIndex"]});function lE(e){return aE(e)}const cE=ho({to:Ft(Jt,null),from:Ft(Jt,null),contractAddress:Ft(Jt,null),index:Rt,root:Ft(lt),gasUsed:ft,blobGasUsed:Ft(ft,null),logsBloom:Ft(nr),blockHash:Oe,hash:Oe,logs:qr(lE),blockNumber:Rt,cumulativeGasUsed:ft,effectiveGasPrice:Ft(ft),blobGasPrice:Ft(ft,null),status:Ft(Rt),type:Ft(Rt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function uE(e){return cE(e)}function Mm(e){e.to&&ft(e.to)===of&&(e.to="0x0000000000000000000000000000000000000000");const t=ho({hash:Oe,index:Ft(Rt,void 0),type:s=>s==="0x"||s==null?0:Rt(s),accessList:Ft(Ti,null),blobVersionedHashes:Ft(qr(Oe,!0),null),authorizationList:Ft(qr(s=>{let n;if(s.signature)n=s.signature;else{let i=s.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},s,{yParity:i})}return{address:Jt(s.address),chainId:ft(s.chainId),nonce:ft(s.nonce),signature:ye.from(n)}},!1),null),blockHash:Ft(Oe,null),blockNumber:Ft(Rt,null),transactionIndex:Ft(Rt,null),from:Jt,gasPrice:Ft(ft),maxPriorityFeePerGas:Ft(ft),maxFeePerGas:Ft(ft),maxFeePerBlobGas:Ft(ft,null),gasLimit:ft,to:Ft(Jt,null),value:ft,nonce:Rt,data:nr,creates:Ft(Jt,null),chainId:Ft(ft,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(t.to==null&&t.creates==null&&(t.creates=ZA(t)),(e.type===1||e.type===2)&&e.accessList==null&&(t.accessList=[]),e.signature?t.signature=ye.from(e.signature):t.signature=ye.from(e),t.chainId==null){const s=t.signature.legacyChainId;s!=null&&(t.chainId=s)}return t.blockHash&&ft(t.blockHash)===of&&(t.blockHash=null),t}const dE="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class po{name;constructor(t){At(this,{name:t})}clone(){return new po(this.name)}}class La extends po{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,s){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const n={effectiveBlock:t};function i(r,a){let l=(s||{})[r];l==null&&(l=a),P(typeof l=="number",`invalud value for ${r}`,"costs",s),n[r]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),At(this,n)}clone(){return new La(this.effectiveBlock,this)}}class Ba extends po{address;targetNetwork;constructor(t,s){super("org.ethers.plugins.network.Ens"),At(this,{address:t||dE,targetNetwork:s??1})}clone(){return new Ba(this.address,this.targetNetwork)}}class fE extends po{#t;#e;get url(){return this.#t}get processFunc(){return this.#e}constructor(t,s){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#t=t,this.#e=s}clone(){return this}}const El=new Map;class ps{#t;#e;#s;constructor(t,s){this.#t=t,this.#e=ft(s),this.#s=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(t){this.#t=t}get chainId(){return this.#e}set chainId(t){this.#e=ft(t,"chainId")}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===ft(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===ft(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===ft(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(this.#s.values())}attachPlugin(t){if(this.#s.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#s.set(t.name,t.clone()),this}getPlugin(t){return this.#s.get(t)||null}getPlugins(t){return this.plugins.filter(s=>s.name.split("#")[0]===t)}clone(){const t=new ps(this.name,this.chainId);return this.plugins.forEach(s=>{t.attachPlugin(s.clone())}),t}computeIntrinsicGas(t){const s=this.getPlugin("org.ethers.plugins.network.GasCost")||new La;let n=s.txBase;if(t.to==null&&(n+=s.txCreate),t.data)for(let i=2;i<t.data.length;i+=2)t.data.substring(i,i+2)==="00"?n+=s.txDataZero:n+=s.txDataNonzero;if(t.accessList){const i=Ti(t.accessList);for(const r in i)n+=s.txAccessListAddress+s.txAccessListStorageKey*i[r].storageKeys.length}return n}static from(t){if(hE(),t==null)return ps.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const s=El.get(t);if(s)return s();if(typeof t=="bigint")return new ps("unknown",t);P(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){P(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const s=new ps(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&s.attachPlugin(new Ba(t.ensAddress,t.ensNetwork)),s}P(!1,"invalid network","network",t)}static register(t,s){typeof t=="number"&&(t=BigInt(t));const n=El.get(t);n&&P(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),El.set(t,s)}}function af(e,t){const s=String(e);if(!s.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=s.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function lf(e){return new fE(e,async(t,s,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[r,a]=await Promise.all([n.send(),t()]);i=r;const l=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:af(l.maxFee,9),maxPriorityFeePerGas:af(l.maxPriorityFee,9)}}catch(r){$(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:r})}})}let cf=!1;function hE(){if(cf)return;cf=!0;function e(t,s,n){const i=function(){const r=new ps(t,s);return n.ensNetwork!=null&&r.attachPlugin(new Ba(null,n.ensNetwork)),r.attachPlugin(new La),(n.plugins||[]).forEach(a=>{r.attachPlugin(a)}),r};ps.register(t,i),ps.register(s,i),n.altNames&&n.altNames.forEach(r=>{ps.register(r,i)})}e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[lf("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[lf("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}function oc(e){return JSON.parse(JSON.stringify(e))}class pE{#t;#e;#s;#n;constructor(t){this.#t=t,this.#e=null,this.#s=4e3,this.#n=-2}get pollingInterval(){return this.#s}set pollingInterval(t){this.#s=t}async#i(){try{const t=await this.#t.getBlockNumber();if(this.#n===-2){this.#n=t;return}if(t!==this.#n){for(let s=this.#n+1;s<=t;s++){if(this.#e==null)return;await this.#t.emit("block",s)}this.#n=t}}catch{}this.#e!=null&&(this.#e=this.#t._setTimeout(this.#i.bind(this),this.#s))}start(){this.#e||(this.#e=this.#t._setTimeout(this.#i.bind(this),this.#s),this.#i())}stop(){this.#e&&(this.#t._clearTimeout(this.#e),this.#e=null)}pause(t){this.stop(),t&&(this.#n=-2)}resume(){this.start()}}class iu{#t;#e;#s;constructor(t){this.#t=t,this.#s=!1,this.#e=s=>{this._poll(s,this.#t)}}async _poll(t,s){throw new Error("sub-classes must override this")}start(){this.#s||(this.#s=!0,this.#e(-2),this.#t.on("block",this.#e))}stop(){this.#s&&(this.#s=!1,this.#t.off("block",this.#e))}pause(t){this.stop()}resume(){this.start()}}class mE extends iu{#t;#e;constructor(t,s){super(t),this.#t=s,this.#e=-2}pause(t){t&&(this.#e=-2),super.pause(t)}async _poll(t,s){const n=await s.getBlock(this.#t);n!=null&&(this.#e===-2?this.#e=n.number:n.number>this.#e&&(s.emit(this.#t,n.number),this.#e=n.number))}}class gE extends iu{#t;constructor(t,s){super(t),this.#t=oc(s)}async _poll(t,s){throw new Error("@TODO")}}class vE extends iu{#t;constructor(t,s){super(t),this.#t=s}async _poll(t,s){const n=await s.getTransactionReceipt(this.#t);n&&s.emit(this.#t,n)}}class ru{#t;#e;#s;#n;#i;constructor(t,s){this.#t=t,this.#e=oc(s),this.#s=this.#o.bind(this),this.#n=!1,this.#i=-2}async#o(t){if(this.#i===-2)return;const s=oc(this.#e);s.fromBlock=this.#i+1,s.toBlock=t;const n=await this.#t.getLogs(s);if(n.length===0){this.#i<t-60&&(this.#i=t-60);return}for(const i of n)this.#t.emit(this.#e,i),this.#i=i.blockNumber}start(){this.#n||(this.#n=!0,this.#i===-2&&this.#t.getBlockNumber().then(t=>{this.#i=t}),this.#t.on("block",this.#s))}stop(){this.#n&&(this.#n=!1,this.#t.off("block",this.#s))}pause(t){this.stop(),t&&(this.#i=-2)}resume(){this.start()}}const yE=BigInt(2),bE=10;function xo(e){return e&&typeof e.then=="function"}function Uo(e,t){return e+":"+JSON.stringify(t,(s,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((r,a)=>(r[a]=n[a],r),{})}return n})}class Um{name;constructor(t){At(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function wE(e){return JSON.parse(JSON.stringify(e))}function ac(e){return e=Array.from(new Set(e).values()),e.sort(),e}async function kl(e,t){if(e==null)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),typeof e=="string")switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(le(e,32)){const s=e.toLowerCase();return{type:"transaction",tag:Uo("tx",{hash:s}),hash:s}}if(e.orphan){const s=e;return{type:"orphan",tag:Uo("orphan",s),filter:wE(s)}}if(e.address||e.topics){const s=e,n={topics:(s.topics||[]).map(i=>i==null?null:Array.isArray(i)?ac(i.map(r=>r.toLowerCase())):i.toLowerCase())};if(s.address){const i=[],r=[],a=l=>{le(l)?i.push(l):r.push((async()=>{i.push(await Xe(l,t))})())};Array.isArray(s.address)?s.address.forEach(a):a(s.address),r.length&&await Promise.all(r),n.address=ac(i.map(l=>l.toLowerCase()))}return{filter:n,tag:Uo("event",n),type:"event"}}P(!1,"unknown ProviderEvent","event",e)}function Cl(){return new Date().getTime()}const AE={cacheTimeout:250,pollingInterval:4e3};class EE{#t;#e;#s;#n;#i;#o;#r;#a;#d;#c;#p;#m;constructor(t,s){if(this.#m=Object.assign({},AE,s||{}),t==="any")this.#o=!0,this.#i=null;else if(t){const n=ps.from(t);this.#o=!1,this.#i=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#o=!1,this.#i=null;this.#a=-1,this.#r=new Map,this.#t=new Map,this.#e=new Map,this.#s=null,this.#n=!1,this.#d=1,this.#c=new Map,this.#p=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#e.values())}attachPlugin(t){if(this.#e.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#e.set(t.name,t.connect(this)),this}getPlugin(t){return this.#e.get(t)||null}get disableCcipRead(){return this.#p}set disableCcipRead(t){this.#p=!!t}async#l(t){const s=this.#m.cacheTimeout;if(s<0)return await this._perform(t);const n=Uo(t.method,t);let i=this.#r.get(n);return i||(i=this._perform(t),this.#r.set(n,i),setTimeout(()=>{this.#r.get(n)===i&&this.#r.delete(n)},s)),await i}async ccipReadFetch(t,s,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const i=t.to.toLowerCase(),r=s.toLowerCase(),a=[];for(let l=0;l<n.length;l++){const c=n[l],u=c.replace("{sender}",i).replace("{data}",r),d=new bn(u);c.indexOf("{data}")===-1&&(d.body={data:r,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:l,urls:n});let f="unknown error",h;try{h=await d.send()}catch(p){a.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:p}});continue}try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:p})}catch{}$(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:c,errorMessage:f}}),a.push(f)}$(!1,`error encountered during CCIP fetch: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:a}})}_wrapBlock(t,s){return new V3(oE(t),this)}_wrapLog(t,s){return new uo(iE(t),this)}_wrapTransactionReceipt(t,s){return new Tm(uE(t),this)}_wrapTransactionResponse(t,s){return new fo(Mm(t),this)}_detectNetwork(){$(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){$(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=Rt(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=t),t}_getAddress(t){return Xe(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(le(t))return le(t,32)?t:Rs(t);if(typeof t=="bigint"&&(t=Rt(t,"blockTag")),typeof t=="number")return t>=0?Rs(t):this.#a>=0?Rs(this.#a+t):this.getBlockNumber().then(s=>Rs(s+t));P(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const s=(t.topics||[]).map(c=>c==null?null:Array.isArray(c)?ac(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,i=(c,u,d)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),s.length&&(h.topics=s),u&&(h.fromBlock=u),d&&(h.toBlock=d),n&&(h.blockHash=n),h};let r=[];if(t.address)if(Array.isArray(t.address))for(const c of t.address)r.push(this._getAddress(c));else r.push(this._getAddress(t.address));let a;"fromBlock"in t&&(a=this._getBlockTag(t.fromBlock));let l;return"toBlock"in t&&(l=this._getBlockTag(t.toBlock)),r.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(r),a,l]).then(c=>i(c[0],c[1],c[2])):i(r,a,l)}_getTransactionRequest(t){const s=ra(t),n=[];if(["to","from"].forEach(i=>{if(s[i]==null)return;const r=Xe(s[i],this);xo(r)?n.push((async function(){s[i]=await r})()):s[i]=r}),s.blockTag!=null){const i=this._getBlockTag(s.blockTag);xo(i)?n.push((async function(){s.blockTag=await i})()):s.blockTag=i}return n.length?(async function(){return await Promise.all(n),s})():s}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const r=await this._detectNetwork();return this.emit("network",r,null),r}catch(r){throw this.#i===i&&(this.#i=null),r}})();return this.#i=i,(await i).clone()}const t=this.#i,[s,n]=await Promise.all([t,this._detectNetwork()]);return s.chainId!==n.chainId&&(this.#o?(this.emit("network",n,s),this.#i===t&&(this.#i=Promise.resolve(n))):$(!1,`network changed: ${s.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),s.clone()}async getFeeData(){const t=await this.getNetwork(),s=async()=>{const{_block:i,gasPrice:r,priorityFee:a}=await Ge({_block:this.#v("latest",!1),gasPrice:(async()=>{try{const d=await this.#l({method:"getGasPrice"});return ft(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await this.#l({method:"getPriorityFee"});return ft(d,"%response")}catch{}return null})()});let l=null,c=null;const u=this._wrapBlock(i,t);return u&&u.baseFeePerGas&&(c=a??BigInt("1000000000"),l=u.baseFeePerGas*yE+c),new ef(r,l,c)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new bn(n.url),r=await n.processFunc(s,this,i);return new ef(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await s()}async estimateGas(t){let s=this._getTransactionRequest(t);return xo(s)&&(s=await s),ft(await this.#l({method:"estimateGas",transaction:s}),"%response")}async#u(t,s,n){$(n<bE,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:s,enableCcipRead:!0})});const i=ra(t);try{return lt(await this._perform({method:"call",transaction:i,blockTag:s}))}catch(r){if(!this.disableCcipRead&&Fc(r)&&r.data&&n>=0&&s==="latest"&&i.to!=null&&ve(r.data,0,4)==="0x556f1830"){const a=r.data,l=await Xe(i.to,this);let c;try{c=_E(ve(r.data,4))}catch(f){$(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}$(c.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);$(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:r.data,errorArgs:c.errorArgs}});const d={to:l,data:we([c.selector,SE([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await this.#u(d,s,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw r}}async#f(t){const{value:s}=await Ge({network:this.getNetwork(),value:t});return s}async call(t){const{tx:s,blockTag:n}=await Ge({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#f(this.#u(s,n,t.enableCcipRead?0:-1))}async#h(t,s,n){let i=this._getAddress(s),r=this._getBlockTag(n);return(typeof i!="string"||typeof r!="string")&&([i,r]=await Promise.all([i,r])),await this.#f(this.#l(Object.assign(t,{address:i,blockTag:r})))}async getBalance(t,s){return ft(await this.#h({method:"getBalance"},t,s),"%response")}async getTransactionCount(t,s){return Rt(await this.#h({method:"getTransactionCount"},t,s),"%response")}async getCode(t,s){return lt(await this.#h({method:"getCode"},t,s))}async getStorage(t,s,n){const i=ft(s,"position");return lt(await this.#h({method:"getStorage",position:i},t,n))}async broadcastTransaction(t){const{blockNumber:s,hash:n,network:i}=await Ge({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),r=xs.from(t);if(r.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(r,i).replaceableTransaction(s)}async#v(t,s){if(le(t,32))return await this.#l({method:"getBlock",blockHash:t,includeTransactions:s});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await this.#l({method:"getBlock",blockTag:n,includeTransactions:s})}async getBlock(t,s){const{network:n,params:i}=await Ge({network:this.getNetwork(),params:this.#v(t,!!s)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(t){const{network:s,params:n}=await Ge({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,s)}async getTransactionReceipt(t){const{network:s,params:n}=await Ge({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:t});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,s)}async getTransactionResult(t){const{result:s}=await Ge({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:t})});return s==null?null:lt(s)}async getLogs(t){let s=this._getFilter(t);xo(s)&&(s=await s);const{network:n,params:i}=await Ge({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:s})});return i.map(r=>this._wrapLog(r,n))}_getProvider(t){$(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Qi.fromName(this,t)}async getAvatar(t){const s=await this.getResolver(t);return s?await s.getAvatar():null}async resolveName(t){const s=await this.getResolver(t);return s?await s.getAddress():null}async lookupAddress(t){t=Jt(t);const s=nc(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await Qi.getEnsAddress(this),r=await new Ke(n,["function resolver(bytes32) view returns (address)"],this).resolver(s);if(r==null||r===Wr)return null;const l=await new Ke(r,["function name(bytes32) view returns (string)"],this).name(s);return await this.resolveName(l)!==t?null:l}catch(n){if(Me(n,"BAD_DATA")&&n.value==="0x"||Me(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,s,n){const i=s??1;return i===0?this.getTransactionReceipt(t):new Promise(async(r,a)=>{let l=null;const c=(async u=>{try{const d=await this.getTransactionReceipt(t);if(d!=null&&u-d.blockNumber+1>=i){r(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)});n!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c),a(fe("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(t){$(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const s=this.#c.get(t);s&&(s.timer&&clearTimeout(s.timer),this.#c.delete(t))}_setTimeout(t,s){s==null&&(s=0);const n=this.#d++,i=()=>{this.#c.delete(n),t()};if(this.paused)this.#c.set(n,{timer:null,func:i,time:s});else{const r=setTimeout(i,s);this.#c.set(n,{timer:r,func:i,time:Cl()})}return n}_forEachSubscriber(t){for(const s of this.#t.values())t(s.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Um(t.type);case"block":{const s=new pE(this);return s.pollingInterval=this.pollingInterval,s}case"safe":case"finalized":return new mE(this,t.type);case"event":return new ru(this,t.filter);case"transaction":return new vE(this,t.hash);case"orphan":return new gE(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,s){for(const n of this.#t.values())if(n.subscriber===t){n.started&&n.subscriber.stop(),n.subscriber=s,n.started&&s.start(),this.#s!=null&&s.pause(this.#s);break}}async#g(t,s){let n=await kl(t,this);return n.type==="event"&&s&&s.length>0&&s[0].removed===!0&&(n=await kl({orphan:"drop-log",log:s[0]},this)),this.#t.get(n.tag)||null}async#y(t){const s=await kl(t,this),n=s.tag;let i=this.#t.get(n);return i||(i={subscriber:this._getSubscriber(s),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#t.set(n,i)),i}async on(t,s){const n=await this.#y(t);return n.listeners.push({listener:s,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#s!=null&&n.subscriber.pause(this.#s)),this}async once(t,s){const n=await this.#y(t);return n.listeners.push({listener:s,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#s!=null&&n.subscriber.pause(this.#s)),this}async emit(t,...s){const n=await this.#g(t,s);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:r,once:a})=>{const l=new sp(this,a?null:r,t);try{r.call(this,...s,l)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#t.delete(n.tag)),i>0}async listenerCount(t){if(t){const n=await this.#g(t);return n?n.listeners.length:0}let s=0;for(const{listeners:n}of this.#t.values())s+=n.length;return s}async listeners(t){if(t){const n=await this.#g(t);return n?n.listeners.map(({listener:i})=>i):[]}let s=[];for(const{listeners:n}of this.#t.values())s=s.concat(n.map(({listener:i})=>i));return s}async off(t,s){const n=await this.#g(t);if(!n)return this;if(s){const i=n.listeners.map(({listener:r})=>r).indexOf(s);i>=0&&n.listeners.splice(i,1)}return(!s||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#t.delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:s,started:n,subscriber:i}=await this.#y(t);n&&i.stop(),this.#t.delete(s)}else for(const[s,{started:n,subscriber:i}]of this.#t)n&&i.stop(),this.#t.delete(s);return this}async addListener(t,s){return await this.on(t,s)}async removeListener(t,s){return this.off(t,s)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const t of this.#c.keys())this._clearTimeout(t);this.#n=!0}get paused(){return this.#s!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#a=-1,this.#s!=null){if(this.#s==!!t)return;$(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(s=>s.pause(t)),this.#s=!!t;for(const s of this.#c.values())s.timer&&clearTimeout(s.timer),s.time=Cl()-s.time}resume(){if(this.#s!=null){this._forEachSubscriber(t=>t.resume()),this.#s=null;for(const t of this.#c.values()){let s=t.time;s<0&&(s=0),t.time=Cl(),setTimeout(t.func,s)}}}}function kE(e,t){try{const s=lc(e,t);if(s)return Zo(s)}catch{}return null}function lc(e,t){if(e==="0x")return null;try{const s=Rt(ve(e,t,t+32)),n=Rt(ve(e,s,s+32));return ve(e,s+32,s+32+n)}catch{}return null}function uf(e){const t=xe(e);if(t.length>32)throw new Error("internal; should not happen");const s=new Uint8Array(32);return s.set(t,32-t.length),s}function CE(e){if(e.length%32===0)return e;const t=new Uint8Array(Math.ceil(e.length/32)*32);return t.set(e),t}const TE=new Uint8Array([]);function SE(e){const t=[];let s=0;for(let n=0;n<e.length;n++)t.push(TE),s+=32;for(let n=0;n<e.length;n++){const i=Bt(e[n]);t[n]=uf(s),t.push(uf(i.length)),t.push(CE(i)),s+=32+Math.ceil(i.length/32)*32}return we(t)}const df="0x0000000000000000000000000000000000000000000000000000000000000000";function _E(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};$(Gi(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const s=ve(e,0,32);$(ve(s,0,12)===ve(df,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=ve(s,12);try{const n=[],i=Rt(ve(e,32,64)),r=Rt(ve(e,i,i+32)),a=ve(e,i+32);for(let l=0;l<r;l++){const c=kE(a,l*32);if(c==null)throw new Error("abort");n.push(c)}t.urls=n}catch{$(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=lc(e,64);if(n==null)throw new Error("abort");t.calldata=n}catch{$(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}$(ve(e,100,128)===ve(df,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=ve(e,96,100);try{const n=lc(e,128);if(n==null)throw new Error("abort");t.extraData=n}catch{$(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>t[n]),t}function ti(e,t){if(e.provider)return e.provider;$(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function ff(e,t){let s=ra(t);if(s.to!=null&&(s.to=Xe(s.to,e)),s.from!=null){const n=s.from;s.from=Promise.all([e.getAddress(),Xe(n,e)]).then(([i,r])=>(P(i.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),i))}else s.from=e.getAddress();return await Ge(s)}class PE{provider;constructor(t){At(this,{provider:t||null})}async getNonce(t){return ti(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await ff(this,t)}async populateTransaction(t){const s=ti(this,"populateTransaction"),n=await ff(this,t);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const a=ft(n.chainId);P(a===i.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=i.chainId;const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?P(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&&r&&P(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await s.getFeeData();$(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await s.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const l=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=l,n.maxPriorityFeePerGas=l}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?($(!r,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):$(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Ge(n)}async populateAuthorization(t){const s=Object.assign({},t);return s.chainId==null&&(s.chainId=(await ti(this,"getNetwork").getNetwork()).chainId),s.nonce==null&&(s.nonce=await this.getNonce()),s}async estimateGas(t){return ti(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return ti(this,"call").call(await this.populateCall(t))}async resolveName(t){return await ti(this,"resolveName").resolveName(t)}async sendTransaction(t){const s=ti(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const i=xs.from(n);return await s.broadcastTransaction(await this.signTransaction(i))}authorize(t){$(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function IE(e){return JSON.parse(JSON.stringify(e))}class Fm{#t;#e;#s;#n;#i;#o;constructor(t){this.#t=t,this.#e=null,this.#s=this.#r.bind(this),this.#n=!1,this.#i=null,this.#o=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,s){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#r(t){try{this.#e==null&&(this.#e=this._subscribe(this.#t));let s=null;try{s=await this.#e}catch(r){if(!Me(r,"UNSUPPORTED_OPERATION")||r.operation!=="eth_newFilter")throw r}if(s==null){this.#e=null,this.#t._recoverSubscriber(this,this._recover(this.#t));return}const n=await this.#t.getNetwork();if(this.#i||(this.#i=n),this.#i.chainId!==n.chainId)throw new Error("chaid changed");if(this.#o)return;const i=await this.#t.send("eth_getFilterChanges",[s]);await this._emitResults(this.#t,i)}catch(s){console.log("@TODO",s)}this.#t.once("block",this.#s)}#a(){const t=this.#e;t&&(this.#e=null,t.then(s=>{this.#t.destroyed||this.#t.send("eth_uninstallFilter",[s])}))}start(){this.#n||(this.#n=!0,this.#r(-2))}stop(){this.#n&&(this.#n=!1,this.#o=!0,this.#a(),this.#t.off("block",this.#s))}pause(t){t&&this.#a(),this.#t.off("block",this.#s)}resume(){this.start()}}class xE extends Fm{#t;constructor(t,s){super(t),this.#t=IE(s)}_recover(t){return new ru(t,this.#t)}async _subscribe(t){return await t.send("eth_newFilter",[this.#t])}async _emitResults(t,s){for(const n of s)t.emit(this.#t,t._wrapLog(n,t._network))}}class RE extends Fm{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,s){for(const n of s)t.emit("pending",n)}}const NE="bigint,boolean,function,number,string,symbol".split(/,/g);function Fo(e){if(e==null||NE.indexOf(typeof e)>=0||typeof e.getAddress=="function")return e;if(Array.isArray(e))return e.map(Fo);if(typeof e=="object")return Object.keys(e).reduce((t,s)=>(t[s]=e[s],t),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function DE(e){return new Promise(t=>{setTimeout(t,e)})}function Di(e){return e&&e.toLowerCase()}function hf(e){return e&&typeof e.pollingInterval=="number"}const $m={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Tl extends PE{address;constructor(t,s){super(t),s=Jt(s),At(this,{address:s})}connect(t){$(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const s=Fo(t),n=[];if(s.from){const r=s.from;n.push((async()=>{const a=await Xe(r,this.provider);P(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),s.from=a})())}else s.from=this.address;if(s.gasLimit==null&&n.push((async()=>{s.gasLimit=await this.provider.estimateGas({...s,from:this.address})})()),s.to!=null){const r=s.to;n.push((async()=>{s.to=await Xe(r,this.provider)})())}n.length&&await Promise.all(n);const i=this.provider.getRpcTransaction(s);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){const s=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(t);return await new Promise((i,r)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(n);if(u!=null){i(u.replaceableTransaction(s));return}}catch(u){if(Me(u,"CANCELLED")||Me(u,"BAD_DATA")||Me(u,"NETWORK_ERROR")||Me(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=n,r(u);return}if(Me(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=n,l>10)){r(u);return}this.provider.emit("error",fe("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(t){const s=Fo(t);if(s.from){const i=await Xe(s.from,this.provider);P(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),s.from=i}else s.from=this.address;const n=this.provider.getRpcTransaction(s);return await this.provider.send("eth_signTransaction",[n])}async signMessage(t){const s=typeof t=="string"?pn(t):t;return await this.provider.send("personal_sign",[lt(s),this.address.toLowerCase()])}async signTypedData(t,s,n){const i=Fo(n),r=await us.resolveNames(t,s,i,async a=>{const l=await Xe(a);return P(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(us.getPayload(r.domain,s,r.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const s=typeof t=="string"?pn(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),lt(s)])}}class LE extends EE{#t;#e;#s;#n;#i;#o;#r;#a(){if(this.#n)return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const s=this.#s;for(this.#s=[];s.length;){const n=[s.shift()];for(;s.length&&n.length!==this.#t.batchMaxCount;)if(n.push(s.shift()),JSON.stringify(n.map(r=>r.payload)).length>this.#t.batchMaxSize){s.unshift(n.pop());break}(async()=>{const i=n.length===1?n[0].payload:n.map(r=>r.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const r=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:a,reject:l,payload:c}of n){if(this.destroyed){l(fe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=r.filter(d=>d.id===c.id)[0];if(u==null){const d=fe("missing response for request","BAD_DATA",{value:r,info:{payload:c}});this.emit("error",d),l(d);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(r){this.emit("debug",{action:"receiveRpcError",error:r});for(const{reject:a}of n)a(r)}})()}},t)}constructor(t,s){super(t,s),this.#e=1,this.#t=Object.assign({},$m,s||{}),this.#s=[],this.#n=null,this.#o=null,this.#r=null;{let i=null;const r=new Promise(a=>{i=a});this.#i={promise:r,resolve:i}}const n=this._getOption("staticNetwork");typeof n=="boolean"?(P(!n||t!=="any","staticNetwork cannot be used on special network 'any'","options",s),n&&t!=null&&(this.#o=ps.from(t))):n&&(P(t==null||n.matches(t),"staticNetwork MUST match network object","options",s),this.#o=n)}_getOption(t){return this.#t[t]}get _network(){return $(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let n=t.transaction;if(n&&n.type!=null&&ft(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},n,{type:void 0})}))}}const s=this.getRpcRequest(t);return s!=null?await this.send(s.method,s.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(this.#o)return this.#o}else return t;return this.#r?await this.#r:this.ready?(this.#r=(async()=>{try{const s=ps.from(ft(await this.send("eth_chainId",[])));return this.#r=null,s}catch(s){throw this.#r=null,s}})(),await this.#r):(this.#r=(async()=>{const s={id:this.#e++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:s});let n;try{n=(await this._send(s))[0],this.#r=null}catch(i){throw this.#r=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return ps.from(ft(n.result));throw this.getRpcError(s,n)})(),await this.#r)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",fe("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await DE(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(t){return t.type==="pending"?new RE(this):t.type==="event"?this._getOption("polling")?new ru(this,t.filter):new xE(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new Um("orphan"):super._getSubscriber(t)}get ready(){return this.#i==null}getRpcTransaction(t){const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(t[n]==null)return;let i=n;n==="gasLimit"&&(i="gas"),s[i]=Rs(ft(t[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{t[n]!=null&&(s[n]=lt(t[n]))}),t.accessList&&(s.accessList=Ti(t.accessList)),t.blobVersionedHashes&&(s.blobVersionedHashes=t.blobVersionedHashes.map(n=>n.toLowerCase())),t.authorizationList&&(s.authorizationList=t.authorizationList.map(n=>{const i=Gp(n);return{address:i.address,nonce:Rs(i.nonce),chainId:Rs(i.chainId),yParity:Rs(i.signature.yParity),r:Rs(i.signature.r),s:Rs(i.signature.s)}})),s}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Di(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Di(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Di(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Di(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Di):t.filter.address=Di(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,s){const{method:n}=t,{error:i}=s;if(n==="eth_estimateGas"&&i.message){const l=i.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return fe("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}});if(l.match(/nonce/i)&&l.match(/too low/i))return fe("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:i}})}if(n==="eth_call"||n==="eth_estimateGas"){const l=cc(i),c=Ai.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",t.params[0],l?l.data:null);return c.info={error:i,payload:t},c}const r=JSON.stringify(OE(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return fe("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:t,error:i}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const l=t.params[0];if(r.match(/insufficient funds|base fee exceeds gas limit/i))return fe("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(r.match(/nonce/i)&&r.match(/too low/i))return fe("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(r.match(/replacement transaction/i)&&r.match(/underpriced/i))return fe("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(r.match(/only replay-protected/i))return fe("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:l,info:{error:i}}})}let a=!!r.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?fe("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):fe("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,s){if(this.destroyed)return Promise.reject(fe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const n=this.#e++,i=new Promise((r,a)=>{this.#s.push({resolve:r,reject:a,payload:{method:t,params:s,id:n,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(t){t==null&&(t=0);const s=this.send("eth_accounts",[]);if(typeof t=="number"){const i=await s;if(t>=i.length)throw new Error("no such account");return new Tl(this,i[t])}const{accounts:n}=await Ge({network:this.getNetwork(),accounts:s});t=Jt(t);for(const i of n)if(Jt(i)===t)return new Tl(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(s=>new Tl(this,s))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:t,reject:s}of this.#s)s(fe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#s=[],super.destroy()}}class BE extends LE{#t;constructor(t,s){super(t,s);let n=this._getOption("pollingInterval");n==null&&(n=$m.pollingInterval),this.#t=n}_getSubscriber(t){const s=super._getSubscriber(t);return hf(s)&&(s.pollingInterval=this.#t),s}get pollingInterval(){return this.#t}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#t=t,this._forEachSubscriber(s=>{hf(s)&&(s.pollingInterval=this.#t)})}}function cc(e){if(e==null)return null;if(typeof e.message=="string"&&e.message.match(/revert/i)&&le(e.data))return{message:e.message,data:e.data};if(typeof e=="object"){for(const t in e){const s=cc(e[t]);if(s)return s}return null}if(typeof e=="string")try{return cc(JSON.parse(e))}catch{}return null}function uc(e,t){if(e!=null){if(typeof e.message=="string"&&t.push(e.message),typeof e=="object")for(const s in e)uc(e[s],t);if(typeof e=="string")try{return uc(JSON.parse(e),t)}catch{}}}function OE(e){const t=[];return uc(e,t),t}class Ds extends BE{#t;#e;constructor(t,s,n){const i=Object.assign({},n??{},{batchMaxCount:1});P(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(s,i),this.#e=null,n&&n.providerInfo&&(this.#e=n.providerInfo),this.#t=async(r,a)=>{const l={method:r,params:a};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const c=await t.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}}}get providerInfo(){return this.#e}async send(t,s){return await this._start(),await super.send(t,s)}async _send(t){P(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const s=await this.#t(t.method,t.params||[]);return[{id:t.id,result:s}]}catch(s){return[{id:t.id,error:{code:s.code,data:s.data,message:s.message}}]}}getRpcError(t,s){switch(s=JSON.parse(JSON.stringify(s)),s.error.code||-1){case 4001:s.error.message=`ethers-user-denied: ${s.error.message}`;break;case 4200:s.error.message=`ethers-unsupported: ${s.error.message}`;break}return super.getRpcError(t,s)}async hasSigner(t){t==null&&(t=0);const s=await this.send("eth_accounts",[]);return typeof t=="number"?s.length>t:(t=t.toLowerCase(),s.filter(n=>n.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await this.#t("eth_requestAccounts",[])}catch(s){const n=s.payload;throw this.getRpcError(n,{id:n.id,error:s})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new Ds(t.provider);const s=t.window?t.window:typeof window<"u"?window:null;if(s==null)return null;const n=t.anyProvider;if(n&&s.ethereum)return new Ds(s.ethereum);if(!("addEventListener"in s&&"dispatchEvent"in s&&"removeEventListener"in s))return null;const i=t.timeout?t.timeout:300;return i===0?null:await new Promise((r,a)=>{let l=[];const c=f=>{l.push(f.detail),n&&u()},u=()=>{if(clearTimeout(d),l.length)if(t&&t.filter){const f=t.filter(l.map(h=>Object.assign({},h.info)));if(f==null)r(null);else if(f instanceof Ds)r(f);else{let h=null;if(f.uuid&&(h=l.filter(w=>f.uuid===w.info.uuid)[0]),h){const{provider:p,info:w}=h;r(new Ds(p,void 0,{providerInfo:w}))}else a(fe("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:h}=l[0];r(new Ds(f,void 0,{providerInfo:h}))}else r(null);s.removeEventListener("eip6963:announceProvider",c)},d=setTimeout(()=>{u()},i);s.addEventListener("eip6963:announceProvider",c),s.dispatchEvent(new Event("eip6963:requestProvider"))})}}const ir=pt(!1),ms=pt(""),ze=pt(null),ou=pt(""),Oa=pt("ETH"),Ma=pt(0n),Jr=pt(null),aa=io([]),Zr=pt(""),ws=pt(""),dc=pt(!1),ME=pt("tokens");let os=null,Vm=null,la=!1,xr=null,fc=!1;const UE={1:[{address:"0x7b21325dcB87A8167A7eFF504ec876C0F520dc17",label:"PWL-P"},{address:"#",label:"PWL-I"}],11155111:[{address:"0xYOUR_PWLP_SEPOLIA",label:"PWL-P"},{address:"0xYOUR_PWLI_SEPOLIA",label:"PWL-I"}]},FE=["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)"],$E=Tt(()=>ms.value||""),VE=Tt(()=>{const e=ms.value;return e?`${e.slice(0,6)}...${e.slice(-4)}`:""}),HE=Tt(()=>{try{return os?en(Ma.value):"0"}catch{return"0"}}),Hm=Tt(()=>Jr.value?(Number(en(Ma.value))*Jr.value).toLocaleString(void 0,{maximumFractionDigits:2}):"0"),jE=Tt(()=>`A$${Hm.value||"0"} AUD`);function WE(e,t){try{return Number(up(e,t)).toLocaleString(void 0,{maximumFractionDigits:6})}catch{return"0"}}function pf(e,t){return e().catch(()=>t)}function GE(e){return e&&e[0].toUpperCase()+e.slice(1)}function Rr(e){const t=e&&(e.reason||e.message)?e.reason||e.message:String(e);return t.toLowerCase().includes("user rejected")?"User rejected the request.":t}function jm(){window.ethereum&&(window.ethereum.on("accountsChanged",Wm),window.ethereum.on("chainChanged",Gm),os&&!la&&(xr=async()=>{try{await lu()}catch{}},os.on("block",xr),la=!0))}function KE(){window.ethereum&&(window.ethereum.removeListener("accountsChanged",Wm),window.ethereum.removeListener("chainChanged",Gm)),os&&la&&xr&&(os.removeListener("block",xr),la=!1,xr=null)}async function Wm(e){if(console.log("🔄 Accounts changed:",e),!e||e.length===0)Km();else{const t=ms.value;ms.value=e[0],t&&t!==e[0]&&(console.log("🔄 Wallet address changed from",t,"to",e[0]),window.dispatchEvent(new CustomEvent("walletAddressChanged",{detail:{oldAddress:t,newAddress:e[0]}}))),await au()}}async function Gm(){await au()}async function YE(){try{const e=Oa.value==="MATIC"?"matic-network":"ethereum",s=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=aud`)).json();Jr.value=s?.[e]?.aud||null}catch{Jr.value=null}}async function zE(){console.log("🔄 useWallet connect() called"),ws.value="",Zr.value="";try{if(!window.ethereum){console.log("❌ MetaMask not detected"),Zr.value="MetaMask not detected. Please install MetaMask extension.";return}console.log("🔗 Creating provider..."),os=new Ds(window.ethereum,"any"),console.log("📝 Requesting accounts...");const e=await os.send("eth_requestAccounts",[]);if(console.log("📋 Received accounts:",e),!e||e.length===0){console.log("❌ No accounts found"),ws.value="No accounts found. Please unlock your wallet or create a new account.";return}console.log("🔐 Getting signer..."),Vm=await os.getSigner(),ms.value=e[0],ir.value=!0,console.log("🔄 Refreshing wallet data..."),await Ym(),await lu(),await cu(),jm(),console.log("✅ Wallet connected successfully:",e[0]),window.dispatchEvent(new CustomEvent("walletConnected",{detail:{address:e[0],chainId:ze.value}}))}catch(e){console.error("❌ Wallet connection failed:",e),e.code===4001?ws.value="User rejected the connection request.":e.code===-32002?ws.value="Connection request already pending. Please check your MetaMask.":e.message.includes("User denied")?ws.value="Connection was denied. Please approve the connection in MetaMask.":e.message.includes("Already processing")?ws.value="MetaMask is already processing a request. Please wait and try again.":ws.value=Rr(e)}}function Km(){const e=ir.value,t=ms.value;ir.value=!1,ms.value="",ze.value=null,ou.value="",Oa.value="ETH",Ma.value=0n,Jr.value=null,aa.splice(0),KE(),e&&(console.log("🔌 Wallet disconnected, triggering event..."),window.dispatchEvent(new CustomEvent("walletDisconnected",{detail:{address:t}})))}async function au(){ir.value&&(await Ym(),await lu(),await cu())}async function Ym(){const e=await os.getNetwork();ze.value=Number(e.chainId),ou.value=e.name&&e.name!=="unknown"?GE(e.name):`Chain ${ze.value}`,Oa.value=ze.value===1?"ETH":ze.value===137?"MATIC":(ze.value===42161||ze.value===10,"ETH"),YE()}async function lu(){Ma.value=await os.getBalance(ms.value)}async function cu(){dc.value=!0,aa.splice(0);try{const e=UE[ze.value]||[],t=uu(ze.value),s=[...e,...t];for(const n of s){if(!Jc(n.address))continue;const i=new Ke(n.address,FE,os),[r,a,l,c]=await Promise.all([i.balanceOf(ms.value),i.decimals(),pf(()=>i.symbol(),n.label||"TKN"),pf(()=>i.name(),n.label||"Token")]),u=WE(r,a);aa.push({address:n.address,symbol:l||n.label||"TKN",name:c||n.label||"Token",decimals:a,displayBalance:u})}}catch(e){ws.value=Rr(e)}finally{dc.value=!1}}function QE(){ms.value&&navigator.clipboard.writeText(ms.value)}function zm(e){return`customTokens:${e||""}`}function uu(e){try{const t=sessionStorage.getItem(zm(e)),s=t?JSON.parse(t):[];return Array.isArray(s)?s.filter(n=>n&&n.address):[]}catch{return[]}}function Qm(e,t){try{sessionStorage.setItem(zm(e),JSON.stringify(t||[]))}catch{}}function qE(e,t){try{if(!Jc(e))return Zr.value="Invalid token address.",!1;const s=uu(ze.value);return s.find(n=>n.address.toLowerCase()===e.toLowerCase())||(s.push({address:e,label:t||"Token",addedAt:Date.now(),source:"ImportFromUs"}),Qm(ze.value,s)),!0}catch{return!1}}function JE(e){try{const t=uu(ze.value).filter(s=>s.address.toLowerCase()!==(e||"").toLowerCase());Qm(ze.value,t)}catch{}}function mf(){if(!fc){if(fc=!0,!window.ethereum){Zr.value="MetaMask not detected.";return}try{os=new Ds(window.ethereum,"any"),os.send("eth_accounts",[]).then(async e=>{if(e&&e.length>0)try{Vm=await os.getSigner(),ms.value=e[0],ir.value=!0,await au(),jm()}catch(t){console.error("Failed to initialize wallet:",t),ws.value=Rr(t)}}).catch(e=>{console.error("Failed to get accounts:",e),ws.value=Rr(e)})}catch(e){console.error("Failed to create provider:",e),ws.value=Rr(e)}}}function fi(){return mf(),Ci(()=>{fc||mf()}),va(()=>{}),{connected:ir,address:ms,fullAddress:$E,shortAddress:VE,chainId:ze,networkLabel:ou,nativeSymbol:Oa,nativeBalanceDisplay:HE,nativeToAudDisplay:Hm,bigAudDisplay:jE,tokens:aa,warning:Zr,error:ws,loadingTokens:dc,activeTab:ME,connect:zE,disconnect:Km,refreshTokens:cu,copyAddress:QE,addCustomToken:qE,removeCustomToken:JE}}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Oi=typeof document<"u";function qm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ZE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&qm(e.default)}const Xt=Object.assign;function Sl(e,t){const s={};for(const n in t){const i=t[n];s[n]=Ms(i)?i.map(e):e(i)}return s}const Nr=()=>{},Ms=Array.isArray,Jm=/#/g,XE=/&/g,tk=/\//g,ek=/=/g,sk=/\?/g,Zm=/\+/g,nk=/%5B/g,ik=/%5D/g,Xm=/%5E/g,rk=/%60/g,tg=/%7B/g,ok=/%7C/g,eg=/%7D/g,ak=/%20/g;function du(e){return encodeURI(""+e).replace(ok,"|").replace(nk,"[").replace(ik,"]")}function lk(e){return du(e).replace(tg,"{").replace(eg,"}").replace(Xm,"^")}function hc(e){return du(e).replace(Zm,"%2B").replace(ak,"+").replace(Jm,"%23").replace(XE,"%26").replace(rk,"`").replace(tg,"{").replace(eg,"}").replace(Xm,"^")}function ck(e){return hc(e).replace(ek,"%3D")}function uk(e){return du(e).replace(Jm,"%23").replace(sk,"%3F")}function dk(e){return e==null?"":uk(e).replace(tk,"%2F")}function Xr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const fk=/\/$/,hk=e=>e.replace(fk,"");function _l(e,t,s="/"){let n,i={},r="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(n=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),i=e(r)),l>-1&&(n=n||t.slice(0,l),a=t.slice(l,t.length)),n=vk(n??t,s),{fullPath:n+(r&&"?")+r+a,path:n,query:i,hash:Xr(a)}}function pk(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function gf(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mk(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&rr(t.matched[n],s.matched[i])&&sg(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function rr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!gk(e[s],t[s]))return!1;return!0}function gk(e,t){return Ms(e)?vf(e,t):Ms(t)?vf(t,e):e===t}function vf(e,t){return Ms(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function vk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,a,l;for(a=0;a<n.length;a++)if(l=n[a],l!==".")if(l==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(a).join("/")}const xn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var to;(function(e){e.pop="pop",e.push="push"})(to||(to={}));var Dr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Dr||(Dr={}));function yk(e){if(!e)if(Oi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hk(e)}const bk=/^[^#]+#/;function wk(e,t){return e.replace(bk,"#")+t}function Ak(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Ua=()=>({left:window.scrollX,top:window.scrollY});function Ek(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=Ak(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function yf(e,t){return(history.state?history.state.position-t:-1)+e}const pc=new Map;function kk(e,t){pc.set(e,t)}function Ck(e){const t=pc.get(e);return pc.delete(e),t}let Tk=()=>location.protocol+"//"+location.host;function ng(e,t){const{pathname:s,search:n,hash:i}=t,r=e.indexOf("#");if(r>-1){let l=i.includes(e.slice(r))?e.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),gf(c,"")}return gf(s,e)+n+i}function Sk(e,t,s,n){let i=[],r=[],a=null;const l=({state:h})=>{const p=ng(e,location),w=s.value,v=t.value;let g=0;if(h){if(s.value=p,t.value=h,a&&a===w){a=null;return}g=v?h.position-v.position:0}else n(p);i.forEach(_=>{_(s.value,w,{delta:g,type:to.pop,direction:g?g>0?Dr.forward:Dr.back:Dr.unknown})})};function c(){a=s.value}function u(h){i.push(h);const p=()=>{const w=i.indexOf(h);w>-1&&i.splice(w,1)};return r.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(Xt({},h.state,{scroll:Ua()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function bf(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?Ua():null}}function _k(e){const{history:t,location:s}=window,n={value:ng(e,s)},i={value:t.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,u,d){const f=e.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+c:Tk()+e+c;try{t[d?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),s[d?"replace":"assign"](h)}}function a(c,u){const d=Xt({},t.state,bf(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});r(c,d,!0),n.value=c}function l(c,u){const d=Xt({},i.value,t.state,{forward:c,scroll:Ua()});r(d.current,d,!0);const f=Xt({},bf(n.value,c,null),{position:d.position+1},u);r(c,f,!1),n.value=c}return{location:n,state:i,push:l,replace:a}}function Pk(e){e=yk(e);const t=_k(e),s=Sk(e,t.state,t.location,t.replace);function n(r,a=!0){a||s.pauseListeners(),history.go(r)}const i=Xt({location:"",base:e,go:n,createHref:wk.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Ik(e){return typeof e=="string"||e&&typeof e=="object"}function ig(e){return typeof e=="string"||typeof e=="symbol"}const rg=Symbol("");var wf;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wf||(wf={}));function or(e,t){return Xt(new Error,{type:e,[rg]:!0},t)}function Xs(e,t){return e instanceof Error&&rg in e&&(t==null||!!(e.type&t))}const Af="[^/]+?",xk={sensitive:!1,strict:!1,start:!0,end:!0},Rk=/[.+*?^${}()[\]/\\]/g;function Nk(e,t){const s=Xt({},xk,t),n=[];let i=s.start?"^":"";const r=[];for(const u of e){const d=u.length?[]:[90];s.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=40+(s.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(Rk,"\\$&"),p+=40;else if(h.type===1){const{value:w,repeatable:v,optional:g,regexp:_}=h;r.push({name:w,repeatable:v,optional:g});const D=_||Af;if(D!==Af){p+=10;try{new RegExp(`(${D})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${w}" (${D}): `+N.message)}}let L=v?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;f||(L=g&&u.length<2?`(?:/${L})`:"/"+L),g&&(L+="?"),i+=L,p+=20,g&&(p+=-8),v&&(p+=-20),D===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,s.sensitive?"":"i");function l(u){const d=u.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",w=r[h-1];f[w.name]=p&&w.repeatable?p.split("/"):p}return f}function c(u){let d="",f=!1;for(const h of e){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:w,repeatable:v,optional:g}=p,_=w in u?u[w]:"";if(Ms(_)&&!v)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const D=Ms(_)?_.join("/"):_;if(!D)if(g)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);d+=D}}return d||"/"}return{re:a,score:n,keys:r,parse:l,stringify:c}}function Dk(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function og(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const r=Dk(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(Ef(n))return 1;if(Ef(i))return-1}return i.length-n.length}function Ef(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Lk={type:0,value:""},Bk=/[a-zA-Z0-9_]/;function Ok(e){if(!e)return[[]];if(e==="/")return[[Lk]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,n=s;const i=[];let r;function a(){r&&i.push(r),r=[]}let l=0,c,u="",d="";function f(){u&&(s===0?r.push({type:0,value:u}):s===1||s===2||s===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(u&&f(),a()):c===":"?(f(),s=1):h();break;case 4:h(),s=n;break;case 1:c==="("?s=2:Bk.test(c)?h():(f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),a(),i}function Mk(e,t,s){const n=Nk(Ok(e.path),s),i=Xt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Uk(e,t){const s=[],n=new Map;t=Sf({strict:!1,end:!0,sensitive:!1},t);function i(f){return n.get(f)}function r(f,h,p){const w=!p,v=Cf(f);v.aliasOf=p&&p.record;const g=Sf(t,f),_=[v];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const j of N)_.push(Cf(Xt({},v,{components:p?p.record.components:v.components,path:j,aliasOf:p?p.record:v})))}let D,L;for(const N of _){const{path:j}=N;if(h&&j[0]!=="/"){const W=h.record.path,U=W[W.length-1]==="/"?"":"/";N.path=h.record.path+(j&&U+j)}if(D=Mk(N,h,g),p?p.alias.push(D):(L=L||D,L!==D&&L.alias.push(D),w&&f.name&&!Tf(D)&&a(f.name)),ag(D)&&c(D),v.children){const W=v.children;for(let U=0;U<W.length;U++)r(W[U],D,p&&p.children[U])}p=p||D}return L?()=>{a(L)}:Nr}function a(f){if(ig(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return s}function c(f){const h=Vk(f,s);s.splice(h,0,f),f.record.name&&!Tf(f)&&n.set(f.record.name,f)}function u(f,h){let p,w={},v,g;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw or(1,{location:f});g=p.record.name,w=Xt(kf(h.params,p.keys.filter(L=>!L.optional).concat(p.parent?p.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),f.params&&kf(f.params,p.keys.map(L=>L.name))),v=p.stringify(w)}else if(f.path!=null)v=f.path,p=s.find(L=>L.re.test(v)),p&&(w=p.parse(v),g=p.record.name);else{if(p=h.name?n.get(h.name):s.find(L=>L.re.test(h.path)),!p)throw or(1,{location:f,currentLocation:h});g=p.record.name,w=Xt({},h.params,f.params),v=p.stringify(w)}const _=[];let D=p;for(;D;)_.unshift(D.record),D=D.parent;return{name:g,path:v,params:w,matched:_,meta:$k(_)}}e.forEach(f=>r(f));function d(){s.length=0,n.clear()}return{addRoute:r,resolve:u,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:i}}function kf(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Cf(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Fk(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Fk(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Tf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function $k(e){return e.reduce((t,s)=>Xt(t,s.meta),{})}function Sf(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Vk(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;og(e,t[r])<0?n=r:s=r+1}const i=Hk(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function Hk(e){let t=e;for(;t=t.parent;)if(ag(t)&&og(e,t)===0)return t}function ag({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function jk(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(Zm," "),a=r.indexOf("="),l=Xr(a<0?r:r.slice(0,a)),c=a<0?null:Xr(r.slice(a+1));if(l in t){let u=t[l];Ms(u)||(u=t[l]=[u]),u.push(c)}else t[l]=c}return t}function _f(e){let t="";for(let s in e){const n=e[s];if(s=ck(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ms(n)?n.map(r=>r&&hc(r)):[n&&hc(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function Wk(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Ms(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Gk=Symbol(""),Pf=Symbol(""),Fa=Symbol(""),fu=Symbol(""),mc=Symbol("");function vr(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ln(e,t,s,n,i,r=a=>a()){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const u=h=>{h===!1?c(or(4,{from:s,to:t})):h instanceof Error?c(h):Ik(h)?c(or(2,{from:t,to:h})):(a&&n.enterCallbacks[i]===a&&typeof h=="function"&&a.push(h),l())},d=r(()=>e.call(n&&n.instances[i],t,s,u));let f=Promise.resolve(d);e.length<3&&(f=f.then(u)),f.catch(h=>c(h))})}function Pl(e,t,s,n,i=r=>r()){const r=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(qm(c)){const d=(c.__vccOpts||c)[t];d&&r.push(Ln(d,s,n,a,l,i))}else{let u=c();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=ZE(d)?d.default:d;a.mods[l]=d,a.components[l]=f;const p=(f.__vccOpts||f)[t];return p&&Ln(p,s,n,a,l,i)()}))}}return r}function If(e){const t=Bs(Fa),s=Bs(fu),n=Tt(()=>{const c=zt(e.to);return t.resolve(c)}),i=Tt(()=>{const{matched:c}=n.value,{length:u}=c,d=c[u-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(rr.bind(null,d));if(h>-1)return h;const p=xf(c[u-2]);return u>1&&xf(d)===p&&f[f.length-1].path!==p?f.findIndex(rr.bind(null,c[u-2])):h}),r=Tt(()=>i.value>-1&&qk(s.params,n.value.params)),a=Tt(()=>i.value>-1&&i.value===s.matched.length-1&&sg(s.params,n.value.params));function l(c={}){if(Qk(c)){const u=t[zt(e.replace)?"replace":"push"](zt(e.to)).catch(Nr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Tt(()=>n.value.href),isActive:r,isExactActive:a,navigate:l}}function Kk(e){return e.length===1?e[0]:e}const Yk=yh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:If,setup(e,{slots:t}){const s=io(If(e)),{options:n}=Bs(Fa),i=Tt(()=>({[Rf(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Rf(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&Kk(t.default(s));return e.custom?r:Mc("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),zk=Yk;function Qk(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function qk(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Ms(i)||i.length!==n.length||n.some((r,a)=>r!==i[a]))return!1}return!0}function xf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Rf=(e,t,s)=>e??t??s,Jk=yh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Bs(mc),i=Tt(()=>e.route||n.value),r=Bs(Pf,0),a=Tt(()=>{let u=zt(r);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),l=Tt(()=>i.value.matched[a.value]);Do(Pf,Tt(()=>a.value+1)),Do(Gk,l),Do(mc,i);const c=pt();return Gs(()=>[c.value,l.value,e.name],([u,d,f],[h,p,w])=>{d&&(d.instances[f]=u,p&&p!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!rr(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,d=e.name,f=l.value,h=f&&f.components[d];if(!h)return Nf(s.default,{Component:h,route:u});const p=f.props[d],w=p?p===!0?u.params:typeof p=="function"?p(u):p:null,g=Mc(h,Xt({},w,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return Nf(s.default,{Component:g,route:u})||g}}});function Nf(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Zk=Jk;function Xk(e){const t=Uk(e.routes,e),s=e.parseQuery||jk,n=e.stringifyQuery||_f,i=e.history,r=vr(),a=vr(),l=vr(),c=iv(xn);let u=xn;Oi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Sl.bind(null,B=>""+B),f=Sl.bind(null,dk),h=Sl.bind(null,Xr);function p(B,nt){let Z,ct;return ig(B)?(Z=t.getRecordMatcher(B),ct=nt):ct=B,t.addRoute(ct,Z)}function w(B){const nt=t.getRecordMatcher(B);nt&&t.removeRoute(nt)}function v(){return t.getRoutes().map(B=>B.record)}function g(B){return!!t.getRecordMatcher(B)}function _(B,nt){if(nt=Xt({},nt||c.value),typeof B=="string"){const x=_l(s,B,nt.path),O=t.resolve({path:x.path},nt),F=i.createHref(x.fullPath);return Xt(x,O,{params:h(O.params),hash:Xr(x.hash),redirectedFrom:void 0,href:F})}let Z;if(B.path!=null)Z=Xt({},B,{path:_l(s,B.path,nt.path).path});else{const x=Xt({},B.params);for(const O in x)x[O]==null&&delete x[O];Z=Xt({},B,{params:f(x)}),nt.params=f(nt.params)}const ct=t.resolve(Z,nt),Ht=B.hash||"";ct.params=d(h(ct.params));const y=pk(n,Xt({},B,{hash:lk(Ht),path:ct.path})),A=i.createHref(y);return Xt({fullPath:y,hash:Ht,query:n===_f?Wk(B.query):B.query||{}},ct,{redirectedFrom:void 0,href:A})}function D(B){return typeof B=="string"?_l(s,B,c.value.path):Xt({},B)}function L(B,nt){if(u!==B)return or(8,{from:nt,to:B})}function N(B){return U(B)}function j(B){return N(Xt(D(B),{replace:!0}))}function W(B){const nt=B.matched[B.matched.length-1];if(nt&&nt.redirect){const{redirect:Z}=nt;let ct=typeof Z=="function"?Z(B):Z;return typeof ct=="string"&&(ct=ct.includes("?")||ct.includes("#")?ct=D(ct):{path:ct},ct.params={}),Xt({query:B.query,hash:B.hash,params:ct.path!=null?{}:B.params},ct)}}function U(B,nt){const Z=u=_(B),ct=c.value,Ht=B.state,y=B.force,A=B.replace===!0,x=W(Z);if(x)return U(Xt(D(x),{state:typeof x=="object"?Xt({},Ht,x.state):Ht,force:y,replace:A}),nt||Z);const O=Z;O.redirectedFrom=nt;let F;return!y&&mk(n,ct,Z)&&(F=or(16,{to:O,from:ct}),Vt(ct,ct,!0,!1)),(F?Promise.resolve(F):it(O,ct)).catch(M=>Xs(M)?Xs(M,2)?M:Ut(M):ht(M,O,ct)).then(M=>{if(M){if(Xs(M,2))return U(Xt({replace:A},D(M.to),{state:typeof M.to=="object"?Xt({},Ht,M.to.state):Ht,force:y}),nt||O)}else M=z(O,ct,!0,A,Ht);return tt(O,ct,M),M})}function J(B,nt){const Z=L(B,nt);return Z?Promise.reject(Z):Promise.resolve()}function X(B){const nt=Ae.values().next().value;return nt&&typeof nt.runWithContext=="function"?nt.runWithContext(B):B()}function it(B,nt){let Z;const[ct,Ht,y]=tC(B,nt);Z=Pl(ct.reverse(),"beforeRouteLeave",B,nt);for(const x of ct)x.leaveGuards.forEach(O=>{Z.push(Ln(O,B,nt))});const A=J.bind(null,B,nt);return Z.push(A),ne(Z).then(()=>{Z=[];for(const x of r.list())Z.push(Ln(x,B,nt));return Z.push(A),ne(Z)}).then(()=>{Z=Pl(Ht,"beforeRouteUpdate",B,nt);for(const x of Ht)x.updateGuards.forEach(O=>{Z.push(Ln(O,B,nt))});return Z.push(A),ne(Z)}).then(()=>{Z=[];for(const x of y)if(x.beforeEnter)if(Ms(x.beforeEnter))for(const O of x.beforeEnter)Z.push(Ln(O,B,nt));else Z.push(Ln(x.beforeEnter,B,nt));return Z.push(A),ne(Z)}).then(()=>(B.matched.forEach(x=>x.enterCallbacks={}),Z=Pl(y,"beforeRouteEnter",B,nt,X),Z.push(A),ne(Z))).then(()=>{Z=[];for(const x of a.list())Z.push(Ln(x,B,nt));return Z.push(A),ne(Z)}).catch(x=>Xs(x,8)?x:Promise.reject(x))}function tt(B,nt,Z){l.list().forEach(ct=>X(()=>ct(B,nt,Z)))}function z(B,nt,Z,ct,Ht){const y=L(B,nt);if(y)return y;const A=nt===xn,x=Oi?history.state:{};Z&&(ct||A?i.replace(B.fullPath,Xt({scroll:A&&x&&x.scroll},Ht)):i.push(B.fullPath,Ht)),c.value=B,Vt(B,nt,Z,A),Ut()}let at;function Ot(){at||(at=i.listen((B,nt,Z)=>{if(!Mt.listening)return;const ct=_(B),Ht=W(ct);if(Ht){U(Xt(Ht,{replace:!0,force:!0}),ct).catch(Nr);return}u=ct;const y=c.value;Oi&&kk(yf(y.fullPath,Z.delta),Ua()),it(ct,y).catch(A=>Xs(A,12)?A:Xs(A,2)?(U(Xt(D(A.to),{force:!0}),ct).then(x=>{Xs(x,20)&&!Z.delta&&Z.type===to.pop&&i.go(-1,!1)}).catch(Nr),Promise.reject()):(Z.delta&&i.go(-Z.delta,!1),ht(A,ct,y))).then(A=>{A=A||z(ct,y,!1),A&&(Z.delta&&!Xs(A,8)?i.go(-Z.delta,!1):Z.type===to.pop&&Xs(A,20)&&i.go(-1,!1)),tt(ct,y,A)}).catch(Nr)}))}let G=vr(),Y=vr(),rt;function ht(B,nt,Z){Ut(B);const ct=Y.list();return ct.length?ct.forEach(Ht=>Ht(B,nt,Z)):console.error(B),Promise.reject(B)}function Et(){return rt&&c.value!==xn?Promise.resolve():new Promise((B,nt)=>{G.add([B,nt])})}function Ut(B){return rt||(rt=!B,Ot(),G.list().forEach(([nt,Z])=>B?Z(B):nt()),G.reset()),B}function Vt(B,nt,Z,ct){const{scrollBehavior:Ht}=e;if(!Oi||!Ht)return Promise.resolve();const y=!Z&&Ck(yf(B.fullPath,0))||(ct||!Z)&&history.state&&history.state.scroll||null;return Or().then(()=>Ht(B,nt,y)).then(A=>A&&Ek(A)).catch(A=>ht(A,B,nt))}const Nt=B=>i.go(B);let de;const Ae=new Set,Mt={currentRoute:c,listening:!0,addRoute:p,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:_,options:e,push:N,replace:j,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:Y.add,isReady:Et,install(B){const nt=this;B.component("RouterLink",zk),B.component("RouterView",Zk),B.config.globalProperties.$router=nt,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>zt(c)}),Oi&&!de&&c.value===xn&&(de=!0,N(i.location).catch(Ht=>{}));const Z={};for(const Ht in xn)Object.defineProperty(Z,Ht,{get:()=>c.value[Ht],enumerable:!0});B.provide(Fa,nt),B.provide(fu,nh(Z)),B.provide(mc,c);const ct=B.unmount;Ae.add(B),B.unmount=function(){Ae.delete(B),Ae.size<1&&(u=xn,at&&at(),at=null,c.value=xn,de=!1,rt=!1),ct()}}};function ne(B){return B.reduce((nt,Z)=>nt.then(()=>X(Z)),Promise.resolve())}return Mt}function tC(e,t){const s=[],n=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const l=t.matched[a];l&&(e.matched.find(u=>rr(u,l))?n.push(l):s.push(l));const c=e.matched[a];c&&(t.matched.find(u=>rr(u,c))||i.push(c))}return[s,n,i]}function lg(){return Bs(Fa)}function eC(e){return Bs(fu)}const sC={class:"container pf-page"},nC={class:"pf-mobile-header"},iC={class:"pf-mobile-nav"},rC={class:"pf-mobile-actions"},oC={class:"pf-main-content"},aC={class:"pf-body"},lC={class:"pf-side-head"},cC={class:"pf-side-tools"},uC={class:"pf-acc-group"},dC={class:"pf-acc-list"},fC=["onClick"],hC={class:"pf-acc-info"},pC={class:"pf-acc-name"},mC=["title"],gC={class:"pf-acc-balance"},vC={key:0,class:"pf-account-overview"},yC={class:"pf-stats"},bC={class:"pf-stat-card"},wC={class:"pf-stat-value"},AC={class:"pf-stat-card"},EC={class:"pf-stat-card"},kC={class:"pf-sidebar-pie-section"},CC={class:"pf-pie-chart-container"},TC={class:"pf-pie-chart"},SC={viewBox:"0 0 200 200",class:"pf-pie-svg"},_C=["stroke","stroke-dasharray","stroke-dashoffset"],PC=["x1","y1","x2","y2","stroke"],IC=["x","y","fill"],xC={class:"pf-pie-center"},RC={class:"pf-pie-total"},NC={class:"pf-chart-legend"},DC={class:"pf-legend-left"},LC={class:"pf-legend-code"},BC={class:"pf-legend-right"},OC={class:"pf-legend-value"},MC={class:"pf-main"},UC={class:"pf-hero"},FC={class:"pf-balance"},$C={class:"pf-tabs"},VC=["onClick"],HC={key:0,class:"pf-projects"},jC={class:"pf-projects-grid"},WC={class:"pf-project-header"},GC=["src","alt"],KC={class:"pf-project-info"},YC={class:"pf-project-metrics"},zC={class:"pf-project-metric"},QC={class:"pf-metric-value"},qC={class:"pf-project-metric"},JC={key:0,class:"pf-project-metric"},ZC={class:"pf-metric-value"},XC={key:1,class:"pf-project-metric"},t8={key:2,class:"pf-project-metric"},e8={class:"pf-project-actions"},s8=["onClick"],n8=["onClick"],i8=["onClick"],r8={key:1,class:"pf-analysis"},o8={class:"pf-asset-summary"},a8={class:"pf-summary-header"},l8={class:"pf-summary-stats"},c8={class:"pf-summary-stat"},u8={class:"pf-stat-number"},d8={class:"pf-summary-stat"},f8={class:"pf-stat-number"},h8={class:"pf-transaction-chart"},p8={class:"pf-chart-header"},m8={class:"pf-chart-controls"},g8={class:"pf-chart-summary"},v8={class:"pf-summary-item"},y8={class:"pf-summary-value"},b8={class:"pf-summary-item"},w8={class:"pf-summary-value"},A8={class:"pf-summary-item"},E8={class:"pf-summary-value"},k8={class:"pf-bar-chart-container"},C8={key:0,class:"pf-chart-loading"},T8={key:1,class:"pf-chart-empty"},S8={key:2,class:"pf-bar-chart"},_8={class:"pf-bar-container"},P8={class:"pf-bar-label"},I8={class:"pf-bar-tooltip"},x8={class:"pf-tooltip-buy"},R8={class:"pf-tooltip-sell"},N8={class:"pf-tooltip-net"},D8={key:3,class:"pf-line-chart"},L8={class:"pf-line-chart-container"},B8=["viewBox"],O8=["points"],M8=["points"],U8=["cx","cy","onMouseenter"],F8=["cx","cy","onMouseenter"],$8={class:"pf-tooltip-content"},V8={class:"pf-tooltip-date"},H8={class:"pf-analysis-grid"},j8={class:"pf-analysis-card"},W8={class:"pf-chart-placeholder"},G8={class:"pf-chart-bars"},K8={class:"pf-chart-bar-label"},Y8={class:"pf-analysis-card"},z8={class:"pf-risk-metrics"},Q8={class:"pf-risk-item"},q8={class:"pf-risk-value"},J8={class:"pf-risk-item"},Z8={class:"pf-risk-value"},X8={key:2,class:"pf-transactions"},tT={class:"pf-transactions-header"},eT={class:"pf-transactions-actions"},sT=["disabled"],nT={key:0},iT={key:1},rT={key:0,class:"pf-filters"},oT=["value"],aT={class:"pf-transactions-list"},lT={key:0,class:"pf-no-transactions"},cT={key:1},uT=["onClick"],dT={class:"pf-transaction-details"},fT={class:"pf-transaction-title"},hT={class:"pf-transaction-subtitle"},pT={class:"pf-transaction-value"},mT={class:"pf-transaction-time"},gT={class:"pf-transaction-price"},vT={__name:"PortfolioView",setup(e){const t=lg(),{fullAddress:s,connected:n,nativeBalanceDisplay:i,nativeSymbol:r}=fi();Tt(()=>!0);const a=["Projects","Analysis","Transactions"],l=pt("Projects"),c=pt(null);pt("1d");const u=pt("3d"),d=pt(!1),f=pt([]),h=pt(800),p=pt(200),w=pt({visible:!1,x:0,y:0,content:"",type:""}),v=pt(!1),g=pt(!1),_=pt(""),D=pt(""),L=pt(!0),N=pt(""),j=pt(!1);let W=null;const U=pt([]);async function J(){try{Ot.value=!0,G.value=null,console.log("🔄 PortfolioView: 从数据库加载项目数据...");const C=await Vn.getAllProducts();C.status===0?(at.value=C.data||[],console.log("✅ PortfolioView: 项目数据加载成功，共",at.value.length,"个项目")):(G.value=C.message||"获取项目数据失败",console.error("❌ PortfolioView: API返回错误:",C))}catch(C){G.value="网络错误，无法获取项目数据",console.error("❌ PortfolioView: 加载项目数据失败:",C)}finally{Ot.value=!1}}function X(){try{const C=localStorage.getItem("walletBoundAccounts");if(C){const T=JSON.parse(C);U.value=T.map((b,V)=>({address:b,name:`Wallet ${V+1}`,balance:0})),console.log("📂 Portfolio loaded bound accounts:",U.value)}else s.value?(U.value=[{address:s.value,name:"Main Account",balance:0}],console.log("📂 Portfolio using current connected wallet:",s.value)):(U.value=[{address:"0x1234567890123456789012345678901234567890",name:"Demo Account",balance:1.5}],console.log("📂 Portfolio using demo account for display"));it(),tt()}catch(C){console.error("❌ Failed to load bound accounts:",C),U.value=[{address:"0x1234567890123456789012345678901234567890",name:"Demo Account",balance:1.5}],tt()}}function it(){U.value.forEach(C=>{if(C.address===s.value&&n.value){const T=i.value;C.balance=parseFloat(T)||0,console.log(`💰 Updated balance for ${C.address}: ${C.balance} ${r.value}`)}else C.balance===0&&(C.balance=Math.random()*2)})}function tt(){if(U.value.length===0)return;const C={};U.value.forEach((T,b)=>{b===0?C[T.address]=[{id:1,type:"buy",projectCode:"TYMU",amount:100,price:1,timestamp:Date.now()-36e5},{id:2,type:"buy",projectCode:"SQNB",amount:50,price:1.02,timestamp:Date.now()-72e5}]:b===1?C[T.address]=[{id:3,type:"sell",projectCode:"LZYT",amount:25,price:.98,timestamp:Date.now()-108e5},{id:4,type:"buy",projectCode:"YYD",amount:75,price:1.05,timestamp:Date.now()-144e5}]:C[T.address]=[{id:5,type:"buy",projectCode:"TYMU",amount:200,price:.99,timestamp:Date.now()-18e6}]}),z.value=C,console.log("📊 Portfolio initialized transaction data:",z.value)}const z=pt({}),at=pt([]),Ot=pt(!0),G=pt(null),Y=Tt(()=>{let T=rt().filter(b=>b.type==="buy"||b.type==="sell");return T.length===0?(console.log("📊 PortfolioView: 没有找到交易活动数据"),[]):(T=T.map(b=>({id:b.id||Date.now()+Math.random(),type:b.type,projectCode:b.project_code||b.projectCode,projectName:b.project_name||"Unknown Project",amount:b.amount||0,price:b.price||1,timestamp:b.timestamp||Date.now(),userAddress:b.user_address||N.value})),_.value&&(T=T.filter(b=>b.type===_.value)),D.value&&(T=T.filter(b=>b.projectCode===D.value)),T.sort((b,V)=>V.timestamp-b.timestamp))}),rt=()=>{try{const C=JSON.parse(localStorage.getItem("walletActivity")||"[]");return console.log("📊 PortfolioView: 获取到WalletView活动数据:",C.length,"条记录"),C}catch(C){return console.error("❌ PortfolioView: 获取wallet activity数据失败:",C),[]}},ht=C=>{if(!C)return[];const b=rt().filter(ot=>ot.type==="buy"||ot.type==="sell");console.log("📊 PortfolioView: 账户",C,"的交易活动:",b.length,"条");const V=new Map;return b.forEach(ot=>{const vt=ot.project_code||ot.projectCode;V.has(vt)||V.set(vt,{code:vt,amount:0,totalCost:0,totalInvestment:0});const Wt=V.get(vt),ge=at.value.find(Fs=>Fs.code===vt),Ee=ge&&ge.currentPrice||1;ot.type==="buy"?(Wt.amount+=ot.amount,Wt.totalCost+=ot.amount*Ee,Wt.totalInvestment+=ot.amount*(ot.price||Ee)):(Wt.amount-=ot.amount,Wt.totalCost-=ot.amount*Ee,Wt.totalInvestment-=ot.amount*(ot.price||Ee))}),Array.from(V.values()).filter(ot=>ot.amount>0).map(ot=>{const vt=at.value.find(Fs=>Fs.code===ot.code),Wt=vt&&vt.currentPrice||1,ge=ot.amount*Wt,Ee=ot.totalInvestment>0?(ge-ot.totalInvestment)/ot.totalInvestment*100:0;return{...ot,currentPrice:Wt,change:Ee}})},Et=C=>{const b=ht(C).reduce((V,ot)=>V+(ot.totalInvestment||0),0);return console.log("💰 PortfolioView: 账户",C,"总投资:",b),b},Ut=C=>{const b=ht(C).reduce((V,ot)=>V+ot.amount*ot.currentPrice,0);return console.log("📈 PortfolioView: 账户",C,"当前价值:",b),b},Vt=C=>{const T=Ut(C),b=Et(C),V=T-b;return console.log("📊 PortfolioView: 账户",C,"总收益:",V,"(当前价值:",T,"- 总投资:",b,")"),V},Nt=C=>{if(!N.value)return null;const b=ht(N.value).find(V=>V.code===C);return b?{amount:b.amount,currentPrice:b.currentPrice,currentValue:b.amount*b.currentPrice,totalInvestment:b.totalInvestment,change:b.change}:null},de=C=>{const T=Et(C),b=Vt(C),V=T>0?b/T*100:0;return console.log("📈 PortfolioView: 账户",C,"ROI:",V.toFixed(2)+"%","(总收益:",b,"/ 总投资:",T,")"),V},Ae=()=>{const T=rt().filter(ot=>ot.type==="buy"||ot.type==="sell");console.log("📊 PortfolioView: 获取所有资产分布，共",T.length,"条交易记录");const b=new Map;T.forEach(ot=>{const vt=ot.project_code||ot.projectCode;b.has(vt)||b.set(vt,{code:vt,amount:0,totalCost:0,totalInvestment:0,projectName:ot.project_name||"Unknown Project"});const Wt=b.get(vt),ge=at.value.find(Fs=>Fs.code===vt),Ee=ge&&ge.currentPrice||1;Wt.currentPrice=Ee,ot.type==="buy"?(Wt.amount+=parseFloat(ot.amount)||0,Wt.totalCost+=(parseFloat(ot.amount)||0)*(parseFloat(ot.price)||1),Wt.totalInvestment+=(parseFloat(ot.amount)||0)*(parseFloat(ot.price)||1)):ot.type==="sell"&&(Wt.amount-=parseFloat(ot.amount)||0,Wt.totalCost-=(parseFloat(ot.amount)||0)*(parseFloat(ot.price)||1))});const V=Array.from(b.values()).filter(ot=>ot.amount>0);return console.log("📊 PortfolioView: 所有资产分布:",V),V},Mt=Tt(()=>{const C=Ae();return C.length>0?C:[{code:"TYMU",amount:100,totalCost:100,currentPrice:1,change:2.5},{code:"SQNB",amount:50,totalCost:51,currentPrice:1.02,change:-1.2},{code:"LZYT",amount:25,totalCost:24.5,currentPrice:.98,change:.8},{code:"YYD",amount:75,totalCost:78.75,currentPrice:1.05,change:3.1}]}),ne=Tt(()=>{const C=Ae();if(C.length>0){const T=C.reduce((b,V)=>b+(V.totalInvestment||0),0);return console.log("💰 PortfolioView: 所有资产总投资:",T),T}return N.value?Et(N.value):254.25}),B=Tt(()=>{const C=Ae();if(C.length>0){const T=C.reduce((b,V)=>b+V.amount*V.currentPrice,0);return console.log("📈 PortfolioView: 所有资产当前价值:",T),T}return N.value?Ut(N.value):267.75}),nt=Tt(()=>{const C=B.value,T=ne.value,b=C-T;return console.log("📊 PortfolioView: 所有资产总收益:",b,"(当前价值:",C,"- 总投资:",T,")"),b}),Z=Tt(()=>{const C=ne.value,T=nt.value,b=C>0?T/C*100:0;return console.log("📈 PortfolioView: 所有资产ROI:",b.toFixed(2)+"%","(总收益:",T,"/ 总投资:",C,")"),b}),ct=Tt(()=>{if(!N.value)return at.value;const T=ht(N.value).map(b=>b.code);return at.value.filter(b=>T.includes(b.code))}),Ht=Tt(()=>{const C={low:1,medium:2,high:3},T=Mt.value.reduce((ot,vt)=>{const Wt=at.value.find(Ee=>Ee.code===vt.code),ge=Wt&&C[Wt.risk]||2;return ot+ge*vt.amount*vt.currentPrice},0),b=B.value;if(b===0)return"Low";const V=T/b;return V<=1.5?"Low":V<=2.5?"Medium":"High"}),y=Tt(()=>{const C=Mt.value.length,T=at.value.length;return T>0?Math.min(C/T*100,100):0});Tt(()=>{const C=[];return Object.values(z.value).forEach(T=>{C.push(...T)}),C.length===0?[{id:1,type:"buy",projectCode:"TYMU",amount:100,price:1,timestamp:Date.now()-36e5},{id:2,type:"buy",projectCode:"SQNB",amount:50,price:1.02,timestamp:Date.now()-72e5},{id:3,type:"sell",projectCode:"LZYT",amount:25,price:.98,timestamp:Date.now()-108e5},{id:4,type:"buy",projectCode:"YYD",amount:75,price:1.05,timestamp:Date.now()-144e5}]:C});const A=Tt(()=>f.value.length===0?1:Math.max(...f.value.map(C=>C.cumulativeBuyValue+C.cumulativeSellValue))),x=Tt(()=>{if(f.value.length===0)return[];const C=f.value,T=A.value,b=20,V=h.value-b*2,ot=p.value-b*2;return C.map((vt,Wt)=>({x:C.length===1?b+V/2:b+Wt*V/(C.length-1),y:b+ot-vt.cumulativeBuyValue/T*ot,value:vt.cumulativeBuyValue,date:vt.date,count:vt.buy}))}),O=Tt(()=>{if(f.value.length===0)return[];const C=f.value,T=A.value,b=20,V=h.value-b*2,ot=p.value-b*2;return C.map((vt,Wt)=>({x:C.length===1?b+V/2:b+Wt*V/(C.length-1),y:b+ot-vt.cumulativeSellValue/T*ot,value:vt.cumulativeSellValue,date:vt.date,count:vt.sell}))}),F=Tt(()=>x.value.map(C=>`${C.x},${C.y}`).join(" ")),M=Tt(()=>O.value.map(C=>`${C.x},${C.y}`).join(" ")),et=Tt(()=>{if(f.value.length===0)return console.log("📊 当天交易统计: 无交易数据"),{totalBuy:0,totalSell:0,totalTransactions:0,buyPercentage:0,sellPercentage:0};const C=f.value[f.value.length-1];console.log("📊 当天交易统计: 今天数据",C);const T=C.cumulativeBuyValue||0,b=C.cumulativeSellValue||0,V=T+b,ot={totalBuy:T,totalSell:b,totalTransactions:V,buyPercentage:V>0?T/V*100:0,sellPercentage:V>0?b/V*100:0};return console.log("📊 当天交易统计: 计算结果",ot),ot});Tt(()=>{const C=B.value,T=ne.value,b=C-T;return{totalBuy:Math.max(T,C*.8),totalSell:Math.max(0,b*.3),netValue:Math.max(T,C*.8)-Math.max(0,b*.3),buyPercentage:C>0?Math.max(T,C*.8)/C*100:0,sellPercentage:C>0?Math.max(0,b*.3)/C*100:0}}),Tt(()=>{const C=[];nt.value>0?C.push({id:1,icon:"📈",text:`Portfolio is up ${Z.value.toFixed(1)}%. Consider taking some profits.`}):C.push({id:1,icon:"📉",text:`Portfolio is down ${Math.abs(Z.value).toFixed(1)}%. Consider dollar-cost averaging.`}),y.value<50&&C.push({id:2,icon:"⚠️",text:"Low diversification. Consider spreading risk across more projects."});const T=Mt.value.reduce((b,V)=>V.change>b.change?V:b,Mt.value[0]||{change:0,code:""});return T.change>5&&C.push({id:3,icon:"🎯",text:`${T.code} is performing well (+${T.change.toFixed(1)}%). Consider increasing allocation.`}),C});const q=C=>{N.value=C},Q=()=>{alert("请在Wallet页面绑定新的钱包账户。Portfolio只显示已绑定的钱包。")},K=()=>{j.value=!j.value},gt=()=>{j.value=!1},st=()=>{console.log("🔌 Handling wallet disconnect..."),N.value===s.value&&(N.value=null),U.value=U.value.filter(C=>C.address!==s.value),U.value.length>0||(U.value=[{address:"0x1234567890123456789012345678901234567890",name:"Demo Account",balance:1.5}]),N.value=U.value[0].address,Yt(),console.log("✅ Wallet disconnect handled, current accounts:",U.value.length)},mt=()=>{console.log("🔌 Handling wallet reconnect..."),X();const C=U.value.find(T=>T.address===s.value);C?N.value=C.address:U.value.length>0&&(N.value=U.value[0].address),it(),Yt(),console.log("✅ Wallet reconnect handled, selected account:",N.value)},bt=C=>{console.log("🔄 Handling wallet address change to:",C);const T=U.value.find(b=>b.address===s.value);T&&(T.address=C,N.value=C),it(),Yt(),console.log("✅ Wallet address change handled")},It=C=>C?`${C.slice(0,6)}...${C.slice(-4)}`:"—",Zt=C=>{const T=U.value.find(b=>b.address===C);if(!T)return"0.0000";if(C===s.value&&n.value){const b=i.value;return parseFloat(b).toFixed(4)}return T.balance.toFixed(4)},jt=async()=>{await J()},Ie=async()=>{d.value=!0;try{console.log("🔄 PortfolioView: 刷新交易数据...");const T=rt().filter(b=>b.type==="buy"||b.type==="sell");console.log("📊 PortfolioView: 获取到",T.length,"条交易记录")}catch(C){console.error("❌ PortfolioView: 刷新交易数据失败:",C)}finally{d.value=!1}},Yt=async()=>{d.value=!0;try{await Le()}catch(C){console.error("Failed to refresh transaction data:",C)}finally{d.value=!1}},Le=async()=>{console.log("📊 PortfolioView: 基于Current Assets生成交易图表数据");const C=Mt.value;console.log("📊 PortfolioView: 当前资产分布:",C);const T=es(u.value),b=new Date,V=new Date(b.getTime()-(T-1)*24*60*60*1e3);console.log("📅 PortfolioView: 日期范围设置:",{days:T,startDate:V.toISOString().split("T")[0],endDate:b.toISOString().split("T")[0]});const vt=rt().filter(ue=>ue.type==="buy"||ue.type==="sell");console.log("📊 PortfolioView: 获取到真实交易数据",vt.length,"条记录");const Wt=new Map;for(let ue=0;ue<T;ue++){const He=new Date(V.getTime()+ue*24*60*60*1e3),ls=He.toISOString().split("T")[0];Wt.set(ls,{date:qs(He),dateKey:ls,buy:0,sell:0,buyAmount:0,sellAmount:0,buyValue:0,sellValue:0})}if(vt.length>0&&vt.forEach(ue=>{const ls=new Date(ue.timestamp).toISOString().split("T")[0];if(Wt.has(ls)){const _s=Wt.get(ls),Yn=parseFloat(ue.amount)||0,Ii=parseFloat(ue.price)||1,Ka=Yn*Ii;ue.type==="buy"?(_s.buy++,_s.buyAmount+=Yn,_s.buyValue+=Ka):ue.type==="sell"&&(_s.sell++,_s.sellAmount+=Yn,_s.sellValue+=Ka)}}),vt.length===0&&C.length>0){console.log("📊 PortfolioView: 无真实交易数据，基于Current Assets生成模拟数据");const ue=C.reduce((He,ls)=>He+ls.amount*ls.currentPrice,0);C.forEach((He,ls)=>{const _s=He.amount*He.currentPrice,Yn=_s/ue*100;for(let Ii=0;Ii<T;Ii++){const Eg=new Date(V.getTime()+Ii*24*60*60*1e3).toISOString().split("T")[0],zn=Wt.get(Eg);if(zn){const kg=Math.max(.1,1-Ii/T*.8),Cg=.5+Math.random()*1,Ya=_s*Yn/100*kg*Cg*.1;if(Math.random()>.3)zn.buy++,zn.buyAmount+=Ya/He.currentPrice,zn.buyValue+=Ya;else{const hu=Ya*.6;zn.sell++,zn.sellAmount+=hu/He.currentPrice,zn.sellValue+=hu}}}})}let ge=0,Ee=0,Fs=0,go=0;const vo=Array.from(Wt.values()).sort((ue,He)=>new Date(ue.dateKey)-new Date(He.dateKey));f.value=vo.map(ue=>(ge+=ue.buyValue,Ee+=ue.sellValue,Fs+=ue.buyAmount,go+=ue.sellAmount,{...ue,cumulativeBuyValue:ge,cumulativeSellValue:Ee,cumulativeBuyAmount:Fs,cumulativeSellAmount:go,netValue:ge-Ee})),console.log("📊 PortfolioView: 交易图表数据生成完成，共",f.value.length,"个数据点"),console.log("📊 PortfolioView: 累计买入价值:",ge),console.log("📊 PortfolioView: 累计卖出价值:",Ee),console.log("📊 PortfolioView: 净价值:",ge-Ee),Gn()},es=C=>{switch(C){case"3d":return 3;case"7d":return 7;case"30d":return 30;case"90d":return 90;case"1y":return 365;default:return 3}},qs=C=>{const T=new Date,b=new Date(T.getFullYear(),T.getMonth(),T.getDate()),V=new Date(C.getFullYear(),C.getMonth(),C.getDate()),ot=b-V,vt=Math.floor(ot/(1e3*60*60*24));return vt===0?"Today":vt===1?"Yesterday":vt<=3?C.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"}):vt<7?C.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"}):vt<30?C.toLocaleDateString("en-US",{month:"short",day:"numeric"}):C.toLocaleDateString("en-US",{month:"short",year:"2-digit"})},kn=(C,T)=>{if(T===0)return 0;const b=80,V=C>0?8:0;return Math.max(C/T*b,V)},he=(C,T,b)=>{const V=C.target.getBoundingClientRect(),vt=C.target.closest(".pf-line-chart-container").getBoundingClientRect();w.value={visible:!0,x:V.left-vt.left+V.width/2,y:V.top-vt.top-50,content:`${b==="buy"?"Buy":"Sell"}: ${T.count} (A$${T.value.toFixed(2)})`,type:b,date:T.date}},Ve=()=>{w.value.visible=!1},Gn=()=>{Or(()=>{const C=c.value;C&&(C.scrollLeft=C.scrollWidth-C.clientWidth)})},_i=C=>{const b=Date.now()-C,V=Math.floor(b/6e4),ot=Math.floor(b/36e5),vt=Math.floor(b/864e5);return vt>0?`${vt}d ago`:ot>0?`${ot}h ago`:V>0?`${V}m ago`:"Just now"},$a=C=>{const T=Math.max(...Mt.value.map(b=>Math.abs(b.change)),1);return Math.min(Math.abs(C)/T*100,100)},Ss=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],Pi=C=>Ss[C%Ss.length],Kn=C=>B.value===0?0:C.amount*C.currentPrice/B.value*100,Va=C=>{const T=Kn(C),b=2*Math.PI*80;return`${T/100*b} ${b}`},mo=C=>{let T=0;for(let b=0;b<C;b++){const V=Mt.value[b],ot=Kn(V),vt=2*Math.PI*80;T-=ot/100*vt}return T},Cn=C=>{const T=Mt.value[C],b=Kn(T);let V=0;for(let ls=0;ls<C;ls++){const _s=Mt.value[ls],Yn=Kn(_s);V+=Yn/100*360}const vt=(V+b/100*360/2-90)*Math.PI/180,Wt=100,ge=100,Ee=80,Fs=Wt+Math.cos(vt)*Ee,go=ge+Math.sin(vt)*Ee,vo=50,ue=Wt+Math.cos(vt)*(Ee+vo),He=ge+Math.sin(vt)*(Ee+vo);return{startX:Fs,startY:go,endX:ue,endY:He,textX:ue,textY:He}},Ha=C=>{t.push({name:"tradeProject",params:{code:C},query:{type:"buy"}})},ja=C=>{t.push({name:"detail",params:{code:C}})},Wa=C=>{t.push({name:"tradeProject",params:{code:C},query:{type:"sell",interest:!0}})};let ur;Ci(async()=>{await J(),Ga(),X(),await Le(),U.value.length>0&&(N.value=U.value[0].address),Yt(),ur=setInterval(jt,3e4),window.addEventListener("walletActivityUpdated",S),window.addEventListener("walletConnected",mt),window.addEventListener("walletDisconnected",st),window.addEventListener("walletAddressChanged",b=>{console.log("🔄 Wallet address changed event received:",b.detail),bt(b.detail.newAddress)}),window.ethereum&&(window.ethereum.on("accountsChanged",b=>{console.log("🔄 Ethereum accounts changed:",b),b&&b.length>0?bt(b[0]):st()}),window.ethereum.on("chainChanged",b=>{console.log("🔄 Ethereum chain changed:",b),Yt()})),Gs(u,async()=>{console.log("📊 PortfolioView: 时间范围变化，重新生成图表数据:",u.value),await Le()});const T=rt().filter(b=>b.type==="buy"||b.type==="sell");console.log("🚀 PortfolioView初始化: 检测到WalletView交易活动数据:",T.length,"条"),T.length>0&&(console.log("📊 PortfolioView: 交易活动详情:",T),console.log("💰 PortfolioView: 计算的总投资:",Et(N.value)),console.log("📈 PortfolioView: 计算的当前价值:",Ut(N.value)),console.log("📊 PortfolioView: 计算的总收益:",Vt(N.value)),console.log("📈 PortfolioView: 计算的ROI:",de(N.value))),Gs(()=>t.currentRoute.value.path,(b,V)=>{b==="/portfolio"&&b!==V&&(console.log("🔄 PortfolioView: 检测到portfolio页面访问，自动刷新数据..."),jt(),Ie())},{immediate:!1})});const Ga=()=>{const{subscribeProducts:C,getLastRefreshTime:T}=Uc();W=C(V=>{console.log("📡 PortfolioView: 收到产品数据更新，共",V.length,"个项目"),at.value=V});const b=T();b&&console.log("🕐 PortfolioView: 最后刷新时间:",b)},R=()=>{W&&W()},S=C=>{console.log("🔄 PortfolioView: 检测到WalletView交易活动更新:",C.detail);const b=rt().filter(V=>V.type==="buy"||V.type==="sell");console.log("📊 PortfolioView: 当前交易活动数据:",b.length,"条"),console.log("💰 PortfolioView: 计算的总投资:",Et(N.value)),console.log("📈 PortfolioView: 计算的当前价值:",Ut(N.value)),console.log("📊 PortfolioView: 计算的总收益:",Vt(N.value)),console.log("📈 PortfolioView: 计算的ROI:",de(N.value))};Nc(()=>{ur&&clearInterval(ur),R(),window.removeEventListener("walletActivityUpdated",S),window.removeEventListener("walletConnected",mt),window.removeEventListener("walletDisconnected",st),window.removeEventListener("walletAddressChanged",bt),window.ethereum&&(window.ethereum.removeListener("accountsChanged",bt),window.ethereum.removeListener("chainChanged",Yt)),window.removeEventListener("resize",I)}),Gs(u,()=>{Yt()});const I=()=>{const C=document.querySelector(".pf-line-chart-container");C&&(h.value=C.offsetWidth)};window.addEventListener("resize",I),Or(()=>{I()}),Gs(Mt,()=>{console.log("📊 PortfolioView: 资产分布变化，重新生成交易图表数据"),Yt()},{deep:!0}),Gs([s,i,n],(C,T)=>{const[b,V,ot]=C,[vt,Wt,ge]=T||[null,null,null];console.log("🔄 Wallet state changed:",{connected:{from:ge,to:ot},address:{from:vt,to:b},balance:{from:Wt,to:V}}),it(),ge&&!ot&&(console.log("🔌 Wallet disconnected, clearing dashboard data..."),st()),!ge&&ot&&(console.log("🔌 Wallet reconnected, refreshing dashboard data..."),mt()),vt&&b&&vt!==b&&(console.log("🔄 Wallet address changed, updating selected account..."),bt(b))},{deep:!0});const Pt=C=>{console.log("📄 查看合约详情:",C),t.push({path:"/contract",query:{projectCode:C.projectCode,transactionId:C.id,type:C.type,amount:C.amount,timestamp:C.timestamp}})};return window.addEventListener("storage",C=>{C.key==="walletBoundAccounts"&&(console.log("🔄 Detected wallet bound accounts change, reloading..."),X(),U.value.length>0&&!U.value.find(T=>T.address===N.value)&&(N.value=U.value[0].address))}),(C,T)=>(E(),k("div",sC,[o("div",nC,[o("div",iC,[o("button",{class:"pf-mobile-menu-btn",onClick:K},[...T[7]||(T[7]=[o("span",{class:"pf-menu-icon"},"☰",-1)])]),T[8]||(T[8]=o("h1",{class:"pf-mobile-title"},"Portfolio",-1)),o("div",rC,[o("button",{class:"pf-mobile-action-btn",onClick:T[0]||(T[0]=b=>v.value=!v.value)},"⚙️")])])]),j.value?(E(),k("div",{key:0,class:"pf-mobile-overlay",onClick:gt})):H("",!0),o("div",oC,[o("div",aC,[o("aside",{class:St(["pf-sidebar",{"pf-sidebar-mobile-open":j.value}])},[o("div",lC,[T[9]||(T[9]=o("h2",null,"My Wallet",-1)),o("div",cC,[o("span",{class:"gear",onClick:T[1]||(T[1]=b=>v.value=!v.value)},"⚙️"),o("span",{class:"plus",onClick:Q,title:"Add wallets in Wallet page"},"＋")])]),o("div",uC,[o("button",{class:"pf-acc-title",onClick:T[2]||(T[2]=b=>L.value=!L.value)},[T[10]||(T[10]=o("span",null,"Decentralized",-1)),o("span",{class:St(["caret",{open:L.value}])},"▾",2)]),Lt(o("div",dC,[(E(!0),k(kt,null,ke(U.value,b=>(E(),k("div",{key:b.address,class:St(["pf-acc-item",{active:N.value===b.address}]),onClick:V=>q(b.address)},[T[11]||(T[11]=o("div",{class:"pf-avatar"},null,-1)),o("div",hC,[o("div",pC,m(b.name||"Account"),1),o("div",{class:"pf-addr",title:b.address},m(It(b.address)),9,mC),o("div",gC,m(Zt(b.address))+" "+m(zt(r)),1)])],10,fC))),128))],512),[[R0,L.value]])]),N.value?(E(),k("div",vC,[T[19]||(T[19]=o("h3",null,"Account Overview",-1)),o("div",yC,[o("div",bC,[T[12]||(T[12]=o("div",{class:"pf-stat-label"},"Total Investment",-1)),o("div",wC,"A$"+m(Et(N.value).toFixed(2)),1)]),o("div",AC,[T[13]||(T[13]=o("div",{class:"pf-stat-label"},"Interest Income",-1)),o("div",{class:St(["pf-stat-value",{positive:Vt(N.value)>=0,negative:Vt(N.value)<0}])},m(Vt(N.value)>=0?"+":"")+"A$"+m(Vt(N.value).toFixed(2)),3)]),o("div",EC,[T[14]||(T[14]=o("div",{class:"pf-stat-label"},"ROI",-1)),o("div",{class:St(["pf-stat-value",{positive:de(N.value)>=0,negative:de(N.value)<0}])},m(de(N.value)>=0?"+":"")+m(de(N.value).toFixed(2))+"% ",3)])]),o("div",kC,[T[17]||(T[17]=o("div",{class:"pf-chart-header"},[o("h4",null,"Current Assets Distribution")],-1)),T[18]||(T[18]=o("p",{class:"pf-chart-subtitle"},"All purchased assets across all wallets",-1)),o("div",CC,[o("div",TC,[(E(),k("svg",SC,[T[15]||(T[15]=o("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#e5e7eb","stroke-width":"20"},null,-1)),(E(!0),k(kt,null,ke(Mt.value,(b,V)=>(E(),k("circle",{key:b.code,cx:"100",cy:"100",r:"80",fill:"none",stroke:Pi(V),"stroke-width":"20","stroke-dasharray":Va(b),"stroke-dashoffset":mo(V),transform:"rotate(-90 100 100)"},null,8,_C))),128)),(E(!0),k(kt,null,ke(Mt.value,(b,V)=>(E(),k("g",{key:`label-${b.code}`},[o("line",{x1:Cn(V).startX,y1:Cn(V).startY,x2:Cn(V).endX,y2:Cn(V).endY,stroke:Pi(V),"stroke-width":"2","stroke-linecap":"round"},null,8,PC),o("text",{x:Cn(V).textX,y:Cn(V).textY,fill:Pi(V),"font-size":"20","font-weight":"600","text-anchor":"middle","dominant-baseline":"middle",class:"pf-pie-label-text"},m(Kn(b).toFixed(2))+"% ",9,IC)]))),128))])),o("div",xC,[o("div",RC,"A$"+m(B.value.toFixed(2)),1),T[16]||(T[16]=o("div",{class:"pf-pie-label"},"Total Value",-1))])]),o("div",NC,[(E(!0),k(kt,null,ke(Mt.value,(b,V)=>(E(),k("div",{key:b.code,class:"pf-legend-item"},[o("div",DC,[o("div",{class:"pf-legend-color",style:is({backgroundColor:Pi(V)})},null,4),o("div",LC,m(b.code),1)]),o("div",BC,[o("div",OC,"A$"+m((b.amount*b.currentPrice).toFixed(2)),1)])]))),128))])])])])):H("",!0)],2),o("main",MC,[o("div",UC,[o("div",FC," A$"+m(Et(N.value).toFixed(2)),1),T[20]||(T[20]=o("div",{class:"pf-change"},null,-1))]),o("nav",$C,[(E(),k(kt,null,ke(a,b=>o("button",{key:b,class:St(["pf-tab",{active:l.value===b}]),onClick:V=>l.value=b},m(b),11,VC)),64))]),l.value==="Projects"?(E(),k("div",HC,[o("div",jC,[(E(!0),k(kt,null,ke(ct.value,b=>(E(),k("div",{key:b.code,class:"pf-project-card"},[o("div",WC,[o("img",{src:b.image,alt:b.code,class:"pf-project-image"},null,8,GC),o("div",KC,[o("h4",null,m(b.code),1),o("p",null,m(b.subtitle),1)])]),o("div",YC,[o("div",zC,[T[21]||(T[21]=o("span",{class:"pf-metric-label"},"Target Yield",-1)),o("span",QC,m(b.targetYield)+"%",1)]),o("div",qC,[T[22]||(T[22]=o("span",{class:"pf-metric-label"},"Risk Level",-1)),o("span",{class:St(["pf-metric-value","risk-"+b.risk])},m(b.risk),3)]),Nt(b.code)?(E(),k("div",JC,[T[23]||(T[23]=o("span",{class:"pf-metric-label"},"Holding Amount",-1)),o("span",ZC,m(Nt(b.code).currentValue.toFixed(2))+" tokens",1)])):H("",!0),Nt(b.code)?(E(),k("div",XC,[...T[24]||(T[24]=[o("span",{class:"pf-metric-label"},"Interest Received",-1)])])):H("",!0),Nt(b.code)?(E(),k("div",t8,[...T[25]||(T[25]=[o("span",{class:"pf-metric-label"},"Interest Accrued",-1)])])):H("",!0)]),o("div",e8,[o("button",{class:"pf-project-btn",onClick:V=>Ha(b.code)},"Buy",8,s8),o("button",{class:"pf-project-btn pf-project-btn-secondary",onClick:V=>ja(b.code)},"Details",8,n8),o("button",{class:"pf-project-btn pf-project-btn-interest",onClick:V=>Wa(b.code)},"Sell Interest",8,i8)])]))),128))])])):H("",!0),l.value==="Analysis"?(E(),k("div",r8,[o("div",o8,[o("div",a8,[T[28]||(T[28]=o("h3",null,"Asset Summary",-1)),o("div",l8,[o("div",c8,[o("span",u8,m(Mt.value.length),1),T[26]||(T[26]=o("span",{class:"pf-stat-label"},"Assets",-1))]),o("div",d8,[o("span",f8,"A$"+m(B.value.toFixed(2)),1),T[27]||(T[27]=o("span",{class:"pf-stat-label"},"Total Value",-1))])])]),o("div",h8,[o("div",p8,[T[30]||(T[30]=o("h4",null,"Transaction History",-1)),o("div",m8,[Lt(o("select",{"onUpdate:modelValue":T[3]||(T[3]=b=>u.value=b),class:"pf-select"},[...T[29]||(T[29]=[qt('<option value="3d" data-v-ed3e06bb>Last 3 Days</option><option value="7d" data-v-ed3e06bb>Last 7 Days</option><option value="30d" data-v-ed3e06bb>Last 30 Days</option><option value="90d" data-v-ed3e06bb>Last 3 Months</option><option value="1y" data-v-ed3e06bb>Last Year</option>',5)])],512),[[ks,u.value]]),o("button",{onClick:Yt,class:"pf-refresh-btn"},"🔄")])]),o("div",g8,[o("div",v8,[T[31]||(T[31]=o("div",{class:"pf-summary-label"},"Total",-1)),o("div",y8,m(et.value.totalTransactions.toFixed(2)),1)]),o("div",b8,[T[32]||(T[32]=o("div",{class:"pf-summary-label"},"Buy",-1)),o("div",w8,m(et.value.totalBuy.toFixed(2)),1)]),o("div",A8,[T[33]||(T[33]=o("div",{class:"pf-summary-label"},"Sell",-1)),o("div",E8,m(et.value.totalSell),1)])]),o("div",k8,[d.value?(E(),k("div",C8,[...T[34]||(T[34]=[o("div",{class:"pf-spinner"},null,-1),o("span",null,"Loading transaction data...",-1)])])):f.value.length===0?(E(),k("div",T8,[...T[35]||(T[35]=[o("div",{class:"pf-empty-icon"},null,-1),o("p",null,"No transaction data available",-1)])])):(E(),k("div",S8,[o("div",{ref_key:"chartBarsContainer",ref:c,class:"pf-chart-bars",style:is({"--bar-count":f.value.length})},[(E(!0),k(kt,null,ke(f.value,(b,V)=>(E(),k("div",{key:V,class:"pf-bar-item"},[o("div",_8,[o("div",{class:"pf-bar-buy",style:is({height:kn(b.cumulativeBuyValue,A.value)+"%"})},null,4),o("div",{class:"pf-bar-sell",style:is({height:kn(b.cumulativeSellValue,A.value)+"%"})},null,4)]),o("div",P8,m(b.date),1),o("div",I8,[o("div",x8,"Cumulative Buy: A$"+m(b.cumulativeBuyValue.toFixed(2)),1),o("div",R8,"Cumulative Sell: A$"+m(b.cumulativeSellValue.toFixed(2)),1),o("div",N8,"Net Value: A$"+m(b.netValue.toFixed(2)),1)])]))),128))],4)])),f.value.length>0?(E(),k("div",D8,[o("div",L8,[(E(),k("svg",{ref:"lineChartSvg",class:"pf-line-svg",viewBox:`0 0 ${h.value} ${p.value}`,preserveAspectRatio:"none"},[T[36]||(T[36]=o("defs",null,[o("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[o("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#374151","stroke-width":"0.5",opacity:"0.3"})])],-1)),T[37]||(T[37]=o("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1)),o("polyline",{points:F.value,fill:"none",stroke:"#10b981","stroke-width":"2",class:"pf-line-buy"},null,8,O8),o("polyline",{points:M.value,fill:"none",stroke:"#ef4444","stroke-width":"2",class:"pf-line-sell"},null,8,M8),(E(!0),k(kt,null,ke(x.value,(b,V)=>(E(),k("circle",{key:`buy-${V}`,cx:b.x,cy:b.y,r:"4",fill:"#10b981",class:"pf-line-point pf-line-point-buy",onMouseenter:ot=>he(ot,b,"buy"),onMouseleave:Ve},null,40,U8))),128)),(E(!0),k(kt,null,ke(O.value,(b,V)=>(E(),k("circle",{key:`sell-${V}`,cx:b.x,cy:b.y,r:"4",fill:"#ef4444",class:"pf-line-point pf-line-point-sell",onMouseenter:ot=>he(ot,b,"sell"),onMouseleave:Ve},null,40,F8))),128))],8,B8))]),w.value.visible?(E(),k("div",{key:0,class:"pf-line-tooltip",style:is({left:w.value.x+"px",top:w.value.y+"px"})},[o("div",$8,[o("div",V8,m(w.value.date),1),o("div",{class:St(["pf-tooltip-value",`pf-tooltip-${w.value.type}`])},m(w.value.content),3)])],4)):H("",!0)])):H("",!0),T[38]||(T[38]=qt('<div class="pf-unified-legend" data-v-ed3e06bb><div class="pf-legend-item" data-v-ed3e06bb><div class="pf-legend-color pf-buy-color" data-v-ed3e06bb></div><span data-v-ed3e06bb>Buy Value (A$)</span></div><div class="pf-legend-item" data-v-ed3e06bb><div class="pf-legend-color pf-sell-color" data-v-ed3e06bb></div><span data-v-ed3e06bb>Sell Value (A$)</span></div></div>',1))])])]),o("div",H8,[o("div",j8,[T[39]||(T[39]=o("h4",null,"Return Distribution",-1)),o("div",W8,[o("div",G8,[(E(!0),k(kt,null,ke(Mt.value,b=>(E(),k("div",{key:b.code,class:"pf-chart-bar"},[o("div",{class:"pf-chart-bar-fill",style:is({height:$a(b.change)+"%"})},null,4),o("div",K8,m(b.code),1)]))),128))])])]),o("div",Y8,[T[42]||(T[42]=o("h4",null,"Risk Assessment",-1)),o("div",z8,[o("div",Q8,[T[40]||(T[40]=o("span",{class:"pf-risk-label"},"Portfolio Risk",-1)),o("span",q8,m(Ht.value),1)]),o("div",J8,[T[41]||(T[41]=o("span",{class:"pf-risk-label"},"Diversification",-1)),o("span",Z8,m(y.value.toFixed(2))+"%",1)])])])])])):H("",!0),l.value==="Transactions"?(E(),k("div",X8,[o("div",tT,[T[43]||(T[43]=o("h3",null,"Recent Transactions",-1)),o("div",eT,[o("button",{class:"pf-filter-btn",onClick:T[4]||(T[4]=b=>g.value=!g.value)}," Filter "),o("button",{class:"pf-refresh-btn",onClick:Ie,disabled:d.value},[d.value?(E(),k("span",nT,"🔄")):(E(),k("span",iT,"Refresh"))],8,sT)])]),g.value?(E(),k("div",rT,[Lt(o("select",{"onUpdate:modelValue":T[5]||(T[5]=b=>_.value=b),class:"pf-filter-select"},[...T[44]||(T[44]=[o("option",{value:""},"All Types",-1),o("option",{value:"buy"},"Buy",-1),o("option",{value:"sell"},"Sell",-1)])],512),[[ks,_.value]]),Lt(o("select",{"onUpdate:modelValue":T[6]||(T[6]=b=>D.value=b),class:"pf-filter-select"},[T[45]||(T[45]=o("option",{value:""},"All Projects",-1)),(E(!0),k(kt,null,ke(at.value,b=>(E(),k("option",{key:b.code,value:b.code},m(b.code),9,oT))),128))],512),[[ks,D.value]])])):H("",!0),o("div",aT,[Y.value.length===0?(E(),k("div",lT,[...T[46]||(T[46]=[o("div",{class:"pf-empty-icon"},null,-1),o("p",null,"No transaction data available",-1),o("p",{class:"pf-empty-hint"},"Complete some trades in the Trade page to see your transaction history",-1)])])):(E(),k("div",cT,[(E(!0),k(kt,null,ke(Y.value,b=>(E(),k("div",{key:b.id,class:"pf-transaction-item",onClick:V=>Pt(b)},[o("div",{class:St(["pf-transaction-icon",b.type])},m(b.type==="buy"?"📈":"📉"),3),o("div",dT,[o("div",fT,m(b.type.toUpperCase())+" "+m(b.amount)+" "+m(b.projectCode),1),o("div",hT,m(b.projectName),1)]),o("div",pT,[o("div",mT,m(_i(b.timestamp)),1),o("div",gT,"A$"+m(b.amount),1)])],8,uT))),128))]))])])):H("",!0)])])])]))}},cg=ce(vT,[["__scopeId","data-v-ed3e06bb"]]),ug="userInfo",gc={name:"",email:"",phone:"",firstName:"",lastName:"",dob:"1990-01-01",country:"US",docType:"passport",agreeEmailUpdates:!1};function eo(){try{const e=localStorage.getItem(ug);if(e){const t=JSON.parse(e);return{...gc,...t}}}catch(e){console.error("Failed to get user info:",e)}return{...gc}}function dg(e){try{const t={...gc,...e};localStorage.setItem(ug,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("user-info-changed",{detail:t}))}catch(t){console.error("Failed to set user info:",t)}}function fg(){return eo().name||"User"}function yT(){return eo().email||""}function bT(){return fg().charAt(0).toUpperCase()||"U"}function hg(e){const t=e.trim().split(" "),s=t[0]||"",n=t.slice(1).join(" ")||"";return{firstName:s,lastName:n}}function wT(e){const t={name:e.user_name||"",email:e.user_email||"",phone:e.user_phone||"",agreeEmailUpdates:e.agree_email_updates||!1,...hg(e.user_name||"")};dg(t)}function AT(e){const t=eo();if(e.user_name){t.name=e.user_name;const{firstName:s,lastName:n}=hg(e.user_name);t.firstName=s,t.lastName=n}e.user_email&&(t.email=e.user_email),e.user_phone&&(t.phone=e.user_phone),dg(t)}const Df="user-info-changed",ET="/icons/signup-icon1.png",kT={name:"LoginView",emits:["notify","navigate"],data(){return{user_email:"",user_password:"",remember:!1,loginStatus:!1,loginStatusMessage:"",loginStatusClass:"",loading:!1}},mounted(){localStorage.getItem("isLoggedIn")==="true"&&(this.loginStatus=!0,this.loginStatusClass="status success")},methods:{async submitLogin(){if(!this.user_email||!this.user_password){this.$emit("notify","Please enter email and password");return}this.loading=!0,this.loginStatus=!0,this.loginStatusClass="status",this.loginStatusMessage="Logging in...";try{const t=await(await fetch("http://localhost:3000/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:this.user_email,user_password:this.user_password})})).json();t.status===0?(this.loginStatusClass="status success",this.loginStatusMessage="Login successful!",localStorage.setItem("isLoggedIn","true"),localStorage.setItem("token",t.token),this.remember&&localStorage.setItem("remember_email",this.user_email),this.saveUserInfo(t),window.dispatchEvent(new CustomEvent("auth-changed")),this.$emit("notify","Login successful!"),setTimeout(()=>{this.$router.push("/home")},1e3)):(this.loginStatusClass="status error",this.loginStatusMessage=`Login failed: ${t.message}`,this.$emit("notify",t.message))}catch(e){this.loginStatusClass="status error",this.loginStatusMessage=`Network error: ${e.message}`,this.$emit("notify",`Network error: ${e.message}`)}finally{this.loading=!1}},saveUserInfo(e){try{AT({user_email:this.user_email,user_name:e.user_name||"",...e}),console.log("User info saved from login:",this.user_email)}catch(t){console.error("Failed to save user info from login:",t)}}}},CT={class:"auth-card"},TT={class:"auth-row"},ST={class:"auth-check"},_T=["disabled"],PT={class:"auth-alt"};function IT(e,t,s,n,i,r){return E(),k("div",CT,[t[10]||(t[10]=o("div",{class:"auth-logo"},[o("img",{src:ET,alt:"Mortgage RWA"})],-1)),t[11]||(t[11]=o("h1",{class:"auth-title"},"Login Your Account",-1)),t[12]||(t[12]=o("p",{class:"auth-sub"},"Welcome to Mortgage RWA",-1)),i.loginStatus?(E(),k("div",{key:0,class:St(["status",i.loginStatusClass])},m(i.loginStatusMessage),3)):H("",!0),o("form",{class:"auth-form",onSubmit:t[5]||(t[5]=yt((...a)=>r.submitLogin&&r.submitLogin(...a),["prevent"]))},[t[8]||(t[8]=o("label",{for:"lemail",class:"auth-label"},"Email",-1)),Lt(o("input",{id:"lemail",type:"email",class:"input auth-input",placeholder:"Enter your email","onUpdate:modelValue":t[0]||(t[0]=a=>i.user_email=a),required:""},null,512),[[me,i.user_email,void 0,{trim:!0}]]),t[9]||(t[9]=o("label",{for:"lpass",class:"auth-label"},"Password",-1)),Lt(o("input",{id:"lpass",type:"password",class:"input auth-input",placeholder:"••••••••","onUpdate:modelValue":t[1]||(t[1]=a=>i.user_password=a),required:""},null,512),[[me,i.user_password]]),o("div",TT,[o("label",ST,[Lt(o("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=a=>i.remember=a)},null,512),[[Hl,i.remember]]),t[6]||(t[6]=o("span",null,"Remember for 30 days",-1))]),o("a",{href:"#",class:"auth-link",onClick:t[3]||(t[3]=yt(a=>e.$emit("navigate","forgot"),["prevent"]))},"Forgot password")]),o("button",{class:"btn orange auth-submit",type:"submit",disabled:i.loading},m(i.loading?"Logging in...":"Login"),9,_T),o("p",PT,[t[7]||(t[7]=ut(" Don't have an account? ",-1)),o("a",{href:"#",class:"auth-link",onClick:t[4]||(t[4]=yt(a=>e.$emit("navigate","signup"),["prevent"]))},"Sign up")])],32)])}const pg=ce(kT,[["render",IT],["__scopeId","data-v-3f45fbbf"]]);function xT(){const e=Date.now(),t=Math.random().toString(36).slice(2,7);return`user${e}${t}`}const RT={name:"SignupView",emits:["notify","navigate"],data(){return{user_email:"",user_password:"",user_name:"",user_phone:"",agreeTerms:!1,agreeEmailUpdates:!1,signupStatus:!1,signupStatusMessage:"",signupStatusClass:"",loading:!1}},methods:{generateUserId(){return xT()},async submitSignup(){this.clearFieldErrors();const e={user_email:this.user_email?.trim(),user_password:this.user_password,user_name:this.user_name?.trim(),user_phone:this.user_phone?.trim(),user_id:this.generateUserId()};console.log("🔍 注册表单数据:",e);const t=this.validateForm(e);if(this.agreeTerms||t.push("Please agree to the terms and conditions"),t.length>0){this.$emit("notify",`Validation errors: ${t.join(", ")}`),this.showFieldErrors(e);return}this.loading=!0,this.signupStatus=!0,this.signupStatusClass="status",this.signupStatusMessage="Registering...";try{console.log("🚀 发送注册请求:",e);const n=await(await fetch("http://localhost:3000/user/reguser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();n.status===0?(this.signupStatusClass="status success",this.signupStatusMessage=`Registration successful! User: ${this.user_email}`,this.saveUserInfo(),console.log("✅ Registration successful!"),console.log("📧 Email:",this.user_email),console.log("👤 Name:",this.user_name),console.log("📱 Phone:",this.user_phone),console.log("💾 User data saved to MySQL user table"),this.$emit("notify",n.message||"Registration successful! Please login to continue."),setTimeout(()=>{this.$router.push("/login")},1500)):(this.signupStatusClass="status error",this.signupStatusMessage=`Registration failed: ${n.message}`,console.error("❌ Registration failed:",n.message),console.error("🔍 Error details: status=",n.status),this.$emit("notify",n.message))}catch(s){this.signupStatusClass="status error",this.signupStatusMessage=`Network error: ${s.message}`,console.error("🌐 Network error:",s.message),console.error("🔍 Error type:",s.name),s.name==="TypeError"&&s.message.includes("fetch")?(console.error("🔌 Check if backend server is running on localhost:3000"),this.$emit("notify","Network error: Please check if the server is running")):this.$emit("notify",`Network error: ${s.message}`)}finally{this.loading=!1}},saveUserInfo(){try{wT({user_name:this.user_name,user_email:this.user_email,user_phone:this.user_phone,agree_email_updates:this.agreeEmailUpdates}),console.log("User info saved:",this.user_name,this.user_email,this.user_phone),console.log("Email updates preference:",this.agreeEmailUpdates)}catch(e){console.error("Failed to save user info:",e)}},validateForm(e){const t=[];return e.user_email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.user_email)||t.push("Invalid email format"):t.push("Email is required"),e.user_password?e.user_password.length<6&&t.push("Password must be at least 6 characters"):t.push("Password is required"),e.user_name&&e.user_name.length<2&&t.push("Name must be at least 2 characters if provided"),e.user_phone?this.isValidPhone(e.user_phone)||t.push("Invalid phone number format"):t.push("Phone number is required"),t},showFieldErrors(e){(!e.user_email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.user_email))&&this.showFieldError("semail","Invalid email format"),(!e.user_password||e.user_password.length<6)&&this.showFieldError("spass","Password must be at least 6 characters"),e.user_name&&e.user_name.length<2&&this.showFieldError("sname","Name must be at least 2 characters if provided"),(!e.user_phone||!this.isValidPhone(e.user_phone))&&this.showFieldError("sphone","Invalid phone number format")},showFieldError(e,t){const s=document.getElementById(e);if(s){s.classList.add("error");const n=document.createElement("div");n.className="error-message",n.textContent=t,s.parentNode.appendChild(n)}},clearFieldErrors(){document.querySelectorAll(".auth-input").forEach(e=>{e.classList.remove("error")}),document.querySelectorAll(".error-message").forEach(e=>{e.remove()})},isValidPhone(e){return/^[\+]?[1-9][\d]{0,15}$/.test(e.replace(/[\s\-\(\)]/g,""))},goToTerms(){this.$router.push("/terms")},goToPrivacy(){this.$router.push("/privacy")}}},NT={class:"auth-card"},DT={key:0,class:"modal-mask"},LT={class:"modal-wrapper"},BT={class:"modal-container"},OT={class:"auth-row"},MT={class:"auth-check"},UT={class:"auth-row"},FT={class:"auth-check"},$T=["disabled"],VT={class:"auth-alt"};function HT(e,t,s,n,i,r){return E(),k("div",NT,[e.showModal?(E(),k("div",DT,[o("div",LT,[o("div",BT,[o("h3",null,m(e.modalTitle),1),o("p",null,m(e.modalMessage),1),o("button",{class:"btn orange",onClick:t[0]||(t[0]=(...a)=>e.handleModalAction&&e.handleModalAction(...a))},m(e.modalButtonText),1)])])])):H("",!0),t[19]||(t[19]=o("div",{class:"auth-logo"},[o("img",{src:qh,alt:"Mortgage RWA"})],-1)),t[20]||(t[20]=o("h1",{class:"auth-title"},"Create an account",-1)),i.signupStatus?(E(),k("div",{key:1,class:St(["status",i.signupStatusClass])},m(i.signupStatusMessage),3)):H("",!0),o("form",{class:"auth-form",onSubmit:t[10]||(t[10]=yt((...a)=>r.submitSignup&&r.submitSignup(...a),["prevent"]))},[t[15]||(t[15]=o("label",{for:"semail",class:"auth-label"},"Email",-1)),Lt(o("input",{id:"semail","onUpdate:modelValue":t[1]||(t[1]=a=>i.user_email=a),type:"email",class:"input auth-input",placeholder:"Enter your email",required:""},null,512),[[me,i.user_email,void 0,{trim:!0}]]),t[16]||(t[16]=o("label",{for:"spass",class:"auth-label"},"Password",-1)),Lt(o("input",{id:"spass","onUpdate:modelValue":t[2]||(t[2]=a=>i.user_password=a),type:"password",class:"input auth-input",placeholder:"Enter your password",required:""},null,512),[[me,i.user_password]]),t[17]||(t[17]=o("label",{for:"sname",class:"auth-label"},"Full Name",-1)),Lt(o("input",{id:"sname","onUpdate:modelValue":t[3]||(t[3]=a=>i.user_name=a),type:"text",class:"input auth-input",placeholder:"Enter your name"},null,512),[[me,i.user_name,void 0,{trim:!0}]]),t[18]||(t[18]=o("label",{for:"sphone",class:"auth-label"},"Phone number",-1)),Lt(o("input",{id:"sphone","onUpdate:modelValue":t[4]||(t[4]=a=>i.user_phone=a),type:"tel",class:"input auth-input",placeholder:"Enter your phone number",required:""},null,512),[[me,i.user_phone,void 0,{trim:!0}]]),o("div",OT,[o("label",MT,[Lt(o("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>i.agreeTerms=a)},null,512),[[Hl,i.agreeTerms]]),o("span",null,[t[11]||(t[11]=ut("I agree to the ",-1)),o("a",{href:"#",onClick:t[6]||(t[6]=yt((...a)=>r.goToTerms&&r.goToTerms(...a),["prevent"]))},"Terms"),t[12]||(t[12]=ut(" and ",-1)),o("a",{href:"#",onClick:t[7]||(t[7]=yt((...a)=>r.goToPrivacy&&r.goToPrivacy(...a),["prevent"]))},"Privacy Policy.")])])]),o("div",UT,[o("label",FT,[Lt(o("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=a=>i.agreeEmailUpdates=a)},null,512),[[Hl,i.agreeEmailUpdates]]),t[13]||(t[13]=o("span",null,"I want to receive e-mail updates from RWA. ",-1))])]),o("button",{class:"btn orange auth-submit",type:"submit",disabled:i.loading||!i.agreeTerms},m(i.loading?"registering...":"Sign up"),9,$T),o("p",VT,[t[14]||(t[14]=ut(" Already have an account? ",-1)),o("a",{href:"#",class:"auth-link",onClick:t[9]||(t[9]=yt(a=>e.go("/login"),["prevent"]))},"Log in")])],32)])}const mg=ce(RT,[["render",HT],["__scopeId","data-v-0e81dc4b"]]),jT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3000/api",VITE_API_EmailVerify:"http://localhost:3000/send-email-code",VITE_API_LOGIN_URL:"http://localhost:3000/user/login",VITE_API_SIGNUP_URL:"http://localhost:3000/user/reguser",VITE_API_TSC_URL:"http://localhost:3000/user/transactionhistory",VITE_INTEREST_TOKEN_ADDRESS:"0xE6aeE4a898c6d99033ee5380Df407C5DD470fb17",VITE_KYC_REGISTRY_ADDRESS:"0x4533f47BE0ce8b80F7bbdF02939f81F4A15b7A45",VITE_LOAN_ISSUER_ADDRESS:"0x13159e6417D98528C220b12Ec4950D5A343E5eAA",VITE_PRINCIPAL_TOKEN_ADDRESS:"0x45b1eCb3D9af651244eC656ed15B86404924c354"},Pe=(e,t)=>jT[e]||t;Pe("VITE_KYC_REGISTRY_ADDRESS","0x4533f47BE0ce8b80F7bbdF02939f81F4A15b7A45"),Pe("VITE_LOAN_ISSUER_ADDRESS","0x13159e6417D98528C220b12Ec4950D5A343E5eAA"),Pe("VITE_PRINCIPAL_TOKEN_ADDRESS","0x45b1eCb3D9af651244eC656ed15B86404924c354"),Pe("VITE_INTEREST_TOKEN_ADDRESS","0xE6aeE4a898c6d99033ee5380Df407C5DD470fb17"),Pe("VITE_TRADE_CONTRACT_ADDRESS","0x13159e6417D98528C220b12Ec4950D5A343E5eAA"),Pe("VITE_COMPLIANCE_GUARD_ADDRESS","0x1234567890123456789012345678901234567890"),parseInt(Pe("VITE_NETWORK_CHAIN_ID","11155111")),Pe("VITE_NETWORK_NAME","Sepolia Testnet"),Pe("VITE_KYC_DEFAULT_SUCCESS","false"),parseInt(Pe("VITE_KYC_DEFAULT_LEVEL","0"));const WT={KYC_REGISTRY_ADDRESS:Pe("VITE_KYC_REGISTRY_ADDRESS","0x4533f47BE0ce8b80F7bbdF02939f81F4A15b7A45"),LOAN_ISSUER_ADDRESS:Pe("VITE_LOAN_ISSUER_ADDRESS","0x1234567890123456789012345678901234567890"),PRINCIPAL_TOKEN_ADDRESS:Pe("VITE_PRINCIPAL_TOKEN_ADDRESS","0x45b1eCb3D9af651244eC656ed15B86404924c354"),INTEREST_TOKEN_ADDRESS:Pe("VITE_INTEREST_TOKEN_ADDRESS","0xE6aeE4a898c6d99033ee5380Df407C5DD470fb17"),TRADE_CONTRACT_ADDRESS:Pe("VITE_TRADE_CONTRACT_ADDRESS","0x1234567890123456789012345678901234567890"),COMPLIANCE_GUARD_ADDRESS:Pe("VITE_COMPLIANCE_GUARD_ADDRESS","0x1234567890123456789012345678901234567890"),NETWORK:{chainId:parseInt(Pe("VITE_NETWORK_CHAIN_ID_PROD","1")),name:Pe("VITE_NETWORK_NAME_PROD","Ethereum Mainnet")},KYC:{DEFAULT_SUCCESS:Pe("VITE_KYC_DEFAULT_SUCCESS_PROD","false")==="true",DEFAULT_LEVEL:parseInt(Pe("VITE_KYC_DEFAULT_LEVEL_PROD","0"))}},ee=WT,vc=ee.KYC,Qe={UNVERIFIED:"unverified",PENDING:"pending",VERIFIED:"verified",REJECTED:"rejected"},xt={LEVEL_0:0,LEVEL_1:1,LEVEL_2:2,LEVEL_3:3},gg="kycStatus",vg="kycLevel";function On(){return vc.DEFAULT_SUCCESS?Qe.VERIFIED:localStorage.getItem(gg)||Qe.UNVERIFIED}function As(){if(vc.DEFAULT_SUCCESS)return vc.DEFAULT_LEVEL;const e=localStorage.getItem(vg);return e?parseInt(e):xt.LEVEL_0}function yc(e){localStorage.setItem(gg,e)}function hi(e){localStorage.setItem(vg,e.toString())}const GT=["function kycLevel(address user) external view returns (uint8)","function blocked(address user) external view returns (bool)","function setKycLevel(address user, uint8 level) external","function setBlocked(address user, bool isBlocked) external","function setKycLevelBySig(address user, uint8 level, uint256 deadline, bytes32 nonce, bytes calldata signature) external","function setSigner(address signer) external","function kycSigner() external view returns (address)","function DOMAIN_SEPARATOR() external view returns (bytes32)","function usedNonce(bytes32 nonce) external view returns (bool)","event SetLevel(address indexed user, uint8 level, address indexed setter)","event Block(address indexed user, bool blocked, address indexed setter)","event SetSigner(address indexed signer)"],KT=["function registry() external view returns (address)","function principalToken() external view returns (address)","function interestToken() external view returns (address)","function nextLoanId() external view returns (uint256)","function loans(uint256 loanId) external view returns (uint256 principal, uint256 annualRateBps, uint64 startDate, uint64 dueDate, string memory borrower, string memory lender, string memory collateral, string memory note, bool closed)","function loanHolder(uint256 loanId) external view returns (address)","function wireControllers() external","function createLoan((address holder, uint256 principalAmount, uint256 annualRateBps, uint64 startDate, uint64 dueDate, string memory borrower, string memory lender, string memory collateral, string memory note) calldata p) external returns (uint256 loanId)","function mintInterest(uint256 loanId, address to, uint256 amount) external","function redeem(uint256 loanId, uint256 principalAmt, uint256 interestAmt) external","function closeLoan(uint256 loanId) external","event CreateLoan(uint256 indexed loanId, address indexed holder, uint256 principal, uint256 rateBps)","event MintInterest(uint256 indexed loanId, address indexed to, uint256 amount)","event Redeem(uint256 indexed loanId, address indexed from, uint256 principalBurn, uint256 interestBurn)","event CloseLoan(uint256 indexed loanId)"],YT=["function whitelist(address user) external view returns (bool)","function blocked(address user) external view returns (bool)","function kycTier(address user) external view returns (uint8)","function kycExpireAt(address user) external view returns (uint64)","function setWhitelist(address user, bool allow) external","function setBlocked(address user, bool blocked) external","function setWhitelistBySig(address user, bool allow, uint8 tier, uint64 expireAt, uint256 nonce, uint256 deadline, uint8 v, bytes32 r, bytes32 s) external","function activateByProof(address user, bool allow, uint8 tier, uint64 expireAt, bytes32[] calldata proof) external","function canReceivePrincipal(address user) external view returns (bool)","function canReceiveInterest(address user) external view returns (bool)","function canRedeem(address user) external view returns (bool)","function checkPrincipal(address from, address to) external view","function checkInterest(address from, address to) external view","function minTierPrincipal() external view returns (uint8)","function minTierInterest() external view returns (uint8)","function minTierRedeem() external view returns (uint8)","function transfersPaused() external view returns (bool)","function nonces(address user) external view returns (uint256)","event WhitelistSet(address indexed user, bool allow)","event BlockedSet(address indexed user, bool blocked)","event KycStamped(address indexed user, bool allow, uint8 tier, uint64 expireAt)","event WhitelistBySig(address indexed user, bool allow, uint8 tier, uint64 expireAt, uint256 nonce, uint256 deadline, address indexed relayer)"],Ro=["function name() external view returns (string memory)","function symbol() external view returns (string memory)","function decimals() external pure returns (uint8)","function totalSupply() external view returns (uint256)","function balanceOf(address account) external view returns (uint256)","function allowance(address owner, address spender) external view returns (uint256)","function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function transferFrom(address from, address to, uint256 amount) external returns (bool)","function registry() external view returns (address)","function requiredKycLevel() external view returns (uint8)","function paused() external view returns (bool)","function setRequiredKycLevel(uint8 level) external","function setPaused(bool p) external","event Transfer(address indexed from, address indexed to, uint256 value)","event Approval(address indexed owner, address indexed spender, uint256 value)","event RequiredKycLevel(uint8 oldLevel, uint8 newLevel)","event Paused(bool status)"],zT=["function buyTokens(uint256 amount) external payable","function sellTokens(uint256 amount) external","function getTokenPrice() external view returns (uint256)","function getUserBalance(address user) external view returns (uint256)","function getTradeHistory(uint256 limit) external view returns (tuple(uint256 id, address user, uint8 tradeType, uint256 amount, uint256 price, uint256 timestamp)[])","event TradeExecuted(uint256 indexed id, address indexed user, uint8 tradeType, uint256 amount, uint256 price, uint256 timestamp)"];class QT{constructor(){this.provider=null,this.signer=null,this.kycRegistryContract=null,this.loanIssuerContract=null,this.principalTokenContract=null,this.interestTokenContract=null,this.tradeContract=null,this.complianceGuardContract=null}validateContractAddress(t,s){if(!t||t==="#"||t==="0x...")throw new Error(`${s} contract address is not configured properly`);if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`${s} contract address format is invalid: ${t}`);return!0}async initialize(){try{if(console.log("🚀 Initializing contract service..."),console.log("📋 Contract config:",ee),typeof window.ethereum<"u"){this.validateContractAddress(ee.KYC_REGISTRY_ADDRESS,"KYC Registry"),this.validateContractAddress(ee.LOAN_ISSUER_ADDRESS,"Loan Issuer"),this.validateContractAddress(ee.PRINCIPAL_TOKEN_ADDRESS,"Principal Token"),this.validateContractAddress(ee.INTEREST_TOKEN_ADDRESS,"Interest Token"),this.validateContractAddress(ee.TRADE_CONTRACT_ADDRESS,"Trade Contract"),this.validateContractAddress(ee.COMPLIANCE_GUARD_ADDRESS,"Compliance Guard");const t=await window.ethereum.request({method:"eth_chainId"}),s="0x"+ee.NETWORK.chainId.toString(16),n=parseInt(t,16);if(console.log("🌐 Current chain ID:",n),console.log("🎯 Target chain ID:",ee.NETWORK.chainId),t!==s)throw new Error(`Please switch to ${ee.NETWORK.name} (Chain ID: ${ee.NETWORK.chainId})`);this.provider=new Ds(window.ethereum),await window.ethereum.request({method:"eth_requestAccounts"}),this.signer=await this.provider.getSigner(),console.log("✅ Provider and signer initialized");try{this.kycRegistryContract=new Ke(ee.KYC_REGISTRY_ADDRESS,GT,this.signer),console.log("✅ KYC Registry contract initialized"),this.loanIssuerContract=new Ke(ee.LOAN_ISSUER_ADDRESS,KT,this.signer),console.log("✅ Loan Issuer contract initialized"),this.principalTokenContract=new Ke(ee.PRINCIPAL_TOKEN_ADDRESS,Ro,this.signer),console.log("✅ Principal Token contract initialized"),this.interestTokenContract=new Ke(ee.INTEREST_TOKEN_ADDRESS,Ro,this.signer),console.log("✅ Interest Token contract initialized"),this.tradeContract=new Ke(ee.TRADE_CONTRACT_ADDRESS,zT,this.signer),console.log("✅ Trade contract initialized"),this.complianceGuardContract=new Ke(ee.COMPLIANCE_GUARD_ADDRESS,YT,this.signer),console.log("✅ Compliance Guard contract initialized")}catch(i){throw console.error("❌ Contract initialization error:",i),new Error(`Failed to initialize contracts: ${i.message}`)}return console.log("🎉 Contract service initialized successfully!"),!0}else throw new Error("Web3 wallet not detected. Please install MetaMask or similar wallet.")}catch(t){throw console.error("❌ Failed to initialize contract service:",t),t.message.includes("UNSUPPORTED_OPERATION")?new Error("Contract address format is invalid. Please check your configuration."):t.message.includes("network")?new Error(`Network error: ${t.message}`):t.message.includes("wallet")?new Error("Wallet connection failed. Please check your MetaMask connection."):new Error(`Initialization failed: ${t.message}`)}}async applyForKYC(t){try{this.kycRegistryContract||await this.initialize();const s=await this.signer.getAddress();if(await this.kycRegistryContract.blocked(s))throw new Error("User is blocked from KYC verification");const i=await this.kycRegistryContract.kycLevel(s);if(i>=2)return{success:!0,message:"User already has sufficient KYC level",currentLevel:i};const r=Se(Ai.defaultAbiCoder().encode(["string","string","string","string","string"],[t.firstName,t.lastName,t.dob,t.country,t.docType]));return console.log("KYC Data Hash:",r),console.log("KYC Data:",t),{success:!0,message:"KYC application submitted successfully",kycHash:r,userAddress:s}}catch(s){return console.error("KYC application failed:",s),{success:!1,error:s.message}}}async setKycLevelBySignature(t,s,n,i,r){try{this.kycRegistryContract||await this.initialize();const l=await(await this.kycRegistryContract.setKycLevelBySig(t,s,n,i,r)).wait();return{success:!0,transactionHash:l.transactionHash,blockNumber:l.blockNumber}}catch(a){return console.error("Set KYC level by signature failed:",a),{success:!1,error:a.message}}}async getKycLevel(t=null){try{return this.kycRegistryContract||await this.initialize(),t||(t=await this.signer.getAddress()),await this.kycRegistryContract.kycLevel(t)}catch(s){return console.error("Failed to check KYC level:",s),0}}async isBlocked(t=null){try{return this.kycRegistryContract||await this.initialize(),t||(t=await this.signer.getAddress()),await this.kycRegistryContract.blocked(t)}catch(s){return console.error("Failed to check block status:",s),!1}}async canTrade(t=null,s=1){try{t||(t=await this.signer.getAddress());const[n,i]=await Promise.all([this.getKycLevel(t),this.isBlocked(t)]);return{canTrade:!i&&n>=s,kycLevel:n,isBlocked:i,requiredLevel:s}}catch(n){return console.error("Failed to check trade eligibility:",n),{canTrade:!1,kycLevel:0,isBlocked:!1,requiredLevel:s}}}async getUserAddress(){try{if(console.log("🔍 ContractService: Getting user address..."),this.signer)try{const t=await this.signer.getAddress();return console.log("✅ ContractService: Address from signer:",t),t}catch(t){console.warn("⚠️ ContractService: Signer getAddress failed:",t.message)}if(!this.signer&&(console.log("🔄 ContractService: Signer not available, initializing..."),await this.initialize(),this.signer))try{const t=await this.signer.getAddress();return console.log("✅ ContractService: Address after initialization:",t),t}catch(t){console.warn("⚠️ ContractService: Signer still not working:",t.message)}if(typeof window.ethereum<"u"){console.log("🔄 ContractService: Trying direct ethereum access...");try{const t=await window.ethereum.request({method:"eth_accounts"});if(t&&t.length>0)return console.log("✅ ContractService: Address from ethereum:",t[0]),t[0]}catch(t){console.warn("⚠️ ContractService: Ethereum access failed:",t.message)}}return console.error("❌ ContractService: Unable to get user address from any source"),null}catch(t){return console.error("❌ ContractService: Failed to get user address:",t),null}}async validateUserAddress(t=null){try{if(console.log("🔍 ContractService: Validating user address..."),t||(t=await this.getUserAddress()),!t)throw new Error("无法获取用户钱包地址");if(!Jc(t))throw new Error(`无效的钱包地址格式: ${t}`);if(t==="0x0000000000000000000000000000000000000000")throw new Error("钱包地址不能为零地址");return console.log("✅ ContractService: User address validated:",t),{success:!0,address:t,isValid:!0}}catch(s){return console.error("❌ ContractService: Address validation failed:",s),{success:!1,address:t,isValid:!1,error:s.message}}}async getTokenBalance(t,s=null){try{return s||(s=await this.getUserAddress()),await new Ke(t,Ro,this.signer).balanceOf(s)}catch(n){return console.error("Failed to get token balance:",n),0n}}async getTokenInfo(t){try{const s=new Ke(t,Ro,this.signer),[n,i,r,a]=await Promise.all([s.name(),s.symbol(),s.decimals(),s.totalSupply()]);return{name:n,symbol:i,decimals:r,totalSupply:a,address:t}}catch(s){return console.error("Failed to get token info:",s),null}}async getLoanInfo(t){try{this.loanIssuerContract||await this.initialize();const s=await this.loanIssuerContract.loans(t),n=await this.loanIssuerContract.loanHolder(t);return{loanId:t,principal:s.principal,annualRateBps:s.annualRateBps,startDate:s.startDate,dueDate:s.dueDate,borrower:s.borrower,lender:s.lender,collateral:s.collateral,note:s.note,closed:s.closed,holder:n}}catch(s){return console.error("Failed to get loan info:",s),null}}async getNextLoanId(){try{return this.loanIssuerContract||await this.initialize(),await this.loanIssuerContract.nextLoanId()}catch(t){return console.error("Failed to get next loan ID:",t),0n}}async getNetworkInfo(){try{this.provider||await this.initialize();const t=await this.provider.getNetwork();return{chainId:t.chainId,name:t.name}}catch(t){return console.error("Failed to get network info:",t),null}}async buyTokens(t){try{this.tradeContract||await this.initialize();const s=await this.getUserAddress();if(!s)throw new Error("无法获取用户钱包地址，请确保钱包已连接");if(console.log("💰 购买代币:",{amount:t,userAddress:s}),!ee.TRADE_CONTRACT_ADDRESS||ee.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890"){console.warn("⚠️ Trade contract address is not configured, simulating successful transaction");const l="0x"+Math.random().toString(16).substr(2,64),c=Math.floor(Math.random()*1e6)+1e6;return{success:!0,transactionHash:l,blockNumber:c,tokenPrice:"1.0",totalCost:t.toString(),userAddress:s}}let n,i;try{n=await this.tradeContract.getTokenPrice(),i=n*BigInt(t),console.log("💰 获取到代币价格:",n.toString())}catch(l){console.warn("⚠️ 无法获取代币价格，使用默认价格:",l.message),n=ud("1.0"),i=n*BigInt(t)}console.log("💰 购买代币:",{amount:t,userAddress:s,tokenPrice:n.toString(),totalCost:i.toString()});const a=await(await this.tradeContract.buyTokens(t,{value:i})).wait();return{success:!0,transactionHash:a.transactionHash,blockNumber:a.blockNumber,tokenPrice:en(n),totalCost:en(i),userAddress:s}}catch(s){return console.error("❌ Failed to buy tokens:",s),{success:!1,error:s.message}}}async sellTokens(t){try{this.tradeContract||await this.initialize();const s=await this.getUserAddress();if(!s)throw new Error("无法获取用户钱包地址，请确保钱包已连接");if(console.log("💸 出售代币:",{amount:t,userAddress:s}),!ee.TRADE_CONTRACT_ADDRESS||ee.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890"){console.warn("⚠️ Trade contract address is not configured, simulating successful transaction");const l="0x"+Math.random().toString(16).substr(2,64),c=Math.floor(Math.random()*1e6)+1e6;return{success:!0,transactionHash:l,blockNumber:c,tokenPrice:"1.0",totalCost:t.toString(),userAddress:s}}let n,i;try{n=await this.tradeContract.getTokenPrice(),i=n*BigInt(t),console.log("💰 获取到代币价格:",n.toString())}catch(l){console.warn("⚠️ 无法获取代币价格，使用默认价格:",l.message),n=ud("1.0"),i=n*BigInt(t)}console.log("💸 出售代币:",{amount:t,userAddress:s,tokenPrice:n.toString(),totalRevenue:i.toString()});const a=await(await this.tradeContract.sellTokens(t)).wait();return{success:!0,transactionHash:a.transactionHash,blockNumber:a.blockNumber,tokenPrice:en(n),totalCost:en(i),userAddress:s}}catch(s){return console.error("Failed to sell tokens:",s),{success:!1,error:s.message}}}async getTokenPrice(){try{if(this.tradeContract||await this.initialize(),console.log("🔍 Attempting to get token price from contract:",ee.TRADE_CONTRACT_ADDRESS),!ee.TRADE_CONTRACT_ADDRESS||ee.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890")return console.warn("⚠️ Trade contract address is not configured, returning default price"),"1.0";const t=await this.tradeContract.getTokenPrice();return console.log("✅ Token price retrieved:",en(t)),en(t)}catch(t){return console.error("❌ Failed to get token price:",t),t.message.includes("BAD_DATA")||t.message.includes("UNSUPPORTED_OPERATION")?(console.warn("⚠️ Contract method not available, using default price"),"1.0"):"0"}}async getUserTokenBalance(t=null,s=null){try{if(this.tradeContract||await this.initialize(),t||(t=await this.getUserAddress()),console.log(`🔍 Attempting to get ${s||"token"} balance for:`,t),!ee.TRADE_CONTRACT_ADDRESS||ee.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890")return console.warn(`⚠️ Trade contract address is not configured, returning default ${s||"token"} balance`),{TYMU:"500",SQNB:"300",LZYT:"200",YYD:"400"}[s]||"1000";let n;if(s)try{n=await this.tradeContract.getUserTokenBalance(t,s)}catch{console.warn(`⚠️ Token-specific balance method failed for ${s}, using general method`),n=await this.tradeContract.getUserBalance(t)}else n=await this.tradeContract.getUserBalance(t);return console.log(`✅ ${s||"User"} token balance retrieved:`,n.toString()),n.toString()}catch(n){return console.error(`❌ Failed to get ${s||"user"} token balance:`,n),n.message.includes("BAD_DATA")||n.message.includes("UNSUPPORTED_OPERATION")?(console.warn(`⚠️ Contract method not available, using default ${s||"token"} balance`),{TYMU:"500",SQNB:"300",LZYT:"200",YYD:"400"}[s]||"1000"):"0"}}async getTradeHistory(t=10){try{return this.tradeContract||await this.initialize(),console.log("🔍 Attempting to get trade history from contract"),!ee.TRADE_CONTRACT_ADDRESS||ee.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890"?(console.warn("⚠️ Trade contract address is not configured, returning empty history"),[]):(await this.tradeContract.getTradeHistory(t)).map(n=>({id:n.id.toString(),user:n.user,tradeType:n.tradeType===0?"buy":"sell",amount:n.amount.toString(),price:en(n.price),timestamp:Number(n.timestamp)*1e3}))}catch(s){return console.error("❌ Failed to get trade history:",s),s.message.includes("BAD_DATA")||s.message.includes("UNSUPPORTED_OPERATION")?(console.warn("⚠️ Contract method not available, returning empty history"),[]):[]}}async isWhitelisted(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking whitelist status for:",t);const s=await this.complianceGuardContract.whitelist(t);return console.log("✅ Whitelist status:",s),s}catch(s){return console.error("❌ Failed to check whitelist status:",s),!1}}async isBlocked(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking blocked status for:",t);const s=await this.complianceGuardContract.blocked(t);return console.log("✅ Blocked status:",s),s}catch(s){return console.error("❌ Failed to check blocked status:",s),!1}}async getKycLevel(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Getting KYC level for:",t);const s=await this.complianceGuardContract.kycTier(t);return console.log("✅ KYC level:",s.toString()),parseInt(s.toString())}catch(s){return console.error("❌ Failed to get KYC level:",s),0}}async getKycExpireAt(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Getting KYC expire time for:",t);const s=await this.complianceGuardContract.kycExpireAt(t);return console.log("✅ KYC expire time:",s.toString()),parseInt(s.toString())}catch(s){return console.error("❌ Failed to get KYC expire time:",s),0}}async applyForWhitelist(t){try{this.complianceGuardContract||await this.initialize(),console.log("🚀 Applying for whitelist:",t);const{userAddress:s,kycLevel:n,timestamp:i,userInfo:r}=t,a=await this.complianceGuardContract.nonces(s);console.log("📝 User nonce:",a.toString());const l=Math.floor(Date.now()/1e3)+1440*60,c=n||2,u=Math.floor(Date.now()/1e3)+365*24*60*60;return console.log("⚠️ Whitelist application requires backend signature"),console.log("📋 Application details:",{userAddress:s,tier:c,expireAt:u,nonce:a.toString(),deadline:l}),await new Promise(d=>setTimeout(d,2e3)),{success:!0,transactionHash:"0x"+Math.random().toString(16).substr(2,40),blockNumber:Math.floor(Math.random()*1e6)+1e6,message:"白名单申请已提交，等待后台审核"}}catch(s){return console.error("❌ Failed to apply for whitelist:",s),{success:!1,error:s.message}}}async canReceivePrincipal(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking if user can receive principal:",t);const s=await this.complianceGuardContract.canReceivePrincipal(t);return console.log("✅ Can receive principal:",s),s}catch(s){return console.error("❌ Failed to check principal receive permission:",s),!1}}async canReceiveInterest(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking if user can receive interest:",t);const s=await this.complianceGuardContract.canReceiveInterest(t);return console.log("✅ Can receive interest:",s),s}catch(s){return console.error("❌ Failed to check interest receive permission:",s),!1}}async canRedeem(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking if user can redeem:",t);const s=await this.complianceGuardContract.canRedeem(t);return console.log("✅ Can redeem:",s),s}catch(s){return console.error("❌ Failed to check redeem permission:",s),!1}}async getWhitelistStatus(t){try{console.log("🔍 Getting comprehensive whitelist status for:",t);const[s,n,i,r]=await Promise.all([this.isWhitelisted(t),this.isBlocked(t),this.getKycLevel(t),this.getKycExpireAt(t)]),a=Math.floor(Date.now()/1e3),l=r>0&&a>r;let c="none";return n?c="rejected":s&&i>=2&&!l||s&&i>=2?c="approved":s&&i>=1&&(c="pending"),console.log("✅ Whitelist status:",c),{status:c,isWhitelisted:s,isBlocked:n,kycLevel:i,kycExpireAt:r,isKycExpired:l}}catch(s){return console.error("❌ Failed to get whitelist status:",s),{status:"none",isWhitelisted:!1,isBlocked:!1,kycLevel:0,kycExpireAt:0,isKycExpired:!1}}}}const We=new QT,qT={name:"WhitelistApplication",props:{isKycVerified:{type:Boolean,default:!1},userInfo:{type:Object,default:()=>({})}},data(){return{whitelistStatus:"none",showApplicationModal:!1,showProcessingModal:!1,showResultModal:!1,loading:!1,processingTitle:"Applying for Whitelist...",processingMessage:"Please wait while we process your whitelist application.",processingSubMessage:"Connecting to blockchain and submitting your application...",resultType:"success",resultTitle:"",resultMessage:"",showValidationErrorModal:!1,validationErrorTitle:"",validationErrorMessage:"",contractService:We}},computed:{statusClass(){switch(this.whitelistStatus){case"approved":return"green";case"pending":return"orange";case"rejected":return"red";default:return"gray"}}},async mounted(){try{await this.loadWhitelistStatus()}catch(e){console.error("Failed to initialize contract service:",e)}},methods:{async loadWhitelistStatus(){try{const e=As();if(this.isKycVerified&&e>=xt.LEVEL_2){this.whitelistStatus="approved",localStorage.setItem("whitelistStatus","approved"),console.log("✅ KYC Level 2用户，白名单状态自动设置为approved");return}if(!this.contractService)return;const s=await this.getUserWalletAddress();if(!s){console.warn("No wallet address available for whitelist status check");return}const n=await this.contractService.getWhitelistStatus(s);this.whitelistStatus=n.status,console.log("✅ Whitelist status loaded:",n)}catch(e){console.error("Failed to load whitelist status:",e);const t=localStorage.getItem("whitelistStatus");t&&(this.whitelistStatus=t)}},async applyWhitelist(){if(console.log("🔍 开始验证白名单申请条件..."),!ai()){this.showValidationError("请先登录账户","您需要先登录才能申请白名单");return}if(!this.isKycVerified){this.showValidationError("KYC验证未完成","请先完成KYC身份验证才能申请白名单");return}const e=As();e<xt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动设置级别为 ${xt.LEVEL_2}`),hi(xt.LEVEL_2),console.log("✅ KYC级别已设置为Level 2"));const t=await this.getUserWalletAddress();if(!t){this.showValidationError("钱包未连接","请先连接MetaMask钱包才能申请白名单");return}if(e>=xt.LEVEL_2){console.log("✅ KYC Level 2用户，直接通过白名单申请"),this.whitelistStatus="approved",localStorage.setItem("whitelistStatus","approved"),this.showSuccessResult("Whitelist Approved!","Congratulations! Your KYC Level 2 status automatically qualifies you for whitelist. You can now start trading assets."),this.$emit("success","Whitelist automatically approved due to KYC Level 2 status!");return}const s=await this.checkCurrentWhitelistStatus(t);if(s==="approved"){this.showValidationError("已在白名单中","您的钱包地址已经在白名单中，无需重复申请");return}if(s==="pending"){this.showValidationError("申请审核中","您的白名单申请正在审核中，请耐心等待");return}console.log("✅ 所有条件验证通过，可以申请白名单"),this.showApplicationModal=!0},async submitApplication(){this.loading=!0,this.showApplicationModal=!1,this.showProcessingModal=!0;try{console.log("🚀 开始提交白名单申请...");const e=await this.getUserWalletAddress();if(!e)throw new Error("无法获取钱包地址");this.processingTitle="正在提交白名单申请...",this.processingMessage="正在连接区块链并提交您的申请",this.processingSubMessage="请稍候，不要关闭页面...";let t;if(this.contractService){console.log("📝 通过合约服务申请白名单...");const s={userAddress:e,kycLevel:As(),timestamp:Date.now(),userInfo:this.userInfo};t=await this.contractService.applyForWhitelist(s)}else console.log("⚠️ 合约服务未初始化，使用模拟申请..."),await this.delay(2e3),t={success:!0,transactionHash:"0x"+Math.random().toString(16).substr(2,40),blockNumber:Math.floor(Math.random()*1e6)+1e6,message:"白名单申请已提交（模拟）"};t.success?(console.log("✅ 白名单申请提交成功:",t),this.whitelistStatus="pending",localStorage.setItem("whitelistStatus","pending"),t.transactionHash&&localStorage.setItem("whitelistTransactionHash",t.transactionHash),this.showProcessingModal=!1,console.log("🎉 白名单申请提交成功！"),console.log(`交易哈希: ${t.transactionHash||"N/A"}`),console.log("我们将在24小时内审核您的申请"),this.$emit("success","白名单申请提交成功！"),setTimeout(()=>{this.checkWhitelistStatus()},5e3)):(console.error("❌ 白名单申请失败:",t.error),this.showProcessingModal=!1,console.error("申请失败:",t.error||"白名单申请提交失败，请稍后重试。"),this.$emit("error","白名单申请失败，请稍后重试。"))}catch(e){console.error("❌ 白名单申请错误:",e),this.showProcessingModal=!1,console.error("申请错误:",e.message||"提交申请时发生错误，请检查网络连接后重试。"),this.$emit("error","提交申请时发生错误，请检查网络连接后重试。")}finally{this.loading=!1}},async checkWhitelistStatus(){this.loading=!0,this.showProcessingModal=!0,this.processingTitle="Checking Status...",this.processingMessage="Please wait while we check your whitelist status.",this.processingSubMessage="Querying blockchain for latest status...";try{await this.delay(1e3),await this.loadWhitelistStatus(),this.showProcessingModal=!1,this.whitelistStatus==="approved"?(this.showSuccessResult("Application Approved!","Congratulations! Your whitelist application has been approved. You can now start trading assets."),this.$emit("success","Whitelist application approved!")):this.whitelistStatus==="rejected"?(this.showErrorResult("Application Rejected","Your whitelist application was rejected. Please contact support for more information."),this.$emit("error","Whitelist application rejected.")):(this.showWarningResult("Still Pending","Your application is still under review. Please check again later."),this.$emit("info","Application still pending."))}catch(e){console.error("Failed to check whitelist status:",e),this.showProcessingModal=!1,this.showErrorResult("Check Failed","Failed to check whitelist status. Please try again."),this.$emit("error","Failed to check whitelist status.")}finally{this.loading=!1,this.resetProcessingModal()}},async reapplyWhitelist(){this.whitelistStatus="none",localStorage.setItem("whitelistStatus","none"),await this.applyWhitelist()},goToProjects(){this.$router.push("/projects")},showSuccessResult(e,t){this.resultType="success",this.resultTitle=e,this.resultMessage=t,this.showResultModal=!0},showErrorResult(e,t){this.resultType="error",this.resultTitle=e,this.resultMessage=t,this.showResultModal=!0},showWarningResult(e,t){this.resultType="warning",this.resultTitle=e,this.resultMessage=t,this.showResultModal=!0},closeResultModal(){this.showResultModal=!1},resetProcessingModal(){this.processingTitle="Applying for Whitelist...",this.processingMessage="Please wait while we process your whitelist application.",this.processingSubMessage="Connecting to blockchain and submitting your application..."},delay(e){return new Promise(t=>setTimeout(t,e))},showValidationError(e,t){this.validationErrorTitle=e,this.validationErrorMessage=t,this.showValidationErrorModal=!0},async getUserWalletAddress(){try{return typeof window.ethereum<"u"&&(await window.ethereum.request({method:"eth_accounts"}))[0]||null}catch(e){return console.error("获取用户钱包地址失败:",e),null}},async checkCurrentWhitelistStatus(e){try{return this.contractService?(await this.contractService.getWhitelistStatus(e)).status:localStorage.getItem("whitelistStatus")||"none"}catch(t){return console.error("检查白名单状态失败:",t),localStorage.getItem("whitelistStatus")||"none"}}},watch:{isKycVerified(e){!e&&this.whitelistStatus!=="none"&&(this.whitelistStatus="none",localStorage.removeItem("whitelistStatus"))}}},JT={class:"whitelist-application"},ZT={class:"field"},XT={key:0,class:"verified"},tS={key:1},eS={key:2},sS={key:3},nS=["disabled"],iS=["disabled"],rS=["disabled"],oS={key:0,class:"modal-mask"},aS={class:"modal-wrapper"},lS={class:"modal-container"},cS={style:{"margin-top":"18px",display:"flex",gap:"12px","justify-content":"flex-end"}},uS=["disabled"],dS=["disabled"],fS={key:0},hS={key:1},pS={key:1,class:"modal-mask"},mS={class:"modal-wrapper"},gS={class:"modal-container"},vS={style:{"text-align":"center",padding:"20px"}},yS={style:{"margin-bottom":"8px"}},bS={style:{color:"#64748b","font-size":"14px","margin-top":"8px"}},wS={key:2,class:"modal-mask"},AS={class:"modal-wrapper"},ES={class:"modal-container"},kS={style:{"text-align":"center",padding:"20px"}},CS={key:0},TS={key:1},SS={style:{"margin-bottom":"8px"}},_S={style:{"margin-top":"18px",display:"flex",gap:"12px","justify-content":"center"}},PS={key:3,class:"modal-mask"},IS={class:"modal-wrapper"},xS={class:"modal-container"},RS={style:{"text-align":"center",padding:"20px"}},NS={style:{"margin-bottom":"8px",color:"#dc2626"}},DS={style:{color:"#6b7280","margin-bottom":"20px"}},LS={style:{"margin-top":"18px",display:"flex",gap:"12px","justify-content":"center"}};function BS(e,t,s,n,i,r){const a=xv('else"');return E(),k("div",JT,[o("div",ZT,[t[11]||(t[11]=o("label",{class:"label"},"Whitelist Status",-1)),o("div",{class:St(["whitelist-banner",r.statusClass]),role:"status"},[t[10]||(t[10]=o("span",{class:"icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})])],-1)),i.whitelistStatus==="approved"?(E(),k("span",XT,[...t[9]||(t[9]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})],-1),ut(" Whitelist Approved ",-1)])])):i.whitelistStatus==="pending"?(E(),k("span",tS,"Whitelist Application Pending")):i.whitelistStatus==="rejected"?(E(),k("span",eS,"Not Qualified for Transaction")):(E(),k("span",sS,"Apply for Whitelist")),i.whitelistStatus==="none"?(E(),k("button",{key:4,class:"link",type:"button",onClick:t[0]||(t[0]=(...l)=>r.applyWhitelist&&r.applyWhitelist(...l)),disabled:i.loading},"Apply Now",8,nS)):i.whitelistStatus==="pending"?(E(),k("button",{key:5,class:"link",type:"button",onClick:t[1]||(t[1]=(...l)=>r.checkWhitelistStatus&&r.checkWhitelistStatus(...l)),disabled:i.loading},"Check Status",8,iS)):i.whitelistStatus==="approved"?(E(),k("button",{key:6,class:"link",type:"button",onClick:t[2]||(t[2]=(...l)=>r.goToProjects&&r.goToProjects(...l))},"Start Trading")):i.whitelistStatus==="rejected"?(E(),k("button",{key:7,class:"link",type:"button",onClick:t[3]||(t[3]=(...l)=>r.reapplyWhitelist&&r.reapplyWhitelist(...l)),disabled:i.loading},"Reapply",8,rS)):H("",!0)],2)]),i.showApplicationModal?(E(),k("div",oS,[o("div",aS,[o("div",lS,[t[12]||(t[12]=o("h2",{style:{"margin-bottom":"8px"}},"Apply for Whitelist",-1)),t[13]||(t[13]=o("p",null,"You are about to apply for the whitelist to start trading assets.",-1)),t[14]||(t[14]=o("p",null,[o("strong",null,"Requirements:")],-1)),t[15]||(t[15]=o("ul",{style:{margin:"8px 0","padding-left":"20px"}},[o("li",null,"KYC verification completed ✅"),o("li",null,"Valid wallet connection"),o("li",null,"Agreement to terms and conditions")],-1)),o("div",cS,[o("button",{class:"btn light",onClick:t[4]||(t[4]=l=>i.showApplicationModal=!1),disabled:i.loading},"Cancel",8,uS),o("button",{class:"btn orange",onClick:t[5]||(t[5]=(...l)=>r.submitApplication&&r.submitApplication(...l)),disabled:i.loading},[i.loading?(E(),k("span",fS,"Applying...")):(E(),k("span",hS,"Apply Now"))],8,dS)])])])])):H("",!0),i.showProcessingModal?(E(),k("div",pS,[o("div",mS,[o("div",gS,[o("div",vS,[t[16]||(t[16]=o("div",{class:"spinner"},null,-1)),o("h2",yS,m(i.processingTitle),1),o("p",null,m(i.processingMessage),1),o("p",bS,m(i.processingSubMessage),1)])])])])):H("",!0),i.showResultModal?(E(),k("div",wS,[o("div",AS,[o("div",ES,[o("div",kS,[o("div",{class:St(["result-icon",i.resultType])},[i.resultType==="success"?(E(),k("span",CS,"✓")):i.resultType==="error"?(E(),k("span",TS,"✗")):H("",!0),Lt((E(),k("span",null,[...t[17]||(t[17]=[ut("⚠",-1)])])),[[a]])],2),o("h2",SS,m(i.resultTitle),1),o("p",null,m(i.resultMessage),1),o("div",_S,[i.resultType==="success"?(E(),k("button",{key:0,class:"btn orange",onClick:t[6]||(t[6]=(...l)=>r.goToProjects&&r.goToProjects(...l))},"Start Trading")):H("",!0),o("button",{class:"btn light",onClick:t[7]||(t[7]=(...l)=>r.closeResultModal&&r.closeResultModal(...l))},"Close")])])])])])):H("",!0),i.showValidationErrorModal?(E(),k("div",PS,[o("div",IS,[o("div",xS,[o("div",RS,[t[18]||(t[18]=o("div",{class:"result-icon error",style:{"background-color":"#fee2e2",color:"#dc2626"}},[o("span",null,"⚠")],-1)),o("h2",NS,m(i.validationErrorTitle),1),o("p",DS,m(i.validationErrorMessage),1),o("div",LS,[o("button",{class:"btn orange",onClick:t[8]||(t[8]=l=>i.showValidationErrorModal=!1)},"确认")])])])])])):H("",!0)])}const OS=ce(qT,[["render",BS],["__scopeId","data-v-51fbd4b3"]]),MS={name:"ProfileView",components:{WhitelistApplication:OS},emits:["navigate","notify"],data(){return{kycStatus:On(),form:{twoFA:"off",email:"",walletAction:""},emailCode:"",emailCodeSent:!1,emailVerified:!1,generatedCode:"",_offVis:null,_offStorage:null,_offAfterEach:null,showEmailModal:!1,userInfo:eo(),whitelistStatus:"none",kycLevel:As()}},computed:{isVerified(){return this.kycStatus===Qe.VERIFIED},isPending(){return this.kycStatus===Qe.PENDING},userName(){return fg()},userInitial(){return bT()},userEmail(){return yT()},kycLevelText(){switch(this.kycLevel){case xt.LEVEL_0:return"Level 0 (Unverified)";case xt.LEVEL_1:return"Level 1 (Basic)";case xt.LEVEL_2:return"Level 2 (Advanced)";case xt.LEVEL_3:return"Level 3 (Premium)";default:return"Unknown"}},kycLevelClass(){switch(this.kycLevel){case xt.LEVEL_0:return"level-0";case xt.LEVEL_1:return"level-1";case xt.LEVEL_2:return"level-2";case xt.LEVEL_3:return"level-3";default:return"level-unknown"}},whitelistStatusText(){switch(this.whitelistStatus){case"approved":return"Approved";case"pending":return"Pending Review";case"rejected":return"Not Qualified for Transaction";case"none":return"Not Applied";default:return"Unknown"}},whitelistStatusClass(){switch(this.whitelistStatus){case"approved":return"status-approved";case"pending":return"status-pending";case"rejected":return"status-rejected";case"none":return"status-none";default:return"status-unknown"}},tradingPermissionText(){return this.kycLevel>=xt.LEVEL_2&&this.whitelistStatus==="approved"?"Full Access":this.kycLevel>=xt.LEVEL_2?"Limited Access":"No Access"},tradingPermissionClass(){return this.kycLevel>=xt.LEVEL_2&&this.whitelistStatus==="approved"?"permission-full":this.kycLevel>=xt.LEVEL_2?"permission-limited":"permission-none"}},watch:{kycStatus:{handler(e,t){console.log("🔄 KYC状态变化:",t,"->",e),e===Qe.VERIFIED&&t!==Qe.VERIFIED&&(console.log("✅ KYC验证成功，自动更新Account Status"),this.kycLevel=As(),this.kycLevel<xt.LEVEL_2&&(hi(xt.LEVEL_2),this.kycLevel=xt.LEVEL_2,console.log("🔧 自动设置KYC等级为Level 2")),this.loadStatusInfo())},immediate:!1},kycLevel:{handler(e,t){console.log("🔄 KYC等级变化:",t,"->",e),e>=xt.LEVEL_2&&this.isVerified&&(console.log("✅ KYC等级达到Level 2，自动更新白名单状态"),this.loadStatusInfo())},immediate:!1}},mounted(){const e=()=>{this.kycStatus=On(),this.kycLevel=As(),this.loadStatusInfo()},t=()=>{this.userInfo=eo()},s=()=>{this.loadStatusInfo()};e(),t(),s();const n=()=>document.visibilityState==="visible"&&(e(),t(),s());document.addEventListener("visibilitychange",n),this._offVis=()=>document.removeEventListener("visibilitychange",n);const i=l=>{l.key==="kycStatus"&&e(),l.key==="kycLevel"&&e(),l.key==="userInfo"&&t(),l.key==="whitelistStatus"&&s()};window.addEventListener("storage",i),this._offStorage=()=>window.removeEventListener("storage",i),this._offAfterEach=this.$router.afterEach(l=>{l.path==="/profile"&&(e(),t(),s())});const r=()=>{t(),this.$forceUpdate()};window.addEventListener(Df,r),this._offUserInfo=()=>window.removeEventListener(Df,r);const a=()=>{console.log("🎉 收到KYC验证成功事件，更新Account Status"),e()};window.addEventListener("kyc-verification-success",a),this._offKycSuccess=()=>window.removeEventListener("kyc-verification-success",a)},activated(){this.kycStatus=On()},beforeUnmount(){this._offVis&&this._offVis(),this._offStorage&&this._offStorage(),this._offAfterEach&&this._offAfterEach(),this._offUserInfo&&this._offUserInfo(),this._offKycSuccess&&this._offKycSuccess()},methods:{async loadStatusInfo(){try{if(console.log("🔄 开始加载状态信息..."),this.kycLevel=As(),console.log("📊 当前KYC等级:",this.kycLevel),console.log("📊 当前KYC状态:",this.kycStatus),this.isVerified){if(console.log("✅ 用户已通过KYC验证"),this.kycLevel>=xt.LEVEL_2){this.whitelistStatus="approved",localStorage.setItem("whitelistStatus","approved"),console.log("✅ KYC Level 2用户，白名单状态自动设置为approved"),console.log("📊 更新后的状态 - KYC Level:",this.kycLevel,"Whitelist:",this.whitelistStatus);return}const e=localStorage.getItem("whitelistStatus");e&&(this.whitelistStatus=e,console.log("📊 从本地存储加载白名单状态:",e))}else this.whitelistStatus="none",console.log("❌ 用户未通过KYC验证，设置默认状态");console.log("📊 最终状态 - KYC Level:",this.kycLevel,"Whitelist:",this.whitelistStatus)}catch(e){console.error("Failed to load status info:",e)}},isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},async sendEmailCode(){if(!this.isValidEmail(this.form.email)){this.$emit("notify","Please enter a valid email.");return}try{const t=await(await fetch("http://localhost:3000/send-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:this.form.email})})).json();t.status===0?(this.emailCodeSent=!0,this.generatedCode=t.code,this.showEmailModal=!0,this.$emit("notify",t.message||"验证码已发送到您的邮箱")):this.$emit("notify",t.message||"Failed to send email.")}catch{this.$emit("notify","Network error, please try again.")}},async verifyEmailCode(){try{const t=await(await fetch("http://localhost:3000/send-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:this.form.email,verification_code:this.form.emailCode})})).json();t.status===0?(this.emailVerified=!0,this.emailCodeSent=!1,this.form.emailCode="",this.$emit("notify",t.message||"Email verified and bound to account.")):this.$emit("notify",t.message||"Incorrect verification code.")}catch{this.$emit("notify","Network error, please try again.")}},verifyKYC(){this.$router.push("/kycService")},cancelKYC(){confirm("Are you sure you want to cancel KYC verification?")&&(yc(Qe.UNVERIFIED),this.kycStatus=Qe.UNVERIFIED,hi(xt.LEVEL_0),this.$emit("notify","KYC verification has been cancelled."))},onCancel(){this.$emit("navigate","home")},onSave(){if(!this.isVerified)return this.$emit("notify","Please complete KYC first.");if(this.form.email&&!this.isValidEmail(this.form.email))return this.$emit("notify","Please enter a valid email.");if(this.form.email&&!this.emailVerified)return this.$emit("notify","Please verify your email before saving.");this.$emit("notify","Profile saved (demo)")},logout(){localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("remember_email"),window.dispatchEvent(new CustomEvent("auth-changed")),this.$emit("notify","You have logged out."),this.$router.push("/login")},handleWhitelistSuccess(e){this.$emit("notify",e),this.loadStatusInfo()},handleWhitelistError(e){this.$emit("notify",e)},handleWhitelistInfo(e){this.$emit("notify",e),this.loadStatusInfo()}}},US={class:"profile-page"},FS={class:"topbar container"},$S={class:"breadcrumb","aria-label":"Breadcrumb"},VS={class:"container head"},HS={class:"avatar"},jS={class:"avatar-initial"},WS={class:"title"},GS={class:"field"},KS={key:0},YS={key:1,class:"verified"},zS={class:"status-section"},QS={class:"status-item"},qS={class:"status-value kyc-level"},JS={class:"status-item"},ZS={class:"status-value whitelist-status"},XS={class:"status-item"},t4={class:"status-value trading-permission"},e4={class:"actions bottom"};function s4(e,t,s,n,i,r){const a=mi("WhitelistApplication");return E(),k("section",US,[o("header",FS,[o("nav",$S,[o("button",{class:"crumb-back",onClick:t[0]||(t[0]=l=>e.$emit("navigate","home")),"aria-label":"Back to Home"},[...t[6]||(t[6]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M10 19a1 1 0 0 1-.7-.3l-7-7a1 1 0 0 1 0-1.4l7-7a1 1 0 1 1 1.4 1.4L4.41 11H21a1 1 0 1 1 0 2H4.41l6.3 6.3A1 1 0 0 1 10 19z"})],-1)])]),t[7]||(t[7]=o("span",{class:"sep"},"/",-1)),t[8]||(t[8]=o("span",{class:"crumb-current"},"Profile",-1))])]),o("div",VS,[o("div",HS,[o("span",jS,m(r.userInitial),1)]),o("div",null,[o("h1",WS,m(r.userName),1)])]),o("form",{class:"container form",onSubmit:t[5]||(t[5]=yt((...l)=>r.onSave&&r.onSave(...l),["prevent"]))},[o("div",null,[o("div",GS,[t[11]||(t[11]=o("label",{class:"label"},[ut("KYC verification "),o("span",{class:"req"},"*")],-1)),o("div",{class:St(["kyc-banner",r.isVerified?"green":"orange"]),role:"status"},[t[10]||(t[10]=o("span",{class:"icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M12 2 2 7l10 5 10-5-10-5Zm0 7L2 4v13l10 5 10-5V4L12 9Zm0 9.5-7-3.5V9l7 3.5V20.5Z"})])],-1)),r.isVerified?(E(),k("span",YS,[...t[9]||(t[9]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})],-1),ut(" Verified ",-1)])])):(E(),k("span",KS,"Verify now")),r.isVerified?(E(),k("button",{key:3,class:"link danger",type:"button",onClick:t[2]||(t[2]=(...l)=>r.cancelKYC&&r.cancelKYC(...l))},"Cancel verification")):(E(),k("button",{key:2,class:"link",type:"button",onClick:t[1]||(t[1]=(...l)=>r.verifyKYC&&r.verifyKYC(...l))},"Start"))],2)]),r.isVerified?(E(),Bc(a,{key:0,"is-kyc-verified":r.isVerified,"user-info":i.userInfo,onSuccess:r.handleWhitelistSuccess,onError:r.handleWhitelistError,onInfo:r.handleWhitelistInfo},null,8,["is-kyc-verified","user-info","onSuccess","onError","onInfo"])):H("",!0)]),o("div",zS,[t[15]||(t[15]=o("h3",{class:"status-title"},"Account Status",-1)),o("div",QS,[t[12]||(t[12]=o("div",{class:"status-label"},[o("span",{class:"status-icon kyc-icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M12 2 2 7l10 5 10-5-10-5Zm0 7L2 4v13l10 5 10-5V4L12 9Zm0 9.5-7-3.5V9l7 3.5V20.5Z"})])]),ut(" KYC Level ")],-1)),o("div",qS,[o("span",{class:St(["level-badge",r.kycLevelClass])},m(r.kycLevelText),3)])]),o("div",JS,[t[13]||(t[13]=o("div",{class:"status-label"},[o("span",{class:"status-icon whitelist-icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})])]),ut(" Whitelist Status ")],-1)),o("div",ZS,[o("span",{class:St(["status-badge",r.whitelistStatusClass])},m(r.whitelistStatusText),3)])]),o("div",XS,[t[14]||(t[14]=o("div",{class:"status-label"},[o("span",{class:"status-icon trading-icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"})])]),ut(" Trading Permission ")],-1)),o("div",t4,[o("span",{class:St(["permission-badge",r.tradingPermissionClass])},m(r.tradingPermissionText),3)])])]),o("div",e4,[o("button",{class:"btn light",type:"button",onClick:t[3]||(t[3]=(...l)=>r.onCancel&&r.onCancel(...l))},"Cancel"),t[16]||(t[16]=o("button",{class:"btn orange",type:"submit"},"Save",-1)),o("button",{class:"btn light",type:"button",onClick:t[4]||(t[4]=(...l)=>r.logout&&r.logout(...l)),style:{"margin-left":"auto"}},"Log out")])],32)])}const yg=ce(MS,[["render",s4],["__scopeId","data-v-946a0bfb"]]),n4={key:0,class:"modal-mask"},i4={class:"modal-wrapper"},r4={class:"modal-container"},o4={style:{margin:"16px 0"}},a4={style:{display:"block","font-size":"15px",padding:"8px 0",color:"#ffffff",background:"#2a2a4a","border-radius":"8px"}},l4={style:{"text-align":"right"}},c4={key:1,class:"modal-mask"},u4={class:"modal-wrapper"},d4={class:"modal-container"},f4={style:{color:"#ffffff"}},h4={style:{"text-align":"right"}},p4={class:"mm-page"},m4={class:"mm-account-section"},g4={class:"mm-topbar"},v4={class:"mm-account"},y4={class:"mm-account-meta"},b4={class:"mm-account-title",style:{display:"flex","align-items":"center",gap:"12px"}},w4={key:0,class:"mm-status"},A4={class:"mm-account-line"},E4=["title"],k4={key:1,class:"mm-addr",style:{color:"#b45309"}},C4={key:0,class:"mm-dashboard-section"},T4={class:"mm-hero"},S4={class:"mm-card"},_4={class:"mm-card-title"},P4={class:"mm-card-sub"},I4={class:"mm-balance"},x4={class:"mm-subline"},R4={class:"mm-custom"},N4=["disabled"],D4={class:"mm-tabs"},L4={class:"mm-networkbar"},B4={class:"mm-net-left"},O4=["value"],M4={class:"mm-net-right",style:{position:"relative"}},U4={key:0,class:"mm-sort-menu"},F4={key:0,class:"mm-tokenlist",style:{background:"#1d1d36"}},$4={class:"mm-token"},V4={class:"mm-token-right"},H4={class:"mm-token-sub"},j4={class:"mm-token-amount"},W4=["onClick"],G4={class:"mm-token-left"},K4={class:"mm-token-icon"},Y4={class:"mm-token-sub"},z4={class:"mm-token-title"},Q4={class:"mm-token-sub"},q4={class:"mm-token-right"},J4={class:"mm-token-sub"},Z4={class:"mm-token-amount"},X4={key:1,class:"mm-activity-section"},t_={class:"mm-activity-header"},e_={class:"mm-activity-actions"},s_=["disabled"],n_={key:0},i_={key:1},r_={key:0,class:"mm-activity-filters"},o_={class:"mm-filter-row"},a_={class:"mm-filter-group"},l_={class:"mm-filter-group"},c_=["value"],u_={key:1,class:"mm-loading"},d_={key:2,class:"mm-no-activity"},f_={key:3,class:"mm-activity-list"},h_={key:0,class:"mm-filter-results"},p_={class:"mm-results-count"},m_={class:"mm-activity-columns"},g_={class:"mm-activity-left"},v_={class:"mm-activity-header-item"},y_={class:"mm-activity-icon"},b_={class:"mm-activity-title"},w_={class:"mm-activity-time"},A_={class:"mm-activity-details"},E_={key:0,class:"mm-activity-project"},k_={class:"mm-activity-value"},C_={key:1,class:"mm-activity-project-name"},T_={class:"mm-activity-value"},S_={key:2,class:"mm-activity-amount"},__={class:"mm-activity-value"},P_={key:3,class:"mm-activity-trade-type"},I_={key:4,class:"mm-activity-timestamp"},x_={class:"mm-activity-value"},R_={key:5,class:"mm-activity-wallet"},N_={class:"mm-activity-value"},D_={key:6,class:"mm-activity-network"},L_={class:"mm-activity-value"},B_={key:7,class:"mm-activity-network-id"},O_={class:"mm-activity-value"},M_={key:8,class:"mm-activity-metamask"},U_={key:9,class:"mm-activity-chain"},F_={class:"mm-activity-value"},$_={key:10,class:"mm-activity-error"},V_={class:"mm-activity-value"},H_={key:11,class:"mm-activity-transaction"},j_={class:"mm-activity-transaction-hash"},W_={class:"mm-activity-value"},G_={class:"mm-activity-transaction-status"},K_={class:"mm-activity-transaction-from"},Y_={class:"mm-activity-value"},z_={class:"mm-activity-transaction-to"},Q_={class:"mm-activity-value"},q_={class:"mm-activity-transaction-nonce"},J_={class:"mm-activity-value"},Z_={class:"mm-activity-transaction-token-amount"},X_={class:"mm-activity-value"},tP={class:"mm-activity-transaction-value"},eP={class:"mm-activity-value"},sP={class:"mm-activity-transaction-block"},nP={class:"mm-activity-value"},iP={class:"mm-activity-transaction-fee"},rP={class:"mm-activity-value"},oP={class:"mm-activity-transaction-gas"},aP={class:"mm-activity-value"},lP={key:12,class:"mm-activity-status"},cP={key:13,class:"mm-activity-wallet"},uP={class:"mm-activity-value"},dP={key:14,class:"mm-activity-message"},fP={class:"mm-activity-value"},hP={key:15,class:"mm-activity-message-text"},pP={class:"mm-activity-value"},mP={key:16,class:"mm-activity-etherscan"},gP={class:"mm-activity-etherscan-info"},vP={class:"mm-activity-value"},yP={class:"mm-activity-etherscan-info"},bP={class:"mm-activity-etherscan-info"},wP={class:"mm-activity-value"},AP={class:"mm-activity-etherscan-info"},EP={class:"mm-activity-value"},kP={class:"mm-activity-etherscan-info"},CP={class:"mm-activity-value"},TP={class:"mm-activity-etherscan-info"},SP={class:"mm-activity-value"},_P={class:"mm-activity-etherscan-info"},PP={class:"mm-activity-value"},IP={class:"mm-activity-etherscan-info"},xP={class:"mm-activity-value"},RP={class:"mm-activity-etherscan-info"},NP={class:"mm-activity-value"},DP={class:"mm-activity-etherscan-info"},LP={class:"mm-activity-value"},BP={key:0,class:"mm-activity-footer"},OP=["href"],MP={key:0,class:"mm-transaction-pagination"},UP={class:"mm-pagination-info"},FP={class:"mm-pagination-text"},$P={class:"mm-pagination-count"},VP={class:"mm-pagination-controls"},HP=["disabled"],jP={class:"mm-pagination-pages"},WP=["onClick"],GP=["disabled"],KP={key:2,class:"mm-warn"},YP={key:3,class:"mm-error"},zP={key:0,class:"mm-toast"},Il=3,xl=5,QP={__name:"WalletView",setup(e){pt(!1);const t=pt(!1),s=pt(!1);pt("");const n=pt(""),i=pt(""),{connected:r,address:a,fullAddress:l,chainId:c,networkLabel:u,nativeSymbol:d,nativeBalanceDisplay:f,nativeToAudDisplay:h,tokens:p,warning:w,error:v,activeTab:g,connect:_,disconnect:D,refreshTokens:L,copyAddress:N,addCustomToken:j}=fi(),W=pt([l.value]),U=pt(l.value);pt("");const J=pt([]),X=pt(!1),it=pt(!1),tt=pt({type:"",projectCode:"",startDate:"",endDate:""}),z=pt(1),at=pt(1),Ot=pt("SepoliaETH"),G=pt([{value:"SepoliaETH",label:"SepoliaETH",chainId:11155111},{value:"Ethereum",label:"Ethereum",chainId:1}]),Y=Tt(()=>{let R=J.value;if(tt.value.type&&(R=R.filter(S=>S.type===tt.value.type)),tt.value.projectCode&&(R=R.filter(S=>S.project_code===tt.value.projectCode)),tt.value.startDate){const S=new Date(tt.value.startDate);R=R.filter(I=>new Date(I.timestamp)>=S)}if(tt.value.endDate){const S=new Date(tt.value.endDate);S.setHours(23,59,59,999),R=R.filter(I=>new Date(I.timestamp)<=S)}return R}),rt=Tt(()=>{const R=new Set;return J.value.forEach(S=>{S.project_code&&R.add(S.project_code)}),Array.from(R).sort()}),ht=Tt(()=>tt.value.type!==""||tt.value.projectCode!==""||tt.value.startDate!==""||tt.value.endDate!==""),Et=Tt(()=>Y.value.filter(R=>R.type==="buy"||R.type==="sell"||R.type==="wallet_disconnect"||R.type==="metamask_connect"||R.type==="metamask_disconnect"||R.type==="metamask_message"||R.type==="metamask_transaction")),Ut=Tt(()=>Y.value.filter(R=>R.type==="wallet_connect"||R.type==="wallet_status_check"||R.type==="wallet_focus_check"||R.type==="network_change"));Tt(()=>{const R=(z.value-1)*Il,S=R+Il;return Ut.value.slice(R,S)});const Vt=Tt(()=>Math.ceil(Ut.value.length/Il));Tt(()=>{const R=Vt.value,S=z.value;if(R<=5)return Array.from({length:R},(Pt,C)=>C+1);const I=[];if(I.push(1),S<=3)for(let Pt=2;Pt<=Math.min(3,R-1);Pt++)I.push(Pt);else if(S>=R-2)for(let Pt=Math.max(2,R-2);Pt<=R-1;Pt++)I.push(Pt);else I.push(S-1),I.push(S),I.push(S+1);return R>1&&I.push(R),[...new Set(I)].sort((Pt,C)=>Pt-C)});const Nt=Tt(()=>Math.ceil(Et.value.length/xl)),de=Tt(()=>{const R=(at.value-1)*xl,S=R+xl;return Et.value.slice(R,S)});Gs(l,R=>{R&&!W.value.includes(R)&&(W.value.push(R),U.value=R)});function Ae(){if(n.value){const R=W.value.indexOf(n.value);R!==-1&&(W.value.splice(R,1),U.value===n.value&&(U.value="",a.value="",w.value=""),t.value=!1,i.value=`Wallet ${n.value} disconnected.`,s.value=!0)}}let Mt=null,ne=!1,B=null;const nt=pt(!1);function Z(){try{N()}finally{nt.value=!0,setTimeout(()=>{nt.value=!1},3e3)}}async function ct(){r.value&&(await Ht(),await y(),await L())}async function Ht(){const R=await Mt.getNetwork();c.value=Number(R.chainId),u.value=R.name&&R.name!=="unknown"?M(R.name):`Chain ${c.value}`,d.value=c.value===1?"ETH":c.value===137?"MATIC":(c.value===42161||c.value===10,"ETH"),et()}async function y(){nativeBalance.value=await Mt.getBalance(a.value)}function A(){window.ethereum&&(window.ethereum.on("accountsChanged",O),window.ethereum.on("chainChanged",F),Mt&&!ne&&(B=async()=>{try{await y()}catch{}},Mt.on("block",B),ne=!0))}function x(){window.ethereum&&(window.ethereum.removeListener("accountsChanged",O),window.ethereum.removeListener("chainChanged",F)),Mt&&ne&&B&&(Mt.removeListener("block",B),ne=!1,B=null)}async function O(R){!R||R.length===0?D():(a.value=R[0],U.value=R[0],ct(),g.value="tokens")}async function F(){await ct()}function M(R){return R&&R[0].toUpperCase()+R.slice(1)}async function et(){try{const R=d.value==="MATIC"?"matic-network":"ethereum",I=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${R}&vs_currencies=aud`)).json();audPrice.value=I?.[R]?.aud||null}catch{audPrice.value=null}}Ci(async()=>{if(!window.ethereum){w.value="MetaMask not detected.";return}Mt=new Ds(window.ethereum,"any");const R=await Mt.send("eth_accounts",[]);R&&R.length>0&&(await Mt.getSigner(),a.value=R[0],r.value=!0,await ct(),A()),await he(),window.addEventListener("walletActivityUpdated",Gn),_i(),Pi(),Kn()}),va(()=>{x(),window.removeEventListener("walletActivityUpdated",Gn)});const q=pt(""),Q=pt("");function K(){j(q.value.trim(),Q.value.trim())&&(q.value="",Q.value="",L())}const gt=pt(!1),st=pt("desc");function mt(){gt.value=!gt.value}function bt(R){st.value=R,gt.value=!1}function It(R){if(R==null)return 0;if(typeof R=="number")return R;const S=parseFloat(String(R).replace(/,/g,""));return isNaN(S)?0:S}const Zt=Tt(()=>{const R=Array.from(p),S=(Pt,C)=>It(C.displayBalance)-It(Pt.displayBalance),I=(Pt,C)=>It(Pt.displayBalance)-It(C.displayBalance);return R.sort(st.value==="desc"?S:I)});pt("");function jt(R){return new Date(R).toLocaleString()}function Ie(R){return new Date(R).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Yt(R){return R?`${R.slice(0,6)}...${R.slice(-4)}`:""}function Le(R){return R?(parseInt(R,16)/Math.pow(10,18)).toFixed(6):"0"}function es(R){return{buy:"📈",sell:"📉",wallet_connect:"🔗",wallet_disconnect:"❌",network_change:"🌐",metamask_connect:"🦊",metamask_disconnect:"🦊❌",wallet_status_check:"👁️",wallet_focus_check:"🎯",metamask_message:"💬",metamask_transaction:"💰"}[R]||"📋"}function qs(R){return{buy:"BUY TOKEN",sell:"SELL TOKEN",wallet_connect:"WALLET CONNECTED",wallet_disconnect:"WALLET DISCONNECTED",network_change:"NETWORK CHANGED",metamask_connect:"METAMASK CONNECTED",metamask_disconnect:"METAMASK DISCONNECTED",wallet_status_check:"STATUS CHECKED",wallet_focus_check:"FOCUS CHECKED",metamask_message:"METAMASK MESSAGE",metamask_transaction:"METAMASK TRANSACTION"}[R]||R.toUpperCase()}async function kn(R){try{console.log("🔍 正在从Etherscan获取交易详情:",R);const S=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionByHash&txhash=${R}`,Pt=await(await fetch(S)).json();if(Pt.result){console.log("✅ 成功获取交易详情:",Pt.result);const C=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionReceipt&txhash=${R}`,b=await(await fetch(C)).json();return{success:!0,transaction:Pt.result,receipt:b.result,hash:R,from:Pt.result.from,to:Pt.result.to,value:Pt.result.value,nonce:Pt.result.nonce,gasUsed:b.result?b.result.gasUsed:null,gasPrice:Pt.result.gasPrice,blockNumber:Pt.result.blockNumber,blockHash:Pt.result.blockHash,status:b.result?b.result.status:null,transactionFee:b.result?parseInt(b.result.gasUsed,16)*parseInt(Pt.result.gasPrice,16)/Math.pow(10,18):null,etherscanUrl:`https://sepolia.etherscan.io/tx/${R}`}}else return console.warn("⚠️ 交易详情获取失败:",Pt.message),{success:!1,error:Pt.message||"Failed to fetch transaction details"}}catch(S){return console.error("❌ 获取交易详情时发生错误:",S),{success:!1,error:S.message}}}async function he(){try{X.value=!0,console.log("🔄 正在加载钱包活动记录...");const R=localStorage.getItem("walletActivity");if(R){const S=JSON.parse(R);console.log("📂 从localStorage加载活动记录:",S.length,"条");const I=[];for(const Pt of S){if(Pt.transactionHash&&Pt.type!=="wallet_connect"&&Pt.type!=="wallet_disconnect"){const C=await kn(Pt.transactionHash);C.success&&(Pt.etherscan={hash:C.hash,from:C.from,to:C.to,value:C.value,nonce:C.nonce,gasUsed:C.gasUsed,gasPrice:C.gasPrice,blockNumber:C.blockNumber,blockHash:C.blockHash,status:C.status,transactionFee:C.transactionFee,etherscanUrl:C.etherscanUrl})}I.push(Pt)}J.value=I}else{J.value=[{id:Date.now()-36e5,type:"buy",amount:100,project_code:"TYMU",project_name:"St Ives NSW Residential Project",timestamp:Date.now()-36e5,transactionHash:"0xabc123def45678901234567890123456789012345678901234567890123456789012"},{id:Date.now()-18e5,type:"sell",amount:50,project_code:"SQNB",project_name:"SQNB Property Loan",timestamp:Date.now()-18e5,transactionHash:"0xdef456abc12378901234567890123456789012345678901234567890123456789012"},{id:Date.now()-9e5,type:"wallet_connect",message:"Wallet connected to MetaMask",wallet_address:l.value,timestamp:Date.now()-9e5}];for(const S of J.value)if(S.transactionHash){const I=await kn(S.transactionHash);I.success&&(S.etherscan={from:I.from,to:I.to,value:I.value,gasUsed:I.gasUsed,gasPrice:I.gasPrice,blockNumber:I.blockNumber,blockHash:I.blockHash,status:I.status,etherscanUrl:`https://sepolia.etherscan.io/tx/${S.transactionHash}`})}}console.log("✅ 钱包活动记录加载完成:",J.value.length,"条")}catch(R){console.error("❌ 加载钱包活动记录失败:",R),w.value="Failed to load wallet activity"}finally{X.value=!1}}async function Ve(){await he()}function Gn(R){console.log("📨 收到WalletView活动更新通知:",R.detail),he()}function _i(){console.log("🎧 设置MetaMask活动监听器..."),window.ethereum&&(window.ethereum.on("accountsChanged",R=>{console.log("📱 账户变化检测到:",R),R.length>0?Ss({type:"wallet_connect",message:"Wallet account connected",wallet_address:R[0],timestamp:Date.now()}):Ss({type:"wallet_disconnect",message:"Wallet account disconnected",wallet_address:l.value,timestamp:Date.now()})}),window.ethereum.on("chainChanged",R=>{console.log("🌐 网络变化检测到:",R);const S=$a(R);Ss({type:"network_change",message:`Network changed to ${S}`,network_id:R,network_name:S,timestamp:Date.now()})}),window.ethereum.on("connect",R=>{console.log("🔗 MetaMask连接检测到:",R),Ss({type:"metamask_connect",message:"MetaMask extension connected",chain_id:R.chainId,timestamp:Date.now()})}),window.ethereum.on("disconnect",R=>{console.log("❌ MetaMask断开连接:",R),Ss({type:"metamask_disconnect",message:"MetaMask extension disconnected",error:R.message||"Unknown error",timestamp:Date.now()})}),window.ethereum.on("message",R=>{console.log("💬 MetaMask消息:",R),Ss({type:"metamask_message",message:"MetaMask message received",message_type:R.type,data:R.data,timestamp:Date.now()})}))}function $a(R){return{"0x1":"Ethereum Mainnet","0x3":"Ropsten Testnet","0x4":"Rinkeby Testnet","0x5":"Goerli Testnet","0xaa36a7":"Sepolia Testnet","0x89":"Polygon Mainnet","0x13881":"Polygon Mumbai","0x38":"BSC Mainnet","0x61":"BSC Testnet"}[R]||`Unknown Network (${R})`}function Ss(R){try{console.log("📝 记录钱包活动:",R),J.value.unshift(R);const S=JSON.parse(localStorage.getItem("walletActivity")||"[]");S.unshift(R),S.length>100&&S.splice(100),localStorage.setItem("walletActivity",JSON.stringify(S)),console.log("✅ 钱包活动记录已保存")}catch(S){console.error("❌ 记录钱包活动失败:",S)}}function Pi(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("👁️ 页面重新可见，刷新钱包状态和活动记录"),he(),window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(R=>{R.length>0&&R[0]!==l.value&&Ss({type:"wallet_status_check",message:"Wallet status checked on page visibility",wallet_address:R[0],timestamp:Date.now()})}).catch(R=>{console.error("检查钱包状态失败:",R)}))})}function Kn(){window.addEventListener("focus",()=>{console.log("🎯 窗口获得焦点，检查钱包状态和刷新活动记录"),he(),window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(R=>{R.length>0&&Ss({type:"wallet_focus_check",message:"Wallet status checked on window focus",wallet_address:R[0],timestamp:Date.now()})}).catch(R=>{console.error("检查钱包状态失败:",R)})})}function Va(){it.value=!it.value}function mo(){tt.value={type:"",projectCode:"",startDate:"",endDate:""}}async function Cn(){g.value="activity",console.log("🔄 切换到Activity tab，刷新活动记录"),await he()}function Ha(R){R>=1&&R<=Nt.value&&(at.value=R,console.log(`📄 切换到交易活动第 ${R} 页`))}function ja(){at.value<Nt.value&&(at.value++,console.log(`📄 交易活动下一页: ${at.value}`))}function Wa(){at.value>1&&(at.value--,console.log(`📄 交易活动上一页: ${at.value}`))}function ur(R){const S=G.value.find(I=>I.value===R);S&&(Ot.value=R,console.log(`Switching to network: ${S.label} (Chain ID: ${S.chainId})`),window.ethereum&&window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${S.chainId.toString(16)}`}]}).then(()=>{console.log(`Successfully switched to ${S.label}`)}).catch(I=>{console.error("Network switch failed:",I),I.code===4902&&Ga(S)}))}function Ga(R){const I={Ethereum:{chainId:"0x1",chainName:"Ethereum Mainnet",rpcUrls:["https://mainnet.infura.io/v3/YOUR_PROJECT_ID"],blockExplorerUrls:["https://etherscan.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18}}}[R.value];I&&window.ethereum&&window.ethereum.request({method:"wallet_addEthereumChain",params:[I]}).then(()=>{console.log(`✅ 成功添加网络 ${R.label}`)}).catch(Pt=>{console.error("❌ 添加网络失败:",Pt)})}return(R,S)=>(E(),k(kt,null,[t.value?(E(),k("div",n4,[o("div",i4,[o("div",r4,[S[14]||(S[14]=o("h2",{style:{"margin-bottom":"8px",color:"#ffffff"}},"Disconnect Wallet",-1)),S[15]||(S[15]=o("p",{style:{color:"#ffffff"}},"Select the wallet account you want to disconnect:",-1)),o("div",o4,[o("span",a4,m(U.value),1)]),o("div",l4,[o("button",{class:"mm-btn mm-outline",onClick:S[0]||(S[0]=I=>t.value=!1)},"Cancel"),o("button",{class:"mm-btn mm-outline",style:{"margin-left":"8px"},onClick:Ae},"Confirm")])])])])):H("",!0),s.value?(E(),k("div",c4,[o("div",u4,[o("div",d4,[S[16]||(S[16]=o("h2",{style:{"margin-bottom":"8px",color:"#ffffff"}},"Wallet Disconnected",-1)),o("p",f4,m(i.value),1),o("div",h4,[o("button",{class:"mm-btn mm-outline",onClick:S[1]||(S[1]=I=>s.value=!1)},"Confirm")])])])])):H("",!0),o("div",p4,[o("section",m4,[o("header",g4,[o("div",v4,[S[19]||(S[19]=o("div",{class:"mm-avatar"},null,-1)),o("div",y4,[o("div",b4,[S[18]||(S[18]=o("span",null,"Account",-1)),zt(r)?(E(),k("div",w4,[...S[17]||(S[17]=[o("span",{class:"mm-dot"},null,-1),o("span",{class:"mm-status-text"},"Connected",-1)])])):H("",!0)]),o("div",A4,[U.value?(E(),k(kt,{key:0},[o("span",{class:"mm-addr",title:U.value},m(U.value),9,E4),zt(r)?(E(),k("button",{key:0,class:"mm-btn mm-outline mm-copy",onClick:Z},"Copy")):H("",!0)],64)):(E(),k("span",k4,"please connect your wallet in wallet management"))]),!zt(r)||!U.value?(E(),k("button",{key:0,class:"mm-btn mm-outline",style:{"margin-top":"6px"},onClick:S[2]||(S[2]=(...I)=>zt(_)&&zt(_)(...I))},"Connect MetaMask")):H("",!0)])])])]),zt(r)&&U.value?(E(),k("section",C4,[o("div",T4,[o("div",S4,[S[20]||(S[20]=o("div",{class:"mm-card-label"},"Current Network",-1)),o("div",_4,m(zt(u)),1),o("div",P4,"Chain ID: "+m(zt(c)),1)]),o("div",I4,m(zt(f))+" "+m(zt(d)),1),o("div",x4,[o("span",null,"A$"+m(zt(h)||0),1),o("a",{href:"#",onClick:S[3]||(S[3]=yt(I=>R.$router.push("/portfolio"),["prevent"])),class:"mm-link"},"Portfolio ↗")])]),o("div",R4,[S[21]||(S[21]=o("span",{class:"mm-net-left"},"Insert your contract address here:",-1)),o("form",{class:"mm-custom-form",onSubmit:yt(K,["prevent"])},[Lt(o("input",{"onUpdate:modelValue":S[4]||(S[4]=I=>q.value=I),class:"mm-input",placeholder:"Paste ERC20 contract address"},null,512),[[me,q.value]]),Lt(o("input",{"onUpdate:modelValue":S[5]||(S[5]=I=>Q.value=I),class:"mm-input",placeholder:"Label (optional)"},null,512),[[me,Q.value]]),o("button",{class:"mm-btn mm-outline",type:"submit",disabled:!q.value},"Add Token",8,N4),o("button",{class:"mm-btn mm-outline",type:"button",onClick:S[6]||(S[6]=(...I)=>zt(L)&&zt(L)(...I))},"Refresh")],32)]),o("nav",D4,[o("button",{class:St(["mm-tab",{"is-active":zt(g)==="tokens"}]),onClick:S[7]||(S[7]=I=>g.value="tokens")},"Tokens",2),o("button",{class:St(["mm-tab",{"is-active":zt(g)==="activity"}]),onClick:Cn},"Activity",2)]),o("div",L4,[o("div",B4,[Lt(o("select",{"onUpdate:modelValue":S[8]||(S[8]=I=>Ot.value=I),onChange:S[9]||(S[9]=I=>ur(Ot.value)),class:"mm-network-select"},[(E(!0),k(kt,null,ke(G.value,I=>(E(),k("option",{key:I.value,value:I.value},m(I.label),9,O4))),128))],544),[[ks,Ot.value]])]),o("div",M4,[o("button",{class:"mm-btn mm-outline",onClick:mt,style:{height:"28px",padding:"2px 10px"}},"Sort"),gt.value?(E(),k("div",U4,[o("button",{class:St(["mm-sort-item",{active:st.value==="desc"}]),onClick:S[10]||(S[10]=I=>bt("desc"))},"Descending by balance",2),o("button",{class:St(["mm-sort-item",{active:st.value==="asc"}]),onClick:S[11]||(S[11]=I=>bt("asc"))},"Ascending by balance",2)])):H("",!0)])]),zt(g)==="tokens"?(E(),k("div",F4,[o("div",$4,[S[22]||(S[22]=o("div",{class:"mm-token-left"},[o("div",{class:"mm-token-icon mm-eth"}),o("div",null,[o("div",{class:"mm-token-title"}," SepoliaETH "),o("div",{class:"mm-rise"},"+2.48%")])],-1)),o("div",V4,[o("div",H4,m(zt(f))+" "+m(zt(d)),1),o("div",j4,"A$"+m(zt(h)||0),1)])]),(E(!0),k(kt,null,ke(Zt.value,I=>(E(),k("div",{key:I.address,class:"mm-token",onClick:Pt=>R.$router.push({name:"tokenDetail",params:{address:I.address}})},[o("div",G4,[o("div",K4,m((I.symbol||"T").slice(0,1)),1),o("div",null,[o("div",Y4,m(I.symbol),1),o("div",z4,m(I.symbol||"Token"),1),o("div",Q4,m(I.name),1)])]),o("div",q4,[o("div",J4,m(I.symbol),1),o("div",Z4,m(I.displayBalance),1)])],8,W4))),128)),S[23]||(S[23]=o("div",{class:"mm-token-footer"},null,-1))])):H("",!0)])):H("",!0),zt(g)==="activity"?(E(),k("div",X4,[o("div",t_,[S[24]||(S[24]=o("h3",null,"Wallet Activity Log",-1)),o("div",e_,[o("button",{class:St(["mm-btn mm-outline",{active:it.value}]),onClick:Va}," Filter ",2),o("button",{class:"mm-btn mm-outline",onClick:Ve,disabled:X.value},[X.value?(E(),k("span",n_,"🔄")):(E(),k("span",i_,"Refresh"))],8,s_)])]),it.value?(E(),k("div",r_,[o("div",o_,[o("div",a_,[S[26]||(S[26]=o("label",{class:"mm-filter-label"},"Type",-1)),Lt(o("select",{"onUpdate:modelValue":S[12]||(S[12]=I=>tt.value.type=I),class:"mm-filter-select"},[...S[25]||(S[25]=[o("option",{value:""},"All Types",-1),o("option",{value:"buy"},"Buy",-1),o("option",{value:"sell"},"Sell",-1)])],512),[[ks,tt.value.type]])]),o("div",l_,[S[28]||(S[28]=o("label",{class:"mm-filter-label"},"Project Code",-1)),Lt(o("select",{"onUpdate:modelValue":S[13]||(S[13]=I=>tt.value.projectCode=I),class:"mm-filter-select"},[S[27]||(S[27]=o("option",{value:""},"All Projects",-1)),(E(!0),k(kt,null,ke(rt.value,I=>(E(),k("option",{key:I,value:I},m(I),9,c_))),128))],512),[[ks,tt.value.projectCode]])]),o("div",{class:"mm-filter-actions"},[o("button",{class:"mm-btn mm-outline",onClick:mo}," Clear ")])])])):H("",!0),X.value?(E(),k("div",u_,[...S[29]||(S[29]=[o("div",{class:"mm-spinner"},null,-1),o("span",null,"Loading activity...",-1)])])):J.value.length===0?(E(),k("div",d_,[...S[30]||(S[30]=[o("div",{class:"mm-no-activity-icon"},null,-1),o("p",null,"No transaction activity found",-1),o("p",{class:"mm-no-activity-sub"},"Your recent transactions will appear here",-1)])])):(E(),k("div",f_,[it.value?(E(),k("div",h_,[o("span",p_," Showing "+m(Y.value.length)+" of "+m(J.value.length)+" activities ",1),ht.value?(E(),k("button",{key:0,class:"mm-clear-filters-btn",onClick:mo}," Clear all filters ")):H("",!0)])):H("",!0),o("div",m_,[o("div",g_,[S[66]||(S[66]=o("div",{class:"mm-activity-section-header"},[o("h4",{class:"mm-activity-section-title"},"Transaction Activity")],-1)),(E(!0),k(kt,null,ke(de.value,I=>(E(),k("div",{key:I.id,class:"mm-activity-item"},[o("div",v_,[o("div",{class:St(["mm-activity-type",I.type])},[o("span",y_,m(es(I.type)),1),o("span",b_,m(qs(I.type)),1)],2),o("div",w_,m(jt(I.timestamp)),1)]),o("div",A_,[I.type==="buy"||I.type==="sell"?(E(),k("div",E_,[S[31]||(S[31]=o("span",{class:"mm-activity-label"},"Project Code:",-1)),o("span",k_,m(I.project_code),1)])):H("",!0),I.type==="buy"||I.type==="sell"?(E(),k("div",C_,[S[32]||(S[32]=o("span",{class:"mm-activity-label"},"Project Name:",-1)),o("span",T_,m(I.project_name),1)])):H("",!0),I.type==="buy"||I.type==="sell"?(E(),k("div",S_,[S[33]||(S[33]=o("span",{class:"mm-activity-label"},"Token Amount:",-1)),o("span",__,m(I.amount)+" tokens",1)])):H("",!0),I.type==="buy"||I.type==="sell"?(E(),k("div",P_,[S[34]||(S[34]=o("span",{class:"mm-activity-label"},"Trade Type:",-1)),o("span",{class:St(["mm-activity-value",I.type==="buy"?"mm-trade-buy":"mm-trade-sell"])},m(I.type.toUpperCase()),3)])):H("",!0),I.type==="buy"||I.type==="sell"?(E(),k("div",I_,[S[35]||(S[35]=o("span",{class:"mm-activity-label"},"Trade Time:",-1)),o("span",x_,m(Ie(I.timestamp)),1)])):H("",!0),I.type==="wallet_connect"||I.type==="wallet_disconnect"?(E(),k("div",R_,[S[36]||(S[36]=o("span",{class:"mm-activity-label"},"Wallet Address:",-1)),o("span",N_,m(Yt(I.wallet_address)),1)])):H("",!0),I.type==="network_change"?(E(),k("div",D_,[S[37]||(S[37]=o("span",{class:"mm-activity-label"},"Network:",-1)),o("span",L_,m(I.network_name),1)])):H("",!0),I.type==="network_change"?(E(),k("div",B_,[S[38]||(S[38]=o("span",{class:"mm-activity-label"},"Chain ID:",-1)),o("span",O_,m(I.network_id),1)])):H("",!0),I.type==="metamask_connect"||I.type==="metamask_disconnect"?(E(),k("div",M_,[...S[39]||(S[39]=[o("span",{class:"mm-activity-label"},"Extension:",-1),o("span",{class:"mm-activity-value"},"MetaMask",-1)])])):H("",!0),I.type==="metamask_connect"&&I.chain_id?(E(),k("div",U_,[S[40]||(S[40]=o("span",{class:"mm-activity-label"},"Chain ID:",-1)),o("span",F_,m(I.chain_id),1)])):H("",!0),I.type==="metamask_disconnect"&&I.error?(E(),k("div",$_,[S[41]||(S[41]=o("span",{class:"mm-activity-label"},"Error:",-1)),o("span",V_,m(I.error),1)])):H("",!0),I.type==="metamask_transaction"?(E(),k("div",H_,[o("div",j_,[S[42]||(S[42]=o("span",{class:"mm-activity-label"},"Transaction Hash:",-1)),o("span",W_,m(I.etherscan?.hash||I.transactionHash||"N/A"),1)]),o("div",G_,[S[43]||(S[43]=o("span",{class:"mm-activity-label"},"Status:",-1)),o("span",{class:St(["mm-activity-value",{"mm-status-success":I.etherscan?.status==="0x1","mm-status-failed":I.etherscan?.status==="0x0"}])},m(I.etherscan?.status==="0x1"?"Success":I.etherscan?.status==="0x0"?"Failed":"Pending"),3)]),o("div",K_,[S[44]||(S[44]=o("span",{class:"mm-activity-label"},"From:",-1)),o("span",Y_,m(Yt(I.etherscan?.from)),1)]),o("div",z_,[S[45]||(S[45]=o("span",{class:"mm-activity-label"},"To:",-1)),o("span",Q_,m(Yt(I.etherscan?.to)),1)]),o("div",q_,[S[46]||(S[46]=o("span",{class:"mm-activity-label"},"Nonce:",-1)),o("span",J_,m(I.etherscan?.nonce?parseInt(I.etherscan.nonce,16):"N/A"),1)]),o("div",Z_,[S[47]||(S[47]=o("span",{class:"mm-activity-label"},"Token Amount:",-1)),o("span",X_,m(I.amount||"N/A")+" "+m(I.project_code||"tokens"),1)]),o("div",tP,[S[48]||(S[48]=o("span",{class:"mm-activity-label"},"Value:",-1)),o("span",eP,m(Le(I.etherscan?.value))+" ETH",1)]),o("div",sP,[S[49]||(S[49]=o("span",{class:"mm-activity-label"},"Block:",-1)),o("span",nP,m(I.etherscan?.blockNumber?parseInt(I.etherscan.blockNumber,16).toLocaleString():"N/A"),1)]),o("div",iP,[S[50]||(S[50]=o("span",{class:"mm-activity-label"},"Transaction Fee:",-1)),o("span",rP,m(I.etherscan?.transactionFee?I.etherscan.transactionFee.toFixed(6):"N/A")+" ETH",1)]),o("div",oP,[S[51]||(S[51]=o("span",{class:"mm-activity-label"},"Gas Price:",-1)),o("span",aP,m(I.etherscan?.gasPrice?parseInt(I.etherscan.gasPrice,16).toLocaleString():"N/A")+" Gwei",1)])])):H("",!0),I.type==="wallet_status_check"||I.type==="wallet_focus_check"?(E(),k("div",lP,[...S[52]||(S[52]=[o("span",{class:"mm-activity-label"},"Status:",-1),o("span",{class:"mm-activity-value"},"Checked",-1)])])):H("",!0),I.type==="wallet_status_check"||I.type==="wallet_focus_check"?(E(),k("div",cP,[S[53]||(S[53]=o("span",{class:"mm-activity-label"},"Wallet:",-1)),o("span",uP,m(Yt(I.wallet_address)),1)])):H("",!0),I.type==="metamask_message"?(E(),k("div",dP,[S[54]||(S[54]=o("span",{class:"mm-activity-label"},"Message Type:",-1)),o("span",fP,m(I.message_type),1)])):H("",!0),I.message?(E(),k("div",hP,[S[55]||(S[55]=o("span",{class:"mm-activity-label"},"Message:",-1)),o("span",pP,m(I.message),1)])):H("",!0),I.etherscan?(E(),k("div",mP,[o("div",gP,[S[56]||(S[56]=o("span",{class:"mm-activity-label"},"Transaction Hash:",-1)),o("span",vP,m(I.etherscan.hash||I.transactionHash||"N/A"),1)]),o("div",yP,[S[57]||(S[57]=o("span",{class:"mm-activity-label"},"Status:",-1)),o("span",{class:St(["mm-activity-value",{"mm-status-success":I.etherscan.status==="0x1","mm-status-failed":I.etherscan.status==="0x0"}])},m(I.etherscan.status==="0x1"?"Success":I.etherscan.status==="0x0"?"Failed":"Pending"),3)]),o("div",bP,[S[58]||(S[58]=o("span",{class:"mm-activity-label"},"From:",-1)),o("span",wP,m(Yt(I.etherscan.from)),1)]),o("div",AP,[S[59]||(S[59]=o("span",{class:"mm-activity-label"},"To:",-1)),o("span",EP,m(Yt(I.etherscan.to)),1)]),o("div",kP,[S[60]||(S[60]=o("span",{class:"mm-activity-label"},"Nonce:",-1)),o("span",CP,m(I.etherscan.nonce?parseInt(I.etherscan.nonce,16):"N/A"),1)]),o("div",TP,[S[61]||(S[61]=o("span",{class:"mm-activity-label"},"Token Amount:",-1)),o("span",SP,m(I.amount||"N/A")+" "+m(I.project_code||"tokens"),1)]),o("div",_P,[S[62]||(S[62]=o("span",{class:"mm-activity-label"},"Value:",-1)),o("span",PP,m(Le(I.etherscan.value))+" ETH",1)]),o("div",IP,[S[63]||(S[63]=o("span",{class:"mm-activity-label"},"Gas Used:",-1)),o("span",xP,m(I.etherscan.gasUsed?parseInt(I.etherscan.gasUsed,16).toLocaleString():"N/A"),1)]),o("div",RP,[S[64]||(S[64]=o("span",{class:"mm-activity-label"},"Block:",-1)),o("span",NP,m(I.etherscan.blockNumber?parseInt(I.etherscan.blockNumber,16).toLocaleString():"N/A"),1)]),o("div",DP,[S[65]||(S[65]=o("span",{class:"mm-activity-label"},"Transaction Fee:",-1)),o("span",LP,m(I.etherscan.transactionFee?I.etherscan.transactionFee.toFixed(6):"N/A")+" ETH",1)])])):H("",!0)]),I.etherscan&&I.etherscan.etherscanUrl?(E(),k("div",BP,[o("a",{href:I.etherscan.etherscanUrl,target:"_blank",class:"mm-etherscan-link"}," 🔗 View on Etherscan ",8,OP)])):H("",!0)]))),128)),Nt.value>1?(E(),k("div",MP,[o("div",UP,[o("span",FP," Transaction Page "+m(at.value)+" of "+m(Nt.value),1),o("span",$P," ("+m(Et.value.length)+" records) ",1)]),o("div",VP,[o("button",{class:"mm-pagination-btn",onClick:Wa,disabled:at.value<=1}," ← ",8,HP),o("div",jP,[(E(!0),k(kt,null,ke(Nt.value,I=>(E(),k("button",{key:I,class:St(["mm-pagination-page",{active:I===at.value}]),onClick:Pt=>Ha(I)},m(I),11,WP))),128))]),o("button",{class:"mm-pagination-btn",onClick:ja,disabled:at.value>=Nt.value}," → ",8,GP)])])):H("",!0)])])]))])):H("",!0)]),zt(w)?(E(),k("p",KP,m(zt(w)),1)):H("",!0),zt(v)?(E(),k("p",YP,m(zt(v)),1)):H("",!0),Ct(T0,{name:"fade"},{default:Gt(()=>[nt.value?(E(),k("div",zP,"Copied")):H("",!0)]),_:1})],64))}},bg=ce(QP,[["__scopeId","data-v-0862636c"]]),qP={name:"KycServicePage",data(){return{step:1,form:{firstName:"",lastName:"",dob:"",email:"",phone:"",country:"",docType:"",docNumber:"",fileFront:null,fileBack:null},cameraEnabled:!1,camError:"",livenessDetecting:!1,livenessStatus:"正在检测...",showWhitelistEligibility:!1,showWhitelistApplication:!1,showWhitelistSuccess:!1,loadingMessage:"Processing...",showCancelConfirm:!1}},computed:{needsBack(){return this.form.docType==="driver"||this.form.docType==="idcard"},readyExtract(){return!!(this.form.firstName&&this.form.lastName&&this.form.dob)}},methods:{goProfile(){this.$router.push("/profile")},prev(){this.step=Math.max(1,this.step-1)},cancelKYC(){this.showCancelConfirm=!0},hideCancelConfirm(){this.showCancelConfirm=!1},confirmCancelKYC(){this.showCancelConfirm=!1,yc(Qe.UNVERIFIED),this.$router.push("/profile")},goDoc(){this.step=3},onFile(e,t){const s=e.target.files?.[0];s&&(t==="front"?this.form.fileFront=s:this.form.fileBack=s)},async extractFromId(){try{const e=(this.form.fileFront?.name||"").toLowerCase();e.includes("john")&&(this.form.firstName="John"),e.includes("doe")&&(this.form.lastName="Doe"),e.match(/1990|90/)&&(this.form.dob="1990-01-01"),this.form.firstName||(this.form.firstName="GivenName"),this.form.lastName||(this.form.lastName="FamilyName"),this.form.dob||(this.form.dob="1990-01-01")}catch{}},complete(){yc(Qe.VERIFIED),this.step=4,this.disableCamera(),setTimeout(()=>{this.showWhitelistEligibility=!0},1500)},async enableCamera(){this.camError="";try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.cameraEnabled=!0,this.$nextTick(()=>{this.$refs.videoEl&&(this.$refs.videoEl.srcObject=e)}),this.startLivenessDetection()}catch{this.camError="无法访问摄像头，请检查浏览器权限设置。"}},async startLivenessDetection(){this.livenessDetecting=!0,this.livenessStatus="正在检测...",setTimeout(()=>{this.livenessStatus="验证成功，进入下一步",setTimeout(()=>{this.complete()},1e3)},3e3)},cancelLiveness(){this.cameraEnabled=!1,this.livenessDetecting=!1,this.livenessStatus="正在检测...",this.$refs.videoEl&&this.$refs.videoEl.srcObject&&(this.$refs.videoEl.srcObject.getTracks().forEach(t=>t.stop()),this.$refs.videoEl.srcObject=null),this.prev()},disableCamera(){console.log("🔒 KYC验证完成，禁用镜头功能"),this.cameraEnabled=!1,this.livenessDetecting=!1,this.livenessStatus="验证已完成",this.$refs.videoEl&&this.$refs.videoEl.srcObject&&(this.$refs.videoEl.srcObject.getTracks().forEach(t=>{t.stop(),console.log("📹 摄像头流已停止")}),this.$refs.videoEl.srcObject=null),this.camError="",console.log("✅ 镜头功能已完全禁用")},async applyWhitelist(){this.showWhitelistEligibility=!1,this.showWhitelistApplication=!0;try{this.loadingMessage="Connecting to blockchain...",await this.delay(1e3),this.loadingMessage="Submitting whitelist application...",await this.delay(1e3),this.loadingMessage="Processing transaction...",await this.delay(1500);const e=await this.submitWhitelistToContract();if(e.success)this.loadingMessage="Whitelist application successful!",await this.delay(1e3),this.showWhitelistApplication=!1,this.showWhitelistSuccess=!0;else throw new Error(e.error||"Whitelist application failed")}catch(e){console.error("Whitelist application error:",e),this.loadingMessage="Application failed. Please try again.",await this.delay(2e3),this.showWhitelistApplication=!1,this.showWhitelistEligibility=!0}},async submitWhitelistToContract(){try{console.log("Calling whitelist contract...");const e={firstName:this.form.firstName,lastName:this.form.lastName,dob:this.form.dob,country:this.form.country,docType:this.form.docType,docNumber:this.form.docNumber},t=await We.applyForKYC(e);if(t.success)return console.log("Whitelist application successful:",t.transactionHash),t;throw new Error(t.error||"Whitelist application failed")}catch(e){return console.error("Contract call failed:",e),{success:!1,error:e.message}}},delay(e){return new Promise(t=>setTimeout(t,e))},goToProjects(){this.showWhitelistSuccess=!1,this.$router.push("/projects")}}},JP={class:"kyc-page container"},ZP={class:"topbar"},XP={class:"steps"},tI={key:0,class:"modal"},eI={class:"card"},sI={class:"grid"},nI={class:"actions",style:{"justify-content":"flex-start",gap:"10px"}},iI=["disabled"],rI={class:"grid",style:{"margin-top":"12px"}},oI={class:"actions"},aI=["disabled"],lI={key:1,class:"modal"},cI={class:"card"},uI={class:"camera-block"},dI={key:0,ref:"videoEl",autoplay:"",playsinline:"",class:"cam-preview"},fI={key:2,class:"cam-error"},hI={key:3,class:"liveness-status"},pI={class:"detection-text"},mI={class:"actions"},gI={key:2,class:"modal"},vI={class:"card success"},yI={class:"actions"},bI={key:3,class:"modal"},wI={class:"card"},AI={class:"actions"},EI={key:4,class:"modal"},kI={class:"card"},CI={class:"loading-text"},TI={key:5,class:"modal"},SI={key:6,class:"modal"},_I={class:"card"},PI={class:"actions"};function II(e,t,s,n,i,r){return E(),k("section",JP,[o("header",ZP,[o("button",{class:"back",onClick:t[0]||(t[0]=(...a)=>r.goProfile&&r.goProfile(...a))},"← Back"),t[21]||(t[21]=o("h1",{class:"title"},"KYC Verification",-1)),o("button",{class:"btn light danger",onClick:t[1]||(t[1]=(...a)=>r.cancelKYC&&r.cancelKYC(...a))},"Cancel Verification")]),o("ol",XP,[o("li",{class:St({active:i.step===1,done:i.step>1})},"1. Upload ID & auto-read",2),o("li",{class:St({active:i.step===3,done:i.step>3})},"2. Liveness",2),o("li",{class:St({active:i.step===4,done:i.step>4})},"3. Complete",2)]),i.step===1?(E(),k("div",tI,[o("div",eI,[t[33]||(t[33]=o("h2",null,"Upload your ID and auto-read info",-1)),o("form",{onSubmit:t[12]||(t[12]=yt((...a)=>r.goDoc&&r.goDoc(...a),["prevent"]))},[o("div",sI,[o("label",null,[t[22]||(t[22]=ut("Upload front image* ",-1)),o("input",{type:"file",accept:"image/*",onChange:t[2]||(t[2]=a=>r.onFile(a,"front")),required:""},null,32)]),o("label",null,[t[23]||(t[23]=ut("Upload back image ",-1)),o("input",{type:"file",accept:"image/*",onChange:t[3]||(t[3]=a=>r.onFile(a,"back"))},null,32)]),o("label",null,[t[25]||(t[25]=ut("Issuing country* ",-1)),Lt(o("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>i.form.country=a),required:""},[...t[24]||(t[24]=[o("option",{value:"",disabled:""},"Select…",-1),o("option",{value:"AU"},"Australia",-1),o("option",{value:"US"},"United States",-1),o("option",{value:"AR"},"Argentina",-1)])],512),[[ks,i.form.country]])]),o("label",null,[t[27]||(t[27]=ut("ID type* ",-1)),Lt(o("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>i.form.docType=a),required:""},[...t[26]||(t[26]=[qt('<option value="" disabled data-v-9a4b01e2>Select…</option><option value="passport" data-v-9a4b01e2>Passport</option><option value="driver" data-v-9a4b01e2>Driver&#39;s license</option><option value="idcard" data-v-9a4b01e2>ID card</option><option value="residence" data-v-9a4b01e2>Residence permit</option>',5)])],512),[[ks,i.form.docType]])])]),o("div",nI,[o("button",{type:"button",class:"btn light",onClick:t[6]||(t[6]=(...a)=>r.extractFromId&&r.extractFromId(...a)),disabled:!i.form.fileFront},"Auto-read from ID",8,iI),t[28]||(t[28]=o("small",{class:"hint"},"将使用 OCR/解析服务读取 first name, last name, DOB 等信息。",-1))]),o("div",rI,[o("label",null,[t[29]||(t[29]=ut("First name* ",-1)),Lt(o("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>i.form.firstName=a),required:"",readonly:""},null,512),[[me,i.form.firstName,void 0,{trim:!0}]])]),o("label",null,[t[30]||(t[30]=ut("Last name* ",-1)),Lt(o("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>i.form.lastName=a),required:"",readonly:""},null,512),[[me,i.form.lastName,void 0,{trim:!0}]])]),o("label",null,[t[31]||(t[31]=ut("Date of birth* ",-1)),Lt(o("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>i.form.dob=a),required:"",readonly:""},null,512),[[me,i.form.dob,void 0,{trim:!0}]])]),o("label",null,[t[32]||(t[32]=ut("ID number ",-1)),Lt(o("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>i.form.docNumber=a),readonly:""},null,512),[[me,i.form.docNumber,void 0,{trim:!0}]])])]),o("div",oI,[o("button",{type:"button",class:"btn light",onClick:t[11]||(t[11]=(...a)=>r.cancelKYC&&r.cancelKYC(...a))},"Cancel"),o("button",{type:"submit",class:"btn orange",disabled:!r.readyExtract},"Continue",8,aI)])],32)])])):H("",!0),i.step===3?(E(),k("div",lI,[o("div",cI,[t[35]||(t[35]=o("h2",null,"Liveness detection",-1)),t[36]||(t[36]=o("p",null,"Center your face in the frame and follow the instruction.",-1)),o("div",uI,[i.cameraEnabled?(E(),k("video",dI,null,512)):(E(),k("button",{key:1,class:"btn orange",onClick:t[13]||(t[13]=(...a)=>r.enableCamera&&r.enableCamera(...a))},"Enable Camera")),i.camError?(E(),k("p",fI,m(i.camError),1)):H("",!0),i.livenessDetecting?(E(),k("div",hI,[t[34]||(t[34]=o("div",{class:"detection-spinner"},null,-1)),o("p",pI,m(i.livenessStatus),1)])):H("",!0)]),t[37]||(t[37]=o("small",{class:"hint"},[ut("接入 Sumsub/Persona/Onfido 时，把此区域替换为他们的组件，并在成功回调里调用 "),o("code",null,"complete()"),ut("。")],-1)),o("div",mI,[o("button",{type:"button",class:"btn light",onClick:t[14]||(t[14]=(...a)=>r.prev&&r.prev(...a))},"Back"),i.cameraEnabled?H("",!0):(E(),k("button",{key:0,class:"btn light danger",onClick:t[15]||(t[15]=(...a)=>r.cancelLiveness&&r.cancelLiveness(...a))},"Cancel"))])])])):H("",!0),i.step===4?(E(),k("div",gI,[o("div",vI,[t[38]||(t[38]=o("div",{class:"bigcheck"},"✓",-1)),t[39]||(t[39]=o("h2",null,"Your profile has been verified",-1)),t[40]||(t[40]=o("p",null,"Please wait for the whitelist application...",-1)),o("div",yI,[o("button",{class:"btn orange",onClick:t[16]||(t[16]=(...a)=>r.goProfile&&r.goProfile(...a))},"Back to Profile")])])])):H("",!0),i.showWhitelistEligibility?(E(),k("div",bI,[o("div",wI,[t[41]||(t[41]=o("div",{class:"success-icon"},"🎉",-1)),t[42]||(t[42]=o("h2",{style:{color:"#16a34a"}},"Congratulations!",-1)),t[43]||(t[43]=o("p",{style:{"font-weight":"bold",color:"#000"}},"Your KYC verification has been completed successfully.",-1)),t[44]||(t[44]=o("p",{style:{"font-weight":"bold",color:"#000"}},"Now you are eligible to apply for the whitelist and start trading!",-1)),o("div",AI,[o("button",{class:"btn light",onClick:t[17]||(t[17]=(...a)=>r.goProfile&&r.goProfile(...a))},"Maybe Later"),o("button",{class:"btn orange",onClick:t[18]||(t[18]=(...a)=>r.applyWhitelist&&r.applyWhitelist(...a))},"Apply for Whitelist")])])])):H("",!0),i.showWhitelistApplication?(E(),k("div",EI,[o("div",kI,[t[45]||(t[45]=o("div",{class:"loading-icon"},[o("div",{class:"spinner"})],-1)),t[46]||(t[46]=o("h2",null,"Applying for Whitelist...",-1)),t[47]||(t[47]=o("p",null,"Please wait while we process your whitelist application.",-1)),o("div",CI,m(i.loadingMessage),1)])])):H("",!0),i.showWhitelistSuccess?(E(),k("div",TI,[...t[48]||(t[48]=[o("div",{class:"card success"},[o("div",{class:"bigcheck"},"✓"),o("h2",null,"Welcome to the Whitelist!"),o("p",null,"You have successfully joined the whitelist."),o("p",null,[o("strong",null,"Now you can go to the Projects page to subscribe to your preferred assets!")])],-1)])])):H("",!0),i.showCancelConfirm?(E(),k("div",SI,[o("div",_I,[t[49]||(t[49]=o("div",{class:"warning-icon"},"⚠️",-1)),t[50]||(t[50]=o("h2",null,"Cancel KYC Verification",-1)),t[51]||(t[51]=o("p",null,"Canceling KYC will revoke your subscription eligibility.",-1)),t[52]||(t[52]=o("p",null,[o("strong",null,"Are you sure you want to cancel KYC verification?")],-1)),o("div",PI,[o("button",{class:"btn light",onClick:t[19]||(t[19]=(...a)=>r.hideCancelConfirm&&r.hideCancelConfirm(...a))},"Continue KYC"),o("button",{class:"btn danger",onClick:t[20]||(t[20]=(...a)=>r.confirmCancelKYC&&r.confirmCancelKYC(...a))},"Yes, Cancel KYC")])])])):H("",!0)])}const wg=ce(qP,[["render",II],["__scopeId","data-v-9a4b01e2"]]),xI="/icons/RWA.png",RI="/icons/X-logo.png",NI="/icons/Linkedin-logo.png",DI="/icons/facebook-logo.png",LI="/icons/github-logo.png",BI={name:"AppFooter"},OI={class:"footer"},MI={class:"container footer-top"},UI={class:"footer-links"};function FI(e,t,s,n,i,r){const a=mi("router-link");return E(),k("footer",OI,[o("div",MI,[t[29]||(t[29]=o("div",{class:"footer-brand"},[o("img",{src:xI,alt:"Mortgage RWA Logo",class:"footer-logo"}),o("p",{class:"footer-tagline"},"Design amazing digital experiences that create more happy in the world.")],-1)),o("div",UI,[o("div",null,[t[6]||(t[6]=o("h4",null,"Product",-1)),o("ul",null,[o("li",null,[Ct(a,{to:"/overview"},{default:Gt(()=>[...t[0]||(t[0]=[ut("Overview",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/features"},{default:Gt(()=>[...t[1]||(t[1]=[ut("Features",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/solutions"},{default:Gt(()=>[...t[2]||(t[2]=[ut("Solutions ",-1),o("span",{class:"new"},"New",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/tutorials"},{default:Gt(()=>[...t[3]||(t[3]=[ut("Tutorials",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/pricing"},{default:Gt(()=>[...t[4]||(t[4]=[ut("Pricing",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/releases"},{default:Gt(()=>[...t[5]||(t[5]=[ut("Releases",-1)])]),_:1})])])]),o("div",null,[t[13]||(t[13]=o("h4",null,"Company",-1)),o("ul",null,[o("li",null,[Ct(a,{to:"/about"},{default:Gt(()=>[...t[7]||(t[7]=[ut("About us",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/careers"},{default:Gt(()=>[...t[8]||(t[8]=[ut("Careers",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/press"},{default:Gt(()=>[...t[9]||(t[9]=[ut("Press",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/news"},{default:Gt(()=>[...t[10]||(t[10]=[ut("News",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/media-kit"},{default:Gt(()=>[...t[11]||(t[11]=[ut("Media kit",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/contact"},{default:Gt(()=>[...t[12]||(t[12]=[ut("Contact",-1)])]),_:1})])])]),o("div",null,[t[20]||(t[20]=o("h4",null,"Resources",-1)),o("ul",null,[o("li",null,[Ct(a,{to:"/blog"},{default:Gt(()=>[...t[14]||(t[14]=[ut("Blog",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/newsletter"},{default:Gt(()=>[...t[15]||(t[15]=[ut("Newsletter",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/events"},{default:Gt(()=>[...t[16]||(t[16]=[ut("Events",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/help"},{default:Gt(()=>[...t[17]||(t[17]=[ut("Help centre",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/tutorials"},{default:Gt(()=>[...t[18]||(t[18]=[ut("Tutorials",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/support"},{default:Gt(()=>[...t[19]||(t[19]=[ut("Support",-1)])]),_:1})])])]),t[28]||(t[28]=qt('<div data-v-e8b61f5d><h4 data-v-e8b61f5d>Social</h4><ul data-v-e8b61f5d><li data-v-e8b61f5d><a href="https://twitter.com" target="_blank" data-v-e8b61f5d>Twitter</a></li><li data-v-e8b61f5d><a href="https://linkedin.com" target="_blank" data-v-e8b61f5d>LinkedIn</a></li><li data-v-e8b61f5d><a href="https://facebook.com" target="_blank" data-v-e8b61f5d>Facebook</a></li><li data-v-e8b61f5d><a href="https://github.com" target="_blank" data-v-e8b61f5d>GitHub</a></li><li data-v-e8b61f5d><a href="https://angel.co" target="_blank" data-v-e8b61f5d>AngelList</a></li><li data-v-e8b61f5d><a href="https://dribbble.com" target="_blank" data-v-e8b61f5d>Dribbble</a></li></ul></div>',1)),o("div",null,[t[27]||(t[27]=o("h4",null,"Legal",-1)),o("ul",null,[o("li",null,[Ct(a,{to:"/terms"},{default:Gt(()=>[...t[21]||(t[21]=[ut("Terms",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/privacy"},{default:Gt(()=>[...t[22]||(t[22]=[ut("Privacy",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/cookies"},{default:Gt(()=>[...t[23]||(t[23]=[ut("Cookies",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/licenses"},{default:Gt(()=>[...t[24]||(t[24]=[ut("Licenses",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/settings"},{default:Gt(()=>[...t[25]||(t[25]=[ut("Settings",-1)])]),_:1})]),o("li",null,[Ct(a,{to:"/contact"},{default:Gt(()=>[...t[26]||(t[26]=[ut("Contact",-1)])]),_:1})])])])])]),t[30]||(t[30]=qt('<div class="container footer-bottom" data-v-e8b61f5d><p data-v-e8b61f5d>© 2025 Mortgage RWA. All rights reserved.</p><div class="social-icons" data-v-e8b61f5d><a href="#" data-v-e8b61f5d><img src="'+RI+'" alt="X" data-v-e8b61f5d></a><a href="#" data-v-e8b61f5d><img src="'+NI+'" alt="LinkedIn" data-v-e8b61f5d></a><a href="#" data-v-e8b61f5d><img src="'+DI+'" alt="Facebook" data-v-e8b61f5d></a><a href="#" data-v-e8b61f5d><img src="'+LI+'" alt="GitHub" data-v-e8b61f5d></a></div></div>',1))])}const $I=ce(BI,[["render",FI],["__scopeId","data-v-e8b61f5d"]]),VI={name:"DetailPage",props:{product:{type:Object,default:null}},data(){return{model:null,loading:!1,error:null,refreshInterval:null,lastRefreshTime:null}},async mounted(){await this.loadProjectData(),this.startAutoRefresh()},beforeUnmount(){this.stopAutoRefresh()},methods:{async loadProjectData(){try{if(this.loading=!0,this.error=null,this.product){this.model=this.product,this.lastRefreshTime=new Date;return}try{const t=sessionStorage.getItem("lastProduct");if(t){this.model=JSON.parse(t),this.lastRefreshTime=new Date;return}}catch(t){console.warn("解析缓存数据失败:",t)}const e=this.$route.params.id||this.$route.query.id;e&&await this.fetchProjectFromAPI(e)}catch(e){this.error="加载项目数据失败",console.error("❌ DetailPage: 加载项目数据失败:",e)}finally{this.loading=!1}},async fetchProjectFromAPI(e){try{console.log("🔄 DetailPage: 从数据库获取项目数据...",e);const t=await Vn.getProductByCode(e);if(t.status===0){const s=t.data;this.model={...s,totalOffering:s.total_token,subscribed:s.current_subscribed_token,targetYield:s.target_yield,ltv:s.LTV,annualInterestRate:s.annual_interest_rate,loanAmount:s.loan_amount,valuation:s.valuation,image:s.image||this.getProductImage(s.code)},this.lastRefreshTime=new Date,console.log("✅ DetailPage: 项目数据加载成功:",this.model)}else this.error=t.message||"获取项目数据失败",console.error("❌ DetailPage: API返回错误:",t)}catch(t){this.error="网络错误，无法获取项目数据",console.error("❌ DetailPage: 获取项目数据失败:",t)}},async refreshProjectData(){console.log("🔄 DetailPage: 手动刷新项目数据..."),await this.loadProjectData()},startAutoRefresh(){this.refreshInterval=setInterval(()=>{console.log("🔄 DetailPage: 自动刷新项目数据..."),this.loadProjectData()},3e4)},stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null,console.log("⏹️ DetailPage: 停止自动刷新"))},formatTime(e){if(!e)return"";const s=new Date-e,n=Math.floor(s/6e4);if(n<1)return"刚刚";if(n<60)return`${n}分钟前`;const i=Math.floor(n/60);return i<24?`${i}小时前`:`${Math.floor(i/24)}天前`},async fetchProjectFromAPI_old(e){this.loading=!0,this.error=null;try{const s=await(await fetch(void 0)).json();s.status===0&&s.data?(this.model=s.data,sessionStorage.setItem("lastProduct",JSON.stringify(s.data))):this.error=s.message||"获取项目详情失败"}catch(t){console.error("API请求失败:",t),this.error="网络请求失败，请稍后重试"}finally{this.loading=!1}},getPrepaymentInfo(){if(!this.model?.loanTerm)return"-";const e=this.model.loanTerm.toLowerCase();return e.includes("6个月")||e.includes("6 months")?"Available after 6 months":"Not available"},getTotalToken(){if(!this.model?.loanAmount)return"-";const t=this.model.loanAmount.toString().match(/[\d,]+/g);if(t&&t.length>0){const s=t[0].replace(/,/g,"");return`${parseInt(s).toLocaleString()} tokens`}return"-"},getProductImage(e){return{RWA001:"/pics/TYMU.png",RWA002:"/pics/SQNB.png",RWA003:"/pics/LZYT.png",YYD:"/pics/YYD.png",COMP:"/pics/TYMU.png"}[e]||"/pics/TYMU.png"},formatNumber(e){if(!e)return"0";const t=parseFloat(e);return isNaN(t)?e:t.toLocaleString()},formatDate(e){if(!e)return"-";try{return new Date(e).toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"})}catch{return e}},getSubscriptionProgress(){if(!this.model||!this.model.totalOffering||!this.model.subscribed)return 0;const e=parseFloat(this.model.totalOffering),t=parseFloat(this.model.subscribed);if(e===0)return 0;const s=t/e*100;return Math.round(s*100)/100},handleInvest(){if(!this.model){console.error("No project data available");return}const e=this.model.code||this.model.project_id||this.model.projectCode;if(!e){console.error("No project code found");return}console.log("🚀 跳转到交易页面，项目代码:",e),this.$router.push({name:"tradeProject",params:{code:e}})}},watch:{$route(e,t){e.params.id!==t.params.id&&this.loadProjectData()},product:{handler(e){e&&(this.model=e)},immediate:!0}}},HI={class:"container"},jI={class:"page-header"},WI={class:"headline"},GI={key:0,class:"header-actions"},KI={key:0,class:"last-update"},YI=["disabled"],zI={key:0,class:"loading-state"},QI={key:1,class:"error-state"},qI={key:2,class:"detail-container"},JI={class:"section project-info"},ZI={class:"section-header"},XI={class:"info-grid"},tx={class:"info-item"},ex={class:"info-value"},sx={class:"info-item"},nx={class:"info-value"},ix={class:"info-item"},rx={class:"info-value"},ox={class:"info-item"},ax={class:"info-value"},lx={class:"info-item"},cx={class:"info-value"},ux={class:"info-item"},dx={class:"info-value"},fx={class:"info-item"},hx={class:"info-value"},px={class:"section investment-info"},mx={class:"info-grid"},gx={class:"info-item"},vx={class:"info-value"},yx={class:"info-item"},bx={class:"info-value"},wx={class:"info-item"},Ax={class:"info-value"},Ex={class:"progress-section"},kx={class:"progress-bar"},Cx={class:"progress-text"},Tx={class:"section loan-info"},Sx={class:"info-grid"},_x={class:"info-item"},Px={class:"info-value"},Ix={class:"info-item"},xx={class:"info-value"},Rx={class:"info-item"},Nx={class:"info-value"},Dx={class:"info-item"},Lx={class:"info-value"},Bx={class:"info-item"},Ox={class:"info-value"},Mx={class:"section parties"},Ux={class:"parties-grid"},Fx={class:"party-item"},$x={class:"party-value"},Vx={class:"party-item"},Hx={class:"party-value"},jx={class:"party-item"},Wx={class:"party-value"},Gx={class:"party-item"},Kx={class:"party-value"},Yx={class:"party-item"},zx={class:"party-value"},Qx={class:"section disbursement"},qx={class:"disbursement-grid"},Jx={class:"disbursement-item"},Zx={class:"disbursement-value"},Xx={class:"disbursement-item"},t6={class:"disbursement-value"},e6={class:"disbursement-item"},s6={class:"disbursement-value"},n6={class:"disbursement-item"},i6={class:"disbursement-value"},r6={class:"section collateral"},o6={class:"collateral-grid"},a6={class:"collateral-item"},l6={class:"collateral-value"},c6={class:"collateral-item"},u6={class:"collateral-value"},d6={class:"collateral-item"},f6={class:"collateral-value"},h6={class:"collateral-item full-width"},p6={class:"collateral-value"},m6={class:"section default"},g6={class:"default-grid"},v6={class:"default-item"},y6={class:"default-value"},b6={class:"default-item full-width"},w6={class:"default-value"},A6={class:"default-item full-width"},E6={class:"default-value"},k6={class:"section documents"},C6={class:"documents-grid"},T6={class:"document-item"},S6={class:"document-value"},_6={class:"document-item"},P6={class:"document-value"},I6={class:"document-item"},x6={class:"document-value"},R6={class:"document-item"},N6={class:"document-value"};function D6(e,t,s,n,i,r){return E(),k("section",HI,[o("div",jI,[o("h1",WI,m(i.model?.name||"Project Detail"),1),i.model?(E(),k("div",GI,[i.lastRefreshTime?(E(),k("span",KI," 最后更新: "+m(r.formatTime(i.lastRefreshTime)),1)):H("",!0),o("button",{onClick:t[0]||(t[0]=(...a)=>r.refreshProjectData&&r.refreshProjectData(...a)),disabled:i.loading,class:"refresh-btn"},m(i.loading?"刷新中...":"刷新数据"),9,YI)])):H("",!0)]),i.loading?(E(),k("div",zI,[...t[3]||(t[3]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"Loading project details...",-1)])])):i.error?(E(),k("div",QI,[t[4]||(t[4]=o("div",{class:"error-icon"},"⚠️",-1)),t[5]||(t[5]=o("h3",null,"Loading failed",-1)),o("p",null,m(i.error),1),o("button",{onClick:t[1]||(t[1]=(...a)=>r.loadProjectData&&r.loadProjectData(...a)),class:"retry-btn"},"Retry")])):i.model?(E(),k("div",qI,[o("section",JI,[o("div",ZI,[t[7]||(t[7]=o("h2",null,"Project Information",-1)),o("button",{class:"invest-btn",onClick:t[2]||(t[2]=(...a)=>r.handleInvest&&r.handleInvest(...a))},[...t[6]||(t[6]=[o("span",{class:"btn-icon"},"💰",-1),ut(" Invest ",-1)])])]),o("div",XI,[o("div",tx,[t[8]||(t[8]=o("div",{class:"info-label"},"Project Code",-1)),o("div",ex,m(i.model.code),1)]),o("div",sx,[t[9]||(t[9]=o("div",{class:"info-label"},"Project Name",-1)),o("div",nx,m(i.model.name),1)]),o("div",ix,[t[10]||(t[10]=o("div",{class:"info-label"},"Type of Collateral Assets",-1)),o("div",rx,m(i.model.type),1)]),o("div",ox,[t[11]||(t[11]=o("div",{class:"info-label"},"Value of Collateral Assets",-1)),o("div",ax,"A$"+m(r.formatNumber(i.model.collateralValue)),1)]),o("div",lx,[t[12]||(t[12]=o("div",{class:"info-label"},"Loan Issuer",-1)),o("div",cx,m(i.model.issuer),1)]),o("div",ux,[t[13]||(t[13]=o("div",{class:"info-label"},"抵押权",-1)),o("div",dx,m(i.model.mortgageRank||"第一抵押权人"),1)]),o("div",fx,[t[14]||(t[14]=o("div",{class:"info-label"},"资产地址",-1)),o("div",hx,m(i.model.address||i.model.region),1)])])]),o("section",px,[t[18]||(t[18]=o("h2",null,"Investment Information",-1)),o("div",mx,[o("div",gx,[t[15]||(t[15]=o("div",{class:"info-label"},"Subscribed",-1)),o("div",vx,"A$"+m(r.formatNumber(i.model.subscribed)),1)]),o("div",yx,[t[16]||(t[16]=o("div",{class:"info-label"},"Total Offering",-1)),o("div",bx,"A$"+m(r.formatNumber(i.model.totalOffering)),1)]),o("div",wx,[t[17]||(t[17]=o("div",{class:"info-label"},"认购进度",-1)),o("div",Ax,m(r.getSubscriptionProgress())+"%",1)])]),o("div",Ex,[o("div",kx,[o("div",{class:"progress-fill",style:is({width:r.getSubscriptionProgress()+"%"})},null,4)]),o("div",Cx,m(r.getSubscriptionProgress())+"% Subscribed",1)])]),o("section",Tx,[t[24]||(t[24]=o("h2",null,"Loan Information",-1)),o("div",Sx,[o("div",_x,[t[19]||(t[19]=o("div",{class:"info-label"},"Loan Amount",-1)),o("div",Px,"A$"+m(r.formatNumber(i.model.loanAmount)),1)]),o("div",Ix,[t[20]||(t[20]=o("div",{class:"info-label"},"Annual Interest Rate",-1)),o("div",xx,m(i.model.annualInterestRate)+"%",1)]),o("div",Rx,[t[21]||(t[21]=o("div",{class:"info-label"},"Loan Term",-1)),o("div",Nx,m(i.model.loanTerm)+" months",1)]),o("div",Dx,[t[22]||(t[22]=o("div",{class:"info-label"},"LTV (Loan-to-Value)",-1)),o("div",Lx,m(i.model.ltv)+"%",1)]),o("div",Bx,[t[23]||(t[23]=o("div",{class:"info-label"},"违约时的利息",-1)),o("div",Ox,m(i.model.defaultInterest||i.model.annualInterestRate+2)+"%",1)])])]),o("section",Mx,[t[30]||(t[30]=o("h2",null,"Parties",-1)),o("div",Ux,[o("div",Fx,[t[25]||(t[25]=o("div",{class:"party-label"},"Issuer",-1)),o("div",$x,m(i.model.issuer),1)]),o("div",Vx,[t[26]||(t[26]=o("div",{class:"party-label"},"PW Shareholders",-1)),o("div",Hx,m(i.model.pw_shareholders),1)]),o("div",jx,[t[27]||(t[27]=o("div",{class:"party-label"},"Lender",-1)),o("div",Wx,m(i.model.lender),1)]),o("div",Gx,[t[28]||(t[28]=o("div",{class:"party-label"},"Borrower",-1)),o("div",Kx,m(i.model.borrower),1)]),o("div",Yx,[t[29]||(t[29]=o("div",{class:"party-label"},"Guarantor",-1)),o("div",zx,m(i.model.guarantor),1)])])]),o("section",Qx,[t[35]||(t[35]=o("h2",null,"Disbursement & Interest",-1)),o("div",qx,[o("div",Jx,[t[31]||(t[31]=o("div",{class:"disbursement-label"},"Disbursement Method",-1)),o("div",Zx,m(i.model.disbursement_method),1)]),o("div",Xx,[t[32]||(t[32]=o("div",{class:"disbursement-label"},"Interest Rate",-1)),o("div",t6,m(i.model.interest),1)]),o("div",e6,[t[33]||(t[33]=o("div",{class:"disbursement-label"},"Prepayment Information",-1)),o("div",s6,m(i.model.early_repayment_details),1)]),o("div",n6,[t[34]||(t[34]=o("div",{class:"disbursement-label"},"Maturity Date",-1)),o("div",i6,m(r.formatDate(i.model.maturity_date)),1)])])]),o("section",r6,[t[40]||(t[40]=o("h2",null,"Collateral",-1)),o("div",o6,[o("div",a6,[t[36]||(t[36]=o("div",{class:"collateral-label"},"Property Address",-1)),o("div",l6,m(i.model.property_address),1)]),o("div",c6,[t[37]||(t[37]=o("div",{class:"collateral-label"},"Valuation",-1)),o("div",u6,"A$"+m(r.formatNumber(i.model.valuation)),1)]),o("div",d6,[t[38]||(t[38]=o("div",{class:"collateral-label"},"Security Ranking",-1)),o("div",f6,m(i.model.security_rank),1)]),o("div",h6,[t[39]||(t[39]=o("div",{class:"collateral-label"},"Project Summary",-1)),o("div",p6,m(i.model.summary),1)])])]),o("section",m6,[t[44]||(t[44]=o("h2",null,"Default & Remedies",-1)),o("div",g6,[o("div",v6,[t[41]||(t[41]=o("div",{class:"default-label"},"Default Interest Rate",-1)),o("div",y6,m(i.model.default_interest_rate),1)]),o("div",b6,[t[42]||(t[42]=o("div",{class:"default-label"},"Default Trigger Conditions",-1)),o("div",w6,m(i.model.default_triggers),1)]),o("div",A6,[t[43]||(t[43]=o("div",{class:"default-label"},"Disposal Process",-1)),o("div",E6,m(i.model.default_process),1)])])]),o("section",k6,[t[53]||(t[53]=o("h2",null,"On-Chain & Documents",-1)),o("div",C6,[o("div",T6,[t[45]||(t[45]=o("div",{class:"document-label"},"Issuer Token",-1)),o("div",S6,m(i.model.issuer_token),1),t[46]||(t[46]=o("button",{class:"doc-btn"},"View",-1))]),o("div",_6,[t[47]||(t[47]=o("div",{class:"document-label"},"Loan Token",-1)),o("div",P6,m(i.model.loan_token),1),t[48]||(t[48]=o("button",{class:"doc-btn"},"View",-1))]),o("div",I6,[t[49]||(t[49]=o("div",{class:"document-label"},"Valuation Report",-1)),o("div",x6,m(i.model.valuation_report),1),t[50]||(t[50]=o("button",{class:"doc-btn"},"Download",-1))]),o("div",R6,[t[51]||(t[51]=o("div",{class:"document-label"},"Mortgage Deed",-1)),o("div",N6,m(i.model.mortgage_deed),1),t[52]||(t[52]=o("button",{class:"doc-btn"},"Download",-1))])])])])):H("",!0)])}const Ag=ce(VI,[["render",D6],["__scopeId","data-v-2254c4c0"]]),L6={name:"App",components:{AppHeader:Py,AppFooter:$I,HomeView:Jh,ProjectsView:jl,LoginView:pg,SignupView:mg,ProfileView:yg,WalletView:bg,PortfolioView:cg,kycService:wg,DetailPage:Ag},data(){return{user:null}},computed:{isAuthPage(){const e=this.$route.path;return e==="/login"||e==="/signup"}},methods:{alertMsg(e){alert(e)},handleSearch(e){const t=(e||"").toLowerCase().trim();t&&(t.includes("project")?this.$router.push({name:"projects"}):t.includes("login")?this.$router.push({name:"login"}):t.includes("signup")||t.includes("register")?this.$router.push({name:"signup"}):alert("No matching page found."))}}},B6={id:"app"},O6={class:"page-wrap"};function M6(e,t,s,n,i,r){const a=mi("AppHeader"),l=mi("router-view"),c=mi("AppFooter");return E(),k("div",B6,[Ct(a,{onSearch:r.handleSearch},null,8,["onSearch"]),o("main",O6,[Ct(l)]),r.isAuthPage?H("",!0):(E(),Bc(c,{key:0}))])}const U6=ce(L6,[["render",M6]]),F6={name:"TradeProjectView",props:{code:{type:String,required:!1,default:null}},data(){return{tradeType:"buy",tradeAmount:"",walletActivity:[],loading:!1,error:null,errorType:null,isInterestTrade:!1,showSuccessModal:!1,showInsufficientBalanceModal:!1,showLoadingModal:!1,loadingStatus:"",userTokenBalance:0,successData:{tradeType:"",amount:0,transactionHash:"",blockNumber:0},contractInitialized:!1,contractLoading:!1,contractStatus:null,testResults:[],userAddress:"",tokenPrice:"",userTokenBalance:"",tradeHistory:[],testAmount:"",projectData:null,projectLoading:!0,projectError:null,errorMessages:{insufficient_balance:"You have insufficient funds",insufficient_interest:"Insufficient interest received amount",input_required:"Please enter the amount",login_required:"Please login to your account",wallet_connection_required:"Please connect your wallet",address_retrieval_failed:"Unable to retrieve wallet address",kyc_verification_required:"Please complete KYC verification",whitelist_required:"Your wallet is not whitelisted",transaction_failed:"Transaction failed",network_error:"Network error occurred",unknown_error:"An unknown error occurred"}}},computed:{projectCode(){const e=this.code||this.$route.params.code||this.$route.query.code;return console.log("🔍 TradeProjectView: 获取项目代码:",{props:this.code,routeParams:this.$route.params.code,routeQuery:this.$route.query.code,final:e}),e||"RWA001"},showBuyButton(){return this.tradeType==="buy"||!this.isInterestTrade},showSellButton(){return this.tradeType==="sell"&&this.isInterestTrade},project(){return this.projectData?(console.log("TradeProjectView: 使用数据库项目数据:",this.projectData),this.projectData):null},projectData(){const e=this.project;if(e)return console.log("📊 TradeProjectView: 从数据库获取项目数据:",e),{code:e.code,name:e.name,image:e.image||this.getProductImage(e.code),subtitle:e.subtitle,type:e.type,region:e.region,risk:e.risk,targetYield:e.targetYield,status:e.status,summary:e.summary,totalOffering:e.totalOffering,subscribed:e.subscribed,totalSubscriptionTokens:e.totalSubscriptionTokens,subscribedTokens:e.subscribedTokens,metrics:{currentElaraPrice:this.calculateTokenPrice(e),collateralPropertyValue:e.valuation||"TBA",rentalIncome:this.calculateRentalIncome(e),targetLoanYield:`${e.targetYield}% p.a.`},loanAmount:e.loanAmount,annualInterestRate:e.annualInterestRate,loanTerm:e.loanTerm,ltv:e.ltv,drawdownDate:e.drawdownDate,earlyRepayment:e.earlyRepayment,repaymentArrangement:e.repaymentArrangement,issuer:e.issuer,pwShareholders:e.pwShareholders,lender:e.lender,borrower:e.borrower,guarantor:e.guarantor,disbursementMethod:e.disbursementMethod,interest:e.interest,earlyRepaymentDetails:e.earlyRepaymentDetails,maturityDate:e.maturityDate,propertyAddress:e.propertyAddress,valuation:e.valuation,securityRank:e.securityRank,defaultInterestRate:e.defaultInterestRate,defaultTriggers:e.defaultTriggers,defaultProcess:e.defaultProcess,issuerToken:e.issuerToken,loanToken:e.loanToken,valuationReport:e.valuationReport,mortgageDeed:e.mortgageDeed}},canSubmit(){return this.tradeAmount&&this.tradeAmount>0&&!this.loading},formattedError(){return this.error?this.errorType&&this.errorMessages[this.errorType]?this.errorMessages[this.errorType]:this.error:null},projectTrades(){return!this.walletActivity||!Array.isArray(this.walletActivity)?[]:this.walletActivity.filter(e=>(e.type==="buy"||e.type==="sell")&&e.project_code===this.projectCode).sort((e,t)=>t.timestamp-e.timestamp)}},methods:{viewContractDetails(){console.log("📄 查看合约详情:",this.projectCode),this.$router.push({path:"/contract",query:{projectCode:this.projectCode,projectName:this.projectData.name,projectImage:this.projectData.image,from:"trade"}})},async loadProjectData(){try{this.projectLoading=!0,this.projectError=null,console.log("🔄 TradeProjectView: 从数据库加载项目数据...",this.projectCode);const e=await Vn.getProductByCode(this.projectCode);e.status===0?(this.projectData=e.data,console.log("✅ TradeProjectView: 项目数据加载成功:",this.projectData)):(this.projectError=e.message||"获取项目数据失败",console.error("❌ TradeProjectView: API返回错误:",e))}catch(e){this.projectError="网络错误，无法获取项目数据",console.error("❌ TradeProjectView: 加载项目数据失败:",e)}finally{this.projectLoading=!1}},getProductImage(e){return{RWA001:"/pics/TYMU.png",RWA002:"/pics/SQNB.png",RWA003:"/pics/LZYT.png",YYD:"/pics/YYD.png",COMP:"/pics/TYMU.png"}[e]||"/pics/TYMU.png"},calculateTokenPrice(e){return`A$${(1*((e.targetYield||6)/6)).toFixed(2)}`},calculateRentalIncome(e){if(!e.valuation)return"TBA";const t=e.valuation.replace(/[A$,]/g,""),s=parseFloat(t),n=(e.targetYield||6)/12/100;return`A$${(s*n).toLocaleString("en-AU",{maximumFractionDigits:0})} / month`},calculateTotal(){return this.tradeAmount?(parseFloat(this.tradeAmount)*price).toFixed(2):"0.00"},formatTime(e){return new Date(e).toLocaleString()},async fetchTransactionDetails(e){try{console.log("🔍 正在从Etherscan获取交易详情:",e);const t=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionByHash&txhash=${e}`,n=await(await fetch(t)).json();if(n.result){console.log("✅ 成功获取交易详情:",n.result);const i=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionReceipt&txhash=${e}`,a=await(await fetch(i)).json();return{success:!0,transaction:n.result,receipt:a.result,from:n.result.from,to:n.result.to,value:n.result.value,gasUsed:a.result?a.result.gasUsed:null,gasPrice:n.result.gasPrice,blockNumber:n.result.blockNumber,blockHash:n.result.blockHash,status:a.result?a.result.status:null}}else return console.warn("⚠️ 交易详情获取失败:",n.message),{success:!1,error:n.message||"Failed to fetch transaction details"}}catch(t){return console.error("❌ 获取交易详情时发生错误:",t),{success:!1,error:t.message}}},cancelTrade(){this.$router.back()},initializeTradeType(){const e=this.$route.query;console.log("🔍 TradeProjectView: 检查路由参数:",e),e.type==="sell"&&e.interest==="true"?(this.tradeType="sell",this.isInterestTrade=!0,console.log("✅ 设置为出售利息模式")):e.type==="buy"?(this.tradeType="buy",this.isInterestTrade=!1,console.log("✅ 设置为购买模式")):(this.tradeType="buy",this.isInterestTrade=!1,console.log("✅ 设置为默认购买模式"))},async selectTradeType(e){if(this.tradeType=e,!this.tradeAmount||this.tradeAmount<=0){this.errorType="input_required",this.error=`请先输入${e==="buy"?"购买":"出售"}数量`,this.addTestResult("error","Input Required",`请先输入${e==="buy"?"购买":"出售"}数量`);return}console.log(`🚀 开始${e}交易流程...`),this.addTestResult("info",`🚀 开始${e}交易流程...`,`正在处理${e}交易，数量: ${this.tradeAmount} tokens`);try{if(this.loading=!0,this.error=null,this.loadingStatus="正在初始化智能合约...",this.showLoadingModal=!0,this.addTestResult("info","🚀 Initializing Contract","正在初始化智能合约..."),await this.initializeContract(),console.log("✅ 合约初始化完成"),this.addTestResult("success","Contract Initialized","智能合约初始化完成"),!ai()){this.showLoadingModal=!1,this.loading=!1,this.errorType="login_required",this.error="请先登录账户",this.addTestResult("error","Authentication Required","请先登录账户");return}if(!this.isWalletConnected()){this.showLoadingModal=!1,this.loading=!1,this.errorType="wallet_connection_required",this.error="请先连接钱包",this.addTestResult("error","Wallet Connection Required","请先连接钱包");return}this.loadingStatus="正在获取钱包地址...",this.addTestResult("info","👤 Getting User Address","正在获取钱包地址...");const t=await this.getUserAddress();if(!t){this.showLoadingModal=!1,this.loading=!1,this.errorType="address_retrieval_failed",this.error="无法获取钱包地址，请检查钱包连接",this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接");return}console.log("✅ 钱包地址获取完成:",t),this.addTestResult("success","User Address Retrieved",`地址: ${t}`);const s=On(),n=As();if(s!==Qe.VERIFIED){this.showLoadingModal=!1,this.loading=!1,this.errorType="kyc_verification_required",this.error="请先完成KYC身份验证",this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证");return}n<xt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动设置级别为 ${xt.LEVEL_2}`),hi(xt.LEVEL_2),this.addTestResult("info","KYC Level Set",`KYC级别已设置为${xt.LEVEL_2}`)),this.loadingStatus=`正在获取${this.projectCode}代币余额...`,this.addTestResult("info","💰 Getting Token Balance",`正在获取${this.projectCode}代币余额...`);const i=await We.getUserTokenBalance(t,this.projectCode);if(this.userTokenBalance=parseInt(i)||0,console.log(`✅ ${this.projectCode}代币余额获取完成:`,this.userTokenBalance),this.addTestResult("success","Token Balance Retrieved",`${this.projectCode}余额: ${this.userTokenBalance} tokens`),e==="buy"){if(console.log(`💰 ${this.projectCode}余额检查: ${this.userTokenBalance} vs ${this.tradeAmount}`),this.addTestResult("info","💰 Checking Balance",`检查${this.projectCode}余额: ${this.userTokenBalance} vs ${this.tradeAmount}`),this.userTokenBalance<parseInt(this.tradeAmount)){this.showLoadingModal=!1,this.loading=!1,this.showInsufficientBalanceModal=!0,this.addTestResult("error","Insufficient Balance",`${this.projectCode}余额不足: 当前${this.userTokenBalance}，需要${this.tradeAmount}`);return}console.log("✅ 余额充足，可以继续交易"),this.addTestResult("success","Balance Check Passed",`${this.projectCode}余额充足: ${this.userTokenBalance} >= ${this.tradeAmount}`)}this.loadingStatus=`正在与智能合约签订${e==="buy"?"购买":"出售"}协议...`,this.addTestResult("info",`📝 Executing ${e.toUpperCase()} Transaction`,`正在与智能合约签订${e==="buy"?"购买":"出售"}协议...`);let r;if(e==="buy"?r=await We.buyTokens(parseInt(this.tradeAmount)):r=await We.sellTokens(parseInt(this.tradeAmount)),r.success){console.log(`✅ ${e}交易成功:`,r),this.showLoadingModal=!1;const a={projectCode:this.projectCode,tradeType:e,amount:parseInt(this.tradeAmount),price:r.tokenPrice||1,total:r.totalCost||parseFloat(this.calculateTotal()),userAddress:t,transactionHash:r.transactionHash,blockNumber:r.blockNumber,timestamp:Date.now()},l={id:Date.now(),type:e,amount:this.tradeAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:r.transactionHash};this.notifyWalletActivity(l),this.showSuccessModal=!0,this.successData={tradeType:e,amount:this.tradeAmount,price:a.price,total:a.total,transactionHash:r.transactionHash,blockNumber:r.blockNumber},this.addTestResult("success",`${e.toUpperCase()} Transaction Successful`,"交易成功完成",{transactionHash:r.transactionHash,blockNumber:r.blockNumber,amount:a.amount,price:r.tokenPrice,totalCost:r.totalCost,userAddress:t}),this.tradeAmount=""}else this.showLoadingModal=!1,console.error(`❌ ${e}交易失败:`,r.error),this.errorType="transaction_failed",this.error=r.error||`${e}交易失败`,this.addTestResult("error",`${e.toUpperCase()} Transaction Failed`,r.error||`${e}交易失败`)}catch(t){this.showLoadingModal=!1,console.error("❌ 交易流程失败:",t),this.errorType="network_error",this.error=t.message,this.addTestResult("error","Transaction Error",t.message)}finally{this.loading=!1}},async submitTrade(){if(this.canSubmit){this.loading=!0,this.error=null;try{if(this.addTestResult("info",`🚀 开始${this.tradeType}交易...`,`正在处理${this.tradeType}交易，数量: ${this.tradeAmount} tokens`),this.addTestResult("info","🚀 Initializing Contract","正在初始化智能合约..."),await this.initializeContract(),this.addTestResult("success","Contract Initialized","智能合约初始化完成"),!ai()){this.addTestResult("error","Authentication Required","请先登录账户"),this.loading=!1;return}if(!this.isWalletConnected()){this.addTestResult("error","Wallet Connection Required","请先连接钱包"),this.loading=!1;return}const e=await this.getUserAddress();if(!e){this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接"),this.loading=!1;return}this.addTestResult("success","User Address Retrieved",`地址: ${e}`);const t=On(),s=As();if(t!==Qe.VERIFIED){this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证"),this.loading=!1;return}if(s<xt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动设置级别为 ${xt.LEVEL_2}`),hi(xt.LEVEL_2),this.addTestResult("info","KYC Level Set",`KYC级别已设置为${xt.LEVEL_2}`)),this.loadingStatus="正在检查白名单状态...",this.addTestResult("info","🔍 Checking Whitelist Status","正在检查白名单状态..."),!await this.checkWhitelistStatus(e)){this.showLoadingModal=!1,this.loading=!1,this.errorType="whitelist_required",this.error="您的钱包地址尚未加入白名单，请先完成白名单申请",this.addTestResult("error","Whitelist Required","您的钱包地址尚未加入白名单，请先完成白名单申请");return}if(this.addTestResult("success","Whitelist Check Passed","白名单验证通过"),this.tradeType==="buy"){this.loadingStatus="正在获取用户代币余额...",this.showLoadingModal=!0,this.addTestResult("info","💰 Checking Token Balance","正在获取用户代币余额...");const r=await We.getUserTokenBalance(e,this.projectCode);if(this.userTokenBalance=parseInt(r)||0,console.log(`💰 用户${this.projectCode}代币余额: ${this.userTokenBalance}, 认购数量: ${this.tradeAmount}`),this.userTokenBalance<parseInt(this.tradeAmount)){this.showLoadingModal=!1,this.loading=!1,this.showInsufficientBalanceModal=!0,this.addTestResult("error","Insufficient Balance",`${this.projectCode}余额不足: 当前${this.userTokenBalance}，需要${this.tradeAmount}`);return}this.loadingStatus="余额充足，正在处理交易...",this.addTestResult("success","Balance Check Passed",`${this.projectCode}余额充足: ${this.userTokenBalance} >= ${this.tradeAmount}`)}if(console.log(`🚀 开始${this.tradeType}交易...`),this.tradeType==="sell"&&this.isInterestTrade){this.loadingStatus="正在检查利息额度...",this.addTestResult("info","💰 Checking Interest Received","正在检查已收取利息额度...");const r=this.calculateInterestReceived(this.projectCode),a=parseFloat(this.tradeAmount);if(console.log(`💰 利息额度检查: 已收取=${r}, 出售=${a}`),a>r){this.showLoadingModal=!1,this.loading=!1,this.errorType="insufficient_interest",this.error=`出售额度不能超过已收取利息额度。已收取: ${r.toFixed(2)} tokens，尝试出售: ${a} tokens`,this.addTestResult("error","Insufficient Interest",`出售额度超出限制: ${a} > ${r.toFixed(2)}`);return}this.addTestResult("success","Interest Check Passed",`利息额度验证通过: ${r.toFixed(2)} >= ${a}`)}let i;if(this.tradeType==="buy"?(this.loadingStatus="正在与智能合约签订购买协议...",this.addTestResult("info","📈 Executing Buy Transaction",`正在购买 ${this.tradeAmount} tokens`),i=await We.buyTokens(parseInt(this.tradeAmount))):(this.loadingStatus="正在与智能合约签订出售协议...",this.addTestResult("info","📉 Executing Sell Transaction",`正在出售 ${this.tradeAmount} tokens`),i=await We.sellTokens(parseInt(this.tradeAmount))),i.success){console.log(`✅ ${this.tradeType}交易成功:`,i),this.showLoadingModal=!1,this.addTestResult("success",`${this.tradeType.toUpperCase()} Transaction Successful`,`Tx Hash: ${i.transactionHash}`,{transactionHash:i.transactionHash,blockNumber:i.blockNumber,amount:this.tradeAmount,price:i.tokenPrice,totalCost:i.totalCost});const r={id:Date.now(),type:this.tradeType,amount:this.tradeAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:i.transactionHash};this.notifyWalletActivity(r),this.showSuccessModal=!0,this.successData={tradeType:this.tradeType,amount:this.tradeAmount,price:i.tokenPrice||1,total:i.totalCost||parseFloat(this.calculateTotal()),transactionHash:i.transactionHash,blockNumber:i.blockNumber},this.tradeAmount=""}else this.showLoadingModal=!1,console.error(`❌ ${this.tradeType}交易失败:`,i.error),this.errorType="transaction_failed",this.error=i.error||`${this.tradeType}交易失败`,this.addTestResult("error",`${this.tradeType.toUpperCase()} Transaction Failed`,i.error)}catch(e){this.showLoadingModal=!1,console.error("❌ 交易失败:",e),this.errorType="network_error",this.error=e.message,this.addTestResult("error","Transaction Error",e.message),this.$emit("notify",`Trade failed: ${e.message}`)}finally{this.loading=!1}}},loadWalletActivity(){try{const e=localStorage.getItem("walletActivity");e?(this.walletActivity=JSON.parse(e),console.log("📊 TradeProjectView: 加载Wallet Activity数据:",this.walletActivity.length,"条记录")):(this.walletActivity=[],console.log("📊 TradeProjectView: 没有找到Wallet Activity数据"))}catch(e){console.error("❌ TradeProjectView: 加载Wallet Activity数据失败:",e),this.walletActivity=[]}},handleWalletActivityUpdate(e){console.log("📢 TradeProjectView: 收到Wallet Activity更新通知:",e.detail),this.loadWalletActivity()},async getUserAddress(){try{console.log("🔍 TradeProjectView: 正在获取用户钱包地址...");const e=localStorage.getItem("walletBoundAccounts");if(e)try{const n=JSON.parse(e);if(n&&n.length>0){const i=n[0];return console.log("✅ TradeProjectView: 从WalletView获取绑定地址:",i),i}}catch(n){console.warn("⚠️ TradeProjectView: 解析walletBoundAccounts失败:",n)}const{fullAddress:t,connected:s}=fi();if(s.value&&t.value)return console.log("⚠️ TradeProjectView: 使用useWallet地址作为备用:",t.value),t.value;if(typeof window.ethereum<"u"){const n=await window.ethereum.request({method:"eth_accounts"});if(n&&n.length>0)return console.log("⚠️ TradeProjectView: 使用ethereum地址作为最后备用:",n[0]),n[0]}return console.error("❌ TradeProjectView: 无法从任何来源获取用户地址"),null}catch(e){return console.error("❌ TradeProjectView: 获取用户地址失败:",e),null}},closeSuccessModal(){this.showSuccessModal=!1,this.successData={tradeType:"",amount:0,price:0,total:0,transactionHash:"",blockNumber:0}},closeInsufficientBalanceModal(){this.showInsufficientBalanceModal=!1},clearError(){this.error=null,this.errorType=null},formatHash(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""},async copyHash(){try{await navigator.clipboard.writeText(this.successData.transactionHash),this.$emit("notify","交易哈希已复制到剪贴板")}catch(e){console.error("复制失败:",e),this.$emit("notify","复制失败，请手动复制")}},viewPortfolio(){this.closeSuccessModal(),this.$router.push("/portfolio")},getCurrentChainId(){return 11155111},async initializeContract(){try{this.contractLoading=!0,this.addTestResult("info","🚀 Initializing contract service...","Starting contract initialization"),await We.initialize(),this.contractInitialized=!0,this.contractStatus={type:"success",icon:"✅",message:"Contract service initialized successfully!"},this.addTestResult("success","Contract Initialized","Contract service is ready",{initialized:!0,timestamp:Date.now()})}catch(e){this.contractStatus={type:"error",icon:"❌",message:`Initialization failed: ${e.message}`},this.addTestResult("error","Contract Initialization Failed",e.message),console.error("Contract initialization failed:",e)}finally{this.contractLoading=!1}},async testGetUserAddress(){try{this.contractLoading=!0,this.addTestResult("info","👤 Fetching user address...","Getting connected wallet address");const e=localStorage.getItem("walletBoundAccounts");if(e)try{const n=JSON.parse(e);if(n&&n.length>0){this.userAddress=n[0],this.addTestResult("success","User Address from WalletView",`Address: ${this.userAddress}`,{address:this.userAddress,shortAddress:this.formatAddress(this.userAddress),source:"WalletView Bound Accounts",boundAccountsCount:n.length});return}}catch(n){this.addTestResult("warning","Parse walletBoundAccounts failed",n.message)}const{fullAddress:t,connected:s}=fi();if(s.value&&t.value){this.userAddress=t.value,this.addTestResult("warning","Address from useWallet (No bound accounts)",`Address: ${this.userAddress}`,{address:this.userAddress,shortAddress:this.formatAddress(this.userAddress),source:"useWallet composable"});return}if(typeof window.ethereum<"u"){const n=await window.ethereum.request({method:"eth_accounts"});if(n&&n.length>0){this.userAddress=n[0],this.addTestResult("warning","Address from ethereum (Fallback)",`Address: ${this.userAddress}`,{address:this.userAddress,shortAddress:this.formatAddress(this.userAddress),source:"ethereum.accounts"});return}}this.addTestResult("error","No Wallet Address Found","Please connect your wallet in WalletView first",{localStorageEmpty:!e,useWalletConnected:s.value,useWalletAddress:t.value,ethereumAvailable:typeof window.ethereum<"u"})}catch(e){this.addTestResult("error","Failed to Get User Address",e.message),console.error("Failed to get user address:",e)}finally{this.contractLoading=!1}},async getTokenPrice(){try{this.contractLoading=!0,this.addTestResult("info","💰 Fetching token price...","Getting current token price"),this.tokenPrice=await We.getTokenPrice(),this.addTestResult("success","Token Price Retrieved",`Price: ${this.tokenPrice} ETH`,{price:this.tokenPrice,currency:"ETH"})}catch(e){this.addTestResult("error","Failed to Get Token Price",e.message),console.error("Failed to get token price:",e)}finally{this.contractLoading=!1}},async getUserTokenBalance(){try{this.contractLoading=!0,this.addTestResult("info","💳 Fetching user token balance...",`Getting ${this.projectCode} token balance`),this.userTokenBalance=await We.getUserTokenBalance(null,this.projectCode),this.addTestResult("success","User Token Balance Retrieved",`${this.projectCode} Balance: ${this.userTokenBalance}`,{balance:this.userTokenBalance,address:this.userAddress,tokenSymbol:this.projectCode})}catch(e){this.addTestResult("error","Failed to Get User Token Balance",e.message),console.error("Failed to get user token balance:",e)}finally{this.contractLoading=!1}},async getTradeHistory(){try{this.contractLoading=!0,this.addTestResult("info"," Fetching trade history...","Getting recent trade records"),this.tradeHistory=await We.getTradeHistory(),this.addTestResult("success","Trade History Retrieved",`Found ${this.tradeHistory.length} trade records`,{trades:this.tradeHistory,count:this.tradeHistory.length})}catch(e){this.addTestResult("error","Failed to Get Trade History",e.message),console.error("Failed to get trade history:",e)}finally{this.contractLoading=!1}},async testBuyTransaction(){try{if(this.contractLoading=!0,this.addTestResult("info","📈 Testing buy transaction...",`Testing buy of ${this.testAmount} tokens`),!ai()){this.addTestResult("error","Authentication Required","请先登录账户");return}if(!this.isWalletConnected()){this.addTestResult("error","Wallet Connection Required","请先连接钱包");return}if(!await this.getUserAddress()){this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接");return}const t=On(),s=As();if(t!==Qe.VERIFIED){this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证");return}s<xt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动升级级别从 ${s} 到 ${xt.LEVEL_2}`),hi(xt.LEVEL_2),this.addTestResult("info","KYC Level Updated",`KYC级别已自动从${s}升级到${xt.LEVEL_2}`));const n=await We.buyTokens(this.testAmount);if(n.success){this.addTestResult("success","Buy Transaction Successful",`Tx Hash: ${n.transactionHash}`,{transactionHash:n.transactionHash,blockNumber:n.blockNumber,amount:this.testAmount,price:n.tokenPrice,totalCost:n.totalCost});const i={id:Date.now(),type:"buy",amount:this.testAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:n.transactionHash};this.notifyWalletActivity(i)}else this.addTestResult("error","Buy Transaction Failed",n.error)}catch(e){this.addTestResult("error","Buy Transaction Error",e.message),console.error("Buy transaction failed:",e)}finally{this.contractLoading=!1}},async testSellTransaction(){try{if(this.contractLoading=!0,this.addTestResult("info","📉 Testing sell transaction...",`Testing sell of ${this.testAmount} tokens`),!ai()){this.addTestResult("error","Authentication Required","请先登录账户");return}if(!this.isWalletConnected()){this.addTestResult("error","Wallet Connection Required","请先连接钱包");return}const e=await this.getUserAddress();if(!e){this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接");return}const t=On(),s=As();if(t!==Qe.VERIFIED){this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证");return}if(s<xt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动升级级别从 ${s} 到 ${xt.LEVEL_2}`),hi(xt.LEVEL_2),this.addTestResult("info","KYC Level Updated",`KYC级别已自动从${s}升级到${xt.LEVEL_2}`)),!await this.checkWhitelistStatus(e)){this.addTestResult("error","Whitelist Required","您的钱包地址尚未加入白名单");return}const i=await We.sellTokens(this.testAmount);if(i.success){this.addTestResult("success","Sell Transaction Successful",`Tx Hash: ${i.transactionHash}`,{transactionHash:i.transactionHash,blockNumber:i.blockNumber,amount:this.testAmount,price:i.tokenPrice,totalCost:i.totalCost});const r={id:Date.now(),type:"sell",amount:this.testAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:i.transactionHash};this.notifyWalletActivity(r)}else this.addTestResult("error","Sell Transaction Failed",i.error)}catch(e){this.addTestResult("error","Sell Transaction Error",e.message),console.error("Sell transaction failed:",e)}finally{this.contractLoading=!1}},addTestResult(e,t,s,n=null){const i={type:e,title:t,message:s,data:n,timestamp:Date.now(),icon:this.getResultIcon(e)};this.testResults.unshift(i),this.testResults.length>20&&(this.testResults=this.testResults.slice(0,20))},getResultIcon(e){return{success:"✅",error:"❌",info:"ℹ️",warning:"⚠️"}[e]||"📝"},clearResults(){this.testResults=[]},async runAllTests(){this.contractInitialized||await this.initializeContract(),this.contractInitialized&&(await this.testGetUserAddress(),await this.getTokenPrice(),await this.getUserTokenBalance(),await this.getTradeHistory(),await this.testBuyTransaction(this.tradeAmount=3),await this.testSellTransaction(this.tradeAmount=3))},formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""},formatEtherValue(e){if(!e)return"0";try{const t=BigInt(e);return(Number(t)/Math.pow(10,18)).toFixed(6)}catch(t){return console.error("Error formatting ETH value:",t),"0"}},formatHash(e){return e?`${e.slice(0,10)}...${e.slice(-8)}`:"N/A"},formatEtherscanTime(e){return e?new Date(e).toLocaleString():"N/A"},copyHash(e){e&&navigator.clipboard.writeText(e).then(()=>{console.log("✅ 哈希值已复制到剪贴板")}).catch(t=>{console.error("❌ 复制失败:",t)})},getTradeTypeDisplay(e){return{successful_trade:"SUCCESS",failed_trade:"FAILED",buy:"BUY",sell:"SELL"}[e]||e.toUpperCase()},notifyWalletActivity(e){try{console.log("📢 通知WalletView更新活动记录:",e);const t=JSON.parse(localStorage.getItem("walletActivity")||"[]");t.unshift(e),t.length>50&&t.splice(50),localStorage.setItem("walletActivity",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("walletActivityUpdated",{detail:e})),console.log("✅ WalletView活动记录更新通知已发送")}catch(t){console.error("❌ 通知WalletView更新活动记录失败:",t)}},async checkWhitelistStatus(e){try{console.log("🔍 检查白名单状态:",e);const t=As();if(On()===Qe.VERIFIED&&t>=xt.LEVEL_2)return console.log("✅ KYC Level 2用户，自动通过白名单检查"),!0;const n=await We.getWhitelistStatus(e);return console.log("✅ 白名单状态检查结果:",n),n.status==="approved"}catch(t){return console.error("❌ 检查白名单状态失败:",t),!1}},isWalletConnected(){try{const{connected:e,fullAddress:t}=fi(),s=e.value&&t.value;return console.log("TradeProjectView: 钱包连接状态检查:",{connected:e.value,hasAddress:!!t.value,address:t.value,isConnected:s}),s}catch(e){return console.error("检查钱包连接状态失败:",e),!1}}},watch:{$route(e,t){e.params.code!==t.params.code&&(console.log("🔄 TradeProjectView: 路由参数变化，重新加载数据"),this.loadProjectData())},code:{handler(e){e&&(console.log("🔄 TradeProjectView: Props代码变化，重新加载数据:",e),this.loadProjectData())},immediate:!0}},async mounted(){this.initializeTradeType(),await this.loadProjectData();try{const{connected:e,fullAddress:t}=fi();console.log("TradeProjectView: Wallet connection status:",e.value),console.log("TradeProjectView: Wallet address:",t.value)}catch(e){console.error("TradeProjectView: Failed to initialize wallet:",e)}try{const e=sessionStorage.getItem("lastProduct");if(e){const t=JSON.parse(e);console.log("Loaded project from session:",t)}}catch{console.log("No project data in session storage")}this.loadWalletActivity(),window.addEventListener("walletActivityUpdated",this.handleWalletActivityUpdate)},beforeUnmount(){window.removeEventListener("walletActivityUpdated",this.handleWalletActivityUpdate)},calculateInterestReceived(e){if(!this.getUserAddress())return 0;const n=this.getWalletActivityData().filter(f=>f.type==="buy"||f.type==="sell");let i=0;if(n.forEach(f=>{(f.project_code===e||f.projectCode===e)&&(f.type==="buy"?i+=parseFloat(f.amount)||0:f.type==="sell"&&(i-=parseFloat(f.amount)||0))}),i<=0)return 0;const r=this.projectData;if(!r)return 0;const l=(r.targetYield||0)/12/100;return i*1*l*6}},$6={class:"trade-page"},V6={class:"modal-body"},H6={class:"error-message"},j6={class:"modal-footer"},W6={key:1,class:"modal-overlay"},G6={class:"loading-container"},K6={class:"loading-content"},Y6={class:"loading-status"},z6={class:"success-container"},Q6={class:"success-content"},q6={class:"success-details"},J6={class:"detail-card"},Z6={class:"detail-grid"},X6={class:"detail-item"},t5={class:"detail-value"},e5={class:"detail-item"},s5={class:"detail-value"},n5={class:"detail-card"},i5={class:"detail-grid"},r5={class:"detail-item"},o5={class:"detail-item"},a5={class:"detail-value"},l5={class:"success-actions"},c5={class:"topbar container"},u5={class:"breadcrumb","aria-label":"Breadcrumb"},d5={class:"crumb-current"},f5={class:"container main-content"},h5={class:"project-info-card"},p5={class:"project-header"},m5=["src","alt"],g5={class:"project-details"},v5={class:"project-title"},y5={class:"project-subtitle"},b5={class:"project-meta"},w5={class:"meta-item"},A5={class:"meta-item"},E5={class:"project-metrics"},k5={class:"metric-item"},C5={class:"metric-value"},T5={class:"metric-item"},S5={class:"metric-value"},_5={class:"metric-item"},P5={class:"metric-value"},I5={class:"metric-item"},x5={class:"metric-value"},R5={class:"metric-item"},N5={class:"metric-value"},D5={class:"trade-form-card"},L5={class:"form-title"},B5={class:"form-section"},O5={class:"amount-input-group"},M5={class:"form-section"},U5={class:"trade-type-buttons"},F5=["disabled"],$5=["disabled"],V5={class:"contract-details-section"},H5={key:0,class:"error-message"},j5={class:"error-text"},W5={class:"trade-history-card"},G5={key:0,class:"loading-message"},K5={key:1,class:"no-trades"},Y5={key:2,class:"trade-list"},z5={class:"trade-header"},Q5={class:"trade-time"},q5={class:"trade-info"},J5={class:"trade-project-section"},Z5={class:"value"},X5={class:"trade-amount-section"},tR={class:"value"},eR={key:0,class:"trade-etherscan-section"},sR={class:"etherscan-info"},nR=["onClick"],iR={class:"etherscan-info"},rR={class:"etherscan-info"},oR={class:"value"},aR={class:"etherscan-info"},lR={class:"value"},cR={class:"etherscan-info"},uR={class:"value"},dR={class:"etherscan-info"},fR={class:"value"},hR={class:"etherscan-info"},pR={class:"value"},mR={class:"etherscan-info"},gR={class:"value"},vR={class:"etherscan-info"},yR={class:"value"},bR={key:0,class:"trade-footer"},wR=["href"];function AR(e,t,s,n,i,r){return E(),k("div",$6,[i.showInsufficientBalanceModal?(E(),k("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...a)=>r.closeInsufficientBalanceModal&&r.closeInsufficientBalanceModal(...a))},[o("div",{class:"modal-content error-modal",onClick:t[1]||(t[1]=yt(()=>{},["stop"]))},[t[17]||(t[17]=o("div",{class:"modal-header"},[o("div",{class:"error-icon"},"⚠️"),o("h2",{class:"modal-title"},"Insufficient Balance")],-1)),o("div",V6,[o("div",H6,[o("p",null,"Your token balance is insufficient to complete this transaction of "+m(r.projectCode)+" .",1),o("p",null,[t[15]||(t[15]=o("strong",null,"Current Balance:",-1)),ut(" "+m(i.userTokenBalance)+" "+m(r.projectCode)+" tokens",1)]),o("p",null,[t[16]||(t[16]=o("strong",null,"Required Amount:",-1)),ut(" "+m(i.tradeAmount)+" "+m(r.projectCode)+" tokens",1)])])]),o("div",j6,[o("button",{class:"btn primary",onClick:t[0]||(t[0]=(...a)=>r.closeInsufficientBalanceModal&&r.closeInsufficientBalanceModal(...a))},"确定")])])])):H("",!0),i.showLoadingModal?(E(),k("div",W6,[o("div",{class:"modal-content loading-modal",onClick:t[3]||(t[3]=yt(()=>{},["stop"]))},[o("div",G6,[t[21]||(t[21]=o("div",{class:"loading-icon"},[o("div",{class:"spinner"})],-1)),o("div",K6,[t[19]||(t[19]=o("h2",{class:"loading-title"},"Processing...",-1)),t[20]||(t[20]=o("p",{class:"loading-description"},"We are processing your transaction request, please wait...",-1)),o("div",Y6,[t[18]||(t[18]=o("div",{class:"status-indicator"},null,-1)),o("span",null,m(i.loadingStatus),1)])])])])])):H("",!0),i.showSuccessModal?(E(),k("div",{key:2,class:"modal-overlay",onClick:t[8]||(t[8]=(...a)=>r.closeSuccessModal&&r.closeSuccessModal(...a))},[o("div",{class:"modal-content success-modal",onClick:t[7]||(t[7]=yt(()=>{},["stop"]))},[o("div",z6,[t[30]||(t[30]=o("div",{class:"success-icon"},[o("div",{class:"checkmark"},[o("div",{class:"checkmark-stem"}),o("div",{class:"checkmark-kick"})])],-1)),o("div",Q6,[t[28]||(t[28]=o("h2",{class:"success-title"},"Transaction Successful!",-1)),t[29]||(t[29]=o("p",{class:"success-description"},"Your transaction has been completed successfully",-1)),o("div",q6,[o("div",J6,[t[24]||(t[24]=o("div",{class:"detail-header"},[o("span",{class:"detail-icon"},"📊"),o("span",{class:"detail-label"},"Transaction Details")],-1)),o("div",Z6,[o("div",X6,[t[22]||(t[22]=o("span",{class:"detail-key"},"Type:",-1)),o("span",t5,m(i.successData.tradeType==="buy"?"Buy":"Sell"),1)]),o("div",e5,[t[23]||(t[23]=o("span",{class:"detail-key"},"Amount:",-1)),o("span",s5,m(i.successData.amount)+" Tokens",1)])])]),o("div",n5,[t[27]||(t[27]=o("div",{class:"detail-header"},[o("span",{class:"detail-icon"},"🔗"),o("span",{class:"detail-label"},"Blockchain Info")],-1)),o("div",i5,[o("div",r5,[t[25]||(t[25]=o("span",{class:"detail-key"},"Hash:",-1)),o("span",{class:"detail-value hash-value",onClick:t[4]||(t[4]=(...a)=>r.copyHash&&r.copyHash(...a))},m(r.formatHash(i.successData.transactionHash)),1)]),o("div",o5,[t[26]||(t[26]=o("span",{class:"detail-key"},"Block:",-1)),o("span",a5,m(i.successData.blockNumber),1)])])])])]),o("div",l5,[o("button",{class:"btn secondary",onClick:t[5]||(t[5]=(...a)=>r.closeSuccessModal&&r.closeSuccessModal(...a))},"Close"),o("button",{class:"btn primary",onClick:t[6]||(t[6]=(...a)=>r.viewPortfolio&&r.viewPortfolio(...a))},"View Portfolio")])])])])):H("",!0),o("header",c5,[o("nav",u5,[o("button",{class:"crumb-back",onClick:t[9]||(t[9]=a=>e.$router.back()),"aria-label":"Back"},[...t[31]||(t[31]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M10 19a1 1 0 0 1-.7-.3l-7-7a1 1 0 0 1 0-1.4l7-7a1 1 0 1 1 1.4 1.4L4.41 11H21a1 1 0 1 1 0 2H4.41l6.3 6.3A1 1 0 0 1 10 19z"})],-1)])]),t[32]||(t[32]=o("span",{class:"sep"},"/",-1)),t[33]||(t[33]=o("span",{class:"crumb"},"Projects",-1)),t[34]||(t[34]=o("span",{class:"sep"},"/",-1)),o("span",d5,"Trade "+m(r.projectCode),1)])]),o("div",f5,[o("div",h5,[o("div",p5,[o("img",{src:r.projectData.image,alt:r.projectCode,class:"project-image"},null,8,m5),o("div",g5,[o("h1",v5,m(r.projectData.code)+" - "+m(r.projectData.name),1),o("p",y5,m(r.projectData.subtitle),1),o("div",b5,[o("span",w5,"Type: "+m(r.projectData.type),1),o("span",A5,"Region: "+m(r.projectData.region),1)])])]),o("div",E5,[o("div",k5,[t[35]||(t[35]=o("span",{class:"metric-label"},"Property Value",-1)),o("span",C5,m(r.projectData.metrics.collateralPropertyValue),1)]),o("div",T5,[t[36]||(t[36]=o("span",{class:"metric-label"},"Loan Amount",-1)),o("span",S5,m(r.projectData.loanAmount||"TBA"),1)]),o("div",_5,[t[37]||(t[37]=o("span",{class:"metric-label"},"Target Yield",-1)),o("span",P5,m(r.projectData.metrics.targetLoanYield),1)]),o("div",I5,[t[38]||(t[38]=o("span",{class:"metric-label"},"LTV",-1)),o("span",x5,m(r.projectData.ltv||"TBA"),1)]),o("div",R5,[t[39]||(t[39]=o("span",{class:"metric-label"},"Loan Term",-1)),o("span",N5,m(r.projectData.loanTerm||"TBA"),1)])])]),o("div",D5,[o("h2",L5,"Trade "+m(r.projectCode),1),o("div",B5,[t[41]||(t[41]=o("h3",{class:"section-title"},"Amount",-1)),o("div",O5,[Lt(o("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=a=>i.tradeAmount=a),class:"amount-input",placeholder:"Enter amount",min:"1",step:"1",onInput:t[11]||(t[11]=(...a)=>r.clearError&&r.clearError(...a))},null,544),[[me,i.tradeAmount]]),t[40]||(t[40]=o("span",{class:"amount-unit"},"tokens",-1))]),t[42]||(t[42]=o("div",{class:"amount-info"},null,-1))]),o("div",M5,[o("div",U5,[r.showBuyButton?(E(),k("button",{key:0,class:St(["trade-type-btn",{active:i.tradeType==="buy"}]),onClick:t[12]||(t[12]=a=>r.selectTradeType("buy")),disabled:i.loading},[...t[43]||(t[43]=[o("span",{class:"btn-text"},"Buy",-1)])],10,F5)):H("",!0),r.showSellButton?(E(),k("button",{key:1,class:St(["trade-type-btn",{active:i.tradeType==="sell"}]),onClick:t[13]||(t[13]=a=>r.selectTradeType("sell")),disabled:i.loading},[...t[44]||(t[44]=[o("span",{class:"btn-text"},"Sell Interest",-1)])],10,$5)):H("",!0)])]),o("div",null,[o("div",V5,[o("button",{class:"contract-details-btn",onClick:t[14]||(t[14]=(...a)=>r.viewContractDetails&&r.viewContractDetails(...a))},[...t[45]||(t[45]=[o("span",{class:"btn-text"},"View Contract Details",-1)])])])]),r.formattedError?(E(),k("div",H5,[t[46]||(t[46]=o("div",{class:"error-icon"},"⚠️",-1)),o("div",j5,m(r.formattedError),1)])):H("",!0)]),o("div",W5,[t[58]||(t[58]=o("div",{class:"card-header"},[o("h2",{class:"card-title"},"Recent Trades")],-1)),i.loading?(E(),k("div",G5,"Loading trades...")):r.projectTrades.length===0?(E(),k("div",K5,"No trades found for this project")):(E(),k("div",Y5,[(E(!0),k(kt,null,ke(r.projectTrades,a=>(E(),k("div",{key:a.id,class:"trade-item"},[o("div",z5,[o("span",{class:St(["trade-type",a.type])},m(r.getTradeTypeDisplay(a.type)),3),o("span",Q5,m(r.formatTime(a.timestamp)),1)]),o("div",q5,[o("div",J5,[t[47]||(t[47]=o("span",{class:"label"},"Project:",-1)),o("span",Z5,m(a.project_code)+" - "+m(a.project_name),1)]),o("div",X5,[t[48]||(t[48]=o("span",{class:"label"},"Token Amount:",-1)),o("span",tR,m(a.amount)+" tokens",1)]),a.etherscan?(E(),k("div",eR,[o("div",sR,[t[49]||(t[49]=o("span",{class:"label"},"Transaction Hash:",-1)),o("span",{class:"value hash-value",onClick:l=>r.copyHash(a.etherscan.hash)},m(r.formatHash(a.etherscan.hash)),9,nR)]),o("div",iR,[t[50]||(t[50]=o("span",{class:"label"},"Status:",-1)),o("span",{class:St(["value",{"status-success":a.etherscan.status==="0x1","status-failed":a.etherscan.status==="0x0"}])},m(a.etherscan.status==="0x1"?"Success":a.etherscan.status==="0x0"?"Failed":"Pending"),3)]),o("div",rR,[t[51]||(t[51]=o("span",{class:"label"},"Block:",-1)),o("span",oR,m(a.etherscan.blockNumber?parseInt(a.etherscan.blockNumber,16).toLocaleString():"N/A"),1)]),o("div",aR,[t[52]||(t[52]=o("span",{class:"label"},"Timestamp:",-1)),o("span",lR,m(r.formatEtherscanTime(a.etherscan.timestamp)),1)]),o("div",cR,[t[53]||(t[53]=o("span",{class:"label"},"From:",-1)),o("span",uR,m(r.formatAddress(a.etherscan.from)),1)]),o("div",dR,[t[54]||(t[54]=o("span",{class:"label"},"To:",-1)),o("span",fR,m(r.formatAddress(a.etherscan.to)),1)]),o("div",hR,[t[55]||(t[55]=o("span",{class:"label"},"Value:",-1)),o("span",pR,m(r.formatEtherValue(a.etherscan.value))+" ETH",1)]),o("div",mR,[t[56]||(t[56]=o("span",{class:"label"},"Transaction Fee:",-1)),o("span",gR,m(a.etherscan.transactionFee?a.etherscan.transactionFee.toFixed(6):"N/A")+" ETH",1)]),o("div",vR,[t[57]||(t[57]=o("span",{class:"label"},"Gas Price:",-1)),o("span",yR,m(a.etherscan.gasPrice?parseInt(a.etherscan.gasPrice,16).toLocaleString():"N/A")+" Gwei",1)])])):H("",!0)]),a.etherscan&&a.etherscan.hash?(E(),k("div",bR,[o("a",{href:`https://sepolia.etherscan.io/tx/${a.etherscan.hash}`,target:"_blank",class:"tx-link"}," 🔗 View on Sepolia Etherscan ",8,wR)])):H("",!0)]))),128))]))])])])}const ER=ce(F6,[["render",AR],["__scopeId","data-v-a947631b"]]),kR={class:"contract-page"},CR={class:"contract-content"},TR={class:"contract-card"},SR={class:"contract-card-header"},_R={class:"contract-info"},PR={class:"contract-code"},IR={class:"contract-section"},xR={class:"info-grid"},RR={class:"info-item"},NR={class:"info-value"},DR={class:"info-item"},LR={class:"info-value"},BR={class:"info-item"},OR={class:"info-value"},MR={class:"info-item"},UR={class:"info-value"},FR={class:"info-item"},$R={class:"info-value"},VR={class:"info-item"},HR={class:"info-value"},jR={class:"contract-section"},WR={class:"info-grid"},GR={class:"info-item"},KR={class:"info-value"},YR={class:"info-item"},zR={class:"info-value"},QR={class:"info-item"},qR={class:"info-value"},JR={class:"info-item"},ZR={class:"info-value"},XR={class:"info-item"},tN={class:"info-value"},eN={class:"info-item"},sN={class:"info-value"},nN={class:"contract-section"},iN={class:"info-grid"},rN={class:"info-item"},oN={class:"info-value"},aN={class:"info-item"},lN={class:"info-value"},cN={class:"info-item"},uN={class:"info-value"},dN={class:"info-item"},fN={class:"info-value"},hN={class:"info-item"},pN={class:"info-item"},mN={class:"contract-section"},gN={class:"info-grid"},vN={class:"info-item"},yN={class:"info-value"},bN={class:"info-item"},wN={class:"info-value"},AN={class:"info-item"},EN={class:"info-value"},kN={class:"info-item"},CN={class:"info-value"},TN={class:"info-item"},SN={class:"info-value"},_N={class:"info-item"},PN={class:"info-value"},IN={class:"contract-section"},xN={class:"info-grid"},RN={class:"info-item"},NN={class:"info-value"},DN={class:"info-item"},LN={class:"info-value"},BN={class:"info-item"},ON={class:"info-value"},MN={class:"info-item"},UN={class:"info-value"},FN={class:"info-item"},$N={class:"info-value"},VN={class:"info-item"},HN={class:"info-value"},jN={class:"contract-section"},WN={class:"terms-content"},GN={class:"terms-item"},KN={__name:"contract",setup(e){const t=lg(),s=eC(),n=pt({projectName:"",projectCode:"",status:"active",statusText:"Active",propertyAddress:"",propertyType:"",propertySize:"",propertyValue:"",location:"",buildYear:"",totalSupply:0,issuedTokens:0,remainingTokens:0,issuanceCondition:"",issuanceFrequency:"",minIssuanceUnit:0,subscriptionAmount:0,subscriptionPrice:0,totalSubscriptionValue:0,subscriptionDate:"",transactionType:"",transactionHash:"",annualYield:0,interestCalculation:"",interestPeriod:"",compoundInterest:!1,minInterestAmount:0,interestStartDate:"",distributionFrequency:"",nextDistributionDate:"",accumulatedInterest:0,distributedInterest:0,pendingInterest:0,distributionMethod:""}),i=async()=>{try{const v=s.query;if(console.log("📄 加载合同数据:",v),n.value.projectCode=v.projectCode||"RWA007",n.value.subscriptionAmount=v.amount||0,n.value.transactionType=v.type||"buy",n.value.subscriptionDate=l(v.timestamp),n.value.transactionHash=c(),v.projectCode){const g=await Vn.getProductByCode(v.projectCode);if(g.status===0&&g.data){const _=g.data;n.value.projectName=_.name||"Bondi Beach Apartment Project",n.value.propertyAddress=_.address||"123 Bondi Beach Road, Bondi NSW 2026",n.value.propertyType=_.propertyType||"Apartment",n.value.propertySize=_.size||"85 sqm",n.value.propertyValue=`A$${_.valuation||"1,200,000"}`,n.value.location=_.location||"Bondi Beach, NSW",n.value.buildYear=_.buildYear||"2018",n.value.annualYield=_.targetYield||8.5,n.value.totalSupply=_.totalOffering||1e6,n.value.subscriptionPrice=_.currentPrice||1}}a()}catch(v){console.error("❌ 加载合同数据失败:",v),r()}},r=()=>{n.value={projectName:"Bondi Beach Apartment Project",projectCode:"RWA007",status:"active",statusText:"活跃",propertyAddress:"123 Bondi Beach Road, Bondi NSW 2026",propertyType:"Apartment",propertySize:"85 sqm",propertyValue:"A$1,200,000",location:"Bondi Beach, NSW",buildYear:"2018",totalSupply:1e6,issuedTokens:75e4,remainingTokens:25e4,issuanceCondition:"市场需求达到阈值",issuanceFrequency:"每月评估",minIssuanceUnit:1e3,subscriptionAmount:s.query.amount||500,subscriptionPrice:1,totalSubscriptionValue:(s.query.amount||500)*1,subscriptionDate:l(s.query.timestamp),transactionType:s.query.type||"buy",transactionHash:c(),annualYield:8.5,interestCalculation:"复利计算",interestPeriod:"按月计息",compoundInterest:!0,minInterestAmount:10,interestStartDate:l(new Date),distributionFrequency:"每月15日",nextDistributionDate:u(),accumulatedInterest:0,distributedInterest:0,pendingInterest:0,distributionMethod:"自动转账到钱包"}},a=()=>{const v=n.value.subscriptionAmount,g=n.value.subscriptionPrice,_=n.value.annualYield;n.value.totalSubscriptionValue=v*g,n.value.remainingTokens=n.value.totalSupply-n.value.issuedTokens;const D=_/12/100,L=6;n.value.accumulatedInterest=v*g*D*L,n.value.distributedInterest=n.value.accumulatedInterest*.6,n.value.pendingInterest=n.value.accumulatedInterest-n.value.distributedInterest},l=v=>v?new Date(parseInt(v)).toLocaleDateString("zh-CN"):new Date().toLocaleDateString("zh-CN"),c=()=>"0x"+Math.random().toString(16).substr(2,64),u=()=>{const v=new Date;return new Date(v.getFullYear(),v.getMonth()+1,15).toLocaleDateString("zh-CN")},d=async()=>{try{await navigator.clipboard.writeText(n.value.transactionHash),alert("交易哈希已复制到剪贴板")}catch(v){console.error("复制失败:",v),alert("复制失败，请手动复制")}},f=()=>{t.back()},h=()=>{window.open(`https://etherscan.io/tx/${n.value.transactionHash}`,"_blank")},p=()=>{alert("合同下载功能开发中...")},w=()=>{navigator.share?navigator.share({title:"智能合约详情",text:`查看 ${n.value.projectName} 的合约详情`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("合同链接已复制到剪贴板"))};return Ci(()=>{i()}),(v,g)=>(E(),k("div",kR,[o("div",{class:"contract-header"},[o("div",{class:"contract-header-content"},[o("button",{class:"back-btn",onClick:f},[...g[0]||(g[0]=[o("span",{class:"back-icon"},"←",-1)])]),g[1]||(g[1]=o("div",{class:"contract-title"},[o("h1",null,"Smart Contract Details"),o("p",{class:"contract-subtitle"},"Real World Asset Investment Contract")],-1))])]),o("div",CR,[o("div",TR,[o("div",SR,[g[2]||(g[2]=o("div",{class:"contract-icon"},"📄",-1)),o("div",_R,[o("h2",null,m(n.value.projectName),1),o("p",PR,"Project Code: "+m(n.value.projectCode),1),o("p",{class:St(["contract-status",n.value.status])},m(n.value.statusText),3)])]),o("div",IR,[g[9]||(g[9]=o("h3",{class:"section-title"},[o("span",{class:"section-icon"},"🏠"),ut(" Property Information ")],-1)),o("div",xR,[o("div",RR,[g[3]||(g[3]=o("span",{class:"info-label"},"Property Address",-1)),o("span",NR,m(n.value.propertyAddress),1)]),o("div",DR,[g[4]||(g[4]=o("span",{class:"info-label"},"Property Type",-1)),o("span",LR,m(n.value.propertyType),1)]),o("div",BR,[g[5]||(g[5]=o("span",{class:"info-label"},"Property Size",-1)),o("span",OR,m(n.value.propertySize),1)]),o("div",MR,[g[6]||(g[6]=o("span",{class:"info-label"},"Property Value",-1)),o("span",UR,m(n.value.propertyValue),1)]),o("div",FR,[g[7]||(g[7]=o("span",{class:"info-label"},"Location",-1)),o("span",$R,m(n.value.location),1)]),o("div",VR,[g[8]||(g[8]=o("span",{class:"info-label"},"Build Year",-1)),o("span",HR,m(n.value.buildYear),1)])])]),o("div",jR,[g[16]||(g[16]=o("h3",{class:"section-title"},[o("span",{class:"section-icon"},"🔄"),ut(" Contract Issuance Mechanism ")],-1)),o("div",WR,[o("div",GR,[g[10]||(g[10]=o("span",{class:"info-label"},"Total Supply",-1)),o("span",KR,m(n.value.totalSupply)+" tokens",1)]),o("div",YR,[g[11]||(g[11]=o("span",{class:"info-label"},"Issued Tokens",-1)),o("span",zR,m(n.value.issuedTokens)+" tokens",1)]),o("div",QR,[g[12]||(g[12]=o("span",{class:"info-label"},"Remaining Tokens",-1)),o("span",qR,m(n.value.remainingTokens)+" tokens",1)]),o("div",JR,[g[13]||(g[13]=o("span",{class:"info-label"},"Issuance Condition",-1)),o("span",ZR,m(n.value.issuanceCondition),1)]),o("div",XR,[g[14]||(g[14]=o("span",{class:"info-label"},"Issuance Frequency",-1)),o("span",tN,m(n.value.issuanceFrequency),1)]),o("div",eN,[g[15]||(g[15]=o("span",{class:"info-label"},"Minimum Issuance Unit",-1)),o("span",sN,m(n.value.minIssuanceUnit)+" tokens",1)])])]),o("div",nN,[g[23]||(g[23]=o("h3",{class:"section-title"},[o("span",{class:"section-icon"},"💰"),ut(" Subscription Information ")],-1)),o("div",iN,[o("div",rN,[g[17]||(g[17]=o("span",{class:"info-label"},"Subscription Amount",-1)),o("span",oN,m(n.value.subscriptionAmount)+" tokens",1)]),o("div",aN,[g[18]||(g[18]=o("span",{class:"info-label"},"Subscription Price",-1)),o("span",lN,"A$"+m(n.value.subscriptionPrice),1)]),o("div",cN,[g[19]||(g[19]=o("span",{class:"info-label"},"Total Subscription Value",-1)),o("span",uN,"A$"+m(n.value.totalSubscriptionValue),1)]),o("div",dN,[g[20]||(g[20]=o("span",{class:"info-label"},"Subscription Date",-1)),o("span",fN,m(n.value.subscriptionDate),1)]),o("div",hN,[g[21]||(g[21]=o("span",{class:"info-label"},"Transaction Type",-1)),o("span",{class:St(["info-value",n.value.transactionType])},m(n.value.transactionType.toUpperCase()),3)]),o("div",pN,[g[22]||(g[22]=o("span",{class:"info-label"},"Transaction Hash",-1)),o("span",{class:"info-value hash-value",onClick:d},m(n.value.transactionHash),1)])])]),o("div",mN,[g[30]||(g[30]=o("h3",{class:"section-title"},[o("span",{class:"section-icon"},"📅"),ut(" Interest Calculation Period ")],-1)),o("div",gN,[o("div",vN,[g[24]||(g[24]=o("span",{class:"info-label"},"Annual Yield",-1)),o("span",yN,m(n.value.annualYield)+"%",1)]),o("div",bN,[g[25]||(g[25]=o("span",{class:"info-label"},"Interest Calculation",-1)),o("span",wN,m(n.value.interestCalculation),1)]),o("div",AN,[g[26]||(g[26]=o("span",{class:"info-label"},"Interest Period",-1)),o("span",EN,m(n.value.interestPeriod),1)]),o("div",kN,[g[27]||(g[27]=o("span",{class:"info-label"},"Compound Interest",-1)),o("span",CN,m(n.value.compoundInterest?"是":"否"),1)]),o("div",TN,[g[28]||(g[28]=o("span",{class:"info-label"},"Minimum Interest Amount",-1)),o("span",SN,"A$"+m(n.value.minInterestAmount),1)]),o("div",_N,[g[29]||(g[29]=o("span",{class:"info-label"},"Interest Start Date",-1)),o("span",PN,m(n.value.interestStartDate),1)])])]),o("div",IN,[g[37]||(g[37]=o("h3",{class:"section-title"},[o("span",{class:"section-icon"},"💸"),ut(" Distribution Information ")],-1)),o("div",xN,[o("div",RN,[g[31]||(g[31]=o("span",{class:"info-label"},"Distribution Frequency",-1)),o("span",NN,m(n.value.distributionFrequency),1)]),o("div",DN,[g[32]||(g[32]=o("span",{class:"info-label"},"Next Distribution Date",-1)),o("span",LN,m(n.value.nextDistributionDate),1)]),o("div",BN,[g[33]||(g[33]=o("span",{class:"info-label"},"Accumulated Interest",-1)),o("span",ON,"A$"+m(n.value.accumulatedInterest),1)]),o("div",MN,[g[34]||(g[34]=o("span",{class:"info-label"},"Distributed Interest",-1)),o("span",UN,"A$"+m(n.value.distributedInterest),1)]),o("div",FN,[g[35]||(g[35]=o("span",{class:"info-label"},"Pending Interest",-1)),o("span",$N,"A$"+m(n.value.pendingInterest),1)]),o("div",VN,[g[36]||(g[36]=o("span",{class:"info-label"},"Distribution Method",-1)),o("span",HN,m(n.value.distributionMethod),1)])])]),o("div",jN,[g[42]||(g[42]=o("h3",{class:"section-title"},[o("span",{class:"section-icon"},"📋"),ut(" Contract Terms ")],-1)),o("div",WN,[g[39]||(g[39]=o("div",{class:"terms-item"},[o("h4",null,"1. Investment Terms"),o("p",null,"Investors obtain a proportionate share of the rental income through the purchase of tokens for the property.")],-1)),o("div",GN,[g[38]||(g[38]=o("h4",null,"2. Revenue Distribution",-1)),o("p",null,"Rental income will be distributed proportionally based on the investor's token holdings, with a distribution cycle of "+m(n.value.distributionFrequency)+".",1)]),g[40]||(g[40]=o("div",{class:"terms-item"},[o("h4",null,"3. Risk Warning"),o("p",null,"Real estate investment involves market risks, and investors should fully understand and谨慎投资。")],-1)),g[41]||(g[41]=o("div",{class:"terms-item"},[o("h4",null,"4. Exit Mechanism"),o("p",null,"投资者可在二级市场交易代币，或通过智能合约赎回机制退出投资。")],-1))])]),o("div",{class:"contract-actions"},[o("button",{class:"action-btn primary",onClick:h}," View Transaction Details "),o("button",{class:"action-btn secondary",onClick:p}," Download Contract "),o("button",{class:"action-btn tertiary",onClick:w}," Share Contract ")])])])]))}},YN=ce(KN,[["__scopeId","data-v-62196863"]]),zN={name:"TokenDetailView",props:{address:{type:String,required:!0}},setup(e){const{chainId:t,networkLabel:s}=fi(),n=pt(""),i=pt(""),r=pt(null),a=pt(!1),l=new Ds(window.ethereum,"any"),c=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)"];Ci(async()=>{try{const w=new Ke(e.address,c,l);r.value=await w.decimals(),n.value=await w.symbol(),i.value=await w.name()}catch{}try{const w=sessionStorage.getItem(`customTokens:${t.value}`),v=w?JSON.parse(w):[],g=Array.isArray(v)?v.find(_=>(_.address||"").toLowerCase()===e.address.toLowerCase()):null;g&&g.addedAt&&(h.value=new Date(g.addedAt).toLocaleString(),p.value=g.source||"ImportFromUs")}catch{}});function u(){const w=Number(t.value),v=w===1?"https://etherscan.io":w===11155111?"https://sepolia.etherscan.io":"",g=v?`${v}/token/${e.address}`:`https://etherscan.io/token/${e.address}`;window.open(g,"_blank")}function d(){try{const w=`hiddenTokens:${t.value}`,v=sessionStorage.getItem(w),g=v?JSON.parse(v):[],_=new Set((Array.isArray(g)?g:[]).map(D=>String(D).toLowerCase()));_.add(e.address.toLowerCase()),sessionStorage.setItem(w,JSON.stringify(Array.from(_))),alert("Hidden successfully"),window.history.back()}catch{alert("Hide failed")}}function f(){try{const w=`customTokens:${t.value}`,v=sessionStorage.getItem(w),g=v?JSON.parse(v):[],_=Array.isArray(g)?g.filter(D=>(D.address||"").toLowerCase()!==e.address.toLowerCase()):[];sessionStorage.setItem(w,JSON.stringify(_)),alert("Deleted from custom tokens"),window.history.back()}catch{alert("Delete failed")}}const h=pt(""),p=pt("");return{networkLabel:s,address:e.address,symbol:n,name:i,decimals:r,importDate:h,importSource:p,menuOpen:a,openInExplorer:u,hideToken:d,deleteToken:f}}},QN={class:"container"},qN={class:"td-top"},JN={class:"td-actions"},ZN={key:0,class:"td-menu"},XN={class:"td-grid"},tD={class:"card"},eD={class:"kv"},sD={class:"v"},nD={class:"kv"},iD={class:"v addr"},rD={class:"kv"},oD={class:"v"},aD={class:"kv"},lD={class:"v"},cD={class:"kv"},uD={class:"v"};function dD(e,t,s,n,i,r){return E(),k("section",QN,[o("header",qN,[t[4]||(t[4]=o("h1",{class:"headline"},"Token details",-1)),o("div",JN,[o("button",{class:"btn",onClick:t[0]||(t[0]=a=>n.menuOpen=!n.menuOpen)},"⋮"),n.menuOpen?(E(),k("div",ZN,[o("button",{class:"td-item",onClick:t[1]||(t[1]=(...a)=>n.openInExplorer&&n.openInExplorer(...a))},"View Asset in explorer"),o("button",{class:"td-item",onClick:t[2]||(t[2]=(...a)=>n.hideToken&&n.hideToken(...a))},"Hide "+m(n.symbol),1),o("button",{class:"td-item danger",onClick:t[3]||(t[3]=(...a)=>n.deleteToken&&n.deleteToken(...a))},"Delete from my wallet")])):H("",!0)])]),o("div",XN,[o("article",tD,[t[10]||(t[10]=o("h3",null,"Overview",-1)),o("div",eD,[t[5]||(t[5]=o("span",{class:"k"},"Network name",-1)),o("span",sD,m(n.networkLabel),1)]),o("div",nD,[t[6]||(t[6]=o("span",{class:"k"},"Contract address",-1)),o("span",iD,m(n.address),1)]),o("div",rD,[t[7]||(t[7]=o("span",{class:"k"},"Token decimal",-1)),o("span",oD,m(n.decimals??"-"),1)]),t[11]||(t[11]=o("div",{class:"kv"},[o("span",{class:"k"},"Spending caps"),o("span",{class:"v"},"—")],-1)),o("div",aD,[t[8]||(t[8]=o("span",{class:"k"},"Token import date",-1)),o("span",lD,m(n.importDate||"-"),1)]),o("div",cD,[t[9]||(t[9]=o("span",{class:"k"},"Token import source",-1)),o("span",uD,m(n.importSource||"metamask"),1)])]),t[12]||(t[12]=o("article",{class:"card"},[o("h3",null,"Your activity"),o("p",{class:"muted"},"Activity list placeholder.")],-1))])])}const fD=ce(zN,[["render",dD],["__scopeId","data-v-28606b53"]]),hD={name:"OverviewView"},pD={class:"container"};function mD(e,t,s,n,i,r){return E(),k("div",pD,[...t[0]||(t[0]=[qt('<div class="page-header" data-v-66d933c2><h1 data-v-66d933c2>Product Overview</h1><p class="page-subtitle" data-v-66d933c2>Know our real estate tokenization investment platform</p></div><div class="overview-content" data-v-66d933c2><div class="feature-grid" data-v-66d933c2><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>🏠</div><h3 data-v-66d933c2>Real Estate Tokenization</h3><p data-v-66d933c2>Convert traditional real estate investments into tradable digital tokens, reducing investment门槛, and improving liquidity.</p></div><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>💰</div><h3 data-v-66d933c2>Stable Income</h3><p data-v-66d933c2>Based on high-quality real estate mortgage loans, providing stable rental income and capital appreciation potential.</p></div><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>🔒</div><h3 data-v-66d933c2>Secure and Transparent</h3><p data-v-66d933c2>Based on blockchain technology, all transaction records are transparent and smart contracts are automatically executed.</p></div><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>📊</div><h3 data-v-66d933c2>Real-Time Data</h3><p data-v-66d933c2>Provide real-time market data, project information and investment performance, helping you make wise decisions.</p></div></div><div class="stats-section" data-v-66d933c2><h2 data-v-66d933c2>Platform Data</h2><div class="stats-grid" data-v-66d933c2><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>$50M+</div><div class="stat-label" data-v-66d933c2>Managed Assets</div></div><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>1,200+</div><div class="stat-label" data-v-66d933c2>Active Investors</div></div><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>25+</div><div class="stat-label" data-v-66d933c2>Investment Projects</div></div><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>6.5%</div><div class="stat-label" data-v-66d933c2>Average Annual Return</div></div></div></div></div>',2)])])}const ys=ce(hD,[["render",mD],["__scopeId","data-v-66d933c2"]]),gD={name:"SolutionsView"},vD={class:"container"},yD={class:"solutions-content"},bD={class:"solution-cards"},wD={class:"solution-card"},AD={class:"solution-content"},ED={class:"solution-cta"},kD={class:"solution-card featured"},CD={class:"solution-content"},TD={class:"solution-cta"},SD={class:"solution-card"},_D={class:"solution-content"},PD={class:"solution-cta"},ID={class:"features-section"},xD={class:"features-cta"},RD={class:"cta-buttons"};function ND(e,t,s,n,i,r){const a=mi("router-link");return E(),k("div",vD,[t[16]||(t[16]=o("div",{class:"page-header"},[o("h1",null,"Solutions"),o("p",{class:"page-subtitle"},"Customized investment solutions for different investors")],-1)),o("div",yD,[o("div",bD,[o("div",wD,[t[2]||(t[2]=o("div",{class:"solution-header"},[o("div",{class:"solution-icon"},"👤"),o("h3",null,"Individual Investors")],-1)),o("div",AD,[t[1]||(t[1]=o("ul",{class:"solution-features"},[o("li",null,"Low-threshold investment, starting from as little as $100 AUD"),o("li",null,"Diverse investment portfolios, diversify risks"),o("li",null,"Simple and easy-to-use trading interface"),o("li",null,"Real-time Investment Tracking"),o("li",null,"24/7 Customer Support")],-1)),o("div",ED,[Ct(a,{to:"/signup",class:"btn primary"},{default:Gt(()=>[...t[0]||(t[0]=[ut("Start Investing",-1)])]),_:1})])])]),o("div",kD,[t[5]||(t[5]=o("div",{class:"featured-badge"},"Recommended",-1)),t[6]||(t[6]=o("div",{class:"solution-header"},[o("div",{class:"solution-icon"},"🏢"),o("h3",null,"Institutional Investors")],-1)),o("div",CD,[t[4]||(t[4]=o("ul",{class:"solution-features"},[o("li",null,"Large investment discount rate"),o("li",null,"Exclusive investment advisor service"),o("li",null,"Customized investment strategy"),o("li",null,"API interface integration"),o("li",null,"White label solution")],-1)),o("div",TD,[Ct(a,{to:"/contact",class:"btn primary"},{default:Gt(()=>[...t[3]||(t[3]=[ut("Contact Sales",-1)])]),_:1})])])]),o("div",SD,[t[9]||(t[9]=o("div",{class:"solution-header"},[o("div",{class:"solution-icon"},"🏦"),o("h3",null,"Financial Institutions")],-1)),o("div",_D,[t[8]||(t[8]=o("ul",{class:"solution-features"},[o("li",null,"Complete tokenization infrastructure"),o("li",null,"Compliance support"),o("li",null,"Liquidity management tools"),o("li",null,"Risk management framework"),o("li",null,"Technical integration support")],-1)),o("div",PD,[Ct(a,{to:"/contact",class:"btn primary"},{default:Gt(()=>[...t[7]||(t[7]=[ut("Learn More",-1)])]),_:1})])])])]),o("div",ID,[t[14]||(t[14]=qt('<h2 data-v-57d8203f>Features of the Product</h2><p class="features-subtitle" data-v-57d8203f>Explore the core features of our platform</p><div class="feature-items" data-v-57d8203f><div class="feature-item" data-v-57d8203f><div class="feature-icon" data-v-57d8203f>🔐</div><div class="feature-content" data-v-57d8203f><h3 data-v-57d8203f>Secure Wallet Integration</h3><p data-v-57d8203f>Supports mainstream wallets like MetaMask, ensuring the security of your digital assets. All transactions are encrypted and protected.</p></div></div><div class="feature-item" data-v-57d8203f><div class="feature-icon" data-v-57d8203f>📈</div><div class="feature-content" data-v-57d8203f><h3 data-v-57d8203f>Real-Time Trading</h3><p data-v-57d8203f>24/7 real-time trading functionality, allowing you to buy and sell real estate tokens, enjoy market liquidity.</p></div></div><div class="feature-item" data-v-57d8203f><div class="feature-icon" data-v-57d8203f>📊</div><div class="feature-content" data-v-57d8203f><h3 data-v-57d8203f>Portfolio Management</h3><p data-v-57d8203f>Intuitive portfolio dashboard, tracking your investment performance and returns in real-time.</p></div></div><div class="feature-item" data-v-57d8203f><div class="feature-icon" data-v-57d8203f>🏘️</div><div class="feature-content" data-v-57d8203f><h3 data-v-57d8203f>Project Details</h3><p data-v-57d8203f>Detailed real estate project information, including location, valuation, rental income, and other key data.</p></div></div><div class="feature-item" data-v-57d8203f><div class="feature-icon" data-v-57d8203f>🔍</div><div class="feature-content" data-v-57d8203f><h3 data-v-57d8203f>Smart Filtering</h3><p data-v-57d8203f>Filter investment projects by type, region, risk level, and other criteria to find the best investment opportunities.</p></div></div><div class="feature-item" data-v-57d8203f><div class="feature-icon" data-v-57d8203f>📱</div><div class="feature-content" data-v-57d8203f><h3 data-v-57d8203f>Mobile Support</h3><p data-v-57d8203f>Responsive design, perfectly supporting mobile and tablet devices, allowing you to manage your investments anytime, anywhere.</p></div></div></div>',3)),o("div",xD,[t[12]||(t[12]=o("h3",null,"Ready to Start Investing?",-1)),t[13]||(t[13]=o("p",null,"Register an account now, start your real estate tokenization investment journey",-1)),o("div",RD,[Ct(a,{to:"/signup",class:"btn primary"},{default:Gt(()=>[...t[10]||(t[10]=[ut("Register Now",-1)])]),_:1}),Ct(a,{to:"/projects",class:"btn secondary"},{default:Gt(()=>[...t[11]||(t[11]=[ut("Browse Projects",-1)])]),_:1})])])]),t[15]||(t[15]=qt('<div class="comparison-section" data-v-57d8203f><h2 data-v-57d8203f>Comparison of Solutions</h2><div class="comparison-table" data-v-57d8203f><div class="table-header" data-v-57d8203f><div class="table-cell" data-v-57d8203f>Function Features</div><div class="table-cell" data-v-57d8203f>Individual Investors</div><div class="table-cell" data-v-57d8203f>Institutional Investors</div><div class="table-cell" data-v-57d8203f>Financial Institutions</div></div><div class="table-row" data-v-57d8203f><div class="table-cell" data-v-57d8203f>Minimum Investment</div><div class="table-cell" data-v-57d8203f>$100</div><div class="table-cell" data-v-57d8203f>$10,000</div><div class="table-cell" data-v-57d8203f>$100,000</div></div><div class="table-row" data-v-57d8203f><div class="table-cell" data-v-57d8203f>Transaction Fee Rate</div><div class="table-cell" data-v-57d8203f>1.5%</div><div class="table-cell" data-v-57d8203f>1.0%</div><div class="table-cell" data-v-57d8203f>0.5%</div></div><div class="table-row" data-v-57d8203f><div class="table-cell" data-v-57d8203f>Exclusive Support</div><div class="table-cell" data-v-57d8203f>❌</div><div class="table-cell" data-v-57d8203f>✅</div><div class="table-cell" data-v-57d8203f>✅</div></div><div class="table-row" data-v-57d8203f><div class="table-cell" data-v-57d8203f>API Access</div><div class="table-cell" data-v-57d8203f>❌</div><div class="table-cell" data-v-57d8203f>✅</div><div class="table-cell" data-v-57d8203f>✅</div></div></div></div>',1))])])}const DD=ce(gD,[["render",ND],["__scopeId","data-v-57d8203f"]]),LD={name:"TutorialsView"},BD={class:"container"};function OD(e,t,s,n,i,r){return E(),k("div",BD,[...t[0]||(t[0]=[qt('<div class="page-header" data-v-5d3ec8ab><h1 data-v-5d3ec8ab>Learning Center</h1><p class="page-subtitle" data-v-5d3ec8ab>Learn how to start your real estate tokenization investment journey</p></div><div class="tutorials-content" data-v-5d3ec8ab><div class="tutorial-categories" data-v-5d3ec8ab><div class="category-card" data-v-5d3ec8ab><div class="category-icon" data-v-5d3ec8ab>🚀</div><h3 data-v-5d3ec8ab>Newcomer&#39;s Guide</h3><p data-v-5d3ec8ab>Learn how to start your real estate tokenization investment journey</p><ul data-v-5d3ec8ab><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>What is real estate tokenization?</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>How to create a wallet?</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>First investment guide</a></li></ul></div><div class="category-card" data-v-5d3ec8ab><div class="category-icon" data-v-5d3ec8ab>💡</div><h3 data-v-5d3ec8ab>Investment Strategy</h3><p data-v-5d3ec8ab>Learn professional investment strategies and techniques</p><ul data-v-5d3ec8ab><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Portfolio building</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Risk management strategy</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Market analysis techniques</a></li></ul></div><div class="category-card" data-v-5d3ec8ab><div class="category-icon" data-v-5d3ec8ab>🔧</div><h3 data-v-5d3ec8ab>Platform Usage</h3><p data-v-5d3ec8ab>Learn how to use the platform&#39;s features</p><ul data-v-5d3ec8ab><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Transaction operation guide</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Portfolio management</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Security settings guide</a></li></ul></div></div><div class="featured-tutorials" data-v-5d3ec8ab><h2 data-v-5d3ec8ab>Featured Tutorials</h2><div class="tutorial-list" data-v-5d3ec8ab><div class="tutorial-item" data-v-5d3ec8ab><div class="tutorial-thumbnail" data-v-5d3ec8ab>📹</div><div class="tutorial-info" data-v-5d3ec8ab><h3 data-v-5d3ec8ab>5-Minute Quick Start Guide</h3><p data-v-5d3ec8ab>Through this short video tutorial, quickly understand the basic functions and usage of the platform.</p><div class="tutorial-meta" data-v-5d3ec8ab><span class="duration" data-v-5d3ec8ab>5 minutes</span><span class="level" data-v-5d3ec8ab>Beginner</span></div></div></div><div class="tutorial-item" data-v-5d3ec8ab><div class="tutorial-thumbnail" data-v-5d3ec8ab>📹</div><div class="tutorial-info" data-v-5d3ec8ab><h3 data-v-5d3ec8ab>How to choose good investment projects</h3><p data-v-5d3ec8ab>Learn how to analyze project data, identify good investment opportunities, and reduce investment risk.</p><div class="tutorial-meta" data-v-5d3ec8ab><span class="duration" data-v-5d3ec8ab>15 minutes</span><span class="level" data-v-5d3ec8ab>Intermediate</span></div></div></div><div class="tutorial-item" data-v-5d3ec8ab><div class="tutorial-thumbnail" data-v-5d3ec8ab>📹</div><div class="tutorial-info" data-v-5d3ec8ab><h3 data-v-5d3ec8ab>Advanced trading strategies</h3><p data-v-5d3ec8ab>Learn advanced trading techniques, including the use of professional trading tools such as limit orders and stop loss orders.</p><div class="tutorial-meta" data-v-5d3ec8ab><span class="duration" data-v-5d3ec8ab>25 minutes</span><span class="level" data-v-5d3ec8ab>Advanced</span></div></div></div></div></div></div>',2)])])}const MD=ce(LD,[["render",OD],["__scopeId","data-v-5d3ec8ab"]]),UD={name:"PricingView"},FD={class:"container"},$D={class:"pricing-content"},VD={class:"pricing-cards"},HD={class:"pricing-card"},jD={class:"pricing-cta"},WD={class:"pricing-card featured"},GD={class:"pricing-cta"},KD={class:"pricing-card"},YD={class:"pricing-cta"};function zD(e,t,s,n,i,r){const a=mi("router-link");return E(),k("div",FD,[t[7]||(t[7]=o("div",{class:"page-header"},[o("h1",null,"Pricing Solutions"),o("p",{class:"page-subtitle"},"Transparent fee structure, so you can clearly understand the cost of each transaction")],-1)),o("div",$D,[o("div",VD,[o("div",HD,[t[1]||(t[1]=qt('<div class="pricing-header" data-v-0d5174e2><h3 data-v-0d5174e2>Individual Investors</h3><div class="price" data-v-0d5174e2><span class="currency" data-v-0d5174e2>$</span><span class="amount" data-v-0d5174e2>1.5</span><span class="period" data-v-0d5174e2>%</span></div><p class="price-description" data-v-0d5174e2>Each transaction fee</p></div><div class="pricing-features" data-v-0d5174e2><ul data-v-0d5174e2><li data-v-0d5174e2>✅ No minimum investment limit</li><li data-v-0d5174e2>✅ Basic trading functions</li><li data-v-0d5174e2>✅ Investment portfolio tracking</li><li data-v-0d5174e2>✅ Email support</li><li data-v-0d5174e2>❌ Exclusive customer support</li><li data-v-0d5174e2>❌ API access</li></ul></div>',2)),o("div",jD,[Ct(a,{to:"/signup",class:"btn primary"},{default:Gt(()=>[...t[0]||(t[0]=[ut("Start Investing",-1)])]),_:1})])]),o("div",WD,[t[3]||(t[3]=qt('<div class="featured-badge" data-v-0d5174e2>Most Popular</div><div class="pricing-header" data-v-0d5174e2><h3 data-v-0d5174e2>Institutional Investors</h3><div class="price" data-v-0d5174e2><span class="currency" data-v-0d5174e2>$</span><span class="amount" data-v-0d5174e2>1.0</span><span class="period" data-v-0d5174e2>%</span></div><p class="price-description" data-v-0d5174e2>Each transaction fee</p></div><div class="pricing-features" data-v-0d5174e2><ul data-v-0d5174e2><li data-v-0d5174e2>✅ Minimum investment $10,000</li><li data-v-0d5174e2>✅ Advanced trading functions</li><li data-v-0d5174e2>✅ Exclusive investment advisor</li><li data-v-0d5174e2>✅ Priority customer support</li><li data-v-0d5174e2>✅ API access</li><li data-v-0d5174e2>✅ Customized report</li></ul></div>',3)),o("div",GD,[Ct(a,{to:"/contact",class:"btn primary"},{default:Gt(()=>[...t[2]||(t[2]=[ut("Contact Sales",-1)])]),_:1})])]),o("div",KD,[t[5]||(t[5]=qt('<div class="pricing-header" data-v-0d5174e2><h3 data-v-0d5174e2>Enterprise Customers</h3><div class="price" data-v-0d5174e2><span class="currency" data-v-0d5174e2>$</span><span class="amount" data-v-0d5174e2>0.5</span><span class="period" data-v-0d5174e2>%</span></div><p class="price-description" data-v-0d5174e2>Each transaction fee</p></div><div class="pricing-features" data-v-0d5174e2><ul data-v-0d5174e2><li data-v-0d5174e2>✅ Minimum investment $100,000</li><li data-v-0d5174e2>✅ Complete API integration</li><li data-v-0d5174e2>✅ White label solution</li><li data-v-0d5174e2>✅ 24/7 exclusive support</li><li data-v-0d5174e2>✅ Customized development</li><li data-v-0d5174e2>✅ Compliance support</li></ul></div>',2)),o("div",YD,[Ct(a,{to:"/contact",class:"btn primary"},{default:Gt(()=>[...t[4]||(t[4]=[ut("Customized solution",-1)])]),_:1})])])]),t[6]||(t[6]=qt('<div class="fee-breakdown" data-v-0d5174e2><h2 data-v-0d5174e2>Fee Details</h2><div class="fee-table" data-v-0d5174e2><div class="fee-row" data-v-0d5174e2><div class="fee-item" data-v-0d5174e2><h4 data-v-0d5174e2>Transaction fee</h4><p data-v-0d5174e2>Percentage fee based on transaction amount, deducted automatically during transaction</p></div><div class="fee-amount" data-v-0d5174e2>0.5% - 1.5%</div></div><div class="fee-row" data-v-0d5174e2><div class="fee-item" data-v-0d5174e2><h4 data-v-0d5174e2>Network fee</h4><p data-v-0d5174e2>Blockchain network transaction fee, determined by network congestion</p></div><div class="fee-amount" data-v-0d5174e2>$2 - $20</div></div><div class="fee-row" data-v-0d5174e2><div class="fee-item" data-v-0d5174e2><h4 data-v-0d5174e2>Withdrawal fee</h4><p data-v-0d5174e2>Fee for withdrawing funds to bank account</p></div><div class="fee-amount" data-v-0d5174e2>$5</div></div><div class="fee-row" data-v-0d5174e2><div class="fee-item" data-v-0d5174e2><h4 data-v-0d5174e2>Management fee</h4><p data-v-0d5174e2>Annual asset management fee, deducted from investment收益中扣除</p></div><div class="fee-amount" data-v-0d5174e2>0.2%</div></div></div></div>',1))])])}const QD=ce(UD,[["render",zD],["__scopeId","data-v-0d5174e2"]]),qD={name:"AboutUsView"},JD={class:"container"};function ZD(e,t,s,n,i,r){return E(),k("div",JD,[...t[0]||(t[0]=[qt('<div class="page-header" data-v-26dedfb2><h1 data-v-26dedfb2>About Us</h1><p class="page-subtitle" data-v-26dedfb2>Innovative technology company dedicated to revolutionizing real estate investment</p></div><div class="about-content" data-v-26dedfb2><div class="background-vision-section" data-v-26dedfb2><h2 data-v-26dedfb2>Background</h2><div class="vision-text" data-v-26dedfb2><p class="vision-intro" data-v-26dedfb2><strong data-v-26dedfb2>RWAT dealmaker</strong> (stand for Real World Assets Tokenization deal maker) is the creator of the real world assets tokenization project, meaning that this platform is committed to protecting the investment safety of RWAT investors, organizing legally compliant, low-risk, high-return and high-quality asset. For example, residential mortgage loans with a mortgage rate of less than 70% and a rate of approximately 9% in Australia. This platform aims to promote the transaction between investors and asset holders. </p><p class="vision-intro" data-v-26dedfb2> The underlying assets displayed on this platform are protected by the laws of the country where they are located, and the funds can freely enter and exit that country. If investors require, the project transaction structure can be isolated and entrusted by a third-party institution to hold the underlying assets and funds. </p><p class="vision-intro" data-v-26dedfb2> In addition to facilitating transactions between investors and RWAT underlying asset holders, this platform can also integrate the cooperation of all institutions in the RWA tokenization chain, including professional RWA tokenization technology service companies and licensed issuers and exchanges of RWAT in various countries, to achieve the successful issuance of RWA tokenization legally, efficiently, at low cost, and publicly or privately. </p></div></div><div class="mission-section" data-v-26dedfb2><div class="mission-text" data-v-26dedfb2><h2 data-v-26dedfb2>Our Mission</h2><p data-v-26dedfb2>We are committed to revolutionizing traditional real estate investment through blockchain technology, allowing everyone to participate in high-quality real estate investment, and share the growth红利 of the real estate market.</p><p data-v-26dedfb2>Through tokenization technology, we will break down traditional real estate investment that requires a large amount of capital into small, tradable units, allowing ordinary investors to enjoy stable returns from real estate investment.</p></div><div class="mission-image" data-v-26dedfb2><div class="image-placeholder" data-v-26dedfb2>🏢</div></div></div><div class="values-section" data-v-26dedfb2><h2 data-v-26dedfb2>Core Values</h2><div class="values-grid" data-v-26dedfb2><div class="value-card" data-v-26dedfb2><div class="value-icon" data-v-26dedfb2>🔒</div><h3 data-v-26dedfb2>Security First</h3><p data-v-26dedfb2>Use the most advanced encryption technology and multiple security measures to ensure the security of user assets and transactions.</p></div><div class="value-card" data-v-26dedfb2><div class="value-icon" data-v-26dedfb2>🌐</div><h3 data-v-26dedfb2>Transparent and Open</h3><p data-v-26dedfb2>All transaction records are stored on the chain, project information is completely transparent, allowing investors to invest clearly and clearly.</p></div><div class="value-card" data-v-26dedfb2><div class="value-icon" data-v-26dedfb2>🚀</div><h3 data-v-26dedfb2>Continuous Innovation</h3><p data-v-26dedfb2>Continuously explore new technologies, optimize user experience, and provide better services for investors.</p></div><div class="value-card" data-v-26dedfb2><div class="value-icon" data-v-26dedfb2>🤝</div><h3 data-v-26dedfb2>User-Centered</h3><p data-v-26dedfb2>Provide professional,贴心 services, helping users achieve wealth增值。</p></div></div></div><div class="team-section" data-v-26dedfb2><h2 data-v-26dedfb2>Core Team</h2><div class="team-grid" data-v-26dedfb2><div class="team-member" data-v-26dedfb2><div class="member-avatar" data-v-26dedfb2>👨‍💼</div><h4 data-v-26dedfb2>张明</h4><p class="member-title" data-v-26dedfb2></p><p class="member-bio" data-v-26dedfb2>拥有15年金融科技经验，曾在多家知名金融机构担任高管职务。</p></div><div class="team-member" data-v-26dedfb2><div class="member-avatar" data-v-26dedfb2>👩‍💻</div><h4 data-v-26dedfb2>李华</h4><p class="member-title" data-v-26dedfb2>CFO</p><p class="member-bio" data-v-26dedfb2>区块链技术专家，在分布式系统和智能合约开发方面有丰富经验。</p></div><div class="team-member" data-v-26dedfb2><div class="member-avatar" data-v-26dedfb2>👨‍💼</div><h4 data-v-26dedfb2>王强</h4><p class="member-title" data-v-26dedfb2>CMO</p><p class="member-bio" data-v-26dedfb2>房地产行业资深专家，对市场趋势和投资机会有深刻洞察。</p></div></div></div><div class="stats-section" data-v-26dedfb2><h2 data-v-26dedfb2>Company Data</h2><div class="stats-grid" data-v-26dedfb2><div class="stat-item" data-v-26dedfb2><div class="stat-number" data-v-26dedfb2>2023</div><div class="stat-label" data-v-26dedfb2>Year of Establishment</div></div><div class="stat-item" data-v-26dedfb2><div class="stat-number" data-v-26dedfb2>50+</div><div class="stat-label" data-v-26dedfb2>Team Members</div></div><div class="stat-item" data-v-26dedfb2><div class="stat-number" data-v-26dedfb2>$50M+</div><div class="stat-label" data-v-26dedfb2>Managed Assets</div></div><div class="stat-item" data-v-26dedfb2><div class="stat-number" data-v-26dedfb2>1,200+</div><div class="stat-label" data-v-26dedfb2>Active Users</div></div></div></div></div>',2)])])}const XD=ce(qD,[["render",ZD],["__scopeId","data-v-26dedfb2"]]),tL={name:"ContactView",data(){return{form:{name:"",email:"",phone:"",subject:"",message:""},isSubmitting:!1}},methods:{async submitForm(){this.isSubmitting=!0,setTimeout(()=>{alert("Message sent successfully! We will reply to you soon."),this.form={name:"",email:"",phone:"",subject:"",message:""},this.isSubmitting=!1},2e3)}}},eL={class:"container"},sL={class:"contact-content"},nL={class:"contact-grid"},iL={class:"contact-form"},rL={class:"form-fields"},oL={class:"form-group"},aL={class:"form-group"},lL={class:"form-group"},cL={class:"form-group"},uL={class:"form-submit"},dL=["disabled"];function fL(e,t,s,n,i,r){return E(),k("div",eL,[t[12]||(t[12]=o("div",{class:"page-header"},[o("h1",null,"Contact Us"),o("p",{class:"page-subtitle"},"We are happy to help you")],-1)),o("div",sL,[o("div",nL,[t[11]||(t[11]=qt('<div class="contact-info" data-v-d410a13d><h2 data-v-d410a13d>Contact Information</h2><div class="contact-methods" data-v-d410a13d><div class="contact-method" data-v-d410a13d><div class="method-icon" data-v-d410a13d>📧</div><div class="method-details" data-v-d410a13d><h4 data-v-d410a13d>Email</h4><p data-v-d410a13d>support@mortgagerwa.com</p><p data-v-d410a13d>business@mortgagerwa.com</p></div></div><div class="contact-method" data-v-d410a13d><div class="method-icon" data-v-d410a13d>📞</div><div class="method-details" data-v-d410a13d><h4 data-v-d410a13d>Phone</h4><p data-v-d410a13d>+61 2 1234 5678</p><p data-v-d410a13d>Monday to Friday 9:00-18:00</p></div></div><div class="contact-method" data-v-d410a13d><div class="method-icon" data-v-d410a13d>📍</div><div class="method-details" data-v-d410a13d><h4 data-v-d410a13d>Address</h4><p data-v-d410a13d>123 George Street</p><p data-v-d410a13d>Sydney NSW 2000, Australia</p></div></div><div class="contact-method" data-v-d410a13d><div class="method-icon" data-v-d410a13d>💬</div><div class="method-details" data-v-d410a13d><h4 data-v-d410a13d>Online Customer Service</h4><p data-v-d410a13d>24/7 Online Support</p><p data-v-d410a13d>Average Response Time &lt; 5 minutes</p></div></div></div><div class="social-links" data-v-d410a13d><h3 data-v-d410a13d>Follow Us</h3><div class="social-icons" data-v-d410a13d><a href="#" class="social-icon" data-v-d410a13d>🐦</a><a href="#" class="social-icon" data-v-d410a13d>💼</a><a href="#" class="social-icon" data-v-d410a13d>📘</a><a href="#" class="social-icon" data-v-d410a13d>🐙</a></div></div></div>',1)),o("div",iL,[t[10]||(t[10]=o("h2",null,"Send Message",-1)),o("form",{onSubmit:t[4]||(t[4]=yt((...a)=>r.submitForm&&r.submitForm(...a),["prevent"])),class:"form-container"},[o("div",rL,[o("div",oL,[t[5]||(t[5]=o("label",{for:"name"},"Name *",-1)),Lt(o("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.name=a),required:""},null,512),[[me,i.form.name]])]),o("div",aL,[t[6]||(t[6]=o("label",{for:"email"},"Email *",-1)),Lt(o("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.email=a),required:""},null,512),[[me,i.form.email]])]),o("div",lL,[t[8]||(t[8]=o("label",{for:"subject"},"Subject *",-1)),Lt(o("select",{id:"subject","onUpdate:modelValue":t[2]||(t[2]=a=>i.form.subject=a),required:""},[...t[7]||(t[7]=[qt('<option value="" data-v-d410a13d>Please select a subject</option><option value="investor" data-v-d410a13d>I am an Investor/I am interested in investing</option><option value="asset_holder" data-v-d410a13d>I am an Asset Holder/I am interested in holding assets</option><option value="general" data-v-d410a13d>I need General Consultation</option><option value="technical" data-v-d410a13d>I need Technical Support</option><option value="business" data-v-d410a13d>I need Business Cooperation</option><option value="investment" data-v-d410a13d>I need Investment Consultation</option><option value="other" data-v-d410a13d>Other</option>',8)])],512),[[ks,i.form.subject]])]),o("div",cL,[t[9]||(t[9]=o("label",{for:"message"},"Message Content *",-1)),Lt(o("textarea",{id:"message","onUpdate:modelValue":t[3]||(t[3]=a=>i.form.message=a),rows:"5",required:""},null,512),[[me,i.form.message]])])]),o("div",uL,[o("button",{type:"submit",class:"btn primary",disabled:i.isSubmitting},m(i.isSubmitting?"Sending...":"Send Message"),9,dL)])],32)])])])])}const Lf=ce(tL,[["render",fL],["__scopeId","data-v-d410a13d"]]),hL={name:"TermView",methods:{goBack(){this.$router.go(-1)},acceptTerms(){this.$emit("terms-accepted"),this.$router.go(-1)}}},pL={class:"terms-page"},mL={class:"container"},gL={class:"content"},vL={class:"footer-actions"};function yL(e,t,s,n,i,r){return E(),k("div",pL,[o("div",mL,[t[3]||(t[3]=o("div",{class:"header"},[o("h1",null,"Terms of Service"),o("p",{class:"subtitle"},"Please read these terms carefully before using our service")],-1)),o("div",gL,[t[2]||(t[2]=qt('<section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>1. Acceptance of Terms</h2><p data-v-ca4c7f46> By accessing and using this website and our services, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>2. Description of Service</h2><p data-v-ca4c7f46> Our platform provides access to real-world asset (RWA) tokenization services, allowing users to invest in tokenized real estate and other physical assets. We facilitate the connection between investors and asset providers through blockchain technology. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>3. User Responsibilities</h2><ul data-v-ca4c7f46><li data-v-ca4c7f46>You must be at least 18 years old to use our services</li><li data-v-ca4c7f46>You are responsible for maintaining the confidentiality of your account</li><li data-v-ca4c7f46>You agree to provide accurate and complete information</li><li data-v-ca4c7f46>You will not use the service for any illegal or unauthorized purpose</li><li data-v-ca4c7f46>You will comply with all applicable laws and regulations</li></ul></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>4. Investment Risks</h2><p data-v-ca4c7f46><strong data-v-ca4c7f46>Important:</strong> All investments carry risk. The value of your investments can go down as well as up. Past performance is not indicative of future results. You should only invest money that you can afford to lose. </p><ul data-v-ca4c7f46><li data-v-ca4c7f46>Real estate investments are subject to market fluctuations</li><li data-v-ca4c7f46>Tokenized assets may have liquidity restrictions</li><li data-v-ca4c7f46>Regulatory changes may affect the value of your investments</li><li data-v-ca4c7f46>Technology risks including smart contract vulnerabilities</li></ul></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>5. KYC and Compliance</h2><p data-v-ca4c7f46> We are required to comply with Know Your Customer (KYC) and Anti-Money Laundering (AML) regulations. You agree to provide necessary documentation and information for verification purposes. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>6. Prohibited Activities</h2><p data-v-ca4c7f46>You agree not to:</p><ul data-v-ca4c7f46><li data-v-ca4c7f46>Use the service for money laundering or terrorist financing</li><li data-v-ca4c7f46>Attempt to circumvent security measures</li><li data-v-ca4c7f46>Interfere with the proper functioning of the platform</li><li data-v-ca4c7f46>Provide false or misleading information</li><li data-v-ca4c7f46>Violate any applicable laws or regulations</li></ul></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>7. Limitation of Liability</h2><p data-v-ca4c7f46> To the maximum extent permitted by law, we shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your use of the service. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>8. Modifications</h2><p data-v-ca4c7f46> We reserve the right to modify these terms at any time. We will notify users of any material changes through our platform or by email. Your continued use of the service after such modifications constitutes acceptance of the updated terms. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>9. Termination</h2><p data-v-ca4c7f46> We may terminate or suspend your account and access to the service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>10. Governing Law</h2><p data-v-ca4c7f46> These Terms shall be interpreted and governed by the laws of Australia, without regard to its conflict of law provisions. Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>11. Contact Information</h2><p data-v-ca4c7f46> If you have any questions about these Terms of Service, please contact us at: <br data-v-ca4c7f46> Email: legal@rwatoken.com <br data-v-ca4c7f46> Address: Sydney, Australia </p></section>',11)),o("div",vL,[o("button",{onClick:t[0]||(t[0]=(...a)=>r.goBack&&r.goBack(...a)),class:"btn btn-secondary"},"Back to Signup"),o("button",{onClick:t[1]||(t[1]=(...a)=>r.acceptTerms&&r.acceptTerms(...a)),class:"btn btn-primary"},"I Accept These Terms")])])])])}const bL=ce(hL,[["render",yL],["__scopeId","data-v-ca4c7f46"]]),wL={name:"PrivacyPolicyView",data(){return{lastUpdated:new Date().toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"})}},methods:{goBack(){this.$router.go(-1)},acceptPolicy(){this.$emit("policy-accepted"),this.$router.go(-1)}}},AL={class:"privacy-page"},EL={class:"container"},kL={class:"header"},CL={class:"last-updated"},TL={class:"content"},SL={class:"footer-actions"};function _L(e,t,s,n,i,r){return E(),k("div",AL,[o("div",EL,[o("div",kL,[t[2]||(t[2]=o("h1",null,"Privacy Policy",-1)),t[3]||(t[3]=o("p",{class:"subtitle"},"How we collect, use, and protect your personal information",-1)),o("p",CL,"Last updated: "+m(i.lastUpdated),1)]),o("div",TL,[t[4]||(t[4]=qt('<section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>1. Introduction</h2><p data-v-80dfd0e3> At RWA Token Platform, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform. </p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>2. Information We Collect</h2><h3 data-v-80dfd0e3>2.1 Personal Information</h3><p data-v-80dfd0e3>We may collect the following types of personal information:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Identity Information:</strong> Full name, date of birth, government-issued ID numbers</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Contact Information:</strong> Email address, phone number, mailing address</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Financial Information:</strong> Bank account details, income information, investment experience</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>KYC/AML Documentation:</strong> Identity verification documents, proof of address, source of funds</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Account Information:</strong> Username, password (encrypted), account preferences</li></ul><h3 data-v-80dfd0e3>2.2 Technical Information</h3><p data-v-80dfd0e3>We automatically collect certain technical information:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>IP address and location data</li><li data-v-80dfd0e3>Device information (browser type, operating system)</li><li data-v-80dfd0e3>Usage patterns and preferences</li><li data-v-80dfd0e3>Cookies and similar tracking technologies</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>3. How We Use Your Information</h2><p data-v-80dfd0e3>We use your personal information for the following purposes:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Account Management:</strong> Creating and maintaining your account</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Identity Verification:</strong> Conducting KYC and AML checks as required by law</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Service Provision:</strong> Providing access to our tokenization platform</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Communication:</strong> Sending important updates, notifications, and support</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Compliance:</strong> Meeting regulatory requirements and legal obligations</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Security:</strong> Protecting against fraud and unauthorized access</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Improvement:</strong> Enhancing our services and user experience</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>4. Legal Basis for Processing</h2><p data-v-80dfd0e3>We process your personal information based on the following legal grounds:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Contract Performance:</strong> To provide our services under our terms of service</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Legal Obligation:</strong> To comply with KYC, AML, and other regulatory requirements</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Legitimate Interest:</strong> To improve our services and prevent fraud</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Consent:</strong> For marketing communications and non-essential cookies</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>5. Information Sharing and Disclosure</h2><p data-v-80dfd0e3>We may share your information in the following circumstances:</p><h3 data-v-80dfd0e3>5.1 Service Providers</h3><p data-v-80dfd0e3>We share information with trusted third-party service providers who assist us in:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Identity verification and KYC services</li><li data-v-80dfd0e3>Payment processing and banking services</li><li data-v-80dfd0e3>Cloud hosting and data storage</li><li data-v-80dfd0e3>Customer support and communication</li></ul><h3 data-v-80dfd0e3>5.2 Legal Requirements</h3><p data-v-80dfd0e3>We may disclose information when required by law or to:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Comply with legal processes or government requests</li><li data-v-80dfd0e3>Protect our rights, property, or safety</li><li data-v-80dfd0e3>Prevent fraud or illegal activities</li><li data-v-80dfd0e3>Enforce our terms of service</li></ul><h3 data-v-80dfd0e3>5.3 Business Transfers</h3><p data-v-80dfd0e3>In the event of a merger, acquisition, or sale of assets, your information may be transferred to the new entity.</p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>6. Data Security</h2><p data-v-80dfd0e3>We implement comprehensive security measures to protect your information:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Encryption:</strong> All data is encrypted in transit and at rest</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Access Controls:</strong> Strict access controls and authentication protocols</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Regular Audits:</strong> Regular security audits and penetration testing</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Employee Training:</strong> Comprehensive privacy and security training for all staff</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Incident Response:</strong> Robust incident response procedures</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>7. Data Retention</h2><p data-v-80dfd0e3> We retain your personal information for as long as necessary to fulfill the purposes outlined in this policy, comply with legal obligations, resolve disputes, and enforce our agreements. Specifically: </p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Account information: Retained while your account is active</li><li data-v-80dfd0e3>KYC/AML documents: Retained for 7 years as required by law</li><li data-v-80dfd0e3>Transaction records: Retained for 7 years for regulatory compliance</li><li data-v-80dfd0e3>Marketing data: Retained until you opt out or for 3 years of inactivity</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>8. Your Rights</h2><p data-v-80dfd0e3>Depending on your location, you may have the following rights:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Access:</strong> Request a copy of your personal information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Rectification:</strong> Correct inaccurate or incomplete information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Erasure:</strong> Request deletion of your personal information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Portability:</strong> Receive your data in a structured format</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Restriction:</strong> Limit how we process your information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Objection:</strong> Object to certain types of processing</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Withdraw Consent:</strong> Withdraw consent for consent-based processing</li></ul><p data-v-80dfd0e3>To exercise these rights, please contact us at privacy@rwatoken.com</p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>9. Cookies and Tracking</h2><p data-v-80dfd0e3>We use cookies and similar technologies to:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Remember your preferences and settings</li><li data-v-80dfd0e3>Analyze website usage and performance</li><li data-v-80dfd0e3>Provide personalized content and advertisements</li><li data-v-80dfd0e3>Ensure security and prevent fraud</li></ul><p data-v-80dfd0e3>You can control cookie settings through your browser preferences.</p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>10. International Transfers</h2><p data-v-80dfd0e3> Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers, including: </p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Standard contractual clauses</li><li data-v-80dfd0e3>Adequacy decisions by relevant authorities</li><li data-v-80dfd0e3>Certification schemes and codes of conduct</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>11. Children&#39;s Privacy</h2><p data-v-80dfd0e3> Our services are not intended for individuals under 18 years of age. We do not knowingly collect personal information from children under 18. If we become aware that we have collected such information, we will take steps to delete it. </p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>12. Changes to This Policy</h2><p data-v-80dfd0e3> We may update this Privacy Policy from time to time. We will notify you of any material changes by: </p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Posting the updated policy on our website</li><li data-v-80dfd0e3>Sending email notifications to registered users</li><li data-v-80dfd0e3>Displaying prominent notices on our platform</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>13. Contact Us</h2><p data-v-80dfd0e3> If you have any questions about this Privacy Policy or our privacy practices, please contact us: </p><div class="contact-info" data-v-80dfd0e3><p data-v-80dfd0e3><strong data-v-80dfd0e3>Email:</strong> privacy@rwatoken.com</p><p data-v-80dfd0e3><strong data-v-80dfd0e3>Data Protection Officer:</strong> dpo@rwatoken.com</p><p data-v-80dfd0e3><strong data-v-80dfd0e3>Address:</strong> Sydney, Australia</p><p data-v-80dfd0e3><strong data-v-80dfd0e3>Phone:</strong> +61 (0) 2 1234 5678</p></div></section>',13)),o("div",SL,[o("button",{onClick:t[0]||(t[0]=(...a)=>r.goBack&&r.goBack(...a)),class:"btn btn-secondary"},"Back to Signup"),o("button",{onClick:t[1]||(t[1]=(...a)=>r.acceptPolicy&&r.acceptPolicy(...a)),class:"btn btn-primary"},"I Accept This Policy")])])])])}const PL=ce(wL,[["render",_L],["__scopeId","data-v-80dfd0e3"]]),IL={name:"FAQView",mounted(){console.log("📋 FAQView 组件已加载")}},xL={class:"faq-page"};function RL(e,t,s,n,i,r){return E(),k("div",xL,[...t[0]||(t[0]=[qt('<section class="section" data-v-4cb42e86><div class="container" data-v-4cb42e86><div class="hero-content" data-v-4cb42e86><h1 class="hero-title" data-v-4cb42e86>Frequently Asked Questions</h1><p class="hero-subtitle" data-v-4cb42e86>Everything you need to know about RWA Property Loans and our platform.</p></div></div></section><section class="section" data-v-4cb42e86><div class="container" data-v-4cb42e86><div class="faq-grid" data-v-4cb42e86><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>🏠</div><h3 class="faq-title" data-v-4cb42e86>What are RWA Property Loans?</h3><p class="faq-desc" data-v-4cb42e86>Real World Asset (RWA) Property Loans are tokenized mortgage-backed loans that allow investors to participate in real estate investments with daily returns and transparent blockchain technology.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>💰</div><h3 class="faq-title" data-v-4cb42e86>How do daily returns work?</h3><p class="faq-desc" data-v-4cb42e86>Our platform provides daily interest payments on your investments, calculated based on the annual interest rate of the underlying property loan and distributed proportionally.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>🔒</div><h3 class="faq-title" data-v-4cb42e86>Is my investment secure?</h3><p class="faq-desc" data-v-4cb42e86>Yes, all investments are backed by real property assets with first-lien mortgages, providing strong security for your capital. Each loan undergoes rigorous due diligence.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>📊</div><h3 class="faq-title" data-v-4cb42e86>What is the minimum investment?</h3><p class="faq-desc" data-v-4cb42e86>The minimum investment varies by project, but typically starts from AUD 100, making real estate investment accessible to a wider range of investors.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>⏰</div><h3 class="faq-title" data-v-4cb42e86>What are the loan terms?</h3><p class="faq-desc" data-v-4cb42e86>Loan terms typically range from 12 to 36 months, with monthly interest payments and principal repayment at maturity. Early repayment options may be available.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>🌐</div><h3 class="faq-title" data-v-4cb42e86>How does the blockchain integration work?</h3><p class="faq-desc" data-v-4cb42e86>All transactions are recorded on the blockchain, providing transparency, immutability, and real-time tracking of your investments and returns.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>📱</div><h3 class="faq-title" data-v-4cb42e86>Can I track my portfolio?</h3><p class="faq-desc" data-v-4cb42e86>Yes, our platform provides comprehensive portfolio tracking, including real-time valuations, transaction history, and performance analytics.</p></article><article class="faq-item" data-v-4cb42e86><div class="faq-icon" data-v-4cb42e86>🏦</div><h3 class="faq-title" data-v-4cb42e86>How do I withdraw my returns?</h3><p class="faq-desc" data-v-4cb42e86>Returns are automatically credited to your account and can be withdrawn through our secure payment system. Processing times vary by method.</p></article></div><div class="faq-cta" data-v-4cb42e86><div class="faq-cta-avatars" aria-hidden="true" data-v-4cb42e86><span class="avatar" data-v-4cb42e86>A</span><span class="avatar" data-v-4cb42e86>B</span><span class="avatar" data-v-4cb42e86>C</span></div><h3 class="faq-cta-title" data-v-4cb42e86>Still have questions?</h3><p class="faq-cta-sub" data-v-4cb42e86>Can&#39;t find the answer you&#39;re looking for? Please chat to our friendly team.</p><a href="#" class="btn primary" data-v-4cb42e86>Get in touch</a></div></div></section>',2)])])}const NL=ce(IL,[["render",RL],["__scopeId","data-v-4cb42e86"]]),DL={name:"SettingsView",data(){return{activeSection:"general",settingsSections:[{id:"general",title:"General",icon:"⚙️",description:"Basic application settings and preferences"},{id:"security",title:"Security",icon:"🔐",description:"Password, authentication, and security settings"},{id:"wallet",title:"Wallet",icon:"💼",description:"Wallet connection and transaction settings"},{id:"notifications",title:"Notifications",icon:"🔔",description:"Notification preferences and alerts"},{id:"performance",title:"Performance",icon:"⚡",description:"Performance optimization and caching settings"},{id:"account",title:"Account",icon:"👤",description:"Account options and profile settings"},{id:"trading",title:"Trading",icon:"📊",description:"Trading preferences and options"},{id:"privacy",title:"Privacy",icon:"🔒",description:"Privacy controls and data settings"},{id:"advanced",title:"Advanced",icon:"🔧",description:"Advanced settings and developer options"}],settings:{language:"en",theme:"dark",timezone:"UTC",sessionTimeout:30,defaultWallet:"metamask",autoConnect:!1,pushNotifications:!0,emailNotifications:!0,smsAlerts:!1,autoRefresh:60,cacheSize:250,developerMode:!1,analytics:!0,profileVisibility:"public",twoFactorAuth:!1,defaultTradingPair:"ETH/USDT",autoConfirmTrades:!1,dataCollection:!0,marketingEmails:!1,thirdPartySharing:!1}}},methods:{setActiveSection(e){this.activeSection=e},getActiveSectionTitle(){const e=this.settingsSections.find(t=>t.id===this.activeSection);return e?e.title:"Settings"},getActiveSectionDescription(){const e=this.settingsSections.find(t=>t.id===this.activeSection);return e?e.description:"Manage your application preferences"},saveSettings(){console.log("Settings saved:",this.settings),localStorage.setItem("userSettings",JSON.stringify(this.settings)),alert("Settings saved successfully!")},resetSettings(){confirm("Are you sure you want to reset all settings to default values?")&&(this.settings={language:"en",theme:"dark",timezone:"UTC",sessionTimeout:30,defaultWallet:"metamask",autoConnect:!1,pushNotifications:!0,emailNotifications:!0,smsAlerts:!1,autoRefresh:60,cacheSize:250,developerMode:!1,analytics:!0,profileVisibility:"public",twoFactorAuth:!1,defaultTradingPair:"ETH/USDT",autoConfirmTrades:!1,dataCollection:!0,marketingEmails:!1,thirdPartySharing:!1},localStorage.removeItem("userSettings"),alert("Settings reset to default values!"))}},mounted(){const e=localStorage.getItem("userSettings");e&&(this.settings={...this.settings,...JSON.parse(e)})}},LL={class:"settings-page"},BL={class:"settings-container"},OL={class:"settings-sidebar"},ML={class:"sidebar-nav"},UL=["onClick"],FL={class:"sidebar-icon"},$L={class:"sidebar-text"},VL={class:"settings-main"},HL={class:"main-header"},jL={class:"main-title"},WL={class:"main-subtitle"},GL={class:"main-content"},KL={key:0,class:"settings-section"},YL={key:1,class:"settings-section"},zL={key:2,class:"settings-section"},QL={key:3,class:"settings-section"},qL={key:4,class:"settings-section"},JL={key:5,class:"settings-section"},ZL={key:6,class:"settings-section"},XL={key:7,class:"settings-section"},tB={key:8,class:"settings-section"},eB={class:"page-actions"};function sB(e,t,s,n,i,r){return E(),k("div",LL,[o("div",BL,[o("div",OL,[t[2]||(t[2]=o("div",{class:"sidebar-header"},[o("h1",{class:"sidebar-title"},"Settings")],-1)),o("nav",ML,[(E(!0),k(kt,null,ke(i.settingsSections,a=>(E(),k("button",{key:a.id,class:St(["sidebar-item",{active:i.activeSection===a.id}]),onClick:l=>r.setActiveSection(a.id)},[o("span",FL,m(a.icon),1),o("span",$L,m(a.title),1)],10,UL))),128))])]),o("div",VL,[o("div",HL,[o("h2",jL,m(r.getActiveSectionTitle()),1),o("p",WL,m(r.getActiveSectionDescription()),1)]),o("div",GL,[i.activeSection==="general"?(E(),k("div",KL,[...t[3]||(t[3]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Language</h3><p class="settings-description" data-v-8532b684>Choose your preferred language</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="en" data-v-8532b684>English</option><option value="zh" data-v-8532b684>中文</option><option value="ja" data-v-8532b684>日本語</option><option value="ko" data-v-8532b684>한국어</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Theme</h3><p class="settings-description" data-v-8532b684>Select your preferred theme</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="dark" data-v-8532b684>Dark</option><option value="light" data-v-8532b684>Light</option><option value="auto" data-v-8532b684>Auto</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Timezone</h3><p class="settings-description" data-v-8532b684>Set your local timezone</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="UTC" data-v-8532b684>UTC</option><option value="EST" data-v-8532b684>Eastern Time</option><option value="PST" data-v-8532b684>Pacific Time</option><option value="CST" data-v-8532b684>China Standard Time</option></select></div></div></div>',1)])])):H("",!0),i.activeSection==="security"?(E(),k("div",YL,[...t[4]||(t[4]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Password</h3><p class="settings-description" data-v-8532b684>Change your account password</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>Change Password</button></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Session Timeout</h3><p class="settings-description" data-v-8532b684>Set automatic logout time</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="15" data-v-8532b684>15 minutes</option><option value="30" data-v-8532b684>30 minutes</option><option value="60" data-v-8532b684>1 hour</option><option value="480" data-v-8532b684>8 hours</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Login Alerts</h3><p class="settings-description" data-v-8532b684>Get notified of new login attempts</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" checked data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div></div>',1)])])):H("",!0),i.activeSection==="wallet"?(E(),k("div",zL,[...t[5]||(t[5]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Default Wallet</h3><p class="settings-description" data-v-8532b684>Select your preferred wallet provider</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="metamask" data-v-8532b684>MetaMask</option><option value="walletconnect" data-v-8532b684>WalletConnect</option><option value="coinbase" data-v-8532b684>Coinbase Wallet</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Auto-Connect</h3><p class="settings-description" data-v-8532b684>Automatically connect wallet on page load</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Gas Settings</h3><p class="settings-description" data-v-8532b684>Configure transaction gas preferences</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>Gas Settings</button></div></div></div>',1)])])):H("",!0),i.activeSection==="notifications"?(E(),k("div",QL,[...t[6]||(t[6]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Push Notifications</h3><p class="settings-description" data-v-8532b684>Enable browser push notifications</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" checked data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Email Notifications</h3><p class="settings-description" data-v-8532b684>Receive important updates via email</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" checked data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>SMS Alerts</h3><p class="settings-description" data-v-8532b684>Get critical alerts via SMS</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div></div>',1)])])):H("",!0),i.activeSection==="performance"?(E(),k("div",qL,[...t[7]||(t[7]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Auto-Refresh</h3><p class="settings-description" data-v-8532b684>Automatically refresh data</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="0" data-v-8532b684>Disabled</option><option value="30" data-v-8532b684>30 seconds</option><option value="60" data-v-8532b684>1 minute</option><option value="300" data-v-8532b684>5 minutes</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Cache Size</h3><p class="settings-description" data-v-8532b684>Maximum cache storage size</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="100" data-v-8532b684>100 MB</option><option value="250" data-v-8532b684>250 MB</option><option value="500" data-v-8532b684>500 MB</option><option value="1000" data-v-8532b684>1 GB</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Clear Cache</h3><p class="settings-description" data-v-8532b684>Clear all cached data</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>Clear Cache</button></div></div></div>',1)])])):H("",!0),i.activeSection==="account"?(E(),k("div",JL,[...t[8]||(t[8]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Profile Visibility</h3><p class="settings-description" data-v-8532b684>Control who can see your profile information</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="public" data-v-8532b684>Public</option><option value="friends" data-v-8532b684>Friends Only</option><option value="private" data-v-8532b684>Private</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Two-Factor Authentication</h3><p class="settings-description" data-v-8532b684>Add an extra layer of security to your account</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>Enable 2FA</button></div></div></div>',1)])])):H("",!0),i.activeSection==="trading"?(E(),k("div",ZL,[...t[9]||(t[9]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Default Trading Pair</h3><p class="settings-description" data-v-8532b684>Set your preferred trading pair for quick access</p></div><div class="settings-control" data-v-8532b684><select class="settings-select" data-v-8532b684><option value="ETH/USDT" data-v-8532b684>ETH/USDT</option><option value="BTC/USDT" data-v-8532b684>BTC/USDT</option><option value="USDC/USDT" data-v-8532b684>USDC/USDT</option></select></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Auto-Confirm Trades</h3><p class="settings-description" data-v-8532b684>Automatically confirm trades under specified amount</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Price Alerts</h3><p class="settings-description" data-v-8532b684>Get notified when prices reach your target</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>Manage Alerts</button></div></div></div>',1)])])):H("",!0),i.activeSection==="privacy"?(E(),k("div",XL,[...t[10]||(t[10]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Data Collection</h3><p class="settings-description" data-v-8532b684>Allow us to collect anonymous usage data</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" checked data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Marketing Emails</h3><p class="settings-description" data-v-8532b684>Receive promotional emails and updates</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Third-Party Sharing</h3><p class="settings-description" data-v-8532b684>Allow sharing data with trusted partners</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div></div>',1)])])):H("",!0),i.activeSection==="advanced"?(E(),k("div",tB,[...t[11]||(t[11]=[qt('<div class="settings-items" data-v-8532b684><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>API Access</h3><p class="settings-description" data-v-8532b684>Manage your API keys and permissions</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>API Settings</button></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Export Data</h3><p class="settings-description" data-v-8532b684>Download your account data</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-secondary" data-v-8532b684>Export</button></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Developer Mode</h3><p class="settings-description" data-v-8532b684>Enable developer tools and debug mode</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Analytics</h3><p class="settings-description" data-v-8532b684>Help improve the app by sharing usage data</p></div><div class="settings-control" data-v-8532b684><label class="toggle-switch" data-v-8532b684><input type="checkbox" checked data-v-8532b684><span class="toggle-slider" data-v-8532b684></span></label></div></div><div class="settings-item" data-v-8532b684><div class="settings-info" data-v-8532b684><h3 class="settings-name" data-v-8532b684>Reset Preferences</h3><p class="settings-description" data-v-8532b684>Reset all options to default values</p></div><div class="settings-control" data-v-8532b684><button class="btn btn-danger" data-v-8532b684>Reset All</button></div></div></div>',1)])])):H("",!0)]),o("div",eB,[o("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...a)=>r.saveSettings&&r.saveSettings(...a))},"Save Settings"),o("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...a)=>r.resetSettings&&r.resetSettings(...a))},"Reset to Default")])])])])}const nB=ce(DL,[["render",sB],["__scopeId","data-v-8532b684"]]),iB=Xk({history:Pk(),routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:Jh},{path:"/wallet",name:"wallet",component:bg},{path:"/portfolio",name:"portfolio",component:cg},{path:"/projects",name:"projects",component:jl},{path:"/projects/:code",name:"projectDetail",component:jl,props:!0},{path:"/detail/:id?",name:"detail",component:Ag,props:!0},{path:"/token/:address",name:"tokenDetail",component:fD,props:!0},{path:"/profile",name:"profile",component:yg},{path:"/login",name:"login",component:pg},{path:"/signup",name:"signup",component:mg},{path:"/trade/:code",name:"tradeProject",component:ER,props:!0},{path:"/contract",name:"contract",component:YN},{path:"/kycService",component:wg},{path:"/overview",name:"overview",component:ys},{path:"/features",redirect:"/solutions"},{path:"/solutions",name:"solutions",component:DD},{path:"/tutorials",name:"tutorials",component:MD},{path:"/pricing",name:"pricing",component:QD},{path:"/about",name:"about",component:XD},{path:"/contact",name:"contact",component:Lf},{path:"/faq",name:"faq",component:NL},{path:"/releases",name:"releases",component:ys},{path:"/careers",name:"careers",component:ys},{path:"/press",name:"press",component:ys},{path:"/news",name:"news",component:ys},{path:"/media-kit",name:"media-kit",component:ys},{path:"/blog",name:"blog",component:ys},{path:"/newsletter",name:"newsletter",component:ys},{path:"/events",name:"events",component:ys},{path:"/help",name:"help",component:ys},{path:"/support",name:"support",component:Lf},{path:"/terms",name:"terms",component:bL},{path:"/privacy",name:"privacy",component:PL},{path:"/cookies",name:"cookies",component:ys},{path:"/licenses",name:"licenses",component:ys},{path:"/settings",name:"settings",component:nB},{path:"/options",redirect:"/settings"}]});q0(U6).use(iB).mount("#app");

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ContractAddressTestView-1MEr-8KV.js","assets/ContractAddressTestView-B28YdD6l.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $l(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Jt={},wi=[],Ds=()=>{},af=()=>!1,$a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vl=e=>e.startsWith("onUpdate:"),Se=Object.assign,Hl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},gg=Object.prototype.hasOwnProperty,Wt=(e,t)=>gg.call(e,t),yt=Array.isArray,Ai=e=>Dr(e)==="[object Map]",$i=e=>Dr(e)==="[object Set]",Fc=e=>Dr(e)==="[object Date]",kt=e=>typeof e=="function",ge=e=>typeof e=="string",Os=e=>typeof e=="symbol",Zt=e=>e!==null&&typeof e=="object",of=e=>(Zt(e)||kt(e))&&kt(e.then)&&kt(e.catch),lf=Object.prototype.toString,Dr=e=>lf.call(e),vg=e=>Dr(e).slice(8,-1),cf=e=>Dr(e)==="[object Object]",jl=e=>ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,tr=$l(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Va=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},yg=/-\w/g,ps=Va(e=>e.replace(yg,t=>t.slice(1).toUpperCase())),bg=/\B([A-Z])/g,ai=Va(e=>e.replace(bg,"-$1").toLowerCase()),Ha=Va(e=>e.charAt(0).toUpperCase()+e.slice(1)),bo=Va(e=>e?`on${Ha(e)}`:""),kn=(e,t)=>!Object.is(e,t),ca=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},uf=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},va=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wg=e=>{const t=ge(e)?Number(e):NaN;return isNaN(t)?e:t};let $c;const ja=()=>$c||($c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rs(e){if(yt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=ge(n)?Cg(n):Rs(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(ge(e)||Zt(e))return e}const Ag=/;(?![^(]*\))/g,Eg=/:([^]+)/,kg=/\/\*[^]*?\*\//g;function Cg(e){const t={};return e.replace(kg,"").split(Ag).forEach(s=>{if(s){const n=s.split(Eg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ct(e){let t="";if(ge(e))t=e;else if(yt(e))for(let s=0;s<e.length;s++){const n=Ct(e[s]);n&&(t+=n+" ")}else if(Zt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Sg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tg=$l(Sg);function df(e){return!!e||e===""}function _g(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Br(e[n],t[n]);return s}function Br(e,t){if(e===t)return!0;let s=Fc(e),n=Fc(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Os(e),n=Os(t),s||n)return e===t;if(s=yt(e),n=yt(t),s||n)return s&&n?_g(e,t):!1;if(s=Zt(e),n=Zt(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!Br(e[a],t[a]))return!1}}return String(e)===String(t)}function Gl(e,t){return e.findIndex(s=>Br(s,t))}const ff=e=>!!(e&&e.__v_isRef===!0),y=e=>ge(e)?e:e==null?"":yt(e)||Zt(e)&&(e.toString===lf||!kt(e.toString))?ff(e)?y(e.value):JSON.stringify(e,hf,2):String(e),hf=(e,t)=>ff(t)?hf(e,t.value):Ai(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],r)=>(s[wo(n,r)+" =>"]=i,s),{})}:$i(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>wo(s))}:Os(t)?wo(t):Zt(t)&&!yt(t)&&!cf(t)?String(t):t,wo=(e,t="")=>{var s;return Os(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qe;class Pg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qe,!t&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Qe;try{return Qe=this,t()}finally{Qe=s}}}on(){++this._on===1&&(this.prevScope=Qe,Qe=this)}off(){this._on>0&&--this._on===0&&(Qe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function xg(){return Qe}let te;const Ao=new WeakSet;class pf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qe&&Qe.active&&Qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ao.has(this)&&(Ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vc(this),vf(this);const t=te,s=Es;te=this,Es=!0;try{return this.fn()}finally{yf(this),te=t,Es=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)zl(t);this.deps=this.depsTail=void 0,Vc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xo(this)&&this.run()}get dirty(){return Xo(this)}}let mf=0,er,sr;function gf(e,t=!1){if(e.flags|=8,t){e.next=sr,sr=e;return}e.next=er,er=e}function Kl(){mf++}function Wl(){if(--mf>0)return;if(sr){let t=sr;for(sr=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;er;){let t=er;for(er=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function vf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yf(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),zl(n),Ig(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Xo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(bf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function bf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hr)||(e.globalVersion=hr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Xo(e))))return;e.flags|=2;const t=e.dep,s=te,n=Es;te=e,Es=!0;try{vf(e);const i=e.fn(e._value);(t.version===0||kn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{te=s,Es=n,yf(e),e.flags&=-3}}function zl(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)zl(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ig(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Es=!0;const wf=[];function nn(){wf.push(Es),Es=!1}function rn(){const e=wf.pop();Es=e===void 0?!0:e}function Vc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=te;te=void 0;try{t()}finally{te=s}}}let hr=0;class Rg{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!te||!Es||te===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==te)s=this.activeLink=new Rg(te,this),te.deps?(s.prevDep=te.depsTail,te.depsTail.nextDep=s,te.depsTail=s):te.deps=te.depsTail=s,Af(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=te.depsTail,s.nextDep=void 0,te.depsTail.nextDep=s,te.depsTail=s,te.deps===s&&(te.deps=n)}return s}trigger(t){this.version++,hr++,this.notify(t)}notify(t){Kl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Wl()}}}function Af(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Af(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const tl=new WeakMap,Jn=Symbol(""),el=Symbol(""),pr=Symbol("");function Ne(e,t,s){if(Es&&te){let n=tl.get(e);n||tl.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new Yl),i.map=n,i.key=s),i.track()}}function zs(e,t,s,n,i,r){const a=tl.get(e);if(!a){hr++;return}const l=c=>{c&&c.trigger()};if(Kl(),t==="clear")a.forEach(l);else{const c=yt(e),u=c&&jl(s);if(c&&s==="length"){const d=Number(n);a.forEach((f,h)=>{(h==="length"||h===pr||!Os(h)&&h>=d)&&l(f)})}else switch((s!==void 0||a.has(void 0))&&l(a.get(s)),u&&l(a.get(pr)),t){case"add":c?u&&l(a.get("length")):(l(a.get(Jn)),Ai(e)&&l(a.get(el)));break;case"delete":c||(l(a.get(Jn)),Ai(e)&&l(a.get(el)));break;case"set":Ai(e)&&l(a.get(Jn));break}}Wl()}function ui(e){const t=jt(e);return t===e?t:(Ne(t,"iterate",pr),hs(e)?t:t.map(Pe))}function Ga(e){return Ne(e=jt(e),"iterate",pr),e}const Ng={__proto__:null,[Symbol.iterator](){return Eo(this,Symbol.iterator,Pe)},concat(...e){return ui(this).concat(...e.map(t=>yt(t)?ui(t):t))},entries(){return Eo(this,"entries",e=>(e[1]=Pe(e[1]),e))},every(e,t){return Us(this,"every",e,t,void 0,arguments)},filter(e,t){return Us(this,"filter",e,t,s=>s.map(Pe),arguments)},find(e,t){return Us(this,"find",e,t,Pe,arguments)},findIndex(e,t){return Us(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Us(this,"findLast",e,t,Pe,arguments)},findLastIndex(e,t){return Us(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Us(this,"forEach",e,t,void 0,arguments)},includes(...e){return ko(this,"includes",e)},indexOf(...e){return ko(this,"indexOf",e)},join(e){return ui(this).join(e)},lastIndexOf(...e){return ko(this,"lastIndexOf",e)},map(e,t){return Us(this,"map",e,t,void 0,arguments)},pop(){return Gi(this,"pop")},push(...e){return Gi(this,"push",e)},reduce(e,...t){return Hc(this,"reduce",e,t)},reduceRight(e,...t){return Hc(this,"reduceRight",e,t)},shift(){return Gi(this,"shift")},some(e,t){return Us(this,"some",e,t,void 0,arguments)},splice(...e){return Gi(this,"splice",e)},toReversed(){return ui(this).toReversed()},toSorted(e){return ui(this).toSorted(e)},toSpliced(...e){return ui(this).toSpliced(...e)},unshift(...e){return Gi(this,"unshift",e)},values(){return Eo(this,"values",Pe)}};function Eo(e,t,s){const n=Ga(e),i=n[t]();return n!==e&&!hs(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=s(r.value)),r}),i}const Lg=Array.prototype;function Us(e,t,s,n,i,r){const a=Ga(e),l=a!==e&&!hs(e),c=a[t];if(c!==Lg[t]){const f=c.apply(e,r);return l?Pe(f):f}let u=s;a!==e&&(l?u=function(f,h){return s.call(this,Pe(f),h,e)}:s.length>2&&(u=function(f,h){return s.call(this,f,h,e)}));const d=c.call(a,u,n);return l&&i?i(d):d}function Hc(e,t,s,n){const i=Ga(e);let r=s;return i!==e&&(hs(e)?s.length>3&&(r=function(a,l,c){return s.call(this,a,l,c,e)}):r=function(a,l,c){return s.call(this,a,Pe(l),c,e)}),i[t](r,...n)}function ko(e,t,s){const n=jt(e);Ne(n,"iterate",pr);const i=n[t](...s);return(i===-1||i===!1)&&Jl(s[0])?(s[0]=jt(s[0]),n[t](...s)):i}function Gi(e,t,s=[]){nn(),Kl();const n=jt(e)[t].apply(e,s);return Wl(),rn(),n}const Dg=$l("__proto__,__v_isRef,__isVue"),Ef=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Os));function Bg(e){Os(e)||(e=String(e));const t=jt(this);return Ne(t,"has",e),t.hasOwnProperty(e)}class kf{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?Kg:_f:r?Tf:Sf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=yt(t);if(!i){let c;if(a&&(c=Ng[s]))return c;if(s==="hasOwnProperty")return Bg}const l=Reflect.get(t,s,Be(t)?t:n);return(Os(s)?Ef.has(s):Dg(s))||(i||Ne(t,"get",s),r)?l:Be(l)?a&&jl(s)?l:l.value:Zt(l)?i?xf(l):Or(l):l}}class Cf extends kf{constructor(t=!1){super(!1,t)}set(t,s,n,i){let r=t[s];if(!this._isShallow){const c=Sn(r);if(!hs(n)&&!Sn(n)&&(r=jt(r),n=jt(n)),!yt(t)&&Be(r)&&!Be(n))return c||(r.value=n),!0}const a=yt(t)&&jl(s)?Number(s)<t.length:Wt(t,s),l=Reflect.set(t,s,n,Be(t)?t:i);return t===jt(i)&&(a?kn(n,r)&&zs(t,"set",s,n):zs(t,"add",s,n)),l}deleteProperty(t,s){const n=Wt(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&zs(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Os(s)||!Ef.has(s))&&Ne(t,"has",s),n}ownKeys(t){return Ne(t,"iterate",yt(t)?"length":Jn),Reflect.ownKeys(t)}}class Og extends kf{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Mg=new Cf,Ug=new Og,Fg=new Cf(!0);const sl=e=>e,Qr=e=>Reflect.getPrototypeOf(e);function $g(e,t,s){return function(...n){const i=this.__v_raw,r=jt(i),a=Ai(r),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,u=i[e](...n),d=s?sl:t?ya:Pe;return!t&&Ne(r,"iterate",c?el:Jn),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:l?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function qr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Vg(e,t){const s={get(i){const r=this.__v_raw,a=jt(r),l=jt(i);e||(kn(i,l)&&Ne(a,"get",i),Ne(a,"get",l));const{has:c}=Qr(a),u=t?sl:e?ya:Pe;if(c.call(a,i))return u(r.get(i));if(c.call(a,l))return u(r.get(l));r!==a&&r.get(i)},get size(){const i=this.__v_raw;return!e&&Ne(jt(i),"iterate",Jn),i.size},has(i){const r=this.__v_raw,a=jt(r),l=jt(i);return e||(kn(i,l)&&Ne(a,"has",i),Ne(a,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const a=this,l=a.__v_raw,c=jt(l),u=t?sl:e?ya:Pe;return!e&&Ne(c,"iterate",Jn),l.forEach((d,f)=>i.call(r,u(d),u(f),a))}};return Se(s,e?{add:qr("add"),set:qr("set"),delete:qr("delete"),clear:qr("clear")}:{add(i){!t&&!hs(i)&&!Sn(i)&&(i=jt(i));const r=jt(this);return Qr(r).has.call(r,i)||(r.add(i),zs(r,"add",i,i)),this},set(i,r){!t&&!hs(r)&&!Sn(r)&&(r=jt(r));const a=jt(this),{has:l,get:c}=Qr(a);let u=l.call(a,i);u||(i=jt(i),u=l.call(a,i));const d=c.call(a,i);return a.set(i,r),u?kn(r,d)&&zs(a,"set",i,r):zs(a,"add",i,r),this},delete(i){const r=jt(this),{has:a,get:l}=Qr(r);let c=a.call(r,i);c||(i=jt(i),c=a.call(r,i)),l&&l.call(r,i);const u=r.delete(i);return c&&zs(r,"delete",i,void 0),u},clear(){const i=jt(this),r=i.size!==0,a=i.clear();return r&&zs(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=$g(i,e,t)}),s}function Ql(e,t){const s=Vg(e,t);return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Wt(s,i)&&i in n?s:n,i,r)}const Hg={get:Ql(!1,!1)},jg={get:Ql(!1,!0)},Gg={get:Ql(!0,!1)};const Sf=new WeakMap,Tf=new WeakMap,_f=new WeakMap,Kg=new WeakMap;function Wg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zg(e){return e.__v_skip||!Object.isExtensible(e)?0:Wg(vg(e))}function Or(e){return Sn(e)?e:ql(e,!1,Mg,Hg,Sf)}function Pf(e){return ql(e,!1,Fg,jg,Tf)}function xf(e){return ql(e,!0,Ug,Gg,_f)}function ql(e,t,s,n,i){if(!Zt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=zg(e);if(r===0)return e;const a=i.get(e);if(a)return a;const l=new Proxy(e,r===2?n:s);return i.set(e,l),l}function Ei(e){return Sn(e)?Ei(e.__v_raw):!!(e&&e.__v_isReactive)}function Sn(e){return!!(e&&e.__v_isReadonly)}function hs(e){return!!(e&&e.__v_isShallow)}function Jl(e){return e?!!e.__v_raw:!1}function jt(e){const t=e&&e.__v_raw;return t?jt(t):e}function Yg(e){return!Wt(e,"__v_skip")&&Object.isExtensible(e)&&uf(e,"__v_skip",!0),e}const Pe=e=>Zt(e)?Or(e):e,ya=e=>Zt(e)?xf(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function vt(e){return If(e,!1)}function Qg(e){return If(e,!0)}function If(e,t){return Be(e)?e:new qg(e,t)}class qg{constructor(t,s){this.dep=new Yl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:jt(t),this._value=s?t:Pe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||hs(t)||Sn(t);t=n?t:jt(t),kn(t,s)&&(this._rawValue=t,this._value=n?t:Pe(t),this.dep.trigger())}}function Ft(e){return Be(e)?e.value:e}const Jg={get:(e,t,s)=>t==="__v_raw"?e:Ft(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return Be(i)&&!Be(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Rf(e){return Ei(e)?e:new Proxy(e,Jg)}class Zg{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Yl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return gf(this,!0),!0}get value(){const t=this.dep.track();return bf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Xg(e,t,s=!1){let n,i;return kt(e)?n=e:(n=e.get,i=e.set),new Zg(n,i,s)}const Jr={},ba=new WeakMap;let Un;function tv(e,t=!1,s=Un){if(s){let n=ba.get(s);n||ba.set(s,n=[]),n.push(e)}}function ev(e,t,s=Jt){const{immediate:n,deep:i,once:r,scheduler:a,augmentJob:l,call:c}=s,u=F=>i?F:hs(F)||i===!1||i===0?Ys(F,1):Ys(F);let d,f,h,p,w=!1,v=!1;if(Be(e)?(f=()=>e.value,w=hs(e)):Ei(e)?(f=()=>u(e),w=!0):yt(e)?(v=!0,w=e.some(F=>Ei(F)||hs(F)),f=()=>e.map(F=>{if(Be(F))return F.value;if(Ei(F))return u(F);if(kt(F))return c?c(F,2):F()})):kt(e)?t?f=c?()=>c(e,2):e:f=()=>{if(h){nn();try{h()}finally{rn()}}const F=Un;Un=d;try{return c?c(e,3,[p]):e(p)}finally{Un=F}}:f=Ds,t&&i){const F=f,K=i===!0?1/0:i;f=()=>Ys(F(),K)}const A=xg(),E=()=>{d.stop(),A&&A.active&&Hl(A.effects,d)};if(r&&t){const F=t;t=(...K)=>{F(...K),E()}}let L=v?new Array(e.length).fill(Jr):Jr;const N=F=>{if(!(!(d.flags&1)||!d.dirty&&!F))if(t){const K=d.run();if(i||w||(v?K.some((H,X)=>kn(H,L[X])):kn(K,L))){h&&h();const H=Un;Un=d;try{const X=[K,L===Jr?void 0:v&&L[0]===Jr?[]:L,p];L=K,c?c(t,3,X):t(...X)}finally{Un=H}}}else d.run()};return l&&l(N),d=new pf(f),d.scheduler=a?()=>a(N,!1):N,p=F=>tv(F,!1,d),h=d.onStop=()=>{const F=ba.get(d);if(F){if(c)c(F,4);else for(const K of F)K();ba.delete(d)}},t?n?N(!0):L=d.run():a?a(N.bind(null,!0),!0):d.run(),E.pause=d.pause.bind(d),E.resume=d.resume.bind(d),E.stop=E,E}function Ys(e,t=1/0,s){if(t<=0||!Zt(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Be(e))Ys(e.value,t,s);else if(yt(e))for(let n=0;n<e.length;n++)Ys(e[n],t,s);else if($i(e)||Ai(e))e.forEach(n=>{Ys(n,t,s)});else if(cf(e)){for(const n in e)Ys(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ys(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mr(e,t,s,n){try{return n?e(...n):e()}catch(i){Ka(i,t,s)}}function ks(e,t,s,n){if(kt(e)){const i=Mr(e,t,s,n);return i&&of(i)&&i.catch(r=>{Ka(r,t,s)}),i}if(yt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(ks(e[r],t,s,n));return i}}function Ka(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Jt;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,c,u)===!1)return}l=l.parent}if(r){nn(),Mr(r,null,10,[e,c,u]),rn();return}}sv(e,s,i,n,a)}function sv(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const Ve=[];let xs=-1;const ki=[];let yn=null,pi=0;const Nf=Promise.resolve();let wa=null;function Zl(e){const t=wa||Nf;return e?t.then(this?e.bind(this):e):t}function nv(e){let t=xs+1,s=Ve.length;for(;t<s;){const n=t+s>>>1,i=Ve[n],r=mr(i);r<e||r===e&&i.flags&2?t=n+1:s=n}return t}function Xl(e){if(!(e.flags&1)){const t=mr(e),s=Ve[Ve.length-1];!s||!(e.flags&2)&&t>=mr(s)?Ve.push(e):Ve.splice(nv(t),0,e),e.flags|=1,Lf()}}function Lf(){wa||(wa=Nf.then(Bf))}function iv(e){yt(e)?ki.push(...e):yn&&e.id===-1?yn.splice(pi+1,0,e):e.flags&1||(ki.push(e),e.flags|=1),Lf()}function jc(e,t,s=xs+1){for(;s<Ve.length;s++){const n=Ve[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ve.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Df(e){if(ki.length){const t=[...new Set(ki)].sort((s,n)=>mr(s)-mr(n));if(ki.length=0,yn){yn.push(...t);return}for(yn=t,pi=0;pi<yn.length;pi++){const s=yn[pi];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}yn=null,pi=0}}const mr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bf(e){try{for(xs=0;xs<Ve.length;xs++){const t=Ve[xs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Mr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xs<Ve.length;xs++){const t=Ve[xs];t&&(t.flags&=-2)}xs=-1,Ve.length=0,Df(),wa=null,(Ve.length||ki.length)&&Bf()}}let is=null,Of=null;function Aa(e){const t=is;return is=e,Of=e&&e.type.__scopeId||null,t}function $t(e,t=is,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Ca(-1);const r=Aa(t);let a;try{a=e(...i)}finally{Aa(r),n._d&&Ca(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function It(e,t){if(is===null)return e;const s=Ja(is),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,a,l,c=Jt]=t[i];r&&(kt(r)&&(r={mounted:r,updated:r}),r.deep&&Ys(a),n.push({dir:r,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Nn(e,t,s,n){const i=e.dirs,r=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];r&&(l.oldValue=r[a].value);let c=l.dir[n];c&&(nn(),ks(c,s,8,[e.el,l,e,t]),rn())}}const rv=Symbol("_vte"),Mf=e=>e.__isTeleport,Gs=Symbol("_leaveCb"),Zr=Symbol("_enterCb");function av(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vi(()=>{e.isMounted=!0}),Ya(()=>{e.isUnmounting=!0}),e}const os=[Function,Array],Uf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:os,onEnter:os,onAfterEnter:os,onEnterCancelled:os,onBeforeLeave:os,onLeave:os,onAfterLeave:os,onLeaveCancelled:os,onBeforeAppear:os,onAppear:os,onAfterAppear:os,onAppearCancelled:os},Ff=e=>{const t=e.subTree;return t.component?Ff(t.component):t},ov={name:"BaseTransition",props:Uf,setup(e,{slots:t}){const s=hh(),n=av();return()=>{const i=t.default&&Hf(t.default(),!0);if(!i||!i.length)return;const r=$f(i),a=jt(e),{mode:l}=a;if(n.isLeaving)return Co(r);const c=Gc(r);if(!c)return Co(r);let u=nl(c,a,n,s,f=>u=f);c.type!==je&&gr(c,u);let d=s.subTree&&Gc(s.subTree);if(d&&d.type!==je&&!$n(d,c)&&Ff(s).type!==je){let f=nl(d,a,n,s);if(gr(d,f),l==="out-in"&&c.type!==je)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,d=void 0},Co(r);l==="in-out"&&c.type!==je?f.delayLeave=(h,p,w)=>{const v=Vf(n,d);v[String(d.key)]=d,h[Gs]=()=>{p(),h[Gs]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{w(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function $f(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==je){t=s;break}}return t}const lv=ov;function Vf(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function nl(e,t,s,n,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:w,onLeaveCancelled:v,onBeforeAppear:A,onAppear:E,onAfterAppear:L,onAppearCancelled:N}=t,F=String(e.key),K=Vf(s,e),H=(z,W)=>{z&&ks(z,n,9,W)},X=(z,W)=>{const rt=W[1];H(z,W),yt(z)?z.every($=>$.length<=1)&&rt():z.length<=1&&rt()},st={mode:a,persisted:l,beforeEnter(z){let W=c;if(!s.isMounted)if(r)W=A||c;else return;z[Gs]&&z[Gs](!0);const rt=K[F];rt&&$n(e,rt)&&rt.el[Gs]&&rt.el[Gs](),H(W,[z])},enter(z){let W=u,rt=d,$=f;if(!s.isMounted)if(r)W=E||u,rt=L||d,$=N||f;else return;let ht=!1;const At=z[Zr]=U=>{ht||(ht=!0,U?H($,[z]):H(rt,[z]),st.delayedLeave&&st.delayedLeave(),z[Zr]=void 0)};W?X(W,[z,At]):At()},leave(z,W){const rt=String(e.key);if(z[Zr]&&z[Zr](!0),s.isUnmounting)return W();H(h,[z]);let $=!1;const ht=z[Gs]=At=>{$||($=!0,W(),At?H(v,[z]):H(w,[z]),z[Gs]=void 0,K[rt]===e&&delete K[rt])};K[rt]=e,p?X(p,[z,ht]):ht()},clone(z){const W=nl(z,t,s,n,i);return i&&i(W),W}};return st}function Co(e){if(Wa(e))return e=Tn(e),e.children=null,e}function Gc(e){if(!Wa(e))return Mf(e.type)&&e.children?$f(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&kt(s.default))return s.default()}}function gr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,gr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hf(e,t=!1,s){let n=[],i=0;for(let r=0;r<e.length;r++){let a=e[r];const l=s==null?a.key:String(s)+String(a.key!=null?a.key:r);a.type===xt?(a.patchFlag&128&&i++,n=n.concat(Hf(a.children,t,l))):(t||a.type!==je)&&n.push(l!=null?Tn(a,{key:l}):a)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function jf(e,t){return kt(e)?Se({name:e.name},t,{setup:e}):e}function Gf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ea=new WeakMap;function nr(e,t,s,n,i=!1){if(yt(e)){e.forEach((w,v)=>nr(w,t&&(yt(t)?t[v]:t),s,n,i));return}if(ir(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&nr(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?Ja(n.component):n.el,a=i?null:r,{i:l,r:c}=e,u=t&&t.r,d=l.refs===Jt?l.refs={}:l.refs,f=l.setupState,h=jt(f),p=f===Jt?af:w=>Wt(h,w);if(u!=null&&u!==c){if(Kc(t),ge(u))d[u]=null,p(u)&&(f[u]=null);else if(Be(u)){u.value=null;const w=t;w.k&&(d[w.k]=null)}}if(kt(c))Mr(c,l,12,[a,d]);else{const w=ge(c),v=Be(c);if(w||v){const A=()=>{if(e.f){const E=w?p(c)?f[c]:d[c]:c.value;if(i)yt(E)&&Hl(E,r);else if(yt(E))E.includes(r)||E.push(r);else if(w)d[c]=[r],p(c)&&(f[c]=d[c]);else{const L=[r];c.value=L,e.k&&(d[e.k]=L)}}else w?(d[c]=a,p(c)&&(f[c]=a)):v&&(c.value=a,e.k&&(d[e.k]=a))};if(a){const E=()=>{A(),Ea.delete(e)};E.id=-1,Ea.set(e,E),es(E,s)}else Kc(e),A()}}}function Kc(e){const t=Ea.get(e);t&&(t.flags|=8,Ea.delete(e))}ja().requestIdleCallback;ja().cancelIdleCallback;const ir=e=>!!e.type.__asyncLoader,Wa=e=>e.type.__isKeepAlive;function cv(e,t){Kf(e,"a",t)}function uv(e,t){Kf(e,"da",t)}function Kf(e,t,s=Le){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(za(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Wa(i.parent.vnode)&&dv(n,t,s,i),i=i.parent}}function dv(e,t,s,n){const i=za(t,e,n,!0);tc(()=>{Hl(n[t],i)},s)}function za(e,t,s=Le,n=!1){if(s){const i=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...a)=>{nn();const l=Ur(s),c=ks(t,s,e,a);return l(),rn(),c});return n?i.unshift(r):i.push(r),r}}const cn=e=>(t,s=Le)=>{(!yr||e==="sp")&&za(e,(...n)=>t(...n),s)},fv=cn("bm"),Vi=cn("m"),hv=cn("bu"),pv=cn("u"),Ya=cn("bum"),tc=cn("um"),mv=cn("sp"),gv=cn("rtg"),vv=cn("rtc");function yv(e,t=Le){za("ec",e,t)}const Wf="components",bv="directives";function Xs(e,t){return zf(Wf,e,!0,t)||e}const wv=Symbol.for("v-ndc");function Av(e){return zf(bv,e)}function zf(e,t,s=!0,n=!1){const i=is||Le;if(i){const r=i.type;if(e===Wf){const l=l0(r,!1);if(l&&(l===t||l===ps(t)||l===Ha(ps(t))))return r}const a=Wc(i[e]||r[e],t)||Wc(i.appContext[e],t);return!a&&n?r:a}}function Wc(e,t){return e&&(e[t]||e[ps(t)]||e[Ha(ps(t))])}function Ae(e,t,s,n){let i;const r=s,a=yt(e);if(a||ge(e)){const l=a&&Ei(e);let c=!1,u=!1;l&&(c=!hs(e),u=Sn(e),e=Ga(e)),i=new Array(e.length);for(let d=0,f=e.length;d<f;d++)i[d]=t(c?u?ya(Pe(e[d])):Pe(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,r)}else if(Zt(e))if(e[Symbol.iterator])i=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);i=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const d=l[c];i[c]=t(e[d],d,c,r)}}else i=[];return i}const il=e=>e?ph(e)?Ja(e):il(e.parent):null,rr=Se(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>il(e.parent),$root:e=>il(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Qf(e),$forceUpdate:e=>e.f||(e.f=()=>{Xl(e.update)}),$nextTick:e=>e.n||(e.n=Zl.bind(e.proxy)),$watch:e=>Hv.bind(e)}),So=(e,t)=>e!==Jt&&!e.__isScriptSetup&&Wt(e,t),Ev={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:a,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return r[t]}else{if(So(n,t))return a[t]=1,n[t];if(i!==Jt&&Wt(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&Wt(u,t))return a[t]=3,r[t];if(s!==Jt&&Wt(s,t))return a[t]=4,s[t];rl&&(a[t]=0)}}const d=rr[t];let f,h;if(d)return t==="$attrs"&&Ne(e.attrs,"get",""),d(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(s!==Jt&&Wt(s,t))return a[t]=4,s[t];if(h=c.config.globalProperties,Wt(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:r}=e;return So(i,t)?(i[t]=s,!0):n!==Jt&&Wt(n,t)?(n[t]=s,!0):Wt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:a}},l){let c,u;return!!(s[l]||e!==Jt&&l[0]!=="$"&&Wt(e,l)||So(t,l)||(c=r[0])&&Wt(c,l)||Wt(n,l)||Wt(rr,l)||Wt(i.config.globalProperties,l)||(u=a.__cssModules)&&u[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Wt(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function zc(e){return yt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let rl=!0;function kv(e){const t=Qf(e),s=e.proxy,n=e.ctx;rl=!1,t.beforeCreate&&Yc(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:a,watch:l,provide:c,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:w,activated:v,deactivated:A,beforeDestroy:E,beforeUnmount:L,destroyed:N,unmounted:F,render:K,renderTracked:H,renderTriggered:X,errorCaptured:st,serverPrefetch:z,expose:W,inheritAttrs:rt,components:$,directives:ht,filters:At}=t;if(u&&Cv(u,n,null),a)for(const J in a){const dt=a[J];kt(dt)&&(n[J]=dt.bind(s))}if(i){const J=i.call(s,s);Zt(J)&&(e.data=Or(J))}if(rl=!0,r)for(const J in r){const dt=r[J],Tt=kt(dt)?dt.bind(s,s):kt(dt.get)?dt.get.bind(s,s):Ds,Ut=!kt(dt)&&kt(dt.set)?dt.set.bind(s):Ds,Qt=_t({get:Tt,set:Ut});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>Qt.value,set:Vt=>Qt.value=Vt})}if(l)for(const J in l)Yf(l[J],n,s,J);if(c){const J=kt(c)?c.call(s):c;Reflect.ownKeys(J).forEach(dt=>{ua(dt,J[dt])})}d&&Yc(d,e,"c");function j(J,dt){yt(dt)?dt.forEach(Tt=>J(Tt.bind(s))):dt&&J(dt.bind(s))}if(j(fv,f),j(Vi,h),j(hv,p),j(pv,w),j(cv,v),j(uv,A),j(yv,st),j(vv,H),j(gv,X),j(Ya,L),j(tc,F),j(mv,z),yt(W))if(W.length){const J=e.exposed||(e.exposed={});W.forEach(dt=>{Object.defineProperty(J,dt,{get:()=>s[dt],set:Tt=>s[dt]=Tt,enumerable:!0})})}else e.exposed||(e.exposed={});K&&e.render===Ds&&(e.render=K),rt!=null&&(e.inheritAttrs=rt),$&&(e.components=$),ht&&(e.directives=ht),z&&Gf(e)}function Cv(e,t,s=Ds){yt(e)&&(e=al(e));for(const n in e){const i=e[n];let r;Zt(i)?"default"in i?r=Bs(i.from||n,i.default,!0):r=Bs(i.from||n):r=Bs(i),Be(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[n]=r}}function Yc(e,t,s){ks(yt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Yf(e,t,s,n){let i=n.includes(".")?lh(s,n):()=>s[n];if(ge(e)){const r=t[e];kt(r)&&Zn(i,r)}else if(kt(e))Zn(i,e.bind(s));else if(Zt(e))if(yt(e))e.forEach(r=>Yf(r,t,s,n));else{const r=kt(e.handler)?e.handler.bind(s):t[e.handler];kt(r)&&Zn(i,r,e)}}function Qf(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let c;return l?c=l:!i.length&&!s&&!n?c=t:(c={},i.length&&i.forEach(u=>ka(c,u,a,!0)),ka(c,t,a)),Zt(t)&&r.set(t,c),c}function ka(e,t,s,n=!1){const{mixins:i,extends:r}=t;r&&ka(e,r,s,!0),i&&i.forEach(a=>ka(e,a,s,!0));for(const a in t)if(!(n&&a==="expose")){const l=Sv[a]||s&&s[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Sv={data:Qc,props:qc,emits:qc,methods:Ji,computed:Ji,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Ji,directives:Ji,watch:_v,provide:Qc,inject:Tv};function Qc(e,t){return t?e?function(){return Se(kt(e)?e.call(this,this):e,kt(t)?t.call(this,this):t)}:t:e}function Tv(e,t){return Ji(al(e),al(t))}function al(e){if(yt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Ji(e,t){return e?Se(Object.create(null),e,t):t}function qc(e,t){return e?yt(e)&&yt(t)?[...new Set([...e,...t])]:Se(Object.create(null),zc(e),zc(t??{})):t}function _v(e,t){if(!e)return t;if(!t)return e;const s=Se(Object.create(null),e);for(const n in t)s[n]=Me(e[n],t[n]);return s}function qf(){return{app:null,config:{isNativeTag:af,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pv=0;function xv(e,t){return function(n,i=null){kt(n)||(n=Se({},n)),i!=null&&!Zt(i)&&(i=null);const r=qf(),a=new WeakSet,l=[];let c=!1;const u=r.app={_uid:Pv++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:u0,get config(){return r.config},set config(d){},use(d,...f){return a.has(d)||(d&&kt(d.install)?(a.add(d),d.install(u,...f)):kt(d)&&(a.add(d),d(u,...f))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,f){return f?(r.components[d]=f,u):r.components[d]},directive(d,f){return f?(r.directives[d]=f,u):r.directives[d]},mount(d,f,h){if(!c){const p=u._ceVNode||wt(n,i);return p.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(p,d,h),c=!0,u._container=d,d.__vue_app__=u,Ja(p.component)}},onUnmount(d){l.push(d)},unmount(){c&&(ks(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return r.provides[d]=f,u},runWithContext(d){const f=Ci;Ci=u;try{return d()}finally{Ci=f}}};return u}}let Ci=null;function ua(e,t){if(Le){let s=Le.provides;const n=Le.parent&&Le.parent.provides;n===s&&(s=Le.provides=Object.create(n)),s[e]=t}}function Bs(e,t,s=!1){const n=hh();if(n||Ci){let i=Ci?Ci._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&kt(t)?t.call(n&&n.proxy):t}}const Jf={},Zf=()=>Object.create(Jf),Xf=e=>Object.getPrototypeOf(e)===Jf;function Iv(e,t,s,n=!1){const i={},r=Zf();e.propsDefaults=Object.create(null),th(e,t,i,r);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);s?e.props=n?i:Pf(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function Rv(e,t,s,n){const{props:i,attrs:r,vnode:{patchFlag:a}}=e,l=jt(i),[c]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Qa(e.emitsOptions,h))continue;const p=t[h];if(c)if(Wt(r,h))p!==r[h]&&(r[h]=p,u=!0);else{const w=ps(h);i[w]=ol(c,l,w,p,e,!1)}else p!==r[h]&&(r[h]=p,u=!0)}}}else{th(e,t,i,r)&&(u=!0);let d;for(const f in l)(!t||!Wt(t,f)&&((d=ai(f))===f||!Wt(t,d)))&&(c?s&&(s[f]!==void 0||s[d]!==void 0)&&(i[f]=ol(c,l,f,void 0,e,!0)):delete i[f]);if(r!==l)for(const f in r)(!t||!Wt(t,f))&&(delete r[f],u=!0)}u&&zs(e.attrs,"set","")}function th(e,t,s,n){const[i,r]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(tr(c))continue;const u=t[c];let d;i&&Wt(i,d=ps(c))?!r||!r.includes(d)?s[d]=u:(l||(l={}))[d]=u:Qa(e.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,a=!0)}if(r){const c=jt(s),u=l||Jt;for(let d=0;d<r.length;d++){const f=r[d];s[f]=ol(i,c,f,u[f],e,!Wt(u,f))}}return a}function ol(e,t,s,n,i,r){const a=e[s];if(a!=null){const l=Wt(a,"default");if(l&&n===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&kt(c)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const d=Ur(i);n=u[s]=c.call(null,t),d()}}else n=c;i.ce&&i.ce._setProp(s,n)}a[0]&&(r&&!l?n=!1:a[1]&&(n===""||n===ai(s))&&(n=!0))}return n}const Nv=new WeakMap;function eh(e,t,s=!1){const n=s?Nv:t.propsCache,i=n.get(e);if(i)return i;const r=e.props,a={},l=[];let c=!1;if(!kt(e)){const d=f=>{c=!0;const[h,p]=eh(f,t,!0);Se(a,h),p&&l.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return Zt(e)&&n.set(e,wi),wi;if(yt(r))for(let d=0;d<r.length;d++){const f=ps(r[d]);Jc(f)&&(a[f]=Jt)}else if(r)for(const d in r){const f=ps(d);if(Jc(f)){const h=r[d],p=a[f]=yt(h)||kt(h)?{type:h}:Se({},h),w=p.type;let v=!1,A=!0;if(yt(w))for(let E=0;E<w.length;++E){const L=w[E],N=kt(L)&&L.name;if(N==="Boolean"){v=!0;break}else N==="String"&&(A=!1)}else v=kt(w)&&w.name==="Boolean";p[0]=v,p[1]=A,(v||Wt(p,"default"))&&l.push(f)}}const u=[a,l];return Zt(e)&&n.set(e,u),u}function Jc(e){return e[0]!=="$"&&!tr(e)}const ec=e=>e==="_"||e==="_ctx"||e==="$stable",sc=e=>yt(e)?e.map(Is):[Is(e)],Lv=(e,t,s)=>{if(t._n)return t;const n=$t((...i)=>sc(t(...i)),s);return n._c=!1,n},sh=(e,t,s)=>{const n=e._ctx;for(const i in e){if(ec(i))continue;const r=e[i];if(kt(r))t[i]=Lv(i,r,n);else if(r!=null){const a=sc(r);t[i]=()=>a}}},nh=(e,t)=>{const s=sc(t);e.slots.default=()=>s},ih=(e,t,s)=>{for(const n in t)(s||!ec(n))&&(e[n]=t[n])},Dv=(e,t,s)=>{const n=e.slots=Zf();if(e.vnode.shapeFlag&32){const i=t._;i?(ih(n,t,s),s&&uf(n,"_",i,!0)):sh(t,n)}else t&&nh(e,t)},Bv=(e,t,s)=>{const{vnode:n,slots:i}=e;let r=!0,a=Jt;if(n.shapeFlag&32){const l=t._;l?s&&l===1?r=!1:ih(i,t,s):(r=!t.$stable,sh(t,i)),a=t}else t&&(nh(e,t),a={default:1});if(r)for(const l in i)!ec(l)&&a[l]==null&&delete i[l]},es=qv;function Ov(e){return Mv(e)}function Mv(e,t){const s=ja();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:a,createText:l,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=Ds,insertStaticContent:w}=e,v=(m,b,x,B=null,M=null,O=null,nt=void 0,q=null,Q=!!b.dynamicChildren)=>{if(m===b)return;m&&!$n(m,b)&&(B=D(m),Vt(m,M,O,!0),m=null),b.patchFlag===-2&&(Q=!1,b.dynamicChildren=null);const{type:G,ref:gt,shapeFlag:at}=b;switch(G){case qa:A(m,b,x,B);break;case je:E(m,b,x,B);break;case da:m==null&&L(b,x,B,nt);break;case xt:$(m,b,x,B,M,O,nt,q,Q);break;default:at&1?K(m,b,x,B,M,O,nt,q,Q):at&6?ht(m,b,x,B,M,O,nt,q,Q):(at&64||at&128)&&G.process(m,b,x,B,M,O,nt,q,Q,lt)}gt!=null&&M?nr(gt,m&&m.ref,O,b||m,!b):gt==null&&m&&m.ref!=null&&nr(m.ref,null,O,m,!0)},A=(m,b,x,B)=>{if(m==null)n(b.el=l(b.children),x,B);else{const M=b.el=m.el;b.children!==m.children&&u(M,b.children)}},E=(m,b,x,B)=>{m==null?n(b.el=c(b.children||""),x,B):b.el=m.el},L=(m,b,x,B)=>{[m.el,m.anchor]=w(m.children,b,x,B,m.el,m.anchor)},N=({el:m,anchor:b},x,B)=>{let M;for(;m&&m!==b;)M=h(m),n(m,x,B),m=M;n(b,x,B)},F=({el:m,anchor:b})=>{let x;for(;m&&m!==b;)x=h(m),i(m),m=x;i(b)},K=(m,b,x,B,M,O,nt,q,Q)=>{b.type==="svg"?nt="svg":b.type==="math"&&(nt="mathml"),m==null?H(b,x,B,M,O,nt,q,Q):z(m,b,M,O,nt,q,Q)},H=(m,b,x,B,M,O,nt,q)=>{let Q,G;const{props:gt,shapeFlag:at,transition:I,dirs:P}=m;if(Q=m.el=a(m.type,O,gt&&gt.is,gt),at&8?d(Q,m.children):at&16&&st(m.children,Q,null,B,M,To(m,O),nt,q),P&&Nn(m,null,B,"created"),X(Q,m,m.scopeId,nt,B),gt){for(const Z in gt)Z!=="value"&&!tr(Z)&&r(Q,Z,null,gt[Z],O,B);"value"in gt&&r(Q,"value",null,gt.value,O),(G=gt.onVnodeBeforeMount)&&_s(G,B,m)}P&&Nn(m,null,B,"beforeMount");const R=Uv(M,I);R&&I.beforeEnter(Q),n(Q,b,x),((G=gt&&gt.onVnodeMounted)||R||P)&&es(()=>{G&&_s(G,B,m),R&&I.enter(Q),P&&Nn(m,null,B,"mounted")},M)},X=(m,b,x,B,M)=>{if(x&&p(m,x),B)for(let O=0;O<B.length;O++)p(m,B[O]);if(M){let O=M.subTree;if(b===O||uh(O.type)&&(O.ssContent===b||O.ssFallback===b)){const nt=M.vnode;X(m,nt,nt.scopeId,nt.slotScopeIds,M.parent)}}},st=(m,b,x,B,M,O,nt,q,Q=0)=>{for(let G=Q;G<m.length;G++){const gt=m[G]=q?bn(m[G]):Is(m[G]);v(null,gt,b,x,B,M,O,nt,q)}},z=(m,b,x,B,M,O,nt)=>{const q=b.el=m.el;let{patchFlag:Q,dynamicChildren:G,dirs:gt}=b;Q|=m.patchFlag&16;const at=m.props||Jt,I=b.props||Jt;let P;if(x&&Ln(x,!1),(P=I.onVnodeBeforeUpdate)&&_s(P,x,b,m),gt&&Nn(b,m,x,"beforeUpdate"),x&&Ln(x,!0),(at.innerHTML&&I.innerHTML==null||at.textContent&&I.textContent==null)&&d(q,""),G?W(m.dynamicChildren,G,q,x,B,To(b,M),O):nt||dt(m,b,q,null,x,B,To(b,M),O,!1),Q>0){if(Q&16)rt(q,at,I,x,M);else if(Q&2&&at.class!==I.class&&r(q,"class",null,I.class,M),Q&4&&r(q,"style",at.style,I.style,M),Q&8){const R=b.dynamicProps;for(let Z=0;Z<R.length;Z++){const it=R[Z],Et=at[it],Bt=I[it];(Bt!==Et||it==="value")&&r(q,it,Et,Bt,M,x)}}Q&1&&m.children!==b.children&&d(q,b.children)}else!nt&&G==null&&rt(q,at,I,x,M);((P=I.onVnodeUpdated)||gt)&&es(()=>{P&&_s(P,x,b,m),gt&&Nn(b,m,x,"updated")},B)},W=(m,b,x,B,M,O,nt)=>{for(let q=0;q<b.length;q++){const Q=m[q],G=b[q],gt=Q.el&&(Q.type===xt||!$n(Q,G)||Q.shapeFlag&198)?f(Q.el):x;v(Q,G,gt,null,B,M,O,nt,!0)}},rt=(m,b,x,B,M)=>{if(b!==x){if(b!==Jt)for(const O in b)!tr(O)&&!(O in x)&&r(m,O,b[O],null,M,B);for(const O in x){if(tr(O))continue;const nt=x[O],q=b[O];nt!==q&&O!=="value"&&r(m,O,q,nt,M,B)}"value"in x&&r(m,"value",b.value,x.value,M)}},$=(m,b,x,B,M,O,nt,q,Q)=>{const G=b.el=m?m.el:l(""),gt=b.anchor=m?m.anchor:l("");let{patchFlag:at,dynamicChildren:I,slotScopeIds:P}=b;P&&(q=q?q.concat(P):P),m==null?(n(G,x,B),n(gt,x,B),st(b.children||[],x,gt,M,O,nt,q,Q)):at>0&&at&64&&I&&m.dynamicChildren?(W(m.dynamicChildren,I,x,M,O,nt,q),(b.key!=null||M&&b===M.subTree)&&rh(m,b,!0)):dt(m,b,x,gt,M,O,nt,q,Q)},ht=(m,b,x,B,M,O,nt,q,Q)=>{b.slotScopeIds=q,m==null?b.shapeFlag&512?M.ctx.activate(b,x,B,nt,Q):At(b,x,B,M,O,nt,Q):U(m,b,Q)},At=(m,b,x,B,M,O,nt)=>{const q=m.component=n0(m,B,M);if(Wa(m)&&(q.ctx.renderer=lt),i0(q,!1,nt),q.asyncDep){if(M&&M.registerDep(q,j,nt),!m.el){const Q=q.subTree=wt(je);E(null,Q,b,x),m.placeholder=Q.el}}else j(q,m,b,x,M,O,nt)},U=(m,b,x)=>{const B=b.component=m.component;if(Yv(m,b,x))if(B.asyncDep&&!B.asyncResolved){J(B,b,x);return}else B.next=b,B.update();else b.el=m.el,B.vnode=b},j=(m,b,x,B,M,O,nt)=>{const q=()=>{if(m.isMounted){let{next:at,bu:I,u:P,parent:R,vnode:Z}=m;{const re=ah(m);if(re){at&&(at.el=Z.el,J(m,at,nt)),re.asyncDep.then(()=>{m.isUnmounted||q()});return}}let it=at,Et;Ln(m,!1),at?(at.el=Z.el,J(m,at,nt)):at=Z,I&&ca(I),(Et=at.props&&at.props.onVnodeBeforeUpdate)&&_s(Et,R,at,Z),Ln(m,!0);const Bt=Xc(m),le=m.subTree;m.subTree=Bt,v(le,Bt,f(le.el),D(le),m,M,O),at.el=Bt.el,it===null&&Qv(m,Bt.el),P&&es(P,M),(Et=at.props&&at.props.onVnodeUpdated)&&es(()=>_s(Et,R,at,Z),M)}else{let at;const{el:I,props:P}=b,{bm:R,m:Z,parent:it,root:Et,type:Bt}=m,le=ir(b);Ln(m,!1),R&&ca(R),!le&&(at=P&&P.onVnodeBeforeMount)&&_s(at,it,b),Ln(m,!0);{Et.ce&&Et.ce._def.shadowRoot!==!1&&Et.ce._injectChildStyle(Bt);const re=m.subTree=Xc(m);v(null,re,x,B,m,M,O),b.el=re.el}if(Z&&es(Z,M),!le&&(at=P&&P.onVnodeMounted)){const re=b;es(()=>_s(at,it,re),M)}(b.shapeFlag&256||it&&ir(it.vnode)&&it.vnode.shapeFlag&256)&&m.a&&es(m.a,M),m.isMounted=!0,b=x=B=null}};m.scope.on();const Q=m.effect=new pf(q);m.scope.off();const G=m.update=Q.run.bind(Q),gt=m.job=Q.runIfDirty.bind(Q);gt.i=m,gt.id=m.uid,Q.scheduler=()=>Xl(gt),Ln(m,!0),G()},J=(m,b,x)=>{b.component=m;const B=m.vnode.props;m.vnode=b,m.next=null,Rv(m,b.props,B,x),Bv(m,b.children,x),nn(),jc(m),rn()},dt=(m,b,x,B,M,O,nt,q,Q=!1)=>{const G=m&&m.children,gt=m?m.shapeFlag:0,at=b.children,{patchFlag:I,shapeFlag:P}=b;if(I>0){if(I&128){Ut(G,at,x,B,M,O,nt,q,Q);return}else if(I&256){Tt(G,at,x,B,M,O,nt,q,Q);return}}P&8?(gt&16&&ie(G,M,O),at!==G&&d(x,at)):gt&16?P&16?Ut(G,at,x,B,M,O,nt,q,Q):ie(G,M,O,!0):(gt&8&&d(x,""),P&16&&st(at,x,B,M,O,nt,q,Q))},Tt=(m,b,x,B,M,O,nt,q,Q)=>{m=m||wi,b=b||wi;const G=m.length,gt=b.length,at=Math.min(G,gt);let I;for(I=0;I<at;I++){const P=b[I]=Q?bn(b[I]):Is(b[I]);v(m[I],P,x,null,M,O,nt,q,Q)}G>gt?ie(m,M,O,!0,!1,at):st(b,x,B,M,O,nt,q,Q,at)},Ut=(m,b,x,B,M,O,nt,q,Q)=>{let G=0;const gt=b.length;let at=m.length-1,I=gt-1;for(;G<=at&&G<=I;){const P=m[G],R=b[G]=Q?bn(b[G]):Is(b[G]);if($n(P,R))v(P,R,x,null,M,O,nt,q,Q);else break;G++}for(;G<=at&&G<=I;){const P=m[at],R=b[I]=Q?bn(b[I]):Is(b[I]);if($n(P,R))v(P,R,x,null,M,O,nt,q,Q);else break;at--,I--}if(G>at){if(G<=I){const P=I+1,R=P<gt?b[P].el:B;for(;G<=I;)v(null,b[G]=Q?bn(b[G]):Is(b[G]),x,R,M,O,nt,q,Q),G++}}else if(G>I)for(;G<=at;)Vt(m[G],M,O,!0),G++;else{const P=G,R=G,Z=new Map;for(G=R;G<=I;G++){const Re=b[G]=Q?bn(b[G]):Is(b[G]);Re.key!=null&&Z.set(Re.key,G)}let it,Et=0;const Bt=I-R+1;let le=!1,re=0;const Ye=new Array(Bt);for(G=0;G<Bt;G++)Ye[G]=0;for(G=P;G<=at;G++){const Re=m[G];if(Et>=Bt){Vt(Re,M,O,!0);continue}let Oe;if(Re.key!=null)Oe=Z.get(Re.key);else for(it=R;it<=I;it++)if(Ye[it-R]===0&&$n(Re,b[it])){Oe=it;break}Oe===void 0?Vt(Re,M,O,!0):(Ye[Oe-R]=G+1,Oe>=re?re=Oe:le=!0,v(Re,b[Oe],x,null,M,O,nt,q,Q),Et++)}const zr=le?Fv(Ye):wi;for(it=zr.length-1,G=Bt-1;G>=0;G--){const Re=R+G,Oe=b[Re],Yr=b[Re+1],In=Re+1<gt?Yr.el||Yr.placeholder:B;Ye[G]===0?v(null,Oe,x,In,M,O,nt,q,Q):le&&(it<0||G!==zr[it]?Qt(Oe,x,In,2):it--)}}},Qt=(m,b,x,B,M=null)=>{const{el:O,type:nt,transition:q,children:Q,shapeFlag:G}=m;if(G&6){Qt(m.component.subTree,b,x,B);return}if(G&128){m.suspense.move(b,x,B);return}if(G&64){nt.move(m,b,x,lt);return}if(nt===xt){n(O,b,x);for(let at=0;at<Q.length;at++)Qt(Q[at],b,x,B);n(m.anchor,b,x);return}if(nt===da){N(m,b,x);return}if(B!==2&&G&1&&q)if(B===0)q.beforeEnter(O),n(O,b,x),es(()=>q.enter(O),M);else{const{leave:at,delayLeave:I,afterLeave:P}=q,R=()=>{m.ctx.isUnmounted?i(O):n(O,b,x)},Z=()=>{O._isLeaving&&O[Gs](!0),at(O,()=>{R(),P&&P()})};I?I(O,R,Z):Z()}else n(O,b,x)},Vt=(m,b,x,B=!1,M=!1)=>{const{type:O,props:nt,ref:q,children:Q,dynamicChildren:G,shapeFlag:gt,patchFlag:at,dirs:I,cacheIndex:P}=m;if(at===-2&&(M=!1),q!=null&&(nn(),nr(q,null,x,m,!0),rn()),P!=null&&(b.renderCache[P]=void 0),gt&256){b.ctx.deactivate(m);return}const R=gt&1&&I,Z=!ir(m);let it;if(Z&&(it=nt&&nt.onVnodeBeforeUnmount)&&_s(it,b,m),gt&6)Te(m.component,x,B);else{if(gt&128){m.suspense.unmount(x,B);return}R&&Nn(m,null,b,"beforeUnmount"),gt&64?m.type.remove(m,b,x,lt,B):G&&!G.hasOnce&&(O!==xt||at>0&&at&64)?ie(G,b,x,!1,!0):(O===xt&&at&384||!M&&gt&16)&&ie(Q,b,x),B&&be(m)}(Z&&(it=nt&&nt.onVnodeUnmounted)||R)&&es(()=>{it&&_s(it,b,m),R&&Nn(m,null,b,"unmounted")},x)},be=m=>{const{type:b,el:x,anchor:B,transition:M}=m;if(b===xt){we(x,B);return}if(b===da){F(m);return}const O=()=>{i(x),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(m.shapeFlag&1&&M&&!M.persisted){const{leave:nt,delayLeave:q}=M,Q=()=>nt(x,O);q?q(m.el,O,Q):Q()}else O()},we=(m,b)=>{let x;for(;m!==b;)x=h(m),i(m),m=x;i(b)},Te=(m,b,x)=>{const{bum:B,scope:M,job:O,subTree:nt,um:q,m:Q,a:G}=m;Zc(Q),Zc(G),B&&ca(B),M.stop(),O&&(O.flags|=8,Vt(nt,m,b,x)),q&&es(q,b),es(()=>{m.isUnmounted=!0},b)},ie=(m,b,x,B=!1,M=!1,O=0)=>{for(let nt=O;nt<m.length;nt++)Vt(m[nt],b,x,B,M)},D=m=>{if(m.shapeFlag&6)return D(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const b=h(m.anchor||m.el),x=b&&b[rv];return x?h(x):b};let tt=!1;const Y=(m,b,x)=>{m==null?b._vnode&&Vt(b._vnode,null,null,!0):v(b._vnode||null,m,b,null,null,null,x),b._vnode=m,tt||(tt=!0,jc(),Df(),tt=!1)},lt={p:v,um:Vt,m:Qt,r:be,mt:At,mc:st,pc:dt,pbc:W,n:D,o:e};return{render:Y,hydrate:void 0,createApp:xv(Y)}}function To({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ln({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Uv(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function rh(e,t,s=!1){const n=e.children,i=t.children;if(yt(n)&&yt(i))for(let r=0;r<n.length;r++){const a=n[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=bn(i[r]),l.el=a.el),!s&&l.patchFlag!==-2&&rh(a,l)),l.type===qa&&l.patchFlag!==-1&&(l.el=a.el),l.type===je&&!l.el&&(l.el=a.el)}}function Fv(e){const t=e.slice(),s=[0];let n,i,r,a,l;const c=e.length;for(n=0;n<c;n++){const u=e[n];if(u!==0){if(i=s[s.length-1],e[i]<u){t[n]=i,s.push(n);continue}for(r=0,a=s.length-1;r<a;)l=r+a>>1,e[s[l]]<u?r=l+1:a=l;u<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=t[a];return s}function ah(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ah(t)}function Zc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $v=Symbol.for("v-scx"),Vv=()=>Bs($v);function Zn(e,t,s){return oh(e,t,s)}function oh(e,t,s=Jt){const{immediate:n,deep:i,flush:r,once:a}=s,l=Se({},s),c=t&&n||!t&&r!=="post";let u;if(yr){if(r==="sync"){const p=Vv();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=Ds,p.resume=Ds,p.pause=Ds,p}}const d=Le;l.call=(p,w,v)=>ks(p,d,w,v);let f=!1;r==="post"?l.scheduler=p=>{es(p,d&&d.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(p,w)=>{w?p():Xl(p)}),l.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const h=ev(e,t,l);return yr&&(u?u.push(h):c&&h()),h}function Hv(e,t,s){const n=this.proxy,i=ge(e)?e.includes(".")?lh(n,e):()=>n[e]:e.bind(n,n);let r;kt(t)?r=t:(r=t.handler,s=t);const a=Ur(this),l=oh(i,r.bind(n),s);return a(),l}function lh(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const jv=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ps(t)}Modifiers`]||e[`${ai(t)}Modifiers`];function Gv(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Jt;let i=s;const r=t.startsWith("update:"),a=r&&jv(n,t.slice(7));a&&(a.trim&&(i=s.map(d=>ge(d)?d.trim():d)),a.number&&(i=s.map(va)));let l,c=n[l=bo(t)]||n[l=bo(ps(t))];!c&&r&&(c=n[l=bo(ai(t))]),c&&ks(c,e,6,i);const u=n[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ks(u,e,6,i)}}const Kv=new WeakMap;function ch(e,t,s=!1){const n=s?Kv:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let a={},l=!1;if(!kt(e)){const c=u=>{const d=ch(u,t,!0);d&&(l=!0,Se(a,d))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(Zt(e)&&n.set(e,null),null):(yt(r)?r.forEach(c=>a[c]=null):Se(a,r),Zt(e)&&n.set(e,a),a)}function Qa(e,t){return!e||!$a(t)?!1:(t=t.slice(2).replace(/Once$/,""),Wt(e,t[0].toLowerCase()+t.slice(1))||Wt(e,ai(t))||Wt(e,t))}function Xc(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:a,attrs:l,emit:c,render:u,renderCache:d,props:f,data:h,setupState:p,ctx:w,inheritAttrs:v}=e,A=Aa(e);let E,L;try{if(s.shapeFlag&4){const F=i||n,K=F;E=Is(u.call(K,F,d,f,p,h,w)),L=l}else{const F=t;E=Is(F.length>1?F(f,{attrs:l,slots:a,emit:c}):F(f,null)),L=t.props?l:Wv(l)}}catch(F){ar.length=0,Ka(F,e,1),E=wt(je)}let N=E;if(L&&v!==!1){const F=Object.keys(L),{shapeFlag:K}=N;F.length&&K&7&&(r&&F.some(Vl)&&(L=zv(L,r)),N=Tn(N,L,!1,!0))}return s.dirs&&(N=Tn(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&gr(N,s.transition),E=N,Aa(A),E}const Wv=e=>{let t;for(const s in e)(s==="class"||s==="style"||$a(s))&&((t||(t={}))[s]=e[s]);return t},zv=(e,t)=>{const s={};for(const n in e)(!Vl(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Yv(e,t,s){const{props:n,children:i,component:r}=e,{props:a,children:l,patchFlag:c}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?tu(n,a,u):!!a;if(c&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==n[h]&&!Qa(u,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?tu(n,a,u):!0:!!a;return!1}function tu(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!Qa(s,r))return!0}return!1}function Qv({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const uh=e=>e.__isSuspense;function qv(e,t){t&&t.pendingBranch?yt(e)?t.effects.push(...e):t.effects.push(e):iv(e)}const xt=Symbol.for("v-fgt"),qa=Symbol.for("v-txt"),je=Symbol.for("v-cmt"),da=Symbol.for("v-stc"),ar=[];let rs=null;function S(e=!1){ar.push(rs=e?null:[])}function Jv(){ar.pop(),rs=ar[ar.length-1]||null}let vr=1;function Ca(e,t=!1){vr+=e,e<0&&rs&&t&&(rs.hasOnce=!0)}function dh(e){return e.dynamicChildren=vr>0?rs||wi:null,Jv(),vr>0&&rs&&rs.push(e),e}function T(e,t,s,n,i,r){return dh(o(e,t,s,n,i,r,!0))}function nc(e,t,s,n,i){return dh(wt(e,t,s,n,i,!0))}function Sa(e){return e?e.__v_isVNode===!0:!1}function $n(e,t){return e.type===t.type&&e.key===t.key}const fh=({key:e})=>e??null,fa=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ge(e)||Be(e)||kt(e)?{i:is,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,n=0,i=null,r=e===xt?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fh(t),ref:t&&fa(t),scopeId:Of,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:is};return l?(ic(c,s),r&128&&e.normalize(c)):s&&(c.shapeFlag|=ge(s)?8:16),vr>0&&!a&&rs&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&rs.push(c),c}const wt=Zv;function Zv(e,t=null,s=null,n=0,i=null,r=!1){if((!e||e===wv)&&(e=je),Sa(e)){const l=Tn(e,t,!0);return s&&ic(l,s),vr>0&&!r&&rs&&(l.shapeFlag&6?rs[rs.indexOf(e)]=l:rs.push(l)),l.patchFlag=-2,l}if(c0(e)&&(e=e.__vccOpts),t){t=Xv(t);let{class:l,style:c}=t;l&&!ge(l)&&(t.class=Ct(l)),Zt(c)&&(Jl(c)&&!yt(c)&&(c=Se({},c)),t.style=Rs(c))}const a=ge(e)?1:uh(e)?128:Mf(e)?64:Zt(e)?4:kt(e)?2:0;return o(e,t,s,n,i,a,r,!0)}function Xv(e){return e?Jl(e)||Xf(e)?Se({},e):e:null}function Tn(e,t,s=!1,n=!1){const{props:i,ref:r,patchFlag:a,children:l,transition:c}=e,u=t?t0(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&fh(u),ref:t&&t.ref?s&&r?yt(r)?r.concat(fa(t)):[r,fa(t)]:fa(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Tn(e.ssContent),ssFallback:e.ssFallback&&Tn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&gr(d,c.clone(d)),d}function pt(e=" ",t=0){return wt(qa,null,e,t)}function ne(e,t){const s=wt(da,null,e);return s.staticCount=t,s}function et(e="",t=!1){return t?(S(),nc(je,null,e)):wt(je,null,e)}function Is(e){return e==null||typeof e=="boolean"?wt(je):yt(e)?wt(xt,null,e.slice()):Sa(e)?bn(e):wt(qa,null,String(e))}function bn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Tn(e)}function ic(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(yt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ic(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Xf(t)?t._ctx=is:i===3&&is&&(is.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else kt(t)?(t={default:t,_ctx:is},s=32):(t=String(t),n&64?(s=16,t=[pt(t)]):s=8);e.children=t,e.shapeFlag|=s}function t0(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Ct([t.class,n.class]));else if(i==="style")t.style=Rs([t.style,n.style]);else if($a(i)){const r=t[i],a=n[i];a&&r!==a&&!(yt(r)&&r.includes(a))&&(t[i]=r?[].concat(r,a):a)}else i!==""&&(t[i]=n[i])}return t}function _s(e,t,s,n=null){ks(e,t,7,[s,n])}const e0=qf();let s0=0;function n0(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||e0,r={uid:s0++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eh(n,i),emitsOptions:ch(n,i),emit:null,emitted:null,propsDefaults:Jt,inheritAttrs:n.inheritAttrs,ctx:Jt,data:Jt,props:Jt,attrs:Jt,slots:Jt,refs:Jt,setupState:Jt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Gv.bind(null,r),e.ce&&e.ce(r),r}let Le=null;const hh=()=>Le||is;let Ta,ll;{const e=ja(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),r=>{i.length>1?i.forEach(a=>a(r)):i[0](r)}};Ta=t("__VUE_INSTANCE_SETTERS__",s=>Le=s),ll=t("__VUE_SSR_SETTERS__",s=>yr=s)}const Ur=e=>{const t=Le;return Ta(e),e.scope.on(),()=>{e.scope.off(),Ta(t)}},eu=()=>{Le&&Le.scope.off(),Ta(null)};function ph(e){return e.vnode.shapeFlag&4}let yr=!1;function i0(e,t=!1,s=!1){t&&ll(t);const{props:n,children:i}=e.vnode,r=ph(e);Iv(e,n,r,t),Dv(e,i,s||t);const a=r?r0(e,t):void 0;return t&&ll(!1),a}function r0(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ev);const{setup:n}=s;if(n){nn();const i=e.setupContext=n.length>1?o0(e):null,r=Ur(e),a=Mr(n,e,0,[e.props,i]),l=of(a);if(rn(),r(),(l||e.sp)&&!ir(e)&&Gf(e),l){if(a.then(eu,eu),t)return a.then(c=>{su(e,c)}).catch(c=>{Ka(c,e,0)});e.asyncDep=a}else su(e,a)}else mh(e)}function su(e,t,s){kt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Zt(t)&&(e.setupState=Rf(t)),mh(e)}function mh(e,t,s){const n=e.type;e.render||(e.render=n.render||Ds);{const i=Ur(e);nn();try{kv(e)}finally{rn(),i()}}}const a0={get(e,t){return Ne(e,"get",""),e[t]}};function o0(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,a0),slots:e.slots,emit:e.emit,expose:t}}function Ja(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Rf(Yg(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in rr)return rr[s](e)},has(t,s){return s in t||s in rr}})):e.proxy}function l0(e,t=!0){return kt(e)?e.displayName||e.name:e.name||t&&e.__name}function c0(e){return kt(e)&&"__vccOpts"in e}const _t=(e,t)=>Xg(e,t,yr);function rc(e,t,s){const n=(r,a,l)=>{Ca(-1);try{return wt(r,a,l)}finally{Ca(1)}},i=arguments.length;return i===2?Zt(t)&&!yt(t)?Sa(t)?n(e,null,[t]):n(e,t):n(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Sa(s)&&(s=[s]),n(e,t,s))}const u0="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cl;const nu=typeof window<"u"&&window.trustedTypes;if(nu)try{cl=nu.createPolicy("vue",{createHTML:e=>e})}catch{}const gh=cl?e=>cl.createHTML(e):e=>e,d0="http://www.w3.org/2000/svg",f0="http://www.w3.org/1998/Math/MathML",Vs=typeof document<"u"?document:null,iu=Vs&&Vs.createElement("template"),h0={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?Vs.createElementNS(d0,e):t==="mathml"?Vs.createElementNS(f0,e):s?Vs.createElement(e,{is:s}):Vs.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Vs.createTextNode(e),createComment:e=>Vs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,r){const a=s?s.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{iu.innerHTML=gh(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=iu.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},dn="transition",Ki="animation",br=Symbol("_vtc"),vh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},p0=Se({},Uf,vh),m0=e=>(e.displayName="Transition",e.props=p0,e),g0=m0((e,{slots:t})=>rc(lv,v0(e),t)),Dn=(e,t=[])=>{yt(e)?e.forEach(s=>s(...t)):e&&e(...t)},ru=e=>e?yt(e)?e.some(t=>t.length>1):e.length>1:!1;function v0(e){const t={};for(const $ in e)$ in vh||(t[$]=e[$]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:c=r,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,w=y0(i),v=w&&w[0],A=w&&w[1],{onBeforeEnter:E,onEnter:L,onEnterCancelled:N,onLeave:F,onLeaveCancelled:K,onBeforeAppear:H=E,onAppear:X=L,onAppearCancelled:st=N}=t,z=($,ht,At,U)=>{$._enterCancelled=U,Bn($,ht?d:l),Bn($,ht?u:a),At&&At()},W=($,ht)=>{$._isLeaving=!1,Bn($,f),Bn($,p),Bn($,h),ht&&ht()},rt=$=>(ht,At)=>{const U=$?X:L,j=()=>z(ht,$,At);Dn(U,[ht,j]),au(()=>{Bn(ht,$?c:r),Fs(ht,$?d:l),ru(U)||ou(ht,n,v,j)})};return Se(t,{onBeforeEnter($){Dn(E,[$]),Fs($,r),Fs($,a)},onBeforeAppear($){Dn(H,[$]),Fs($,c),Fs($,u)},onEnter:rt(!1),onAppear:rt(!0),onLeave($,ht){$._isLeaving=!0;const At=()=>W($,ht);Fs($,f),$._enterCancelled?(Fs($,h),uu()):(uu(),Fs($,h)),au(()=>{$._isLeaving&&(Bn($,f),Fs($,p),ru(F)||ou($,n,A,At))}),Dn(F,[$,At])},onEnterCancelled($){z($,!1,void 0,!0),Dn(N,[$])},onAppearCancelled($){z($,!0,void 0,!0),Dn(st,[$])},onLeaveCancelled($){W($),Dn(K,[$])}})}function y0(e){if(e==null)return null;if(Zt(e))return[_o(e.enter),_o(e.leave)];{const t=_o(e);return[t,t]}}function _o(e){return wg(e)}function Fs(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[br]||(e[br]=new Set)).add(t)}function Bn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[br];s&&(s.delete(t),s.size||(e[br]=void 0))}function au(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let b0=0;function ou(e,t,s,n){const i=e._endId=++b0,r=()=>{i===e._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:a,timeout:l,propCount:c}=w0(e,t);if(!a)return n();const u=a+"end";let d=0;const f=()=>{e.removeEventListener(u,h),r()},h=p=>{p.target===e&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},l+1),e.addEventListener(u,h)}function w0(e,t){const s=window.getComputedStyle(e),n=w=>(s[w]||"").split(", "),i=n(`${dn}Delay`),r=n(`${dn}Duration`),a=lu(i,r),l=n(`${Ki}Delay`),c=n(`${Ki}Duration`),u=lu(l,c);let d=null,f=0,h=0;t===dn?a>0&&(d=dn,f=a,h=r.length):t===Ki?u>0&&(d=Ki,f=u,h=c.length):(f=Math.max(a,u),d=f>0?a>u?dn:Ki:null,h=d?d===dn?r.length:c.length:0);const p=d===dn&&/\b(?:transform|all)(?:,|$)/.test(n(`${dn}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function lu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>cu(s)+cu(e[n])))}function cu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function uu(){return document.body.offsetHeight}function A0(e,t,s){const n=e[br];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const _a=Symbol("_vod"),yh=Symbol("_vsh"),E0={name:"show",beforeMount(e,{value:t},{transition:s}){e[_a]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Wi(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Wi(e,!0),n.enter(e)):n.leave(e,()=>{Wi(e,!1)}):Wi(e,t))},beforeUnmount(e,{value:t}){Wi(e,t)}};function Wi(e,t){e.style.display=t?e[_a]:"none",e[yh]=!t}const k0=Symbol(""),C0=/(?:^|;)\s*display\s*:/;function S0(e,t,s){const n=e.style,i=ge(s);let r=!1;if(s&&!i){if(t)if(ge(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();s[l]==null&&ha(n,l,"")}else for(const a in t)s[a]==null&&ha(n,a,"");for(const a in s)a==="display"&&(r=!0),ha(n,a,s[a])}else if(i){if(t!==s){const a=n[k0];a&&(s+=";"+a),n.cssText=s,r=C0.test(s)}}else t&&e.removeAttribute("style");_a in e&&(e[_a]=r?n.display:"",e[yh]&&(n.display="none"))}const du=/\s*!important$/;function ha(e,t,s){if(yt(s))s.forEach(n=>ha(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=T0(e,t);du.test(s)?e.setProperty(ai(n),s.replace(du,""),"important"):e[n]=s}}const fu=["Webkit","Moz","ms"],Po={};function T0(e,t){const s=Po[t];if(s)return s;let n=ps(t);if(n!=="filter"&&n in e)return Po[t]=n;n=Ha(n);for(let i=0;i<fu.length;i++){const r=fu[i]+n;if(r in e)return Po[t]=r}return t}const hu="http://www.w3.org/1999/xlink";function pu(e,t,s,n,i,r=Tg(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(hu,t.slice(6,t.length)):e.setAttributeNS(hu,t,s):s==null||r&&!df(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Os(s)?String(s):s)}function mu(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?gh(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=df(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(i||t)}function An(e,t,s,n){e.addEventListener(t,s,n)}function _0(e,t,s,n){e.removeEventListener(t,s,n)}const gu=Symbol("_vei");function P0(e,t,s,n,i=null){const r=e[gu]||(e[gu]={}),a=r[t];if(n&&a)a.value=n;else{const[l,c]=x0(t);if(n){const u=r[t]=N0(n,i);An(e,l,u,c)}else a&&(_0(e,l,a,c),r[t]=void 0)}}const vu=/(?:Once|Passive|Capture)$/;function x0(e){let t;if(vu.test(e)){t={};let n;for(;n=e.match(vu);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ai(e.slice(2)),t]}let xo=0;const I0=Promise.resolve(),R0=()=>xo||(I0.then(()=>xo=0),xo=Date.now());function N0(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ks(L0(n,s.value),t,5,[n])};return s.value=e,s.attached=R0(),s}function L0(e,t){if(yt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const yu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,D0=(e,t,s,n,i,r)=>{const a=i==="svg";t==="class"?A0(e,n,a):t==="style"?S0(e,s,n):$a(t)?Vl(t)||P0(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):B0(e,t,n,a))?(mu(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&pu(e,t,n,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ge(n))?mu(e,ps(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),pu(e,t,n,a))};function B0(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&yu(t)&&kt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return yu(t)&&ge(s)?!1:t in e}const Ii=e=>{const t=e.props["onUpdate:modelValue"]||!1;return yt(t)?s=>ca(t,s):t};function O0(e){e.target.composing=!0}function bu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const tn=Symbol("_assign"),ye={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[tn]=Ii(i);const r=n||i.props&&i.props.type==="number";An(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;s&&(l=l.trim()),r&&(l=va(l)),e[tn](l)}),s&&An(e,"change",()=>{e.value=e.value.trim()}),t||(An(e,"compositionstart",O0),An(e,"compositionend",bu),An(e,"change",bu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},a){if(e[tn]=Ii(a),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?va(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===c)||(e.value=c))}},ul={deep:!0,created(e,t,s){e[tn]=Ii(s),An(e,"change",()=>{const n=e._modelValue,i=wr(e),r=e.checked,a=e[tn];if(yt(n)){const l=Gl(n,i),c=l!==-1;if(r&&!c)a(n.concat(i));else if(!r&&c){const u=[...n];u.splice(l,1),a(u)}}else if($i(n)){const l=new Set(n);r?l.add(i):l.delete(i),a(l)}else a(bh(e,r))})},mounted:wu,beforeUpdate(e,t,s){e[tn]=Ii(s),wu(e,t,s)}};function wu(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(yt(t))i=Gl(t,n.props.value)>-1;else if($i(t))i=t.has(n.props.value);else{if(t===s)return;i=Br(t,bh(e,!0))}e.checked!==i&&(e.checked=i)}const De={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=$i(t);An(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?va(wr(a)):wr(a));e[tn](e.multiple?i?new Set(r):r:r[0]),e._assigning=!0,Zl(()=>{e._assigning=!1})}),e[tn]=Ii(n)},mounted(e,{value:t}){Au(e,t)},beforeUpdate(e,t,s){e[tn]=Ii(s)},updated(e,{value:t}){e._assigning||Au(e,t)}};function Au(e,t){const s=e.multiple,n=yt(t);if(!(s&&!n&&!$i(t))){for(let i=0,r=e.options.length;i<r;i++){const a=e.options[i],l=wr(a);if(s)if(n){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(u=>String(u)===String(l)):a.selected=Gl(t,l)>-1}else a.selected=t.has(l);else if(Br(wr(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wr(e){return"_value"in e?e._value:e.value}function bh(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const M0=["ctrl","shift","alt","meta"],U0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>M0.some(s=>e[`${s}Key`]&&!t.includes(s))},St=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((i,...r)=>{for(let a=0;a<t.length;a++){const l=U0[t[a]];if(l&&l(i,t))return}return e(i,...r)}))},F0=Se({patchProp:D0},h0);let Eu;function $0(){return Eu||(Eu=Ov(F0))}const V0=((...e)=>{const t=$0().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=j0(n);if(!i)return;const r=t._component;!kt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=s(i,!1,H0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t});function H0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function j0(e){return ge(e)?document.querySelector(e):e}const wh="auth-changed";function G0(){localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("remember_email"),window.dispatchEvent(new Event(wh))}function Gn(){return localStorage.getItem("isLoggedIn")==="true"}const ku=wh,zt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},K0={name:"SlideNavigation",props:{isOpen:{type:Boolean,default:!1}},data(){return{autoCloseTimer:null,autoCloseDelay:1e3}},methods:{navigate(e){this.$router.push(e),this.closeSidebar()},handleMouseEnter(){this.autoCloseTimer&&(clearTimeout(this.autoCloseTimer),this.autoCloseTimer=null)},handleMouseLeave(){this.isOpen&&(this.autoCloseTimer=setTimeout(()=>{this.closeSidebar()},this.autoCloseDelay))},closeSidebar(){this.$emit("close")}},beforeUnmount(){this.autoCloseTimer&&clearTimeout(this.autoCloseTimer)}},W0={class:"sidebar-nav"},z0={class:"sidebar-footer"};function Y0(e,t,s,n,i,r){return S(),T("div",{class:Ct(["sidebar",{open:s.isOpen}]),onMouseenter:t[9]||(t[9]=(...a)=>r.handleMouseEnter&&r.handleMouseEnter(...a)),onMouseleave:t[10]||(t[10]=(...a)=>r.handleMouseLeave&&r.handleMouseLeave(...a))},[t[20]||(t[20]=o("div",{class:"sidebar-header"},[o("h3",{class:"sidebar-title"},"Navigation Menu")],-1)),o("nav",W0,[o("a",{href:"#",onClick:t[0]||(t[0]=St(a=>r.navigate("/overview"),["prevent"])),class:"sidebar-item"},[...t[11]||(t[11]=[o("span",{class:"sidebar-item-icon"},"📋",-1),o("span",null,"Overview",-1)])]),o("a",{href:"#",onClick:t[1]||(t[1]=St(a=>r.navigate("/about"),["prevent"])),class:"sidebar-item"},[...t[12]||(t[12]=[o("span",{class:"sidebar-item-icon"},"🏢",-1),o("span",null,"About Us",-1)])]),o("a",{href:"#",onClick:t[2]||(t[2]=St(a=>r.navigate("/features"),["prevent"])),class:"sidebar-item"},[...t[13]||(t[13]=[o("span",{class:"sidebar-item-icon"},"⭐",-1),o("span",null,"Features",-1)])]),o("a",{href:"#",onClick:t[3]||(t[3]=St(a=>r.navigate("/solutions"),["prevent"])),class:"sidebar-item"},[...t[14]||(t[14]=[o("span",{class:"sidebar-item-icon"},"🔧",-1),o("span",null,"Solutions",-1)])]),o("a",{href:"#",onClick:t[4]||(t[4]=St(a=>r.navigate("/tutorials"),["prevent"])),class:"sidebar-item"},[...t[15]||(t[15]=[o("span",{class:"sidebar-item-icon"},"📚",-1),o("span",null,"Tutorials",-1)])]),o("a",{href:"#",onClick:t[5]||(t[5]=St(a=>r.navigate("/pricing"),["prevent"])),class:"sidebar-item"},[...t[16]||(t[16]=[o("span",{class:"sidebar-item-icon"},"💰",-1),o("span",null,"Pricing",-1)])]),o("a",{href:"#",onClick:t[6]||(t[6]=St(a=>r.navigate("/contact"),["prevent"])),class:"sidebar-item"},[...t[17]||(t[17]=[o("span",{class:"sidebar-item-icon"},"📞",-1),o("span",null,"Contacts",-1)])])]),o("div",z0,[o("button",{class:"sidebar-footer-btn",onClick:t[7]||(t[7]=a=>r.navigate("/options"))},[...t[18]||(t[18]=[o("span",{class:"sidebar-item-icon"},"⚙️",-1),o("span",null,"Options",-1)])]),o("button",{class:"sidebar-footer-btn",onClick:t[8]||(t[8]=a=>r.navigate("/settings"))},[...t[19]||(t[19]=[o("span",{class:"sidebar-item-icon"},"🔧",-1),o("span",null,"Settings",-1)])])])],34)}const Q0=zt(K0,[["render",Y0],["__scopeId","data-v-5f0d9cb4"]]),Ah="/icons/RWA-logo.png",q0="/icons/search-icon.png",J0={name:"AppHeader",components:{SlideNavigation:Q0},props:{},data(){return{searchOpen:!1,searchText:"",isLoggedIn:!1,moreDropdownOpen:!1,mobileMenuOpen:!1,sidebarOpen:!1}},methods:{noop(){},go(e){this.$router.push(e),this.closeSearch(),this.closeMoreDropdown(),this.closeMobileMenu()},toggleMoreDropdown(){this.moreDropdownOpen=!this.moreDropdownOpen,this.closeSearch(),this.closeMobileMenu()},closeMoreDropdown(){this.moreDropdownOpen=!1},toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen,this.closeSearch(),this.closeMoreDropdown()},closeMobileMenu(){this.mobileMenuOpen=!1},toggleSidebar(){this.sidebarOpen=!this.sidebarOpen,this.updateBodyClass()},closeSidebar(){this.sidebarOpen=!1,this.updateBodyClass()},updateBodyClass(){this.sidebarOpen?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open")},checkLogin(){this.isLoggedIn=Gn()},logout(){G0(),this.$router.push("/login")},toggleSearch(){this.searchOpen=!this.searchOpen,this.$nextTick(()=>{this.searchOpen&&this.$refs.searchInput&&this.$refs.searchInput.focus()})},closeSearch(){this.searchOpen=!1,this.searchText=""},submitSearch(){this.$emit("search",this.searchText)},onDocClick(e){const t=this.$refs.searchInput,s=this.$el.querySelector(".search-toggle"),n=this.$el.querySelector(".dropdown-container"),i=this.$el.querySelector(".mobile-menu-btn"),r=this.$el.querySelector(".mobile-menu");t&&this.searchOpen&&!t.contains(e.target)&&!s.contains(e.target)&&this.closeSearch(),n&&this.moreDropdownOpen&&!n.contains(e.target)&&this.closeMoreDropdown(),r&&this.mobileMenuOpen&&!r.contains(e.target)&&!i.contains(e.target)&&this.closeMobileMenu()},async connectWallet(){if(typeof window.ethereum<"u")try{const e=await window.ethereum.request({method:"eth_requestAccounts"});this.account=e[0],console.log("钱包已连接：",this.account)}catch(e){console.error("连接失败",e)}else alert("请先安装 MetaMask 插件！")},shortenAddress(e){return e.slice(0,6)+"..."+e.slice(-4)},goToWallet(){this.go("/wallet")},goToProfile(){this.go("/profile")}},mounted(){document.addEventListener("click",this.onDocClick),this.checkLogin(),window.addEventListener(ku,this.checkLogin),this.isLoggedIn=Gn()},beforeUnmount(){document.removeEventListener("click",this.onDocClick),window.removeEventListener(ku,this.checkLogin),document.body.classList.remove("sidebar-open")}},Z0={class:"header"},X0={class:"container nav"},ty={class:"left"},ey={class:"menu","aria-label":"Primary"},sy={class:"right"},ny={class:"search-wrapper"},iy={key:0,class:"mobile-menu"},ry={class:"mobile-menu-content"};function ay(e,t,s,n,i,r){const a=Xs("SlideNavigation");return S(),T("header",Z0,[o("div",X0,[o("div",ty,[o("button",{class:"sidebar-toggle-btn",onClick:t[0]||(t[0]=(...l)=>r.toggleSidebar&&r.toggleSidebar(...l)),"aria-label":"Toggle sidebar"},[...t[16]||(t[16]=[o("span",{class:"sidebar-icon"},"☰",-1)])]),o("a",{class:"brand",href:"#",onClick:t[1]||(t[1]=St(l=>r.go("/"),["prevent"]))},[...t[17]||(t[17]=[o("img",{src:Ah,alt:"Mortgage RWA",class:"brand-logo"},null,-1)])]),o("nav",ey,[o("a",{href:"#",onClick:t[2]||(t[2]=St(l=>r.go("/home"),["prevent"])),class:"menu-item"},"Home"),o("a",{href:"#",onClick:t[3]||(t[3]=St(l=>r.go("/projects"),["prevent"])),class:"menu-item"},"Projects"),o("a",{href:"#",onClick:t[4]||(t[4]=St(l=>r.go("/portfolio"),["prevent"])),class:"menu-item"},"Portfolio")]),o("button",{class:Ct(["mobile-menu-btn",{active:i.mobileMenuOpen}]),onClick:t[5]||(t[5]=(...l)=>r.toggleMobileMenu&&r.toggleMobileMenu(...l)),"aria-label":"Toggle mobile menu"},[...t[18]||(t[18]=[o("span",{class:"hamburger-line"},null,-1),o("span",{class:"hamburger-line"},null,-1),o("span",{class:"hamburger-line"},null,-1)])],2)]),o("div",sy,[o("div",ny,[o("form",{class:"search-form",onSubmit:t[8]||(t[8]=St((...l)=>r.submitSearch&&r.submitSearch(...l),["prevent"]))},[It(o("input",{ref:"searchInput",type:"text",class:Ct(["search-input",{expanded:i.searchOpen}]),placeholder:"Search...","onUpdate:modelValue":t[6]||(t[6]=l=>i.searchText=l)},null,2),[[ye,i.searchText]]),o("button",{type:"button",class:"search-toggle",onClick:t[7]||(t[7]=(...l)=>r.toggleSearch&&r.toggleSearch(...l))},[...t[19]||(t[19]=[o("img",{src:q0,alt:"Search"},null,-1)])])],32)]),i.isLoggedIn?(S(),T(xt,{key:0},[o("button",{class:"btn orange pill",onClick:t[9]||(t[9]=St(l=>r.goToWallet(),["prevent"]))},[...t[20]||(t[20]=[o("span",null,"🔗",-1),o("span",null,"Wallet",-1)])]),o("button",{class:"btn light pill",onClick:t[10]||(t[10]=St(l=>r.goToProfile(),["prevent"]))},[...t[21]||(t[21]=[o("span",null,"👤",-1),o("span",null,"Profile",-1)])])],64)):(S(),T(xt,{key:1},[o("a",{class:"btn ghost",href:"#",onClick:t[11]||(t[11]=St(l=>r.go("/login"),["prevent"]))},"Log in"),o("a",{class:"btn orange",href:"#",onClick:t[12]||(t[12]=St(l=>r.go("/signup"),["prevent"]))},"Sign up")],64))])]),i.mobileMenuOpen?(S(),T("div",iy,[o("div",ry,[o("a",{href:"#",onClick:t[13]||(t[13]=St(l=>r.go("/home"),["prevent"])),class:"mobile-menu-item"},[...t[22]||(t[22]=[o("span",{class:"mobile-menu-icon"},"🏠",-1),o("span",null,"Home",-1)])]),o("a",{href:"#",onClick:t[14]||(t[14]=St(l=>r.go("/projects"),["prevent"])),class:"mobile-menu-item"},[...t[23]||(t[23]=[o("span",{class:"mobile-menu-icon"},"📊",-1),o("span",null,"Projects",-1)])]),o("a",{href:"#",onClick:t[15]||(t[15]=St(l=>r.go("/portfolio"),["prevent"])),class:"mobile-menu-item"},[...t[24]||(t[24]=[o("span",{class:"mobile-menu-icon"},"💼",-1),o("span",null,"Portfolio",-1)])])])])):et("",!0),wt(a,{isOpen:i.sidebarOpen,onClose:r.closeSidebar},null,8,["isOpen","onClose"])])}const oy=zt(J0,[["render",ay],["__scopeId","data-v-32e6336e"]]),_e=[{code:"RWA001",name:"St Ives NSW Residential Project",image:"/pics/TYMU.png",subtitle:"Prosper Way Holdings Ltd - Residential Mortgage",type:"residential",region:"St Ives NSW",risk:"low",targetYield:9.9,status:"active",summary:"First-lien residential mortgage with monthly interest payments and controlled LTV.",totalOffering:"A$1,000,000",subscribed:"A$350,000",totalSubscriptionTokens:100,subscribedTokens:35,loanAmount:"AUD 1,000,000",annualInterestRate:"9.9%",loanTerm:"12 months",ltv:"67%",drawdownDate:"2025-08-06",earlyRepayment:"Permitted after 6 months",repaymentArrangement:"Monthly interest payments (the first month's interest prepaid on the start date). Principal repaid in full at maturity.",issuer:"Prosper Way Holdings Ltd (PW)",pwShareholders:"A, B, C, D – each holding 25%",lender:"CA Capital Pty Ltd",borrower:"Warby Street Development Pty Ltd",guarantor:"D Song",disbursementMethod:"Lump-sum, single drawdown",interest:"9.9% p.a., payable monthly; first month prepaid at drawdown",earlyRepaymentDetails:"Allowed after 6 months",maturityDate:"2026-08-06",propertyAddress:"16 Cranford Avenue, St Ives NSW 2075",valuation:"AUD 1,500,000",securityRank:"First mortgage",lvr:"67%",defaultInterestRate:"18% p.a.",defaultTriggers:"Interest or principal overdue by more than 5 days",defaultProcess:"If default occurs and remains unresolved 1 month after written notice, the lender's lawyer will initiate foreclosure proceedings",issuerToken:"PW issues tokens to A/B/C/D (25% each) as equity certificates",loanToken:"Placeholder – planned ERC-20 token to record principal and distribute interest",valuationReport:"PDF available",mortgageDeed:"PDF available"},{code:"RWA002",name:"SQNB Property Loan",image:"/pics/SQNB.png",subtitle:"Commercial Mortgage Loan",type:"commercial",region:"CBD",risk:"medium",targetYield:7.2,status:"upcoming",summary:"Commercial mortgage opportunity in CBD with stable tenancy and monthly coupons.",totalOffering:"A$1,800,000",subscribed:"A$0",totalSubscriptionTokens:180,subscribedTokens:0,loanAmount:"AUD 1,800,000",annualInterestRate:"7.2%",loanTerm:"24 months",ltv:"75%",drawdownDate:"2025-09-15",earlyRepayment:"Permitted after 12 months",repaymentArrangement:"Monthly interest payments with principal repayment at maturity.",issuer:"SQNB Holdings Ltd",pwShareholders:"E, F, G – each holding 33.33%",lender:"CBD Capital Pty Ltd",borrower:"Commercial Development Group Pty Ltd",guarantor:"H Johnson",disbursementMethod:"Staged drawdown over 3 months",interest:"7.2% p.a., payable monthly",earlyRepaymentDetails:"Allowed after 12 months with penalty",maturityDate:"2027-09-15",propertyAddress:"123 Collins Street, Melbourne VIC 3000",valuation:"AUD 2,400,000",securityRank:"First mortgage",lvr:"75%",defaultInterestRate:"15% p.a.",defaultTriggers:"Interest or principal overdue by more than 7 days",defaultProcess:"Standard foreclosure proceedings initiated after 30 days notice",issuerToken:"SQNB issues tokens to E/F/G as equity certificates",loanToken:"Planned ERC-20 token for debt recording",valuationReport:"PDF available",mortgageDeed:"PDF available"},{code:"RWA003",name:"LZYT Property Loan",image:"/pics/LZYT.png",subtitle:"Suburban Residential Loan",type:"residential",region:"Suburban",risk:"medium",targetYield:6.9,status:"research",summary:"Suburban residential mortgage with moderate yield and steady income profile.",totalOffering:"A$750,000",subscribed:"A$0",totalSubscriptionTokens:75,subscribedTokens:0,loanAmount:"AUD 750,000",annualInterestRate:"6.9%",loanTerm:"18 months",ltv:"76.5%",drawdownDate:"2025-10-01",earlyRepayment:"Permitted after 9 months",repaymentArrangement:"Monthly interest payments with balloon payment at maturity.",issuer:"LZYT Property Holdings Pty Ltd",pwShareholders:"I, J, K – each holding 33.33%",lender:"Suburban Finance Pty Ltd",borrower:"Residential Development Co. Pty Ltd",guarantor:"L Smith",disbursementMethod:"Single drawdown at settlement",interest:"6.9% p.a., payable monthly",earlyRepaymentDetails:"Allowed after 9 months without penalty",maturityDate:"2027-04-01",propertyAddress:"456 Suburban Drive, Brisbane QLD 4000",valuation:"AUD 980,000",securityRank:"First mortgage",lvr:"76.5%",defaultInterestRate:"12% p.a.",defaultTriggers:"Interest or principal overdue by more than 10 days",defaultProcess:"Mortgagee sale proceedings after 45 days default notice",issuerToken:"LZYT issues tokens to I/J/K as equity certificates",loanToken:"Planned ERC-20 token for debt management",valuationReport:"PDF available",mortgageDeed:"PDF available"},{code:"YYD",name:"YYD Property Loan",image:"/pics/YYD.png",subtitle:"CBD Apartment Mortgage",type:"residential",region:"CBD",risk:"low",targetYield:6.1,status:"planning",summary:"CBD apartment mortgage targeting stable monthly income and lower risk.",totalOffering:"A$1,200,000",subscribed:"A$0",totalSubscriptionTokens:120,subscribedTokens:0,loanAmount:"AUD 1,200,000",annualInterestRate:"6.1%",loanTerm:"36 months",ltv:"72.7%",drawdownDate:"2025-11-15",earlyRepayment:"Permitted after 18 months",repaymentArrangement:"Monthly interest payments with principal amortization over final 12 months.",issuer:"YYD Apartment Holdings Pty Ltd",pwShareholders:"M, N, O, P – each holding 25%",lender:"CBD Residential Finance Pty Ltd",borrower:"Apartment Development Group Pty Ltd",guarantor:"Q Wilson",disbursementMethod:"Progressive drawdown based on construction milestones",interest:"6.1% p.a., payable monthly",earlyRepaymentDetails:"Allowed after 18 months with reduced penalty",maturityDate:"2028-11-15",propertyAddress:"789 CBD Plaza, Sydney NSW 2000",valuation:"AUD 1,650,000",securityRank:"First mortgage",lvr:"72.7%",defaultInterestRate:"10% p.a.",defaultTriggers:"Interest or principal overdue by more than 14 days",defaultProcess:"Receivership and sale proceedings after 60 days notice",issuerToken:"YYD issues tokens to M/N/O/P as equity certificates",loanToken:"Planned ERC-20 token for debt tracking",valuationReport:"PDF available",mortgageDeed:"PDF available"},{code:"COMP",name:"COMPLETED Project",image:"/pics/TYMU.png",subtitle:"Fully Subscribed Project",type:"residential",region:"Sydney",risk:"low",targetYield:8.5,status:"completed",summary:"This project has been fully subscribed and is now closed for new investments.",totalOffering:"A$2,000,000",subscribed:"A$2,000,000",totalSubscriptionTokens:200,subscribedTokens:200,loanAmount:"AUD 2,000,000",annualInterestRate:"8.5%",loanTerm:"30 months",ltv:"71.4%",drawdownDate:"2024-06-01",earlyRepayment:"Permitted after 15 months",repaymentArrangement:"Monthly interest payments with principal repayment at maturity.",issuer:"COMP Property Holdings Pty Ltd",pwShareholders:"R, S, T, U, V – each holding 20%",lender:"Sydney Capital Finance Pty Ltd",borrower:"Premium Development Group Pty Ltd",guarantor:"W Brown",disbursementMethod:"Single drawdown at settlement",interest:"8.5% p.a., payable monthly",earlyRepaymentDetails:"Allowed after 15 months without penalty",maturityDate:"2026-12-01",propertyAddress:"321 Premium Street, Sydney NSW 2000",valuation:"AUD 2,800,000",securityRank:"First mortgage",lvr:"71.4%",defaultInterestRate:"16% p.a.",defaultTriggers:"Interest or principal overdue by more than 5 days",defaultProcess:"Foreclosure proceedings after 30 days written notice",issuerToken:"COMP issues tokens to R/S/T/U/V as equity certificates",loanToken:"Active ERC-20 token for debt management",valuationReport:"PDF available",mortgageDeed:"PDF available"}],ly={getProductByCode:e=>_e.find(t=>t.code===e),getProductsByStatus:e=>_e.filter(t=>t.status===e),getProductsByType:e=>_e.filter(t=>t.type===e),getProductsByRisk:e=>_e.filter(t=>t.risk===e),getAllProductCodes:()=>_e.map(e=>e.code),getAllStatuses:()=>[...new Set(_e.map(e=>e.status))],getAllTypes:()=>[...new Set(_e.map(e=>e.type))],getAllRisks:()=>[...new Set(_e.map(e=>e.risk))]},cy="/icons/mobile-app-preview.png",uy={name:"HomeView",emits:["notify"],data(){return{products:_e}},computed:{upcomingProjects(){return this.products.filter(e=>e.status==="upcoming")},newListingProject(){return this.upcomingProjects.length>0?this.upcomingProjects[0]:null}},methods:{notify(e){this.$emit("notify",e)},getStatusText(e){return{active:"Active",upcoming:"Upcoming",research:"Research",planning:"Planning",completed:"Completed"}[e]||"Unknown"}},mounted(){console.log("🏠 HomeView: 加载的产品数据:",this.products.length,"个项目"),console.log("📋 HomeView: Upcoming项目:",this.upcomingProjects),console.log("🆕 HomeView: New Listing项目:",this.newListingProject),this.newListingProject?console.log("✅ HomeView: New Listing项目详情:",{code:this.newListingProject.code,name:this.newListingProject.name,loanAmount:this.newListingProject.loanAmount,targetYield:this.newListingProject.targetYield,loanTerm:this.newListingProject.loanTerm,status:this.newListingProject.status}):console.log("ℹ️ HomeView: 暂无upcoming项目")}},dy={class:"container hero"},fy={class:"grid"},hy={class:"cards","aria-label":"Highlights"},py={class:"card","aria-labelledby":"listing-title"},my={key:0,class:"list"},gy={class:"li"},vy={class:"li"},yy={class:"li"},by={class:"li"},wy={class:"li"},Ay={key:1,class:"list"};function Ey(e,t,s,n,i,r){return S(),T(xt,null,[o("section",dy,[o("div",fy,[t[7]||(t[7]=o("div",null,[o("h1",{class:"headline"},[pt("Invest in RWA Property"),o("br"),pt("Loans with Daily Returns")]),o("p",{class:"sub"}," Access verified Real World Assets (RWA) — mortgage-backed loans, tokenized for secure and transparent investing. ")],-1)),o("div",hy,[o("article",py,[t[6]||(t[6]=o("h3",{id:"listing-title"},"New Listing",-1)),r.newListingProject?(S(),T("div",my,[o("div",gy,[t[0]||(t[0]=o("span",{class:"check","aria-hidden":"true"},[o("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b","stroke-width":"3"},[o("polyline",{points:"20 6 9 17 4 12"})])],-1)),o("span",null,y(r.newListingProject.code)+" • "+y(r.newListingProject.name),1)]),o("div",vy,[t[1]||(t[1]=o("span",{class:"check","aria-hidden":"true"},[o("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b","stroke-width":"3"},[o("polyline",{points:"20 6 9 17 4 12"})])],-1)),o("span",null,"Loan Size: "+y(r.newListingProject.loanAmount),1)]),o("div",yy,[t[2]||(t[2]=o("span",{class:"check","aria-hidden":"true"},[o("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b","stroke-width":"3"},[o("polyline",{points:"20 6 9 17 4 12"})])],-1)),o("span",null,"Est. Yield (IRR): "+y(r.newListingProject.targetYield)+"%",1)]),o("div",by,[t[3]||(t[3]=o("span",{class:"check","aria-hidden":"true"},[o("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b","stroke-width":"3"},[o("polyline",{points:"20 6 9 17 4 12"})])],-1)),o("span",null,"Term: "+y(r.newListingProject.loanTerm),1)]),o("div",wy,[t[4]||(t[4]=o("span",{class:"check","aria-hidden":"true"},[o("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b","stroke-width":"3"},[o("polyline",{points:"20 6 9 17 4 12"})])],-1)),o("span",null,"Status: "+y(r.getStatusText(r.newListingProject.status)),1)])])):(S(),T("div",Ay,[...t[5]||(t[5]=[ne('<div class="li" data-v-de102e1a><span class="check" aria-hidden="true" data-v-de102e1a><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="3" data-v-de102e1a><polyline points="20 6 9 17 4 12" data-v-de102e1a></polyline></svg></span><span data-v-de102e1a>No upcoming projects at the moment</span></div><div class="li" data-v-de102e1a><span class="check" aria-hidden="true" data-v-de102e1a><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="3" data-v-de102e1a><polyline points="20 6 9 17 4 12" data-v-de102e1a></polyline></svg></span><span data-v-de102e1a>Check back soon for new opportunities</span></div>',2)])]))])])])]),t[8]||(t[8]=ne('<section class="section" data-v-de102e1a><div class="container" data-v-de102e1a><header class="faq-header" data-v-de102e1a><h2 class="faq-heading" data-v-de102e1a>Frequently asked questions</h2><p class="faq-sub" data-v-de102e1a>Everything you need to know about the product and billing.</p></header><div class="faq-grid" data-v-de102e1a><article class="faq-item" data-v-de102e1a><div class="faq-icon" data-v-de102e1a>♡</div><h3 class="faq-title" data-v-de102e1a>Is there a free trial available?</h3><p class="faq-desc" data-v-de102e1a>Yes, you can try us for free for 30 days.</p></article><article class="faq-item" data-v-de102e1a><div class="faq-icon" data-v-de102e1a>⇄</div><h3 class="faq-title" data-v-de102e1a>Can I change my plan later?</h3><p class="faq-desc" data-v-de102e1a>Of course—pricing scales with your company.</p></article><article class="faq-item" data-v-de102e1a><div class="faq-icon" data-v-de102e1a>◎</div><h3 class="faq-title" data-v-de102e1a>What is your cancellation policy?</h3><p class="faq-desc" data-v-de102e1a>Cancel anytime and we’ll refund the difference already paid.</p></article><article class="faq-item" data-v-de102e1a><div class="faq-icon" data-v-de102e1a>▣</div><h3 class="faq-title" data-v-de102e1a>Can info be added to an invoice?</h3><p class="faq-desc" data-v-de102e1a>For now, add info to the workspace name.</p></article><article class="faq-item" data-v-de102e1a><div class="faq-icon" data-v-de102e1a>⧉</div><h3 class="faq-title" data-v-de102e1a>How does billing work?</h3><p class="faq-desc" data-v-de102e1a>Plans are per workspace, not per account.</p></article><article class="faq-item" data-v-de102e1a><div class="faq-icon" data-v-de102e1a>✉</div><h3 class="faq-title" data-v-de102e1a>How do I change my account email?</h3><p class="faq-desc" data-v-de102e1a>Use account settings from a computer.</p></article></div><div class="faq-cta" data-v-de102e1a><div class="faq-cta-avatars" aria-hidden="true" data-v-de102e1a><span class="avatar" data-v-de102e1a>A</span><span class="avatar" data-v-de102e1a>B</span><span class="avatar" data-v-de102e1a>C</span></div><h3 class="faq-cta-title" data-v-de102e1a>Still have questions?</h3><p class="faq-cta-sub" data-v-de102e1a>Can’t find the answer you’re looking for? Please chat to our friendly team.</p><a href="#" class="btn primary" data-v-de102e1a>Get in touch</a></div></div></section><section class="section wallet" data-v-de102e1a><div class="container wallet-grid" data-v-de102e1a><div class="wallet-visual" data-v-de102e1a><img src="'+cy+'" alt="Mortgage RWA Wallet mobile preview" class="wallet-phone" data-v-de102e1a></div><div class="wallet-copy" data-v-de102e1a><span class="badge" data-v-de102e1a>New</span><h2 class="wallet-title" data-v-de102e1a>Mortgage RWA Wallet</h2><p class="wallet-sub" data-v-de102e1a>Manage your RWA assets in one place:<strong data-v-de102e1a>Receiving Payment</strong>、<strong data-v-de102e1a>Transfering</strong>、<strong data-v-de102e1a>Exchanging</strong>、<strong data-v-de102e1a>Buying</strong>in one safe wallet</p><ul class="wallet-feats" data-v-de102e1a><li data-v-de102e1a>Non-custodial, self-held private keys</li><li data-v-de102e1a>Daily income details and notifications</li><li data-v-de102e1a>Fiat channels (compliant available regions)</li><li data-v-de102e1a>Multi-chain support (EVM first)</li></ul><div class="store-row" data-v-de102e1a><a class="store-btn ios" href="#" data-v-de102e1a><svg viewBox="0 0 24 24" width="18" height="18" data-v-de102e1a><path d="M16.365 1.43c.03 1.09-.4 1.9-1.01 2.63-.68.83-1.83 1.47-2.96 1.38-.13-1.04.35-2 .95-2.66.74-.83 1.99-1.46 3.02-1.35zM20.77 17.38c-.53 1.23-.8 1.77-1.5 2.86-1 1.53-2.41 3.43-4.17 3.45-1.56.02-1.97-1.01-4.1-1.01-2.13 0-2.59 1-4.14 1.03-1.77.03-3.13-1.65-4.14-3.17C.7 18.15-.52 14.34.9 11.5c1.01-2.01 2.82-3.29 4.96-3.32 1.54-.03 2.99 1.04 4.1 1.04 1.1 0 2.9-1.28 4.89-1.09.83.04 3.17.34 4.67 2.56-3.99 2.23-3.35 8.09 1.25 9.69z" fill="currentColor" data-v-de102e1a></path></svg><span color="black" data-v-de102e1a>App Store</span></a><a class="store-btn and" href="#" data-v-de102e1a><svg viewBox="0 0 24 24" width="18" height="18" data-v-de102e1a><path d="M3.6 1.8l12.3 9-12.3 9c-.37-.21-.6-.6-.6-1.07V2.87c0-.47.23-.86.6-1.07zm13.78 9L18 9.34 6.36 1.8l10.02 11zm0 0L6.36 22.2 18 14.66l-.62-.82zM19.1 13.88l2.9-1.88-2.9-1.88c-.2-.13-.46-.07-.6.13l-1.2 1.75 1.2 1.75c.14.2.4.26.6.13z" fill="currentColor" data-v-de102e1a></path></svg><span color="black" data-v-de102e1a>Google Play</span></a></div></div></div></section>',2))],64)}const Eh=zt(uy,[["render",Ey],["__scopeId","data-v-de102e1a"]]),ky={async getAllProducts(){try{return console.log("📊 API: 获取所有产品数据"),await new Promise(e=>setTimeout(e,100)),{status:0,message:"Success",data:_e}}catch(e){return console.error("❌ API: 获取产品数据失败:",e),{status:1,message:e instanceof Error?e.message:"Unknown error",data:[]}}},async getProductByCode(e){try{console.log("📊 API: 根据代码获取产品:",e),await new Promise(s=>setTimeout(s,50));const t=_e.find(s=>s.code===e);return t?{status:0,message:"Success",data:t}:{status:1,message:"Product not found",data:null}}catch(t){return console.error("❌ API: 获取产品详情失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:null}}},async searchProducts(e){try{return console.log("📊 API: 搜索产品:",e),await new Promise(s=>setTimeout(s,100)),!e||e.trim()===""?{status:0,message:"Success",data:_e}:{status:0,message:"Success",data:_e.filter(s=>{const n=e.toLowerCase();return s.code.toLowerCase().includes(n)||s.name.toLowerCase().includes(n)||s.subtitle.toLowerCase().includes(n)||s.region.toLowerCase().includes(n)})}}catch(t){return console.error("❌ API: 搜索产品失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:[]}}},async getProductsByType(e){try{return console.log("📊 API: 根据类型获取产品:",e),await new Promise(s=>setTimeout(s,50)),!e||e==="all"?{status:0,message:"Success",data:_e}:{status:0,message:"Success",data:_e.filter(s=>s.type===e)}}catch(t){return console.error("❌ API: 根据类型获取产品失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:[]}}},async getProductsByRisk(e){try{return console.log("📊 API: 根据风险等级获取产品:",e),await new Promise(s=>setTimeout(s,50)),!e||e==="all"?{status:0,message:"Success",data:_e}:{status:0,message:"Success",data:_e.filter(s=>s.risk===e)}}catch(t){return console.error("❌ API: 根据风险等级获取产品失败:",t),{status:1,message:t instanceof Error?t.message:"Unknown error",data:[]}}}},Cy={name:"ProjectsView",data(){return{filters:{q:"",type:"",region:"",risk:"",status:"",minYield:0},products:[],loading:!0,error:null}},async mounted(){await this.loadProducts()},methods:{async loadProducts(){try{this.loading=!0,this.error=null;const e=await ky.getAllProducts();e.status===0?this.products=e.data||[]:(this.error=e.message||"获取产品数据失败",console.error("API返回错误:",e))}catch(e){this.error="网络错误，无法获取产品数据",console.error("加载产品数据失败:",e)}finally{this.loading=!1}},formatCurrency(e){if(!e)return null;const t=parseFloat(e);return isNaN(t)?e:`A$${t.toLocaleString()}`},resetFilters(){this.filters={q:"",type:"",region:"",risk:"",status:"",minYield:0}},openDetail(e){const t=this.products.find(n=>n.code===e);try{sessionStorage.setItem("lastProduct",JSON.stringify(t))}catch{}const s=t.project_id||e;this.$router.push({name:"detail",params:{id:s}})},openTrade(e){const t=this.products.find(s=>s.code===e);try{sessionStorage.setItem("lastProduct",JSON.stringify(t))}catch{}this.$router.push({name:"tradeProject",params:{code:e}})},getProgressPercentage(e){if(!e.totalOffering||!e.subscribed)return 0;const t=e.totalOffering.toString().replace(/[A$,]/g,""),s=e.subscribed.toString().replace(/[A$,]/g,""),n=parseFloat(t),i=parseFloat(s);if(n===0)return 0;const r=i/n*100;return Math.min(Math.round(r),100)},getStatusText(e){return{active:"Active",upcoming:"Upcoming",research:"Research",planning:"Planning",completed:"Completed"}[e]||"Unknown"},joinWaitlist(e){const t=this.products.find(s=>s.code===e);alert(`已加入 ${t.name} 的等待列表！`),console.log("Join waitlist for:",e)},registerInterest(e){const t=this.products.find(s=>s.code===e);alert(`已注册对 ${t.name} 的投资兴趣！`),console.log("Register interest for:",e)}},computed:{filteredProducts(){const e=this.filters.q.trim().toLowerCase();return this.products.filter(t=>{const s=!e||t.code.toLowerCase().includes(e)||(t.name||"").toLowerCase().includes(e)||(t.subtitle||"").toLowerCase().includes(e),n=!this.filters.type||t.type===this.filters.type,i=!this.filters.region||t.region===this.filters.region,r=!this.filters.risk||t.risk===this.filters.risk,a=!this.filters.status||t.status===this.filters.status,l=!this.filters.minYield||(t.targetYield||0)>=this.filters.minYield;return s&&n&&i&&r&&a&&l})},hasActiveFilters(){return this.filters.q.trim()!==""||this.filters.type!==""||this.filters.region!==""||this.filters.risk!==""||this.filters.status!==""||this.filters.minYield>0}}},Sy={class:"container"},Ty={class:"filters",style:{display:"flex",gap:"10px","flex-wrap":"wrap","align-items":"center",margin:"8px 0 6px"}},_y={class:"filter-stats",style:{margin:"8px 0",color:"var(--muted)","font-size":"14px"}},Py={key:0,style:{"margin-left":"12px"}},xy={key:0,class:"loading-container"},Iy={key:1,class:"error-container"},Ry={class:"error-message"},Ny={key:2,class:"doc-list"},Ly={class:"main-content"},Dy={class:"left-content"},By={class:"title-section"},Oy={class:"title-header"},My=["id"],Uy={class:"doc-code"},Fy={class:"doc-name"},$y={class:"doc-subtitle"},Vy={class:"summary-section"},Hy={class:"doc-text"},jy={class:"right-content"},Gy=["src","alt"],Ky={class:"doc-section"},Wy={class:"investment-grid"},zy={class:"investment-item"},Yy={class:"investment-value"},Qy={class:"investment-item"},qy={class:"investment-value"},Jy={class:"investment-item"},Zy={class:"investment-value"},Xy={class:"investment-item"},t1={class:"investment-value"},e1={class:"progress-actions-row"},s1={class:"progress-container"},n1={class:"progress-bar"},i1={class:"progress-text"},r1={class:"doc-actions"},a1=["onClick"],o1=["onClick"],l1=["onClick"],c1=["onClick"],u1=["onClick"],d1=["onClick"],f1=["onClick"],h1=["onClick"],p1=["onClick"];function m1(e,t,s,n,i,r){return S(),T("div",Sy,[t[23]||(t[23]=o("header",{class:"doc-header"},[o("h1",{class:"headline"},"Property Loans"),o("p",{class:"subline"},"First-lien mortgages · LTV control · Monthly interest")],-1)),o("div",Ty,[It(o("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.filters.q=a),class:"input",placeholder:"Search code/name/subtitle",style:{"max-width":"240px",height:"38px"}},null,512),[[ye,i.filters.q]]),It(o("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.filters.type=a),class:"input",style:{"max-width":"160px",height:"38px"}},[...t[9]||(t[9]=[o("option",{value:""},"All Types",-1),o("option",{value:"residential"},"Residential",-1),o("option",{value:"commercial"},"Commercial",-1)])],512),[[De,i.filters.type]]),It(o("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>i.filters.region=a),class:"input",style:{"max-width":"160px",height:"38px"}},[...t[10]||(t[10]=[ne('<option value="" data-v-927f1fe7>All Regions</option><option value="St Ives NSW" data-v-927f1fe7>St Ives NSW</option><option value="CBD" data-v-927f1fe7>CBD</option><option value="Suburban" data-v-927f1fe7>Suburban</option><option value="Sydney" data-v-927f1fe7>Sydney</option>',5)])],512),[[De,i.filters.region]]),It(o("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>i.filters.risk=a),class:"input",style:{"max-width":"160px",height:"38px"}},[...t[11]||(t[11]=[o("option",{value:""},"All Risk",-1),o("option",{value:"low"},"Low",-1),o("option",{value:"medium"},"Medium",-1),o("option",{value:"high"},"High",-1)])],512),[[De,i.filters.risk]]),It(o("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>i.filters.status=a),class:"input",style:{"max-width":"160px",height:"38px"}},[...t[12]||(t[12]=[ne('<option value="" data-v-927f1fe7>All Status</option><option value="active" data-v-927f1fe7>Active</option><option value="upcoming" data-v-927f1fe7>Upcoming</option><option value="research" data-v-927f1fe7>Research</option><option value="planning" data-v-927f1fe7>Planning</option><option value="completed" data-v-927f1fe7>Completed</option>',6)])],512),[[De,i.filters.status]]),It(o("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>i.filters.minYield=a),class:"input",style:{"max-width":"180px",height:"38px"}},[...t[13]||(t[13]=[o("option",{value:0},"Min Yield: Any",-1),o("option",{value:5},"≥ 5%",-1),o("option",{value:6},"≥ 6%",-1),o("option",{value:7},"≥ 7%",-1),o("option",{value:8},"≥ 8%",-1),o("option",{value:9},"≥ 9%",-1),o("option",{value:10},"≥ 10%",-1)])],512),[[De,i.filters.minYield,void 0,{number:!0}]]),o("button",{class:"btn",onClick:t[6]||(t[6]=(...a)=>r.resetFilters&&r.resetFilters(...a))},"Reset")]),o("div",_y,[pt(" Showing "+y(r.filteredProducts.length)+" of "+y(i.products.length)+" projects ",1),r.hasActiveFilters?(S(),T("span",Py,[o("button",{onClick:t[7]||(t[7]=(...a)=>r.resetFilters&&r.resetFilters(...a)),style:{background:"none",border:"none",color:"#3b82f6","text-decoration":"underline",cursor:"pointer"}}," Clear filters ")])):et("",!0)]),i.loading?(S(),T("div",xy,[...t[14]||(t[14]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"正在加载产品数据...",-1)])])):i.error?(S(),T("div",Iy,[o("div",Ry,[t[15]||(t[15]=o("h3",null,"加载失败",-1)),o("p",null,y(i.error),1),o("button",{onClick:t[8]||(t[8]=(...a)=>r.loadProducts&&r.loadProducts(...a)),class:"btn retry-btn"},"重试")])])):(S(),T("section",Ny,[(S(!0),T(xt,null,Ae(r.filteredProducts,a=>(S(),T("article",{key:a.code,class:"doc-card","aria-labelledby":"'title-' + p.code"},[o("div",Ly,[o("div",Dy,[o("section",By,[o("div",Oy,[o("h2",{id:"title-"+a.code},[o("span",Uy,y(a.code),1),o("span",Fy,y(a.name),1)],8,My),o("div",{class:Ct(["status-badge","status-"+a.status])},y(r.getStatusText(a.status)),3)]),o("p",$y,y(a.subtitle),1)]),t[17]||(t[17]=o("hr",{class:"sep"},null,-1)),o("section",Vy,[t[16]||(t[16]=o("h3",{class:"doc-h3"},"Summary",-1)),o("p",Hy,y(a.summary||"Mortgage-backed loan project with controlled LTV and monthly coupon schedule. Suitable for investors seeking income with real-asset collateral."),1)])]),o("div",jy,[o("img",{src:a.image,class:"doc-cover",alt:a.code},null,8,Gy)])]),o("section",Ky,[t[22]||(t[22]=o("h3",{class:"doc-h3"},"Investment Details",-1)),o("div",Wy,[o("div",zy,[t[18]||(t[18]=o("div",{class:"investment-label"},"Collateral Value",-1)),o("div",Yy,y(a.valuation||"TBA"),1)]),o("div",Qy,[t[19]||(t[19]=o("div",{class:"investment-label"},"Loan Coupon",-1)),o("div",qy,y(a.annualInterestRate||(a.targetYield?a.targetYield.toFixed(1)+"% p.a.":"TBA")),1)]),o("div",Jy,[t[20]||(t[20]=o("div",{class:"investment-label"},"Total Offering",-1)),o("div",Zy,y(r.formatCurrency(a.totalOffering)||"TBA"),1)]),o("div",Xy,[t[21]||(t[21]=o("div",{class:"investment-label"},"Subscribed",-1)),o("div",t1,y(r.formatCurrency(a.subscribed)||"TBA"),1)])]),o("div",e1,[o("div",s1,[o("div",n1,[o("div",{class:"progress-fill",style:Rs({width:r.getProgressPercentage(a)+"%"})},null,4),o("div",{class:"progress-empty",style:Rs({width:100-r.getProgressPercentage(a)+"%"})},null,4)]),o("span",i1,y(r.getProgressPercentage(a))+"%",1)]),o("div",r1,[a.status==="active"?(S(),T(xt,{key:0},[o("a",{href:"#",class:"btn small orange",onClick:St(l=>r.openTrade(a.code),["prevent"])},"Trade",8,a1),o("a",{href:"#",class:"btn small",onClick:St(l=>r.openDetail(a.code),["prevent"])},"Detail",8,o1)],64)):a.status==="upcoming"?(S(),T(xt,{key:1},[o("a",{href:"#",class:"btn small",onClick:St(l=>r.openDetail(a.code),["prevent"])},"Preview",8,l1),o("a",{href:"#",class:"btn small orange",onClick:St(l=>r.joinWaitlist(a.code),["prevent"])},"Join Waitlist",8,c1)],64)):a.status==="research"?(S(),T(xt,{key:2},[o("a",{href:"#",class:"btn small",onClick:St(l=>r.openDetail(a.code),["prevent"])},"Preview",8,u1),o("a",{href:"#",class:"btn small orange",onClick:St(l=>r.registerInterest(a.code),["prevent"])},"Register",8,d1)],64)):a.status==="planning"?(S(),T(xt,{key:3},[o("a",{href:"#",class:"btn small",onClick:St(l=>r.openDetail(a.code),["prevent"])},"Preview",8,f1),o("a",{href:"#",class:"btn small orange",onClick:St(l=>r.registerInterest(a.code),["prevent"])},"Register",8,h1)],64)):a.status==="completed"?(S(),T("a",{key:4,href:"#",class:"btn small",onClick:St(l=>r.openDetail(a.code),["prevent"])},"Detail",8,p1)):et("",!0)])])])]))),128))]))])}const kh=zt(Cy,[["render",m1],["__scopeId","data-v-927f1fe7"]]),g1="6.15.0";function v1(e,t,s){const n=t.split("|").map(r=>r.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${s}`,i.value=e,i}async function Fe(e){const t=Object.keys(e);return(await Promise.all(t.map(n=>Promise.resolve(e[n])))).reduce((n,i,r)=>(n[t[r]]=i,n),{})}function bt(e,t,s){for(let n in t){let i=t[n];const r=s?s[n]:null;r&&v1(i,r,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function vi(e,t){if(e==null)return"null";if(t==null&&(t=new Set),typeof e=="object"){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(s=>vi(s,t)).join(", ")+" ]";if(e instanceof Uint8Array){const s="0123456789abcdef";let n="0x";for(let i=0;i<e.length;i++)n+=s[e[i]>>4],n+=s[e[i]&15];return n}if(typeof e=="object"&&typeof e.toJSON=="function")return vi(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const s=Object.keys(e);return s.sort(),"{ "+s.map(n=>`${vi(n,t)}: ${vi(e[n],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ie(e,t){return e&&e.code===t}function ac(e){return Ie(e,"CALL_EXCEPTION")}function ae(e,t,s){let n=e;{const r=[];if(s){if("message"in s||"code"in s||"name"in s)throw new Error(`value will overwrite populated values: ${vi(s)}`);for(const a in s){if(a==="shortMessage")continue;const l=s[a];r.push(a+"="+vi(l))}}r.push(`code=${t}`),r.push(`version=${g1}`),r.length&&(e+=" ("+r.join(", ")+")")}let i;switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return bt(i,{code:t}),s&&Object.assign(i,s),i.shortMessage==null&&bt(i,{shortMessage:n}),i}function V(e,t,s,n){if(!e)throw ae(t,s,n)}function _(e,t,s,n){V(e,t,"INVALID_ARGUMENT",{argument:s,value:n})}function Ch(e,t,s){s==null&&(s=""),s&&(s=": "+s),V(e>=t,"missing argument"+s,"MISSING_ARGUMENT",{count:e,expectedCount:t}),V(e<=t,"too many arguments"+s,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");e.push(t)}catch{}return e},[]);function Fr(e,t,s){if(s==null&&(s=""),e!==t){let n=s,i="new";s&&(n+=".",i+=" "+s),V(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Sh(e,t,s){if(e instanceof Uint8Array)return s?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((e.length-2)/2);let i=2;for(let r=0;r<n.length;r++)n[r]=parseInt(e.substring(i,i+2),16),i+=2;return n}_(!1,"invalid BytesLike value",t||"value",e)}function Dt(e,t){return Sh(e,t,!1)}function Ge(e,t){return Sh(e,t,!0)}function se(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}function oc(e){return se(e,!0)||e instanceof Uint8Array}const Cu="0123456789abcdef";function ot(e){const t=Dt(e);let s="0x";for(let n=0;n<t.length;n++){const i=t[n];s+=Cu[(i&240)>>4]+Cu[i&15]}return s}function fe(e){return"0x"+e.map(t=>ot(t).substring(2)).join("")}function Si(e){return se(e,!0)?(e.length-2)/2:Dt(e).length}function ce(e,t,s){const n=Dt(e);return s!=null&&s>n.length&&V(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:s}),ot(n.slice(t??0,s??n.length))}function Th(e,t,s){const n=Dt(e);V(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),s?i.set(n,t-n.length):i.set(n,0),ot(i)}function an(e,t){return Th(e,t,!0)}function y1(e,t){return Th(e,t,!1)}const Za=BigInt(0),ws=BigInt(1),yi=9007199254740991;function Pa(e,t){const s=Xa(e,"value"),n=BigInt(Rt(t,"width"));if(V(s>>n===Za,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),s>>n-ws){const i=(ws<<n)-ws;return-((~s&i)+ws)}return s}function _h(e,t){let s=ut(e,"value");const n=BigInt(Rt(t,"width")),i=ws<<n-ws;if(s<Za){s=-s,V(s<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});const r=(ws<<n)-ws;return(~s&r)+ws}else V(s<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return s}function Kn(e,t){const s=Xa(e,"value"),n=BigInt(Rt(t,"bits"));return s&(ws<<n)-ws}function ut(e,t){switch(typeof e){case"bigint":return e;case"number":return _(Number.isInteger(e),"underflow",t||"value",e),_(e>=-yi&&e<=yi,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(s){_(!1,`invalid BigNumberish string: ${s.message}`,t||"value",e)}}_(!1,"invalid BigNumberish value",t||"value",e)}function Xa(e,t){const s=ut(e,t);return V(s>=Za,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),s}const Su="0123456789abcdef";function to(e){if(e instanceof Uint8Array){let t="0x0";for(const s of e)t+=Su[s>>4],t+=Su[s&15];return BigInt(t)}return ut(e)}function Rt(e,t){switch(typeof e){case"bigint":return _(e>=-yi&&e<=yi,"overflow",t||"value",e),Number(e);case"number":return _(Number.isInteger(e),"underflow",t||"value",e),_(e>=-yi&&e<=yi,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return Rt(BigInt(e),t)}catch(s){_(!1,`invalid numeric string: ${s.message}`,t||"value",e)}}_(!1,"invalid numeric value",t||"value",e)}function b1(e){return Rt(to(e))}function _n(e,t){let n=Xa(e,"value").toString(16);if(t==null)n.length%2&&(n="0"+n);else{const i=Rt(t,"width");for(V(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<i*2;)n="0"+n}return"0x"+n}function Ee(e){const t=Xa(e,"value");if(t===Za)return new Uint8Array([]);let s=t.toString(16);s.length%2&&(s="0"+s);const n=new Uint8Array(s.length/2);for(let i=0;i<n.length;i++){const r=i*2;n[i]=parseInt(s.substring(r,r+2),16)}return n}function bs(e){let t=ot(oc(e)?e:Ee(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const Tu="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const _u=BigInt(58);function w1(e){const t=Dt(e);let s=to(t),n="";for(;s;)n=Tu[Number(s%_u)]+n,s/=_u;for(let i=0;i<t.length&&!t[i];i++)n=Tu[0]+n;return n}function A1(e){e=atob(e);const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return Dt(t)}function E1(e){const t=Dt(e);let s="";for(let n=0;n<t.length;n++)s+=String.fromCharCode(t[n]);return btoa(s)}class Ph{filter;emitter;#t;constructor(t,s,n){this.#t=s,bt(this,{emitter:t,filter:n})}async removeListener(){this.#t!=null&&await this.emitter.off(this.filter,this.#t)}}function k1(e,t,s,n,i){_(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",s)}function xh(e,t,s,n,i){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let r=0;for(let a=t+1;a<s.length&&s[a]>>6===2;a++)r++;return r}return e==="OVERRUN"?s.length-t-1:0}function C1(e,t,s,n,i){return e==="OVERLONG"?(_(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),xh(e,t,s))}const S1=Object.freeze({error:k1,ignore:xh,replace:C1});function T1(e,t){t==null&&(t=S1.error);const s=Dt(e,"bytes"),n=[];let i=0;for(;i<s.length;){const r=s[i++];if(r>>7===0){n.push(r);continue}let a=null,l=null;if((r&224)===192)a=1,l=127;else if((r&240)===224)a=2,l=2047;else if((r&248)===240)a=3,l=65535;else{(r&192)===128?i+=t("UNEXPECTED_CONTINUE",i-1,s,n):i+=t("BAD_PREFIX",i-1,s,n);continue}if(i-1+a>=s.length){i+=t("OVERRUN",i-1,s,n);continue}let c=r&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=s[i];if((d&192)!=128){i+=t("MISSING_CONTINUE",i,s,n),c=null;break}c=c<<6|d&63,i++}if(c!==null){if(c>1114111){i+=t("OUT_OF_RANGE",i-1-a,s,n,c);continue}if(c>=55296&&c<=57343){i+=t("UTF16_SURROGATE",i-1-a,s,n,c);continue}if(c<=l){i+=t("OVERLONG",i-1-a,s,n,c);continue}n.push(c)}}return n}function en(e,t){_(typeof e=="string","invalid string value","str",e);let s=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)s.push(i);else if(i<2048)s.push(i>>6|192),s.push(i&63|128);else if((i&64512)==55296){n++;const r=e.charCodeAt(n);_(n<e.length&&(r&64512)===56320,"invalid surrogate pair","str",e);const a=65536+((i&1023)<<10)+(r&1023);s.push(a>>18|240),s.push(a>>12&63|128),s.push(a>>6&63|128),s.push(a&63|128)}else s.push(i>>12|224),s.push(i>>6&63|128),s.push(i&63|128)}return new Uint8Array(s)}function _1(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function xa(e,t){return _1(T1(e,t))}function Ih(e){async function t(s,n){V(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=s.url.split(":")[0].toLowerCase();V(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),V(i==="https"||!s.credentials||s.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const a=new AbortController,l=setTimeout(()=>{r=ae("request timeout","TIMEOUT"),a.abort()},s.timeout);n&&n.addListener(()=>{r=ae("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},e,{method:s.method,headers:new Headers(Array.from(s)),body:s.body||void 0,signal:a.signal});let u;try{u=await fetch(s.url,c)}catch(p){throw clearTimeout(l),r||p}clearTimeout(l);const d={};u.headers.forEach((p,w)=>{d[w.toLowerCase()]=p});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return t}const P1=12,x1=250;let Pu=Ih();const I1=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),R1=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Io=!1;async function Rh(e,t){try{const s=e.match(I1);if(!s)throw new Error("invalid data");return new Cn(200,"OK",{"content-type":s[1]||"text/plain"},s[2]?A1(s[3]):L1(s[3]))}catch{return new Cn(599,"BAD REQUEST (invalid data: URI)",{},null,new on(e))}}function Nh(e){async function t(s,n){try{const i=s.match(R1);if(!i)throw new Error("invalid link");return new on(`${e}${i[2]}`)}catch{return new Cn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new on(s))}}return t}const Xr={data:Rh,ipfs:Nh("https://gateway.ipfs.io/ipfs/")},Lh=new WeakMap;class N1{#t;#e;constructor(t){this.#t=[],this.#e=!1,Lh.set(t,()=>{if(!this.#e){this.#e=!0;for(const s of this.#t)setTimeout(()=>{s()},0);this.#t=[]}})}addListener(t){V(!this.#e,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#t.push(t)}get cancelled(){return this.#e}checkSignal(){V(!this.cancelled,"cancelled","CANCELLED",{})}}function ta(e){if(e==null)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class on{#t;#e;#s;#n;#i;#a;#r;#o;#d;#c;#p;#m;#l;#u;#f;get url(){return this.#a}set url(t){this.#a=String(t)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}set body(t){if(t==null)this.#r=void 0,this.#o=void 0;else if(typeof t=="string")this.#r=en(t),this.#o="text/plain";else if(t instanceof Uint8Array)this.#r=t,this.#o="application/octet-stream";else if(typeof t=="object")this.#r=en(JSON.stringify(t)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#r!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),this.#n=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#s);return this.#d&&(t.authorization=`Basic ${E1(en(this.#d))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&this.#o&&(t["content-type"]=this.#o),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,s){this.#s[String(t).toLowerCase()]=String(s)}clearHeaders(){this.#s={}}[Symbol.iterator](){const t=this.headers,s=Object.keys(t);let n=0;return{next:()=>{if(n<s.length){const i=s[n++];return{value:[i,t[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(t,s){_(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${t}:${s}`}get allowGzip(){return this.#e}set allowGzip(t){this.#e=!!t}get allowInsecureAuthentication(){return!!this.#t}set allowInsecureAuthentication(t){this.#t=!!t}get timeout(){return this.#i}set timeout(t){_(t>=0,"timeout must be non-zero","timeout",t),this.#i=t}get preflightFunc(){return this.#c||null}set preflightFunc(t){this.#c=t}get processFunc(){return this.#p||null}set processFunc(t){this.#p=t}get retryFunc(){return this.#m||null}set retryFunc(t){this.#m=t}get getUrlFunc(){return this.#f||Pu}set getUrlFunc(t){this.#f=t}constructor(t){this.#a=String(t),this.#t=!1,this.#e=!0,this.#s={},this.#n="",this.#i=3e5,this.#u={slotInterval:x1,maxAttempts:P1},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#r?ot(this.#r):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(this.#u.slotInterval=t.slotInterval),t.maxAttempts!=null&&(this.#u.maxAttempts=t.maxAttempts)}async#h(t,s,n,i,r){if(t>=this.#u.maxAttempts)return r.makeServerError("exceeded maximum retry limit");V(xu()<=s,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await D1(n);let a=this.clone();const l=(a.url.split(":")[0]||"").toLowerCase();if(l in Xr){const d=await Xr[l](a.url,ta(i.#l));if(d instanceof Cn){let f=d;if(this.processFunc){ta(i.#l);try{f=await this.processFunc(a,f)}catch(h){(h.throttle==null||typeof h.stall!="number")&&f.makeServerError("error in post-processing function",h).assertOk()}}return f}a=d}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,ta(i.#l));let u=new Cn(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const d=u.headers.location||"";return a.redirect(d).#h(t+1,s,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,t))){const d=u.headers["retry-after"];let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof d=="string"&&d.match(/^[1-9][0-9]*$/)&&(f=parseInt(d)),a.clone().#h(t+1,s,f,i,u)}if(this.processFunc){ta(i.#l);try{u=await this.processFunc(a,u)}catch(d){(d.throttle==null||typeof d.stall!="number")&&u.makeServerError("error in post-processing function",d).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return d.stall>=0&&(f=d.stall),a.clone().#h(t+1,s,f,i,u)}}return u}send(){return V(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new N1(this),this.#h(0,xu()+this.timeout,0,this,new Cn(0,"",{},null,this))}cancel(){V(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=Lh.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const s=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();V(this.method==="GET"&&(s!=="https"||n!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const i=new on(t);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#s=Object.assign({},this.#s),this.#r&&(i.#r=new Uint8Array(this.#r)),i.#o=this.#o,i}clone(){const t=new on(this.url);return t.#n=this.#n,this.#r&&(t.#r=this.#r),t.#o=this.#o,t.#s=Object.assign({},this.#s),t.#d=this.#d,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#c=this.#c,t.#p=this.#p,t.#m=this.#m,t.#u=Object.assign({},this.#u),t.#f=this.#f,t}static lockConfig(){Io=!0}static getGateway(t){return Xr[t.toLowerCase()]||null}static registerGateway(t,s){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Io)throw new Error("gateways locked");Xr[t]=s}static registerGetUrl(t){if(Io)throw new Error("gateways locked");Pu=t}static createGetUrlFunc(t){return Ih(t)}static createDataGateway(){return Rh}static createIpfsGatewayFunc(t){return Nh(t)}}class Cn{#t;#e;#s;#n;#i;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?ot(this.#n):"null"}>`}get statusCode(){return this.#t}get statusMessage(){return this.#e}get headers(){return Object.assign({},this.#s)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":xa(this.#n)}catch{V(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{V(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,s=Object.keys(t);let n=0;return{next:()=>{if(n<s.length){const i=s[n++];return{value:[i,t[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,s,n,i,r){this.#t=t,this.#e=s,this.#s=Object.keys(n).reduce((a,l)=>(a[l.toLowerCase()]=String(n[l]),a),{}),this.#n=i==null?null:new Uint8Array(i),this.#i=r||null,this.#a={message:""}}makeServerError(t,s){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const i=new Cn(599,n,this.headers,this.body,this.#i||void 0);return i.#a={message:t,error:s},i}throwThrottleError(t,s){s==null?s=-1:_(Number.isInteger(s)&&s>=0,"invalid stall timeout","stall",s);const n=new Error(t||"throttling requests");throw bt(n,{stall:s,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#i}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:s}=this.#a;t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{this.#n&&(i=xa(this.#n))}catch{}V(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:s,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function xu(){return new Date().getTime()}function L1(e){return en(e.replace(/%([0-9a-f][0-9a-f])/gi,(t,s)=>String.fromCharCode(parseInt(s,16))))}function D1(e){return new Promise(t=>setTimeout(t,e))}const B1=BigInt(-1),gs=BigInt(0),bi=BigInt(1),O1=BigInt(5),di={};let Ti="0000";for(;Ti.length<80;)Ti+=Ti;function On(e){let t=Ti;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function zi(e,t,s){const n=BigInt(t.width);if(t.signed){const i=bi<<n-bi;V(s==null||e>=-i&&e<i,"overflow","NUMERIC_FAULT",{operation:s,fault:"overflow",value:e}),e>gs?e=Pa(Kn(e,n),n):e=-Pa(Kn(-e,n),n)}else{const i=bi<<n;V(s==null||e>=0&&e<i,"overflow","NUMERIC_FAULT",{operation:s,fault:"overflow",value:e}),e=(e%i+i)%i&i-bi}return e}function Ro(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,s=128,n=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const r=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);_(r,"invalid fixed format","format",e),t=r[1]!=="u",s=parseInt(r[2]),n=parseInt(r[3])}}else if(e){const r=e,a=(l,c,u)=>r[l]==null?u:(_(typeof r[l]===c,"invalid fixed format ("+l+" not "+c+")","format."+l,r[l]),r[l]);t=a("signed","boolean",t),s=a("width","number",s),n=a("decimals","number",n)}_(s%8===0,"invalid FixedNumber width (not byte aligned)","format.width",s),_(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(t?"":"u")+"fixed"+String(s)+"x"+String(n);return{signed:t,width:s,decimals:n,name:i}}function M1(e,t){let s="";e<gs&&(s="-",e*=B1);let n=e.toString();if(t===0)return s+n;for(;n.length<=t;)n=Ti+n;const i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return s+n}class Ks{format;#t;#e;#s;_value;constructor(t,s,n){Fr(t,di,"FixedNumber"),this.#e=s,this.#t=n;const i=M1(s,n.decimals);bt(this,{format:n.name,_value:i}),this.#s=On(n.decimals)}get signed(){return this.#t.signed}get width(){return this.#t.width}get decimals(){return this.#t.decimals}get value(){return this.#e}#n(t){_(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#i(t,s){return t=zi(t,this.#t,s),new Ks(di,t,this.#t)}#a(t,s){return this.#n(t),this.#i(this.#e+t.#e,s)}addUnsafe(t){return this.#a(t)}add(t){return this.#a(t,"add")}#r(t,s){return this.#n(t),this.#i(this.#e-t.#e,s)}subUnsafe(t){return this.#r(t)}sub(t){return this.#r(t,"sub")}#o(t,s){return this.#n(t),this.#i(this.#e*t.#e/this.#s,s)}mulUnsafe(t){return this.#o(t)}mul(t){return this.#o(t,"mul")}mulSignal(t){this.#n(t);const s=this.#e*t.#e;return V(s%this.#s===gs,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(s/this.#s,"mulSignal")}#d(t,s){return V(t.#e!==gs,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(t),this.#i(this.#e*this.#s/t.#e,s)}divUnsafe(t){return this.#d(t)}div(t){return this.#d(t,"div")}divSignal(t){V(t.#e!==gs,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(t);const s=this.#e*this.#s;return V(s%t.#e===gs,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(s/t.#e,"divSignal")}cmp(t){let s=this.value,n=t.value;const i=this.decimals-t.decimals;return i>0?n*=On(i):i<0&&(s*=On(-i)),s<n?-1:s>n?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#e;return this.#e<gs&&(t-=this.#s-bi),t=this.#e/this.#s*this.#s,this.#i(t,"floor")}ceiling(){let t=this.#e;return this.#e>gs&&(t+=this.#s-bi),t=this.#e/this.#s*this.#s,this.#i(t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const s=this.decimals-t,n=O1*On(s-1);let i=this.value+n;const r=On(s);return i=i/r*r,zi(i,this.#t,"round"),new Ks(di,i,this.#t)}isZero(){return this.#e===gs}isNegative(){return this.#e<gs}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ks.fromString(this.toString(),t)}static fromValue(t,s,n){const i=s==null?0:Rt(s),r=Ro(n);let a=ut(t,"value");const l=i-r.decimals;if(l>0){const c=On(l);V(a%c===gs,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),a/=c}else l<0&&(a*=On(-l));return zi(a,r,"fromValue"),new Ks(di,a,r)}static fromString(t,s){const n=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);_(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",t);const i=Ro(s);let r=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=Ti;V(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),a=a.substring(0,i.decimals);const l=BigInt(n[1]+r+a);return zi(l,i,"fromString"),new Ks(di,l,i)}static fromBytes(t,s){let n=to(Dt(t,"value"));const i=Ro(s);return i.signed&&(n=Pa(n,i.width)),zi(n,i,"fromBytes"),new Ks(di,n,i)}}function U1(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Iu(e,t,s){let n=0;for(let i=0;i<s;i++)n=n*256+e[t+i];return n}function Ru(e,t,s,n){const i=[];for(;s<t+1+n;){const r=Dh(e,s);i.push(r.result),s+=r.consumed,V(s<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function Dh(e,t){V(e.length!==0,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const s=n=>{V(n<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:n})};if(e[t]>=248){const n=e[t]-247;s(t+1+n);const i=Iu(e,t+1,n);return s(t+1+n+i),Ru(e,t,t+1+n,n+i)}else if(e[t]>=192){const n=e[t]-192;return s(t+1+n),Ru(e,t,t+1,n)}else if(e[t]>=184){const n=e[t]-183;s(t+1+n);const i=Iu(e,t+1,n);s(t+1+n+i);const r=ot(e.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:r}}else if(e[t]>=128){const n=e[t]-128;s(t+1+n);const i=ot(e.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:U1(e[t])}}function $r(e){const t=Dt(e,"data"),s=Dh(t,0);return _(s.consumed===t.length,"unexpected junk after rlp payload","data",e),s.result}function Nu(e){const t=[];for(;e;)t.unshift(e&255),e>>=8;return t}function Bh(e){if(Array.isArray(e)){let n=[];if(e.forEach(function(r){n=n.concat(Bh(r))}),n.length<=55)return n.unshift(192+n.length),n;const i=Nu(n.length);return i.unshift(247+i.length),i.concat(n)}const t=Array.prototype.slice.call(Dt(e,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const s=Nu(t.length);return s.unshift(183+s.length),s.concat(t)}const Lu="0123456789abcdef";function Pn(e){let t="0x";for(const s of Bh(e))t+=Lu[s>>4],t+=Lu[s&15];return t}const F1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Oh(e,t){let s=18;if(typeof t=="string"){const n=F1.indexOf(t);_(n>=0,"invalid unit","unit",t),s=3*n}else t!=null&&(s=Rt(t,"unit"));return Ks.fromValue(e,s,{decimals:s,width:512}).toString()}function $1(e,t){_(typeof e=="string","value must be a string","value",e);let s=18;return s=Rt(t,"unit"),Ks.fromString(e,{decimals:s,width:512}).value}function Hs(e){return Oh(e,18)}function Du(e){return $1(e,18)}const Ke=32,dl=new Uint8Array(Ke),V1=["then"],ea={},Mh=new WeakMap;function Vn(e){return Mh.get(e)}function Bu(e,t){Mh.set(e,t)}function Yi(e,t){const s=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw s.error=t,s}function fl(e,t,s){return e.indexOf(null)>=0?t.map((n,i)=>n instanceof Js?fl(Vn(n),n,s):n):e.reduce((n,i,r)=>{let a=t.getValue(i);return i in n||(s&&a instanceof Js&&(a=fl(Vn(a),a,s)),n[i]=a),n},{})}class Js extends Array{#t;constructor(...t){const s=t[0];let n=t[1],i=(t[2]||[]).slice(),r=!0;s!==ea&&(n=t,i=[],r=!1),super(n.length),n.forEach((c,u)=>{this[u]=c});const a=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(Bu(this,Object.freeze(n.map((c,u)=>{const d=i[u];return d!=null&&a.get(d)===1?d:null}))),this.#t=[],this.#t==null&&this.#t,!r)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const h=Rt(u,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=c[h];return p instanceof Error&&Yi(`index ${h}`,p),p}if(V1.indexOf(u)>=0)return Reflect.get(c,u,d);const f=c[u];if(f instanceof Function)return function(...h){return f.apply(this===d?c:this,h)};if(!(u in c))return c.getValue.apply(this===d?c:this,[u])}return Reflect.get(c,u,d)}});return Bu(l,Vn(this)),l}toArray(t){const s=[];return this.forEach((n,i)=>{n instanceof Error&&Yi(`index ${i}`,n),t&&n instanceof Js&&(n=n.toArray(t)),s.push(n)}),s}toObject(t){const s=Vn(this);return s.reduce((n,i,r)=>(V(i!=null,`value at index ${r} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),fl(s,this,t)),{})}slice(t,s){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),s==null&&(s=this.length),s<0&&(s+=this.length,s<0&&(s=0)),s>this.length&&(s=this.length);const n=Vn(this),i=[],r=[];for(let a=t;a<s;a++)i.push(this[a]),r.push(n[a]);return new Js(ea,i,r)}filter(t,s){const n=Vn(this),i=[],r=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&Yi(`index ${a}`,l),t.call(s,l,a,this)&&(i.push(l),r.push(n[a]))}return new Js(ea,i,r)}map(t,s){const n=[];for(let i=0;i<this.length;i++){const r=this[i];r instanceof Error&&Yi(`index ${i}`,r),n.push(t.call(s,r,i,this))}return n}getValue(t){const s=Vn(this).indexOf(t);if(s===-1)return;const n=this[s];return n instanceof Error&&Yi(`property ${JSON.stringify(t)}`,n.error),n}static fromItems(t,s){return new Js(ea,t,s)}}function Ou(e){let t=Ee(e);return V(t.length<=Ke,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ke,offset:t.length}),t.length!==Ke&&(t=Ge(fe([dl.slice(t.length%Ke),t]))),t}class un{name;type;localName;dynamic;constructor(t,s,n,i){bt(this,{name:t,type:s,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,s){_(!1,t,this.localName,s)}}class hl{#t;#e;constructor(){this.#t=[],this.#e=0}get data(){return fe(this.#t)}get length(){return this.#e}#s(t){return this.#t.push(t),this.#e+=t.length,t.length}appendWriter(t){return this.#s(Ge(t.data))}writeBytes(t){let s=Ge(t);const n=s.length%Ke;return n&&(s=Ge(fe([s,dl.slice(n)]))),this.#s(s)}writeValue(t){return this.#s(Ou(t))}writeUpdatableValue(){const t=this.#t.length;return this.#t.push(dl),this.#e+=Ke,s=>{this.#t[t]=Ou(s)}}}class lc{allowLoose;#t;#e;#s;#n;#i;constructor(t,s,n){bt(this,{allowLoose:!!s}),this.#t=Ge(t),this.#s=0,this.#n=null,this.#i=n??1024,this.#e=0}get data(){return ot(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#t)}#a(t){if(this.#n)return this.#n.#a(t);this.#s+=t,V(this.#i<1||this.#s<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ge(this.#t),offset:this.#e,length:t,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#r(t,s,n){let i=Math.ceil(s/Ke)*Ke;return this.#e+i>this.#t.length&&(this.allowLoose&&n&&this.#e+s<=this.#t.length?i=s:V(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ge(this.#t),length:this.#t.length,offset:this.#e+i})),this.#t.slice(this.#e,this.#e+i)}subReader(t){const s=new lc(this.#t.slice(this.#e+t),this.allowLoose,this.#i);return s.#n=this,s}readBytes(t,s){let n=this.#r(0,t,!!s);return this.#a(t),this.#e+=n.length,n.slice(0,t)}readValue(){return to(this.readBytes(Ke))}readIndex(){return b1(this.readBytes(Ke))}}function Ia(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function cc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function H1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ia(e.outputLen),Ia(e.blockLen)}function Ri(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Uh(e,t){cc(e);const s=t.outputLen;if(e.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const No=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fh=e=>e instanceof Uint8Array,j1=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Lo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ps=(e,t)=>e<<32-t|e>>>t,G1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!G1)throw new Error("Non little-endian hardware is not supported");function K1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function eo(e){if(typeof e=="string"&&(e=K1(e)),!Fh(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function W1(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let s=0;return e.forEach(n=>{if(!Fh(n))throw new Error("Uint8Array expected");t.set(n,s),s+=n.length}),t}class uc{clone(){return this._cloneInto()}}function dc(e){const t=n=>e().update(eo(n)).digest(),s=e();return t.outputLen=s.outputLen,t.blockLen=s.blockLen,t.create=()=>e(),t}function z1(e=32){if(No&&typeof No.getRandomValues=="function")return No.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class $h extends uc{constructor(t,s){super(),this.finished=!1,this.destroyed=!1,H1(t);const n=eo(s);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,r=new Uint8Array(i);r.set(n.length>i?t.create().update(n).digest():n);for(let a=0;a<r.length;a++)r[a]^=54;this.iHash.update(r),this.oHash=t.create();for(let a=0;a<r.length;a++)r[a]^=106;this.oHash.update(r),r.fill(0)}update(t){return Ri(this),this.iHash.update(t),this}digestInto(t){Ri(this),cc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:n,finished:i,destroyed:r,blockLen:a,outputLen:l}=this;return t=t,t.finished=i,t.destroyed=r,t.blockLen=a,t.outputLen=l,t.oHash=s._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vh=(e,t,s)=>new $h(e,t).update(s).digest();Vh.create=(e,t)=>new $h(e,t);function Y1(e,t,s,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,s,n);const i=BigInt(32),r=BigInt(4294967295),a=Number(s>>i&r),l=Number(s&r),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,l,n)}class Hh extends uc{constructor(t,s,n,i){super(),this.blockLen=t,this.outputLen=s,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Lo(this.buffer)}update(t){Ri(this);const{view:s,buffer:n,blockLen:i}=this;t=eo(t);const r=t.length;for(let a=0;a<r;){const l=Math.min(i-this.pos,r-a);if(l===i){const c=Lo(t);for(;i<=r-a;a+=i)this.process(c,a);continue}n.set(t.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(s,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ri(this),Uh(t,this),this.finished=!0;const{buffer:s,view:n,blockLen:i,isLE:r}=this;let{pos:a}=this;s[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)s[f]=0;Y1(n,i-8,BigInt(this.length*8),r),this.process(n,0);const l=Lo(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)l.setUint32(4*f,d[f],r)}digest(){const{buffer:t,outputLen:s}=this;this.digestInto(t);const n=t.slice(0,s);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:s,buffer:n,length:i,finished:r,destroyed:a,pos:l}=this;return t.length=i,t.pos=l,t.finished=r,t.destroyed=a,i%s&&t.buffer.set(n),t}}const Q1=(e,t,s)=>e&t^~e&s,q1=(e,t,s)=>e&t^e&s^t&s,J1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hn=new Uint32Array(64);class Z1 extends Hh{constructor(){super(64,32,8,!1),this.A=fn[0]|0,this.B=fn[1]|0,this.C=fn[2]|0,this.D=fn[3]|0,this.E=fn[4]|0,this.F=fn[5]|0,this.G=fn[6]|0,this.H=fn[7]|0}get(){const{A:t,B:s,C:n,D:i,E:r,F:a,G:l,H:c}=this;return[t,s,n,i,r,a,l,c]}set(t,s,n,i,r,a,l,c){this.A=t|0,this.B=s|0,this.C=n|0,this.D=i|0,this.E=r|0,this.F=a|0,this.G=l|0,this.H=c|0}process(t,s){for(let f=0;f<16;f++,s+=4)hn[f]=t.getUint32(s,!1);for(let f=16;f<64;f++){const h=hn[f-15],p=hn[f-2],w=Ps(h,7)^Ps(h,18)^h>>>3,v=Ps(p,17)^Ps(p,19)^p>>>10;hn[f]=v+hn[f-7]+w+hn[f-16]|0}let{A:n,B:i,C:r,D:a,E:l,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const h=Ps(l,6)^Ps(l,11)^Ps(l,25),p=d+h+Q1(l,c,u)+J1[f]+hn[f]|0,v=(Ps(n,2)^Ps(n,13)^Ps(n,22))+q1(n,i,r)|0;d=u,u=c,c=l,l=a+p|0,a=r,r=i,i=n,n=p+v|0}n=n+this.A|0,i=i+this.B|0,r=r+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,i,r,a,l,c,u,d)}roundClean(){hn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const jh=dc(()=>new Z1),sa=BigInt(2**32-1),pl=BigInt(32);function Gh(e,t=!1){return t?{h:Number(e&sa),l:Number(e>>pl&sa)}:{h:Number(e>>pl&sa)|0,l:Number(e&sa)|0}}function Kh(e,t=!1){let s=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:r,l:a}=Gh(e[i],t);[s[i],n[i]]=[r,a]}return[s,n]}const X1=(e,t)=>BigInt(e>>>0)<<pl|BigInt(t>>>0),tb=(e,t,s)=>e>>>s,eb=(e,t,s)=>e<<32-s|t>>>s,sb=(e,t,s)=>e>>>s|t<<32-s,nb=(e,t,s)=>e<<32-s|t>>>s,ib=(e,t,s)=>e<<64-s|t>>>s-32,rb=(e,t,s)=>e>>>s-32|t<<64-s,ab=(e,t)=>t,ob=(e,t)=>e,Wh=(e,t,s)=>e<<s|t>>>32-s,zh=(e,t,s)=>t<<s|e>>>32-s,Yh=(e,t,s)=>t<<s-32|e>>>64-s,Qh=(e,t,s)=>e<<s-32|t>>>64-s;function lb(e,t,s,n){const i=(t>>>0)+(n>>>0);return{h:e+s+(i/2**32|0)|0,l:i|0}}const cb=(e,t,s)=>(e>>>0)+(t>>>0)+(s>>>0),ub=(e,t,s,n)=>t+s+n+(e/2**32|0)|0,db=(e,t,s,n)=>(e>>>0)+(t>>>0)+(s>>>0)+(n>>>0),fb=(e,t,s,n,i)=>t+s+n+i+(e/2**32|0)|0,hb=(e,t,s,n,i)=>(e>>>0)+(t>>>0)+(s>>>0)+(n>>>0)+(i>>>0),pb=(e,t,s,n,i,r)=>t+s+n+i+r+(e/2**32|0)|0,Nt={fromBig:Gh,split:Kh,toBig:X1,shrSH:tb,shrSL:eb,rotrSH:sb,rotrSL:nb,rotrBH:ib,rotrBL:rb,rotr32H:ab,rotr32L:ob,rotlSH:Wh,rotlSL:zh,rotlBH:Yh,rotlBL:Qh,add:lb,add3L:cb,add3H:ub,add4L:db,add4H:fb,add5H:pb,add5L:hb},[mb,gb]=Nt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),pn=new Uint32Array(80),mn=new Uint32Array(80);class vb extends Hh{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:s,Bh:n,Bl:i,Ch:r,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:w,Hh:v,Hl:A}=this;return[t,s,n,i,r,a,l,c,u,d,f,h,p,w,v,A]}set(t,s,n,i,r,a,l,c,u,d,f,h,p,w,v,A){this.Ah=t|0,this.Al=s|0,this.Bh=n|0,this.Bl=i|0,this.Ch=r|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=w|0,this.Hh=v|0,this.Hl=A|0}process(t,s){for(let N=0;N<16;N++,s+=4)pn[N]=t.getUint32(s),mn[N]=t.getUint32(s+=4);for(let N=16;N<80;N++){const F=pn[N-15]|0,K=mn[N-15]|0,H=Nt.rotrSH(F,K,1)^Nt.rotrSH(F,K,8)^Nt.shrSH(F,K,7),X=Nt.rotrSL(F,K,1)^Nt.rotrSL(F,K,8)^Nt.shrSL(F,K,7),st=pn[N-2]|0,z=mn[N-2]|0,W=Nt.rotrSH(st,z,19)^Nt.rotrBH(st,z,61)^Nt.shrSH(st,z,6),rt=Nt.rotrSL(st,z,19)^Nt.rotrBL(st,z,61)^Nt.shrSL(st,z,6),$=Nt.add4L(X,rt,mn[N-7],mn[N-16]),ht=Nt.add4H($,H,W,pn[N-7],pn[N-16]);pn[N]=ht|0,mn[N]=$|0}let{Ah:n,Al:i,Bh:r,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:f,El:h,Fh:p,Fl:w,Gh:v,Gl:A,Hh:E,Hl:L}=this;for(let N=0;N<80;N++){const F=Nt.rotrSH(f,h,14)^Nt.rotrSH(f,h,18)^Nt.rotrBH(f,h,41),K=Nt.rotrSL(f,h,14)^Nt.rotrSL(f,h,18)^Nt.rotrBL(f,h,41),H=f&p^~f&v,X=h&w^~h&A,st=Nt.add5L(L,K,X,gb[N],mn[N]),z=Nt.add5H(st,E,F,H,mb[N],pn[N]),W=st|0,rt=Nt.rotrSH(n,i,28)^Nt.rotrBH(n,i,34)^Nt.rotrBH(n,i,39),$=Nt.rotrSL(n,i,28)^Nt.rotrBL(n,i,34)^Nt.rotrBL(n,i,39),ht=n&r^n&l^r&l,At=i&a^i&c^a&c;E=v|0,L=A|0,v=p|0,A=w|0,p=f|0,w=h|0,{h:f,l:h}=Nt.add(u|0,d|0,z|0,W|0),u=l|0,d=c|0,l=r|0,c=a|0,r=n|0,a=i|0;const U=Nt.add3L(W,$,At);n=Nt.add3H(U,z,rt,ht),i=U|0}({h:n,l:i}=Nt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:r,l:a}=Nt.add(this.Bh|0,this.Bl|0,r|0,a|0),{h:l,l:c}=Nt.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Nt.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=Nt.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:w}=Nt.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:v,l:A}=Nt.add(this.Gh|0,this.Gl|0,v|0,A|0),{h:E,l:L}=Nt.add(this.Hh|0,this.Hl|0,E|0,L|0),this.set(n,i,r,a,l,c,u,d,f,h,p,w,v,A,E,L)}roundClean(){pn.fill(0),mn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const yb=dc(()=>new vb);function bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Mu=bb();Mu.crypto||Mu.msCrypto;function wb(e){switch(e){case"sha256":return jh.create();case"sha512":return yb.create()}_(!1,"invalid hashing algorithm name","algorithm",e)}const[qh,Jh,Zh]=[[],[],[]],Ab=BigInt(0),Qi=BigInt(1),Eb=BigInt(2),kb=BigInt(7),Cb=BigInt(256),Sb=BigInt(113);for(let e=0,t=Qi,s=1,n=0;e<24;e++){[s,n]=[n,(2*s+3*n)%5],qh.push(2*(5*n+s)),Jh.push((e+1)*(e+2)/2%64);let i=Ab;for(let r=0;r<7;r++)t=(t<<Qi^(t>>kb)*Sb)%Cb,t&Eb&&(i^=Qi<<(Qi<<BigInt(r))-Qi);Zh.push(i)}const[Tb,_b]=Kh(Zh,!0),Uu=(e,t,s)=>s>32?Yh(e,t,s):Wh(e,t,s),Fu=(e,t,s)=>s>32?Qh(e,t,s):zh(e,t,s);function Pb(e,t=24){const s=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)s[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=s[c],d=s[c+1],f=Uu(u,d,1)^s[l],h=Fu(u,d,1)^s[l+1];for(let p=0;p<50;p+=10)e[a+p]^=f,e[a+p+1]^=h}let i=e[2],r=e[3];for(let a=0;a<24;a++){const l=Jh[a],c=Uu(i,r,l),u=Fu(i,r,l),d=qh[a];i=e[d],r=e[d+1],e[d]=c,e[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)s[l]=e[a+l];for(let l=0;l<10;l++)e[a+l]^=~s[(l+2)%10]&s[(l+4)%10]}e[0]^=Tb[n],e[1]^=_b[n]}s.fill(0)}class fc extends uc{constructor(t,s,n,i=!1,r=24){if(super(),this.blockLen=t,this.suffix=s,this.outputLen=n,this.enableXOF=i,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ia(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=j1(this.state)}keccak(){Pb(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ri(this);const{blockLen:s,state:n}=this;t=eo(t);const i=t.length;for(let r=0;r<i;){const a=Math.min(s-this.pos,i-r);for(let l=0;l<a;l++)n[this.pos++]^=t[r++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:s,pos:n,blockLen:i}=this;t[n]^=s,(s&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Ri(this,!1),cc(t),this.finish();const s=this.state,{blockLen:n}=this;for(let i=0,r=t.length;i<r;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,r-i);t.set(s.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ia(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Uh(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:s,suffix:n,outputLen:i,rounds:r,enableXOF:a}=this;return t||(t=new fc(s,n,i,a,r)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=r,t.suffix=n,t.outputLen=i,t.enableXOF=a,t.destroyed=this.destroyed,t}}const xb=(e,t,s)=>dc(()=>new fc(t,e,s)),Ib=xb(1,136,256/8);let Xh=!1;const tp=function(e){return Ib(e)};let ep=tp;function me(e){const t=Dt(e,"data");return ot(ep(t))}me._=tp;me.lock=function(){Xh=!0};me.register=function(e){if(Xh)throw new TypeError("keccak256 is locked");ep=e};Object.freeze(me);const sp=function(e){return wb("sha256").update(e).digest()};let np=sp,ip=!1;function Hi(e){const t=Dt(e,"data");return ot(np(t))}Hi._=sp;Hi.lock=function(){ip=!0};Hi.register=function(e){if(ip)throw new Error("sha256 is locked");np=e};Object.freeze(Hi);Object.freeze(Hi);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rp=BigInt(0),so=BigInt(1),Rb=BigInt(2),no=e=>e instanceof Uint8Array,Nb=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ni(e){if(!no(e))throw new Error("Uint8Array expected");let t="";for(let s=0;s<e.length;s++)t+=Nb[e[s]];return t}function ap(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function hc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Li(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(t/2);for(let n=0;n<s.length;n++){const i=n*2,r=e.slice(i,i+2),a=Number.parseInt(r,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");s[n]=a}return s}function Xn(e){return hc(Ni(e))}function pc(e){if(!no(e))throw new Error("Uint8Array expected");return hc(Ni(Uint8Array.from(e).reverse()))}function Di(e,t){return Li(e.toString(16).padStart(t*2,"0"))}function mc(e,t){return Di(e,t).reverse()}function Lb(e){return Li(ap(e))}function vs(e,t,s){let n;if(typeof t=="string")try{n=Li(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(no(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof s=="number"&&i!==s)throw new Error(`${e} expected ${s} bytes, got ${i}`);return n}function Ar(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let s=0;return e.forEach(n=>{if(!no(n))throw new Error("Uint8Array expected");t.set(n,s),s+=n.length}),t}function Db(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function Bb(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ob(e){let t;for(t=0;e>rp;e>>=so,t+=1);return t}function Mb(e,t){return e>>BigInt(t)&so}const Ub=(e,t,s)=>e|(s?so:rp)<<BigInt(t),gc=e=>(Rb<<BigInt(e-1))-so,Do=e=>new Uint8Array(e),$u=e=>Uint8Array.from(e);function op(e,t,s){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof s!="function")throw new Error("hmacFn must be a function");let n=Do(e),i=Do(e),r=0;const a=()=>{n.fill(1),i.fill(0),r=0},l=(...f)=>s(i,n,...f),c=(f=Do())=>{i=l($u([0]),f),n=l(),f.length!==0&&(i=l($u([1]),f),n=l())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){n=l();const p=n.slice();h.push(p),f+=n.length}return Ar(...h)};return(f,h)=>{a(),c(f);let p;for(;!(p=h(u()));)c();return a(),p}}const Fb={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Vr(e,t,s={}){const n=(i,r,a)=>{const l=Fb[r];if(typeof l!="function")throw new Error(`Invalid validator "${r}", expected function`);const c=e[i];if(!(a&&c===void 0)&&!l(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${r}`)};for(const[i,r]of Object.entries(t))n(i,r,!1);for(const[i,r]of Object.entries(s))n(i,r,!0);return e}const $b=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Mb,bitLen:Ob,bitMask:gc,bitSet:Ub,bytesToHex:Ni,bytesToNumberBE:Xn,bytesToNumberLE:pc,concatBytes:Ar,createHmacDrbg:op,ensureBytes:vs,equalBytes:Db,hexToBytes:Li,hexToNumber:hc,numberToBytesBE:Di,numberToBytesLE:mc,numberToHexUnpadded:ap,numberToVarBytesBE:Lb,utf8ToBytes:Bb,validateObject:Vr},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ce=BigInt(0),pe=BigInt(1),Hn=BigInt(2),Vb=BigInt(3),ml=BigInt(4),Vu=BigInt(5),Hu=BigInt(8);BigInt(9);BigInt(16);function qe(e,t){const s=e%t;return s>=Ce?s:t+s}function Hb(e,t,s){if(s<=Ce||t<Ce)throw new Error("Expected power/modulo > 0");if(s===pe)return Ce;let n=pe;for(;t>Ce;)t&pe&&(n=n*e%s),e=e*e%s,t>>=pe;return n}function ls(e,t,s){let n=e;for(;t-- >Ce;)n*=n,n%=s;return n}function gl(e,t){if(e===Ce||t<=Ce)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let s=qe(e,t),n=t,i=Ce,r=pe;for(;s!==Ce;){const l=n/s,c=n%s,u=i-r*l;n=s,s=c,i=r,r=u}if(n!==pe)throw new Error("invert: does not exist");return qe(i,t)}function jb(e){const t=(e-pe)/Hn;let s,n,i;for(s=e-pe,n=0;s%Hn===Ce;s/=Hn,n++);for(i=Hn;i<e&&Hb(i,t,e)!==e-pe;i++);if(n===1){const a=(e+pe)/ml;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const r=(s+pe)/Hn;return function(l,c){if(l.pow(c,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=n,d=l.pow(l.mul(l.ONE,i),s),f=l.pow(c,r),h=l.pow(c,s);for(;!l.eql(h,l.ONE);){if(l.eql(h,l.ZERO))return l.ZERO;let p=1;for(let v=l.sqr(h);p<u&&!l.eql(v,l.ONE);p++)v=l.sqr(v);const w=l.pow(d,pe<<BigInt(u-p-1));d=l.sqr(w),f=l.mul(f,w),h=l.mul(h,d),u=p}return f}}function Gb(e){if(e%ml===Vb){const t=(e+pe)/ml;return function(n,i){const r=n.pow(i,t);if(!n.eql(n.sqr(r),i))throw new Error("Cannot find square root");return r}}if(e%Hu===Vu){const t=(e-Vu)/Hu;return function(n,i){const r=n.mul(i,Hn),a=n.pow(r,t),l=n.mul(i,a),c=n.mul(n.mul(l,Hn),a),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return jb(e)}const Kb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wb(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},s=Kb.reduce((n,i)=>(n[i]="function",n),t);return Vr(e,s)}function zb(e,t,s){if(s<Ce)throw new Error("Expected power > 0");if(s===Ce)return e.ONE;if(s===pe)return t;let n=e.ONE,i=t;for(;s>Ce;)s&pe&&(n=e.mul(n,i)),i=e.sqr(i),s>>=pe;return n}function Yb(e,t){const s=new Array(t.length),n=t.reduce((r,a,l)=>e.is0(a)?r:(s[l]=r,e.mul(r,a)),e.ONE),i=e.inv(n);return t.reduceRight((r,a,l)=>e.is0(a)?r:(s[l]=e.mul(r,s[l]),e.mul(r,a)),i),s}function lp(e,t){const s=t!==void 0?t:e.toString(2).length,n=Math.ceil(s/8);return{nBitLength:s,nByteLength:n}}function Qb(e,t,s=!1,n={}){if(e<=Ce)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:r}=lp(e,t);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Gb(e),l=Object.freeze({ORDER:e,BITS:i,BYTES:r,MASK:gc(i),ZERO:Ce,ONE:pe,create:c=>qe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ce<=c&&c<e},is0:c=>c===Ce,isOdd:c=>(c&pe)===pe,neg:c=>qe(-c,e),eql:(c,u)=>c===u,sqr:c=>qe(c*c,e),add:(c,u)=>qe(c+u,e),sub:(c,u)=>qe(c-u,e),mul:(c,u)=>qe(c*u,e),pow:(c,u)=>zb(l,c,u),div:(c,u)=>qe(c*gl(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>gl(c,e),sqrt:n.sqrt||(c=>a(l,c)),invertBatch:c=>Yb(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>s?mc(c,r):Di(c,r),fromBytes:c=>{if(c.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${c.length}`);return s?pc(c):Xn(c)}});return Object.freeze(l)}function cp(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function up(e){const t=cp(e);return t+Math.ceil(t/2)}function qb(e,t,s=!1){const n=e.length,i=cp(t),r=up(t);if(n<16||n<r||n>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${n}`);const a=s?Xn(e):pc(e),l=qe(a,t-pe)+pe;return s?mc(l,i):Di(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jb=BigInt(0),Bo=BigInt(1);function Zb(e,t){const s=(i,r)=>{const a=r.negate();return i?a:r},n=i=>{const r=Math.ceil(t/i)+1,a=2**(i-1);return{windows:r,windowSize:a}};return{constTimeNegate:s,unsafeLadder(i,r){let a=e.ZERO,l=i;for(;r>Jb;)r&Bo&&(a=a.add(l)),l=l.double(),r>>=Bo;return a},precomputeWindow(i,r){const{windows:a,windowSize:l}=n(r),c=[];let u=i,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let h=1;h<l;h++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(i,r,a){const{windows:l,windowSize:c}=n(i);let u=e.ZERO,d=e.BASE;const f=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let w=0;w<l;w++){const v=w*c;let A=Number(a&f);a>>=p,A>c&&(A-=h,a+=Bo);const E=v,L=v+Math.abs(A)-1,N=w%2!==0,F=A<0;A===0?d=d.add(s(N,r[E])):u=u.add(s(F,r[L]))}return{p:u,f:d}},wNAFCached(i,r,a,l){const c=i._WINDOW_SIZE||1;let u=r.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&r.set(i,l(u))),this.wNAF(c,u,a)}}}function dp(e){return Wb(e.Fp),Vr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lp(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Xb(e){const t=dp(e);Vr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:s,Fp:n,a:i}=t;if(s){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof s!="object"||typeof s.beta!="bigint"||typeof s.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:tw,hexToBytes:ew}=$b,Wn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Wn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const s=e[1],n=e.subarray(2,s+2);if(!s||n.length!==s)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:tw(n),l:e.subarray(s+2)}},toSig(e){const{Err:t}=Wn,s=typeof e=="string"?ew(e):e;if(!(s instanceof Uint8Array))throw new Error("ui8a expected");let n=s.length;if(n<2||s[0]!=48)throw new t("Invalid signature tag");if(s[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:r}=Wn._parseInt(s.subarray(2)),{d:a,l}=Wn._parseInt(r);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,s=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},n=t(s(e.s)),i=t(s(e.r)),r=n.length/2,a=i.length/2,l=s(r),c=s(a);return`30${s(a+r+4)}02${c}${i}02${l}${n}`}},Qs=BigInt(0),us=BigInt(1);BigInt(2);const ju=BigInt(3);BigInt(4);function sw(e){const t=Xb(e),{Fp:s}=t,n=t.toBytes||((w,v,A)=>{const E=v.toAffine();return Ar(Uint8Array.from([4]),s.toBytes(E.x),s.toBytes(E.y))}),i=t.fromBytes||(w=>{const v=w.subarray(1),A=s.fromBytes(v.subarray(0,s.BYTES)),E=s.fromBytes(v.subarray(s.BYTES,2*s.BYTES));return{x:A,y:E}});function r(w){const{a:v,b:A}=t,E=s.sqr(w),L=s.mul(E,w);return s.add(s.add(L,s.mul(w,v)),A)}if(!s.eql(s.sqr(t.Gy),r(t.Gx)))throw new Error("bad generator point: equation left != right");function a(w){return typeof w=="bigint"&&Qs<w&&w<t.n}function l(w){if(!a(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:v,nByteLength:A,wrapPrivateKey:E,n:L}=t;if(v&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Ni(w)),typeof w!="string"||!v.includes(w.length))throw new Error("Invalid key");w=w.padStart(A*2,"0")}let N;try{N=typeof w=="bigint"?w:Xn(vs("private key",w,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof w}`)}return E&&(N=qe(N,L)),l(N),N}const u=new Map;function d(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,A,E){if(this.px=v,this.py=A,this.pz=E,v==null||!s.isValid(v))throw new Error("x required");if(A==null||!s.isValid(A))throw new Error("y required");if(E==null||!s.isValid(E))throw new Error("z required")}static fromAffine(v){const{x:A,y:E}=v||{};if(!v||!s.isValid(A)||!s.isValid(E))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const L=N=>s.eql(N,s.ZERO);return L(A)&&L(E)?f.ZERO:new f(A,E,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const A=s.invertBatch(v.map(E=>E.pz));return v.map((E,L)=>E.toAffine(A[L])).map(f.fromAffine)}static fromHex(v){const A=f.fromAffine(i(vs("pointHex",v)));return A.assertValidity(),A}static fromPrivateKey(v){return f.BASE.multiply(c(v))}_setWindowSize(v){this._WINDOW_SIZE=v,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!s.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:A}=this.toAffine();if(!s.isValid(v)||!s.isValid(A))throw new Error("bad point: x or y not FE");const E=s.sqr(A),L=r(v);if(!s.eql(E,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(s.isOdd)return!s.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){d(v);const{px:A,py:E,pz:L}=this,{px:N,py:F,pz:K}=v,H=s.eql(s.mul(A,K),s.mul(N,L)),X=s.eql(s.mul(E,K),s.mul(F,L));return H&&X}negate(){return new f(this.px,s.neg(this.py),this.pz)}double(){const{a:v,b:A}=t,E=s.mul(A,ju),{px:L,py:N,pz:F}=this;let K=s.ZERO,H=s.ZERO,X=s.ZERO,st=s.mul(L,L),z=s.mul(N,N),W=s.mul(F,F),rt=s.mul(L,N);return rt=s.add(rt,rt),X=s.mul(L,F),X=s.add(X,X),K=s.mul(v,X),H=s.mul(E,W),H=s.add(K,H),K=s.sub(z,H),H=s.add(z,H),H=s.mul(K,H),K=s.mul(rt,K),X=s.mul(E,X),W=s.mul(v,W),rt=s.sub(st,W),rt=s.mul(v,rt),rt=s.add(rt,X),X=s.add(st,st),st=s.add(X,st),st=s.add(st,W),st=s.mul(st,rt),H=s.add(H,st),W=s.mul(N,F),W=s.add(W,W),st=s.mul(W,rt),K=s.sub(K,st),X=s.mul(W,z),X=s.add(X,X),X=s.add(X,X),new f(K,H,X)}add(v){d(v);const{px:A,py:E,pz:L}=this,{px:N,py:F,pz:K}=v;let H=s.ZERO,X=s.ZERO,st=s.ZERO;const z=t.a,W=s.mul(t.b,ju);let rt=s.mul(A,N),$=s.mul(E,F),ht=s.mul(L,K),At=s.add(A,E),U=s.add(N,F);At=s.mul(At,U),U=s.add(rt,$),At=s.sub(At,U),U=s.add(A,L);let j=s.add(N,K);return U=s.mul(U,j),j=s.add(rt,ht),U=s.sub(U,j),j=s.add(E,L),H=s.add(F,K),j=s.mul(j,H),H=s.add($,ht),j=s.sub(j,H),st=s.mul(z,U),H=s.mul(W,ht),st=s.add(H,st),H=s.sub($,st),st=s.add($,st),X=s.mul(H,st),$=s.add(rt,rt),$=s.add($,rt),ht=s.mul(z,ht),U=s.mul(W,U),$=s.add($,ht),ht=s.sub(rt,ht),ht=s.mul(z,ht),U=s.add(U,ht),rt=s.mul($,U),X=s.add(X,rt),rt=s.mul(j,U),H=s.mul(At,H),H=s.sub(H,rt),rt=s.mul(At,$),st=s.mul(j,st),st=s.add(st,rt),new f(H,X,st)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return p.wNAFCached(this,u,v,A=>{const E=s.invertBatch(A.map(L=>L.pz));return A.map((L,N)=>L.toAffine(E[N])).map(f.fromAffine)})}multiplyUnsafe(v){const A=f.ZERO;if(v===Qs)return A;if(l(v),v===us)return this;const{endo:E}=t;if(!E)return p.unsafeLadder(this,v);let{k1neg:L,k1:N,k2neg:F,k2:K}=E.splitScalar(v),H=A,X=A,st=this;for(;N>Qs||K>Qs;)N&us&&(H=H.add(st)),K&us&&(X=X.add(st)),st=st.double(),N>>=us,K>>=us;return L&&(H=H.negate()),F&&(X=X.negate()),X=new f(s.mul(X.px,E.beta),X.py,X.pz),H.add(X)}multiply(v){l(v);let A=v,E,L;const{endo:N}=t;if(N){const{k1neg:F,k1:K,k2neg:H,k2:X}=N.splitScalar(A);let{p:st,f:z}=this.wNAF(K),{p:W,f:rt}=this.wNAF(X);st=p.constTimeNegate(F,st),W=p.constTimeNegate(H,W),W=new f(s.mul(W.px,N.beta),W.py,W.pz),E=st.add(W),L=z.add(rt)}else{const{p:F,f:K}=this.wNAF(A);E=F,L=K}return f.normalizeZ([E,L])[0]}multiplyAndAddUnsafe(v,A,E){const L=f.BASE,N=(K,H)=>H===Qs||H===us||!K.equals(L)?K.multiplyUnsafe(H):K.multiply(H),F=N(this,A).add(N(v,E));return F.is0()?void 0:F}toAffine(v){const{px:A,py:E,pz:L}=this,N=this.is0();v==null&&(v=N?s.ONE:s.inv(L));const F=s.mul(A,v),K=s.mul(E,v),H=s.mul(L,v);if(N)return{x:s.ZERO,y:s.ZERO};if(!s.eql(H,s.ONE))throw new Error("invZ was invalid");return{x:F,y:K}}isTorsionFree(){const{h:v,isTorsionFree:A}=t;if(v===us)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:A}=t;return v===us?this:A?A(f,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),n(f,this,v)}toHex(v=!0){return Ni(this.toRawBytes(v))}}f.BASE=new f(t.Gx,t.Gy,s.ONE),f.ZERO=new f(s.ZERO,s.ONE,s.ZERO);const h=t.nBitLength,p=Zb(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:a}}function nw(e){const t=dp(e);return Vr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function iw(e){const t=nw(e),{Fp:s,n}=t,i=s.BYTES+1,r=2*s.BYTES+1;function a(U){return Qs<U&&U<s.ORDER}function l(U){return qe(U,n)}function c(U){return gl(U,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=sw({...t,toBytes(U,j,J){const dt=j.toAffine(),Tt=s.toBytes(dt.x),Ut=Ar;return J?Ut(Uint8Array.from([j.hasEvenY()?2:3]),Tt):Ut(Uint8Array.from([4]),Tt,s.toBytes(dt.y))},fromBytes(U){const j=U.length,J=U[0],dt=U.subarray(1);if(j===i&&(J===2||J===3)){const Tt=Xn(dt);if(!a(Tt))throw new Error("Point is not on curve");const Ut=f(Tt);let Qt=s.sqrt(Ut);const Vt=(Qt&us)===us;return(J&1)===1!==Vt&&(Qt=s.neg(Qt)),{x:Tt,y:Qt}}else if(j===r&&J===4){const Tt=s.fromBytes(dt.subarray(0,s.BYTES)),Ut=s.fromBytes(dt.subarray(s.BYTES,2*s.BYTES));return{x:Tt,y:Ut}}else throw new Error(`Point of length ${j} was invalid. Expected ${i} compressed bytes or ${r} uncompressed bytes`)}}),p=U=>Ni(Di(U,t.nByteLength));function w(U){const j=n>>us;return U>j}function v(U){return w(U)?l(-U):U}const A=(U,j,J)=>Xn(U.slice(j,J));class E{constructor(j,J,dt){this.r=j,this.s=J,this.recovery=dt,this.assertValidity()}static fromCompact(j){const J=t.nByteLength;return j=vs("compactSignature",j,J*2),new E(A(j,0,J),A(j,J,2*J))}static fromDER(j){const{r:J,s:dt}=Wn.toSig(vs("DER",j));return new E(J,dt)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(j){return new E(this.r,this.s,j)}recoverPublicKey(j){const{r:J,s:dt,recovery:Tt}=this,Ut=X(vs("msgHash",j));if(Tt==null||![0,1,2,3].includes(Tt))throw new Error("recovery id invalid");const Qt=Tt===2||Tt===3?J+t.n:J;if(Qt>=s.ORDER)throw new Error("recovery id 2 or 3 invalid");const Vt=(Tt&1)===0?"02":"03",be=u.fromHex(Vt+p(Qt)),we=c(Qt),Te=l(-Ut*we),ie=l(dt*we),D=u.BASE.multiplyAndAddUnsafe(be,Te,ie);if(!D)throw new Error("point at infinify");return D.assertValidity(),D}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Li(this.toDERHex())}toDERHex(){return Wn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Li(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const L={isValidPrivateKey(U){try{return d(U),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const U=up(t.n);return qb(t.randomBytes(U),t.n)},precompute(U=8,j=u.BASE){return j._setWindowSize(U),j.multiply(BigInt(3)),j}};function N(U,j=!0){return u.fromPrivateKey(U).toRawBytes(j)}function F(U){const j=U instanceof Uint8Array,J=typeof U=="string",dt=(j||J)&&U.length;return j?dt===i||dt===r:J?dt===2*i||dt===2*r:U instanceof u}function K(U,j,J=!0){if(F(U))throw new Error("first arg must be private key");if(!F(j))throw new Error("second arg must be public key");return u.fromHex(j).multiply(d(U)).toRawBytes(J)}const H=t.bits2int||function(U){const j=Xn(U),J=U.length*8-t.nBitLength;return J>0?j>>BigInt(J):j},X=t.bits2int_modN||function(U){return l(H(U))},st=gc(t.nBitLength);function z(U){if(typeof U!="bigint")throw new Error("bigint expected");if(!(Qs<=U&&U<st))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Di(U,t.nByteLength)}function W(U,j,J=rt){if(["recovered","canonical"].some(Y=>Y in J))throw new Error("sign() legacy options not supported");const{hash:dt,randomBytes:Tt}=t;let{lowS:Ut,prehash:Qt,extraEntropy:Vt}=J;Ut==null&&(Ut=!0),U=vs("msgHash",U),Qt&&(U=vs("prehashed msgHash",dt(U)));const be=X(U),we=d(j),Te=[z(we),z(be)];if(Vt!=null){const Y=Vt===!0?Tt(s.BYTES):Vt;Te.push(vs("extraEntropy",Y))}const ie=Ar(...Te),D=be;function tt(Y){const lt=H(Y);if(!h(lt))return;const Lt=c(lt),m=u.BASE.multiply(lt).toAffine(),b=l(m.x);if(b===Qs)return;const x=l(Lt*l(D+b*we));if(x===Qs)return;let B=(m.x===b?0:2)|Number(m.y&us),M=x;return Ut&&w(x)&&(M=v(x),B^=1),new E(b,M,B)}return{seed:ie,k2sig:tt}}const rt={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function ht(U,j,J=rt){const{seed:dt,k2sig:Tt}=W(U,j,J),Ut=t;return op(Ut.hash.outputLen,Ut.nByteLength,Ut.hmac)(dt,Tt)}u.BASE._setWindowSize(8);function At(U,j,J,dt=$){const Tt=U;if(j=vs("msgHash",j),J=vs("publicKey",J),"strict"in dt)throw new Error("options.strict was renamed to lowS");const{lowS:Ut,prehash:Qt}=dt;let Vt,be;try{if(typeof Tt=="string"||Tt instanceof Uint8Array)try{Vt=E.fromDER(Tt)}catch(m){if(!(m instanceof Wn.Err))throw m;Vt=E.fromCompact(Tt)}else if(typeof Tt=="object"&&typeof Tt.r=="bigint"&&typeof Tt.s=="bigint"){const{r:m,s:b}=Tt;Vt=new E(m,b)}else throw new Error("PARSE");be=u.fromHex(J)}catch(m){if(m.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ut&&Vt.hasHighS())return!1;Qt&&(j=t.hash(j));const{r:we,s:Te}=Vt,ie=X(j),D=c(Te),tt=l(ie*D),Y=l(we*D),lt=u.BASE.multiplyAndAddUnsafe(be,tt,Y)?.toAffine();return lt?l(lt.x)===we:!1}return{CURVE:t,getPublicKey:N,getSharedSecret:K,sign:ht,verify:At,ProjectivePoint:u,Signature:E,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rw(e){return{hash:e,hmac:(t,...s)=>Vh(e,t,W1(...s)),randomBytes:z1}}function aw(e,t){const s=n=>iw({...e,...rw(n)});return Object.freeze({...s(t),create:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Gu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ow=BigInt(1),vl=BigInt(2),Ku=(e,t)=>(e+t/vl)/t;function lw(e){const t=fp,s=BigInt(3),n=BigInt(6),i=BigInt(11),r=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=ls(d,s,t)*d%t,h=ls(f,s,t)*d%t,p=ls(h,vl,t)*u%t,w=ls(p,i,t)*p%t,v=ls(w,r,t)*w%t,A=ls(v,l,t)*v%t,E=ls(A,c,t)*A%t,L=ls(E,l,t)*v%t,N=ls(L,s,t)*d%t,F=ls(N,a,t)*w%t,K=ls(F,n,t)*u%t,H=ls(K,vl,t);if(!yl.eql(yl.sqr(H),e))throw new Error("Cannot find square root");return H}const yl=Qb(fp,void 0,void 0,{sqrt:lw}),vn=aw({a:BigInt(0),b:BigInt(7),Fp:yl,n:Gu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Gu,s=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ow*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=s,a=BigInt("0x100000000000000000000000000000000"),l=Ku(r*e,t),c=Ku(-n*e,t);let u=qe(e-l*s-c*i,t),d=qe(-l*n-c*r,t);const f=u>a,h=d>a;if(f&&(u=t-u),h&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},jh);BigInt(0);vn.ProjectivePoint;const Er="0x0000000000000000000000000000000000000000",Wu="0x0000000000000000000000000000000000000000000000000000000000000000",zu=BigInt(0),Yu=BigInt(1),Qu=BigInt(2),qu=BigInt(27),Ju=BigInt(28),na=BigInt(35),fi={};function Zu(e){return an(Ee(e),32)}class ue{#t;#e;#s;#n;get r(){return this.#t}set r(t){_(Si(t)===32,"invalid r","value",t),this.#t=ot(t)}get s(){return _(parseInt(this.#e.substring(0,3))<8,"non-canonical s; use ._s","s",this.#e),this.#e}set s(t){_(Si(t)===32,"invalid s","value",t),this.#e=ot(t)}get _s(){return this.#e}isValid(){return parseInt(this.#e.substring(0,3))<8}get v(){return this.#s}set v(t){const s=Rt(t,"value");_(s===27||s===28,"invalid v","v",t),this.#s=s}get networkV(){return this.#n}get legacyChainId(){const t=this.networkV;return t==null?null:ue.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=Dt(this.s);return this.yParity&&(t[0]|=128),ot(t)}get compactSerialized(){return fe([this.r,this.yParityAndS])}get serialized(){return fe([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,s,n,i){Fr(t,fi,"Signature"),this.#t=s,this.#e=n,this.#s=i,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new ue(fi,this.r,this._s,this.v);return this.networkV&&(t.#n=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(t){const s=ut(t,"v");return s==qu||s==Ju?zu:(_(s>=na,"invalid EIP-155 v","v",t),(s-na)/Qu)}static getChainIdV(t,s){return ut(t)*Qu+BigInt(35+s-27)}static getNormalizedV(t){const s=ut(t);return s===zu||s===qu?27:s===Yu||s===Ju?28:(_(s>=na,"invalid v","v",t),s&Yu?27:28)}static from(t){function s(u,d){_(u,d,"signature",t)}if(t==null)return new ue(fi,Wu,Wu,27);if(typeof t=="string"){const u=Dt(t,"signature");if(u.length===64){const d=ot(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new ue(fi,d,ot(f),h)}if(u.length===65){const d=ot(u.slice(0,32)),f=ot(u.slice(32,64)),h=ue.getNormalizedV(u[64]);return new ue(fi,d,f,h)}s(!1,"invalid raw signature length")}if(t instanceof ue)return t.clone();const n=t.r;s(n!=null,"missing r");const i=Zu(n),r=(function(u,d){if(u!=null)return Zu(u);if(d!=null){s(se(d,32),"invalid yParityAndS");const f=Dt(d);return f[0]&=127,ot(f)}s(!1,"missing s")})(t.s,t.yParityAndS),{networkV:a,v:l}=(function(u,d,f){if(u!=null){const h=ut(u);return{networkV:h>=na?h:void 0,v:ue.getNormalizedV(h)}}if(d!=null)return s(se(d,32),"invalid yParityAndS"),{v:Dt(d)[0]&128?28:27};if(f!=null){switch(Rt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}s(!1,"invalid yParity")}s(!1,"missing v")})(t.v,t.yParityAndS,t.yParity),c=new ue(fi,i,r,l);return a&&(c.#n=a),s(t.yParity==null||Rt(t.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),s(t.yParityAndS==null||t.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class qs{#t;constructor(t){_(Si(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#t=ot(t)}get privateKey(){return this.#t}get publicKey(){return qs.computePublicKey(this.#t)}get compressedPublicKey(){return qs.computePublicKey(this.#t,!0)}sign(t){_(Si(t)===32,"invalid digest length","digest",t);const s=vn.sign(Ge(t),Ge(this.#t),{lowS:!0});return ue.from({r:_n(s.r,32),s:_n(s.s,32),v:s.recovery?28:27})}computeSharedSecret(t){const s=qs.computePublicKey(t);return ot(vn.getSharedSecret(Ge(this.#t),Dt(s),!1))}static computePublicKey(t,s){let n=Dt(t,"key");if(n.length===32){const r=vn.getPublicKey(n,!!s);return ot(r)}if(n.length===64){const r=new Uint8Array(65);r[0]=4,r.set(n,1),n=r}const i=vn.ProjectivePoint.fromHex(n);return ot(i.toRawBytes(s))}static recoverPublicKey(t,s){_(Si(t)===32,"invalid digest length","digest",t);const n=ue.from(s);let i=vn.Signature.fromCompact(Ge(fe([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const r=i.recoverPublicKey(Ge(t));return _(r!=null,"invalid signature for digest","signature",s),"0x"+r.toHex(!1)}static addPoints(t,s,n){const i=vn.ProjectivePoint.fromHex(qs.computePublicKey(t).substring(2)),r=vn.ProjectivePoint.fromHex(qs.computePublicKey(s).substring(2));return"0x"+i.add(r).toHex(!!n)}}const cw=BigInt(0),uw=BigInt(36);function Xu(e){e=e.toLowerCase();const t=e.substring(2).split(""),s=new Uint8Array(40);for(let i=0;i<40;i++)s[i]=t[i].charCodeAt(0);const n=Dt(me(s));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const vc={};for(let e=0;e<10;e++)vc[String(e)]=String(e);for(let e=0;e<26;e++)vc[String.fromCharCode(65+e)]=String(10+e);const td=15;function dw(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>vc[n]).join("");for(;t.length>=td;){let n=t.substring(0,td);t=parseInt(n,10)%97+t.substring(n.length)}let s=String(98-parseInt(t,10)%97);for(;s.length<2;)s="0"+s;return s}const fw=(function(){const e={};for(let t=0;t<36;t++){const s="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[s]=BigInt(t)}return e})();function hw(e){e=e.toLowerCase();let t=cw;for(let s=0;s<e.length;s++)t=t*uw+fw[e[s]];return t}function Gt(e){if(_(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Xu(e);return _(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){_(e.substring(2,4)===dw(e),"bad icap checksum","address",e);let t=hw(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Xu("0x"+t)}_(!1,"invalid address","address",e)}function pw(e){const t=Gt(e.from);let n=ut(e.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Gt(ce(me(Pn([t,n])),12))}function hp(e){return e&&typeof e.getAddress=="function"}function yc(e){try{return Gt(e),!0}catch{}return!1}async function Oo(e,t){const s=await t;return(s==null||s==="0x0000000000000000000000000000000000000000")&&(V(typeof e!="string","unconfigured name","UNCONFIGURED_NAME",{value:e}),_(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Gt(s)}function We(e,t){if(typeof e=="string")return e.match(/^0x[0-9a-f]{40}$/i)?Gt(e):(V(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Oo(e,t.resolveName(e)));if(hp(e))return Oo(e,e.getAddress());if(e&&typeof e.then=="function")return Oo(e,e);_(!1,"unsupported addressable value","target",e)}const js={};function ct(e,t){let s=!1;return t<0&&(s=!0,t*=-1),new de(js,`${s?"":"u"}int${t}`,e,{signed:s,width:t})}function Ht(e,t){return new de(js,`bytes${t||""}`,e,{size:t})}const ed=Symbol.for("_ethers_typed");class de{type;value;#t;_typedSymbol;constructor(t,s,n,i){i==null&&(i=null),Fr(js,t,"Typed"),bt(this,{_typedSymbol:ed,type:s,value:n}),this.#t=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#t}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#t===!0?-1:this.#t===!1?this.value.length:null}static from(t,s){return new de(js,t,s)}static uint8(t){return ct(t,8)}static uint16(t){return ct(t,16)}static uint24(t){return ct(t,24)}static uint32(t){return ct(t,32)}static uint40(t){return ct(t,40)}static uint48(t){return ct(t,48)}static uint56(t){return ct(t,56)}static uint64(t){return ct(t,64)}static uint72(t){return ct(t,72)}static uint80(t){return ct(t,80)}static uint88(t){return ct(t,88)}static uint96(t){return ct(t,96)}static uint104(t){return ct(t,104)}static uint112(t){return ct(t,112)}static uint120(t){return ct(t,120)}static uint128(t){return ct(t,128)}static uint136(t){return ct(t,136)}static uint144(t){return ct(t,144)}static uint152(t){return ct(t,152)}static uint160(t){return ct(t,160)}static uint168(t){return ct(t,168)}static uint176(t){return ct(t,176)}static uint184(t){return ct(t,184)}static uint192(t){return ct(t,192)}static uint200(t){return ct(t,200)}static uint208(t){return ct(t,208)}static uint216(t){return ct(t,216)}static uint224(t){return ct(t,224)}static uint232(t){return ct(t,232)}static uint240(t){return ct(t,240)}static uint248(t){return ct(t,248)}static uint256(t){return ct(t,256)}static uint(t){return ct(t,256)}static int8(t){return ct(t,-8)}static int16(t){return ct(t,-16)}static int24(t){return ct(t,-24)}static int32(t){return ct(t,-32)}static int40(t){return ct(t,-40)}static int48(t){return ct(t,-48)}static int56(t){return ct(t,-56)}static int64(t){return ct(t,-64)}static int72(t){return ct(t,-72)}static int80(t){return ct(t,-80)}static int88(t){return ct(t,-88)}static int96(t){return ct(t,-96)}static int104(t){return ct(t,-104)}static int112(t){return ct(t,-112)}static int120(t){return ct(t,-120)}static int128(t){return ct(t,-128)}static int136(t){return ct(t,-136)}static int144(t){return ct(t,-144)}static int152(t){return ct(t,-152)}static int160(t){return ct(t,-160)}static int168(t){return ct(t,-168)}static int176(t){return ct(t,-176)}static int184(t){return ct(t,-184)}static int192(t){return ct(t,-192)}static int200(t){return ct(t,-200)}static int208(t){return ct(t,-208)}static int216(t){return ct(t,-216)}static int224(t){return ct(t,-224)}static int232(t){return ct(t,-232)}static int240(t){return ct(t,-240)}static int248(t){return ct(t,-248)}static int256(t){return ct(t,-256)}static int(t){return ct(t,-256)}static bytes1(t){return Ht(t,1)}static bytes2(t){return Ht(t,2)}static bytes3(t){return Ht(t,3)}static bytes4(t){return Ht(t,4)}static bytes5(t){return Ht(t,5)}static bytes6(t){return Ht(t,6)}static bytes7(t){return Ht(t,7)}static bytes8(t){return Ht(t,8)}static bytes9(t){return Ht(t,9)}static bytes10(t){return Ht(t,10)}static bytes11(t){return Ht(t,11)}static bytes12(t){return Ht(t,12)}static bytes13(t){return Ht(t,13)}static bytes14(t){return Ht(t,14)}static bytes15(t){return Ht(t,15)}static bytes16(t){return Ht(t,16)}static bytes17(t){return Ht(t,17)}static bytes18(t){return Ht(t,18)}static bytes19(t){return Ht(t,19)}static bytes20(t){return Ht(t,20)}static bytes21(t){return Ht(t,21)}static bytes22(t){return Ht(t,22)}static bytes23(t){return Ht(t,23)}static bytes24(t){return Ht(t,24)}static bytes25(t){return Ht(t,25)}static bytes26(t){return Ht(t,26)}static bytes27(t){return Ht(t,27)}static bytes28(t){return Ht(t,28)}static bytes29(t){return Ht(t,29)}static bytes30(t){return Ht(t,30)}static bytes31(t){return Ht(t,31)}static bytes32(t){return Ht(t,32)}static address(t){return new de(js,"address",t)}static bool(t){return new de(js,"bool",!!t)}static bytes(t){return new de(js,"bytes",t)}static string(t){return new de(js,"string",t)}static array(t,s){throw new Error("not implemented yet")}static tuple(t,s){throw new Error("not implemented yet")}static overrides(t){return new de(js,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===ed}static dereference(t,s){if(de.isTyped(t)){if(t.type!==s)throw new Error(`invalid type: expecetd ${s}, got ${t.type}`);return t.value}return t}}class mw extends un{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,s){let n=de.dereference(s,"string");try{n=Gt(n)}catch(i){return this._throwError(i.message,s)}return t.writeValue(n)}decode(t){return Gt(_n(t.readValue(),20))}}class gw extends un{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,s){return this.coder.encode(t,s)}decode(t){return this.coder.decode(t)}}function pp(e,t,s){let n=[];if(Array.isArray(s))n=s;else if(s&&typeof s=="object"){let c={};n=t.map(u=>{const d=u.localName;return V(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:s}),V(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:s}),c[d]=!0,s[d]})}else _(!1,"invalid tuple value","tuple",s);_(t.length===n.length,"types/value length mismatch","tuple",s);let i=new hl,r=new hl,a=[];t.forEach((c,u)=>{let d=n[u];if(c.dynamic){let f=r.length;c.encode(r,d);let h=i.writeUpdatableValue();a.push(p=>{h(p+f)})}else c.encode(i,d)}),a.forEach(c=>{c(i.length)});let l=e.appendWriter(i);return l+=e.appendWriter(r),l}function mp(e,t){let s=[],n=[],i=e.subReader(0);return t.forEach(r=>{let a=null;if(r.dynamic){let l=e.readIndex(),c=i.subReader(l);try{a=r.decode(c)}catch(u){if(Ie(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=r.name,a.name=r.localName,a.type=r.type}}else try{a=r.decode(e)}catch(l){if(Ie(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=r.name,a.name=r.localName,a.type=r.type}if(a==null)throw new Error("investigate");s.push(a),n.push(r.localName||null)}),Js.fromItems(s,n)}class vw extends un{coder;length;constructor(t,s,n){const i=t.type+"["+(s>=0?s:"")+"]",r=s===-1||t.dynamic;super("array",i,n,r),bt(this,{coder:t,length:s})}defaultValue(){const t=this.coder.defaultValue(),s=[];for(let n=0;n<this.length;n++)s.push(t);return s}encode(t,s){const n=de.dereference(s,"array");Array.isArray(n)||this._throwError("expected array value",n);let i=this.length;i===-1&&(i=n.length,t.writeValue(n.length)),Ch(n.length,i,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let a=0;a<n.length;a++)r.push(this.coder);return pp(t,r,n)}decode(t){let s=this.length;s===-1&&(s=t.readIndex(),V(s*Ke<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:s*Ke,length:t.dataLength}));let n=[];for(let i=0;i<s;i++)n.push(new gw(this.coder));return mp(t,n)}}class yw extends un{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,s){const n=de.dereference(s,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class gp extends un{constructor(t,s){super(t,t,s,!0)}defaultValue(){return"0x"}encode(t,s){s=Ge(s);let n=t.writeValue(s.length);return n+=t.writeBytes(s),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class bw extends gp{constructor(t){super("bytes",t)}decode(t){return ot(super.decode(t))}}class ww extends un{size;constructor(t,s){let n="bytes"+String(t);super(n,n,s,!1),bt(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,s){let n=Ge(de.dereference(s,this.type));return n.length!==this.size&&this._throwError("incorrect data length",s),t.writeBytes(n)}decode(t){return ot(t.readBytes(this.size))}}const Aw=new Uint8Array([]);class Ew extends un{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,s){return s!=null&&this._throwError("not null",s),t.writeBytes(Aw)}decode(t){return t.readBytes(0),null}}const kw=BigInt(0),Cw=BigInt(1),Sw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Tw extends un{size;signed;constructor(t,s,n){const i=(s?"int":"uint")+t*8;super(i,i,n,!1),bt(this,{size:t,signed:s},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,s){let n=ut(de.dereference(s,this.type)),i=Kn(Sw,Ke*8);if(this.signed){let r=Kn(i,this.size*8-1);(n>r||n<-(r+Cw))&&this._throwError("value out-of-bounds",s),n=_h(n,8*Ke)}else(n<kw||n>Kn(i,this.size*8))&&this._throwError("value out-of-bounds",s);return t.writeValue(n)}decode(t){let s=Kn(t.readValue(),this.size*8);return this.signed&&(s=Pa(s,this.size*8)),s}}class _w extends gp{constructor(t){super("string",t)}defaultValue(){return""}encode(t,s){return super.encode(t,en(de.dereference(s,"string")))}decode(t){return xa(super.decode(t))}}class ia extends un{coders;constructor(t,s){let n=!1;const i=[];t.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const r="tuple("+i.join(",")+")";super("tuple",r,s,n),bt(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const s=this.coders.reduce((n,i)=>{const r=i.localName;return r&&(n[r]||(n[r]=0),n[r]++),n},{});return this.coders.forEach((n,i)=>{let r=n.localName;!r||s[r]!==1||(r==="length"&&(r="_length"),t[r]==null&&(t[r]=t[i]))}),Object.freeze(t)}encode(t,s){const n=de.dereference(s,"tuple");return pp(t,this.coders,n)}decode(t){return mp(t,this.coders)}}function Mo(e,t){return{address:Gt(e),storageKeys:t.map((s,n)=>(_(se(s,32),"invalid slot",`storageKeys[${n}]`,s),s.toLowerCase()))}}function oi(e){if(Array.isArray(e))return e.map((s,n)=>Array.isArray(s)?(_(s.length===2,"invalid slot set",`value[${n}]`,s),Mo(s[0],s[1])):(_(s!=null&&typeof s=="object","invalid address-slot set","value",e),Mo(s.address,s.storageKeys)));_(e!=null&&typeof e=="object","invalid access list","value",e);const t=Object.keys(e).map(s=>{const n=e[s].reduce((i,r)=>(i[r]=!0,i),{});return Mo(s,Object.keys(n).sort())});return t.sort((s,n)=>s.address.localeCompare(n.address)),t}function vp(e){return{address:Gt(e.address),nonce:ut(e.nonce!=null?e.nonce:0),chainId:ut(e.chainId!=null?e.chainId:0),signature:ue.from(e.signature)}}function Pw(e){let t;return typeof e=="string"?t=qs.computePublicKey(e,!1):t=e.publicKey,Gt(me("0x"+t.substring(4)).substring(26))}function xw(e,t){return Pw(qs.recoverPublicKey(e,t))}const ke=BigInt(0),Iw=BigInt(2),Rw=BigInt(27),Nw=BigInt(28),Lw=BigInt(35),Dw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Uo=4096*32;function Bw(e){return{blobToKzgCommitment:n=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment=="function")return Dt(e.blobToKzgCommitment(ot(n)))}else if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment=="function")return Dt(e.blobToKzgCommitment(n));if("blobToKZGCommitment"in e&&typeof e.blobToKZGCommitment=="function")return Dt(e.blobToKZGCommitment(ot(n)));_(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in e&&typeof e.computeBlobProof=="function")return Dt(e.computeBlobProof(ot(n),ot(i)));if("computeBlobKzgProof"in e&&typeof e.computeBlobKzgProof=="function")return e.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in e&&typeof e.computeBlobKZGProof=="function")return Dt(e.computeBlobKZGProof(ot(n),ot(i)));_(!1,"unsupported KZG library","kzg",e)}}}function sd(e,t){let s=e.toString(16);for(;s.length<2;)s="0"+s;return s+=Hi(t).substring(4),"0x"+s}function ji(e){return e==="0x"?null:Gt(e)}function io(e,t){try{return oi(e)}catch(s){_(!1,s.message,t,e)}}function Ow(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const s=[];for(let n=0;n<e.length;n++){const i=e[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);s.push({address:ji(i[1]),nonce:qt(i[2],"nonce"),chainId:qt(i[0],"chainId"),signature:ue.from({yParity:li(i[3],"yParity"),r:an(i[4],32),s:an(i[5],32)})})}return s}catch(s){_(!1,s.message,t,e)}}function li(e,t){return e==="0x"?0:Rt(e,t)}function qt(e,t){if(e==="0x")return ke;const s=ut(e,t);return _(s<=Dw,"value exceeds uint size",t,s),s}function Mt(e,t){const s=ut(e,"value"),n=Ee(s);return _(n.length<=32,"value too large",`tx.${t}`,s),n}function ro(e){return oi(e).map(t=>[t.address,t.storageKeys])}function Mw(e){return e.map(t=>[Mt(t.chainId,"chainId"),t.address,Mt(t.nonce,"nonce"),Mt(t.signature.yParity,"yParity"),Ee(t.signature.r),Ee(t.signature.s)])}function Uw(e,t){_(Array.isArray(e),`invalid ${t}`,"value",e);for(let s=0;s<e.length;s++)_(se(e[s],32),"invalid ${ param } hash",`value[${s}]`,e[s]);return e}function Fw(e){const t=$r(e);_(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",e);const s={type:0,nonce:li(t[0],"nonce"),gasPrice:qt(t[1],"gasPrice"),gasLimit:qt(t[2],"gasLimit"),to:ji(t[3]),value:qt(t[4],"value"),data:ot(t[5]),chainId:ke};if(t.length===6)return s;const n=qt(t[6],"v"),i=qt(t[7],"r"),r=qt(t[8],"s");if(i===ke&&r===ke)s.chainId=n;else{let a=(n-Lw)/Iw;a<ke&&(a=ke),s.chainId=a,_(a!==ke||n===Rw||n===Nw,"non-canonical legacy v","v",t[6]),s.signature=ue.from({r:an(t[7],32),s:an(t[8],32),v:n})}return s}function $w(e,t){const s=[Mt(e.nonce,"nonce"),Mt(e.gasPrice||0,"gasPrice"),Mt(e.gasLimit,"gasLimit"),e.to||"0x",Mt(e.value,"value"),e.data];let n=ke;if(e.chainId!=ke)n=ut(e.chainId,"tx.chainId"),_(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const r=e.signature.legacyChainId;r!=null&&(n=r)}if(!t)return n!==ke&&(s.push(Ee(n)),s.push("0x"),s.push("0x")),Pn(s);let i=BigInt(27+t.yParity);return n!==ke?i=ue.getChainIdV(n,t.v):BigInt(t.v)!==i&&_(!1,"tx.chainId/sig.v mismatch","sig",t),s.push(Ee(i)),s.push(Ee(t.r)),s.push(Ee(t.s)),Pn(s)}function ao(e,t){let s;try{if(s=li(t[0],"yParity"),s!==0&&s!==1)throw new Error("bad yParity")}catch{_(!1,"invalid yParity","yParity",t[0])}const n=an(t[1],32),i=an(t[2],32),r=ue.from({r:n,s:i,yParity:s});e.signature=r}function Vw(e){const t=$r(Dt(e).slice(1));_(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",ot(e));const s={type:2,chainId:qt(t[0],"chainId"),nonce:li(t[1],"nonce"),maxPriorityFeePerGas:qt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(t[4],"gasLimit"),to:ji(t[5]),value:qt(t[6],"value"),data:ot(t[7]),accessList:io(t[8],"accessList")};return t.length===9||ao(s,t.slice(9)),s}function Hw(e,t){const s=[Mt(e.chainId,"chainId"),Mt(e.nonce,"nonce"),Mt(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mt(e.maxFeePerGas||0,"maxFeePerGas"),Mt(e.gasLimit,"gasLimit"),e.to||"0x",Mt(e.value,"value"),e.data,ro(e.accessList||[])];return t&&(s.push(Mt(t.yParity,"yParity")),s.push(Ee(t.r)),s.push(Ee(t.s))),fe(["0x02",Pn(s)])}function jw(e){const t=$r(Dt(e).slice(1));_(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",ot(e));const s={type:1,chainId:qt(t[0],"chainId"),nonce:li(t[1],"nonce"),gasPrice:qt(t[2],"gasPrice"),gasLimit:qt(t[3],"gasLimit"),to:ji(t[4]),value:qt(t[5],"value"),data:ot(t[6]),accessList:io(t[7],"accessList")};return t.length===8||ao(s,t.slice(8)),s}function Gw(e,t){const s=[Mt(e.chainId,"chainId"),Mt(e.nonce,"nonce"),Mt(e.gasPrice||0,"gasPrice"),Mt(e.gasLimit,"gasLimit"),e.to||"0x",Mt(e.value,"value"),e.data,ro(e.accessList||[])];return t&&(s.push(Mt(t.yParity,"recoveryParam")),s.push(Ee(t.r)),s.push(Ee(t.s))),fe(["0x01",Pn(s)])}function Kw(e){let t=$r(Dt(e).slice(1)),s="3",n=null;if(t.length===4&&Array.isArray(t[0])){s="3 (network format)";const r=t[1],a=t[2],l=t[3];_(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),_(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),_(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),_(r.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t),_(r.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let c=0;c<t[1].length;c++)n.push({data:r[c],commitment:a[c],proof:l[c]});t=t[0]}_(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${s}`,"data",ot(e));const i={type:3,chainId:qt(t[0],"chainId"),nonce:li(t[1],"nonce"),maxPriorityFeePerGas:qt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(t[4],"gasLimit"),to:ji(t[5]),value:qt(t[6],"value"),data:ot(t[7]),accessList:io(t[8],"accessList"),maxFeePerBlobGas:qt(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(i.blobs=n),_(i.to!=null,`invalid address for transaction type: ${s}`,"data",e),_(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let r=0;r<i.blobVersionedHashes.length;r++)_(se(i.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",e);return t.length===11||ao(i,t.slice(11)),i}function Ww(e,t,s){const n=[Mt(e.chainId,"chainId"),Mt(e.nonce,"nonce"),Mt(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mt(e.maxFeePerGas||0,"maxFeePerGas"),Mt(e.gasLimit,"gasLimit"),e.to||Er,Mt(e.value,"value"),e.data,ro(e.accessList||[]),Mt(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Uw(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(Mt(t.yParity,"yParity")),n.push(Ee(t.r)),n.push(Ee(t.s)),s)?fe(["0x03",Pn([n,s.map(i=>i.data),s.map(i=>i.commitment),s.map(i=>i.proof)])]):fe(["0x03",Pn(n)])}function zw(e){const t=$r(Dt(e).slice(1));_(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",ot(e));const s={type:4,chainId:qt(t[0],"chainId"),nonce:li(t[1],"nonce"),maxPriorityFeePerGas:qt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(t[4],"gasLimit"),to:ji(t[5]),value:qt(t[6],"value"),data:ot(t[7]),accessList:io(t[8],"accessList"),authorizationList:Ow(t[9],"authorizationList")};return t.length===10||ao(s,t.slice(10)),s}function Yw(e,t){const s=[Mt(e.chainId,"chainId"),Mt(e.nonce,"nonce"),Mt(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mt(e.maxFeePerGas||0,"maxFeePerGas"),Mt(e.gasLimit,"gasLimit"),e.to||"0x",Mt(e.value,"value"),e.data,ro(e.accessList||[]),Mw(e.authorizationList||[])];return t&&(s.push(Mt(t.yParity,"yParity")),s.push(Ee(t.r)),s.push(Ee(t.s))),fe(["0x04",Pn(s)])}class ys{#t;#e;#s;#n;#i;#a;#r;#o;#d;#c;#p;#m;#l;#u;#f;#h;#v;get type(){return this.#t}set type(t){switch(t){case null:this.#t=null;break;case 0:case"legacy":this.#t=0;break;case 1:case"berlin":case"eip-2930":this.#t=1;break;case 2:case"london":case"eip-1559":this.#t=2;break;case 3:case"cancun":case"eip-4844":this.#t=3;break;case 4:case"pectra":case"eip-7702":this.#t=4;break;default:_(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=this.#e;return t==null&&this.type===3?Er:t}set to(t){this.#e=t==null?null:Gt(t)}get nonce(){return this.#n}set nonce(t){this.#n=Rt(t,"value")}get gasLimit(){return this.#i}set gasLimit(t){this.#i=ut(t)}get gasPrice(){const t=this.#a;return t==null&&(this.type===0||this.type===1)?ke:t}set gasPrice(t){this.#a=t==null?null:ut(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#r;return t??(this.type===2||this.type===3?ke:null)}set maxPriorityFeePerGas(t){this.#r=t==null?null:ut(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#o;return t??(this.type===2||this.type===3?ke:null)}set maxFeePerGas(t){this.#o=t==null?null:ut(t,"maxFeePerGas")}get data(){return this.#s}set data(t){this.#s=ot(t)}get value(){return this.#d}set value(t){this.#d=ut(t,"value")}get chainId(){return this.#c}set chainId(t){this.#c=ut(t)}get signature(){return this.#p||null}set signature(t){this.#p=t==null?null:ue.from(t)}get accessList(){const t=this.#m||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){this.#m=t==null?null:oi(t)}get authorizationList(){const t=this.#v||null;return t==null&&this.type===4?[]:t}set authorizationList(t){this.#v=t==null?null:t.map(s=>vp(s))}get maxFeePerBlobGas(){const t=this.#l;return t==null&&this.type===3?ke:t}set maxFeePerBlobGas(t){this.#l=t==null?null:ut(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#u;return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){_(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let s=0;s<t.length;s++)_(se(t[s],32),"invalid blobVersionedHash",`value[${s}]`,t[s])}this.#u=t}get blobs(){return this.#h==null?null:this.#h.map(t=>Object.assign({},t))}set blobs(t){if(t==null){this.#h=null;return}const s=[],n=[];for(let i=0;i<t.length;i++){const r=t[i];if(oc(r)){V(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Dt(r);if(_(a.length<=Uo,"blob is too large",`blobs[${i}]`,r),a.length!==Uo){const u=new Uint8Array(Uo);u.set(a),a=u}const l=this.#f.blobToKzgCommitment(a),c=ot(this.#f.computeBlobKzgProof(a,l));s.push({data:ot(a),commitment:ot(l),proof:c}),n.push(sd(1,l))}else{const a=ot(r.commitment);s.push({data:ot(r.data),commitment:a,proof:ot(r.proof)}),n.push(sd(1,a))}}this.#h=s,this.#u=n}get kzg(){return this.#f}set kzg(t){t==null?this.#f=null:this.#f=Bw(t)}constructor(){this.#t=null,this.#e=null,this.#n=0,this.#i=ke,this.#a=null,this.#r=null,this.#o=null,this.#s="0x",this.#d=ke,this.#c=ke,this.#p=null,this.#m=null,this.#l=null,this.#u=null,this.#f=null,this.#h=null,this.#v=null}get hash(){return this.signature==null?null:me(this.#g(!0,!1))}get unsignedHash(){return me(this.unsignedSerialized)}get from(){return this.signature==null?null:xw(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:qs.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(t,s){V(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=t?this.signature:null;switch(this.inferType()){case 0:return $w(this,n);case 1:return Gw(this,n);case 2:return Hw(this,n);case 3:return Ww(this,n,s?this.blobs:null);case 4:return Yw(this,n)}V(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,s=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&V(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),V(!s||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),V(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):this.authorizationList&&this.authorizationList.length?r.push(4):s?r.push(2):t?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(i&&this.to||(r.push(0),r.push(1),r.push(2)),r.push(3)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ys.from(this)}toJSON(){const t=s=>s==null?null:s.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new ys;if(typeof t=="string"){const n=Dt(t);if(n[0]>=127)return ys.from(Fw(n));switch(n[0]){case 1:return ys.from(jw(n));case 2:return ys.from(Vw(n));case 3:return ys.from(Kw(n));case 4:return ys.from(zw(n))}V(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const s=new ys;return t.type!=null&&(s.type=t.type),t.to!=null&&(s.to=t.to),t.nonce!=null&&(s.nonce=t.nonce),t.gasLimit!=null&&(s.gasLimit=t.gasLimit),t.gasPrice!=null&&(s.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(s.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(s.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(s.data=t.data),t.value!=null&&(s.value=t.value),t.chainId!=null&&(s.chainId=t.chainId),t.signature!=null&&(s.signature=ue.from(t.signature)),t.accessList!=null&&(s.accessList=t.accessList),t.authorizationList!=null&&(s.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(s.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(s.kzg=t.kzg),t.blobs!=null&&(s.blobs=t.blobs),t.hash!=null&&(_(s.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),_(s.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(_(s.isSigned(),"unsigned transaction cannot define '.from'","tx",t),_(s.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),s}}function ei(e){return me(en(e))}var Qw="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";const nd=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),id=4;function qw(e){let t=0;function s(){return e[t++]<<8|e[t++]}let n=s(),i=1,r=[0,1];for(let K=1;K<n;K++)r.push(i+=s());let a=s(),l=t;t+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}const f=31,h=2**f,p=h>>>1,w=p>>1,v=h-1;let A=0;for(let K=0;K<f;K++)A=A<<1|d();let E=[],L=0,N=h;for(;;){let K=Math.floor(((A-L+1)*i-1)/N),H=0,X=n;for(;X-H>1;){let W=H+X>>>1;K<r[W]?X=W:H=W}if(H==0)break;E.push(H);let st=L+Math.floor(N*r[H]/i),z=L+Math.floor(N*r[H+1]/i)-1;for(;((st^z)&p)==0;)A=A<<1&v|d(),st=st<<1&v,z=z<<1&v|1;for(;st&~z&w;)A=A&p|A<<1&v>>>1|d(),st=st<<1^p,z=(z^p)<<1|p|1;L=st,N=1+z-st}let F=n-4;return E.map(K=>{switch(K-F){case 3:return F+65792+(e[l++]<<16|e[l++]<<8|e[l++]);case 2:return F+256+(e[l++]<<8|e[l++]);case 1:return F+e[l++];default:return K-1}})}function Jw(e){let t=0;return()=>e[t++]}function yp(e){return Jw(qw(Zw(e)))}function Zw(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,r)=>t[i.charCodeAt(0)]=r);let s=e.length,n=new Uint8Array(6*s>>3);for(let i=0,r=0,a=0,l=0;i<s;i++)l=l<<6|t[e.charCodeAt(i)],a+=6,a>=8&&(n[r++]=l>>(a-=8));return n}function Xw(e){return e&1?~e>>1:e>>1}function tA(e,t){let s=Array(e);for(let n=0,i=0;n<e;n++)s[n]=i+=Xw(t());return s}function kr(e,t=0){let s=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let r=0;r<i;r++)s.push(t+r);t+=i+1}return s}function bp(e){return Cr(()=>{let t=kr(e);if(t.length)return t})}function wp(e){let t=[];for(;;){let s=e();if(s==0)break;t.push(eA(s,e))}for(;;){let s=e()-1;if(s<0)break;t.push(sA(s,e))}return t.flat()}function Cr(e){let t=[];for(;;){let s=e(t.length);if(!s)break;t.push(s)}return t}function Ap(e,t,s){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)tA(e,s).forEach((r,a)=>n[a].push(r));return n}function eA(e,t){let s=1+t(),n=t(),i=Cr(t);return Ap(i.length,1+e,t).flatMap((a,l)=>{let[c,...u]=a;return Array(i[l]).fill().map((d,f)=>{let h=f*n;return[c+f*s,u.map(p=>p+h)]})})}function sA(e,t){let s=1+t();return Ap(s,1+e,t).map(i=>[i[0],i.slice(1)])}function nA(e){let t=[],s=kr(e);return i(n([]),[]),t;function n(r){let a=e(),l=Cr(()=>{let c=kr(e).map(u=>s[u]);if(c.length)return n(c)});return{S:a,B:l,Q:r}}function i({S:r,B:a},l,c){if(!(r&4&&c===l[l.length-1])){r&2&&(c=l[l.length-1]),r&1&&t.push(l);for(let u of a)for(let d of u.Q)i(u,[...l,d],c)}}}function iA(e){return e.toString(16).toUpperCase().padStart(2,"0")}function Ep(e){return`{${iA(e)}}`}function rA(e){let t=[];for(let s=0,n=e.length;s<n;){let i=e.codePointAt(s);s+=i<65536?1:2,t.push(i)}return t}function Bi(e){let s=e.length;if(s<4096)return String.fromCodePoint(...e);let n=[];for(let i=0;i<s;)n.push(String.fromCodePoint(...e.slice(i,i+=4096)));return n.join("")}function aA(e,t){let s=e.length,n=s-t.length;for(let i=0;n==0&&i<s;i++)n=e[i]-t[i];return n}var oA="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";const Sr=44032,Ra=4352,Na=4449,La=4519,kp=19,Cp=21,Oi=28,Da=Cp*Oi,lA=kp*Da,cA=Sr+lA,uA=Ra+kp,dA=Na+Cp,fA=La+Oi;function Zi(e){return e>>24&255}function Sp(e){return e&16777215}let bl,rd,wl,pa;function hA(){let e=yp(oA);bl=new Map(bp(e).flatMap((t,s)=>t.map(n=>[n,s+1<<24]))),rd=new Set(kr(e)),wl=new Map,pa=new Map;for(let[t,s]of wp(e)){if(!rd.has(t)&&s.length==2){let[n,i]=s,r=pa.get(n);r||(r=new Map,pa.set(n,r)),r.set(i,t)}wl.set(t,s.reverse())}}function Tp(e){return e>=Sr&&e<cA}function pA(e,t){if(e>=Ra&&e<uA&&t>=Na&&t<dA)return Sr+(e-Ra)*Da+(t-Na)*Oi;if(Tp(e)&&t>La&&t<fA&&(e-Sr)%Oi==0)return e+(t-La);{let s=pa.get(e);return s&&(s=s.get(t),s)?s:-1}}function _p(e){bl||hA();let t=[],s=[],n=!1;function i(r){let a=bl.get(r);a&&(n=!0,r|=a),t.push(r)}for(let r of e)for(;;){if(r<128)t.push(r);else if(Tp(r)){let a=r-Sr,l=a/Da|0,c=a%Da/Oi|0,u=a%Oi;i(Ra+l),i(Na+c),u>0&&i(La+u)}else{let a=wl.get(r);a?s.push(...a):i(r)}if(!s.length)break;r=s.pop()}if(n&&t.length>1){let r=Zi(t[0]);for(let a=1;a<t.length;a++){let l=Zi(t[a]);if(l==0||r<=l){r=l;continue}let c=a-1;for(;;){let u=t[c+1];if(t[c+1]=t[c],t[c]=u,!c||(r=Zi(t[--c]),r<=l))break}r=Zi(t[a])}}return t}function mA(e){let t=[],s=[],n=-1,i=0;for(let r of e){let a=Zi(r),l=Sp(r);if(n==-1)a==0?n=l:t.push(l);else if(i>0&&i>=a)a==0?(t.push(n,...s),s.length=0,n=l):s.push(l),i=a;else{let c=pA(n,l);c>=0?n=c:i==0&&a==0?(t.push(n),n=l):(s.push(l),i=a)}}return n>=0&&t.push(n,...s),t}function Pp(e){return _p(e).map(Sp)}function gA(e){return mA(_p(e))}const ad=45,xp=".",Ip=65039,Rp=1,Ba=e=>Array.from(e);function Tr(e,t){return e.P.has(t)||e.Q.has(t)}class vA extends Array{get is_emoji(){return!0}}let Al,Np,zn,El,Lp,_i,Fo,mi,Fn,od,kl;function bc(){if(Al)return;let e=yp(Qw);const t=()=>kr(e),s=()=>new Set(t()),n=(d,f)=>f.forEach(h=>d.add(h));Al=new Map(wp(e)),Np=s(),zn=t(),El=new Set(t().map(d=>zn[d])),zn=new Set(zn),Lp=s(),s();let i=bp(e),r=e();const a=()=>{let d=new Set;return t().forEach(f=>n(d,i[f])),n(d,t()),d};_i=Cr(d=>{let f=Cr(e).map(h=>h+96);if(f.length){let h=d>=r;f[0]-=32,f=Bi(f),h&&(f=`Restricted[${f}]`);let p=a(),w=a(),v=!e();return{N:f,P:p,Q:w,M:v,R:h}}}),Fo=s(),mi=new Map;let l=t().concat(Ba(Fo)).sort((d,f)=>d-f);l.forEach((d,f)=>{let h=e(),p=l[f]=h?l[f-h]:{V:[],M:new Map};p.V.push(d),Fo.has(d)||mi.set(d,p)});for(let{V:d,M:f}of new Set(mi.values())){let h=[];for(let w of d){let v=_i.filter(E=>Tr(E,w)),A=h.find(({G:E})=>v.some(L=>E.has(L)));A||(A={G:new Set,V:[]},h.push(A)),A.V.push(w),n(A.G,v)}let p=h.flatMap(w=>Ba(w.G));for(let{G:w,V:v}of h){let A=new Set(p.filter(E=>!w.has(E)));for(let E of v)f.set(E,A)}}Fn=new Set;let c=new Set;const u=d=>Fn.has(d)?c.add(d):Fn.add(d);for(let d of _i){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Fn)!mi.has(d)&&!c.has(d)&&mi.set(d,Rp);n(Fn,Pp(Fn)),od=nA(e).map(d=>vA.from(d)).sort(aA),kl=new Map;for(let d of od){let f=[kl];for(let h of d){let p=f.map(w=>{let v=w.get(h);return v||(v=new Map,w.set(h,v)),v});h===Ip?f.push(...p):f=p}for(let h of f)h.V=d}}function wc(e){return(Dp(e)?"":`${Ac(oo([e]))} `)+Ep(e)}function Ac(e){return`"${e}"‎`}function yA(e){if(e.length>=4&&e[2]==ad&&e[3]==ad)throw new Error(`invalid label extension: "${Bi(e.slice(0,4))}"`)}function bA(e){for(let s=e.lastIndexOf(95);s>0;)if(e[--s]!==95)throw new Error("underscore allowed only at start")}function wA(e){let t=e[0],s=nd.get(t);if(s)throw or(`leading ${s}`);let n=e.length,i=-1;for(let r=1;r<n;r++){t=e[r];let a=nd.get(t);if(a){if(i==r)throw or(`${s} + ${a}`);i=r+1,s=a}}if(i==n)throw or(`trailing ${s}`)}function oo(e,t=1/0,s=Ep){let n=[];AA(e[0])&&n.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,r=e.length;for(let a=0;a<r;a++){let l=e[a];Dp(l)&&(n.push(Bi(e.slice(i,a))),n.push(s(l)),i=a+1)}return n.push(Bi(e.slice(i,r))),n.join("")}function AA(e){return bc(),zn.has(e)}function Dp(e){return bc(),Lp.has(e)}function EA(e){return TA(kA(e,gA,xA))}function kA(e,t,s){if(!e)return[];bc();let n=0;return e.split(xp).map(i=>{let r=rA(i),a={input:r,offset:n};n+=r.length+1;try{let l=a.tokens=PA(r,t,s),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(bA(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(h=>h<128))yA(d),u="ASCII";else{let h=l.flatMap(p=>p.is_emoji?[]:p);if(!h.length)u="Emoji";else{if(zn.has(d[0]))throw or("leading combining mark");for(let v=1;v<c;v++){let A=l[v];if(!A.is_emoji&&zn.has(A[0]))throw or(`emoji + combining mark: "${Bi(l[v-1])} + ${oo([A[0]])}"`)}wA(d);let p=Ba(new Set(h)),[w]=SA(p);_A(w,h),CA(w,p),u=w.N}}a.type=u}catch(l){a.error=l}return a})}function CA(e,t){let s,n=[];for(let i of t){let r=mi.get(i);if(r===Rp)return;if(r){let a=r.M.get(i);if(s=s?s.filter(l=>a.has(l)):Ba(a),!s.length)return}else n.push(i)}if(s){for(let i of s)if(n.every(r=>Tr(i,r)))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}}function SA(e){let t=_i;for(let s of e){let n=t.filter(i=>Tr(i,s));if(!n.length)throw _i.some(i=>Tr(i,s))?Op(t[0],s):Bp(s);if(t=n,n.length==1)break}return t}function TA(e){return e.map(({input:t,error:s,output:n})=>{if(s){let i=s.message;throw new Error(e.length==1?i:`Invalid label ${Ac(oo(t,63))}: ${i}`)}return Bi(n)}).join(xp)}function Bp(e){return new Error(`disallowed character: ${wc(e)}`)}function Op(e,t){let s=wc(t),n=_i.find(i=>i.P.has(t));return n&&(s=`${n.N} ${s}`),new Error(`illegal mixture: ${e.N} + ${s}`)}function or(e){return new Error(`illegal placement: ${e}`)}function _A(e,t){for(let s of t)if(!Tr(e,s))throw Op(e,s);if(e.M){let s=Pp(t);for(let n=1,i=s.length;n<i;n++)if(El.has(s[n])){let r=n+1;for(let a;r<i&&El.has(a=s[r]);r++)for(let l=n;l<r;l++)if(s[l]==a)throw new Error(`duplicate non-spacing marks: ${wc(a)}`);if(r-n>id)throw new Error(`excessive non-spacing marks: ${Ac(oo(s.slice(n-1,r)))} (${r-n}/${id})`);n=r}}}function PA(e,t,s){let n=[],i=[];for(e=e.slice().reverse();e.length;){let r=IA(e);if(r)i.length&&(n.push(t(i)),i=[]),n.push(s(r));else{let a=e.pop();if(Fn.has(a))i.push(a);else{let l=Al.get(a);if(l)i.push(...l);else if(!Np.has(a))throw Bp(a)}}}return i.length&&n.push(t(i)),n}function xA(e){return e.filter(t=>t!=Ip)}function IA(e,t){let s=kl,n,i=e.length;for(;i&&(s=s.get(e[--i]),!!s);){let{V:r}=s;r&&(n=r,e.length=i)}return n}const Mp=new Uint8Array(32);Mp.fill(0);function ld(e){return _(e.length!==0,"invalid ENS name; empty component","comp",e),e}function Up(e){const t=en(RA(e)),s=[];if(e.length===0)return s;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(s.push(ld(t.slice(n,i))),n=i+1);return _(n<t.length,"invalid ENS name; empty component","name",e),s.push(ld(t.slice(n))),s}function RA(e){try{if(e.length===0)throw new Error("empty label");return EA(e)}catch(t){_(!1,`invalid ENS name (${t.message})`,"name",e)}}function Cl(e){_(typeof e=="string","invalid ENS name; not a string","name",e),_(e.length,"invalid ENS name (empty label)","name",e);let t=Mp;const s=Up(e);for(;s.length;)t=me(fe([t,me(s.pop())]));return ot(t)}function NA(e,t){const s=t;return _(s<=255,"DNS encoded label cannot exceed 255","length",s),ot(fe(Up(e).map(n=>{_(n.length<=s,`label ${JSON.stringify(e)} exceeds ${s} bytes`,"name",e);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}const Fp=new Uint8Array(32);Fp.fill(0);const LA=BigInt(-1),$p=BigInt(0),Vp=BigInt(1),DA=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function BA(e){const t=Dt(e),s=t.length%32;return s?fe([t,Fp.slice(s)]):ot(t)}const OA=_n(Vp,32),MA=_n($p,32),cd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},$o=["name","version","chainId","verifyingContract","salt"];function ud(e){return function(t){return _(typeof t=="string",`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const UA={name:ud("name"),version:ud("version"),chainId:function(e){const t=ut(e,"domain.chainId");return _(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):bs(t)},verifyingContract:function(e){try{return Gt(e).toLowerCase()}catch{}_(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Dt(e,"domain.salt");return _(t.length===32,'invalid domain value "salt"',"domain.salt",e),ot(t)}};function Vo(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const s=t[1]==="",n=parseInt(t[2]);_(n%8===0&&n!==0&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);const i=Kn(DA,s?n-1:n),r=s?(i+Vp)*LA:$p;return function(a){const l=ut(a,"value");return _(l>=r&&l<=i,`value out-of-bounds for ${e}`,"value",l),_n(s?_h(l,256):l,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const s=parseInt(t[1]);return _(s!==0&&s<=32&&t[1]===String(s),"invalid bytes width","type",e),function(n){const i=Dt(n);return _(i.length===s,`invalid length for ${e}`,"value",n),BA(n)}}}switch(e){case"address":return function(t){return an(Gt(t),32)};case"bool":return function(t){return t?OA:MA};case"bytes":return function(t){return me(t)};case"string":return function(t){return ei(t)}}return null}function dd(e,t){return`${e}(${t.map(({name:s,type:n})=>n+" "+s).join(",")})`}function ra(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class ss{primaryType;#t;get types(){return JSON.parse(this.#t)}#e;#s;constructor(t){this.#e=new Map,this.#s=new Map;const s=new Map,n=new Map,i=new Map,r={};Object.keys(t).forEach(c=>{r[c]=t[c].map(({name:u,type:d})=>{let{base:f,index:h}=ra(d);return f==="int"&&!t.int&&(f="int256"),f==="uint"&&!t.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),s.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),this.#t=JSON.stringify(r);for(const c in r){const u=new Set;for(const d of r[c]){_(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",t),u.add(d.name);const f=ra(d.type).base;_(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",t),!Vo(f)&&(_(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",t),n.get(f).push(c),s.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);_(a.length!==0,"missing primary type","types",t),_(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",t),bt(this,{primaryType:a[0]});function l(c,u){_(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",t),u.add(c);for(const d of s.get(c))if(n.has(d)){l(d,u);for(const f of u)i.get(f).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of i){const d=Array.from(u);d.sort(),this.#e.set(c,dd(c,r[c])+d.map(f=>dd(f,r[f])).join(""))}}getEncoder(t){let s=this.#s.get(t);return s||(s=this.#n(t),this.#s.set(t,s)),s}#n(t){{const i=Vo(t);if(i)return i}const s=ra(t).array;if(s){const i=s.prefix,r=this.getEncoder(i);return a=>{_(s.count===-1||s.count===a.length,`array length mismatch; expected length ${s.count}`,"value",a);let l=a.map(r);return this.#e.has(i)&&(l=l.map(me)),me(fe(l))}}const n=this.types[t];if(n){const i=ei(this.#e.get(t));return r=>{const a=n.map(({name:l,type:c})=>{const u=this.getEncoder(c)(r[l]);return this.#e.has(c)?me(u):u});return a.unshift(i),fe(a)}}_(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const s=this.#e.get(t);return _(s,`unknown type: ${JSON.stringify(t)}`,"name",t),s}encodeData(t,s){return this.getEncoder(t)(s)}hashStruct(t,s){return me(this.encodeData(t,s))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,s,n){if(Vo(t))return n(t,s);const i=ra(t).array;if(i)return _(i.count===-1||i.count===s.length,`array length mismatch; expected length ${i.count}`,"value",s),s.map(a=>this._visit(i.prefix,a,n));const r=this.types[t];if(r)return r.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,s[l],n),a),{});_(!1,`unknown type: ${t}`,"type",t)}visit(t,s){return this._visit(this.primaryType,t,s)}static from(t){return new ss(t)}static getPrimaryType(t){return ss.from(t).primaryType}static hashStruct(t,s,n){return ss.from(s).hashStruct(t,n)}static hashDomain(t){const s=[];for(const n in t){if(t[n]==null)continue;const i=cd[n];_(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),s.push({name:n,type:i})}return s.sort((n,i)=>$o.indexOf(n.name)-$o.indexOf(i.name)),ss.hashStruct("EIP712Domain",{EIP712Domain:s},t)}static encode(t,s,n){return fe(["0x1901",ss.hashDomain(t),ss.from(s).hash(n)])}static hash(t,s,n){return me(ss.encode(t,s,n))}static async resolveNames(t,s,n,i){t=Object.assign({},t);for(const l in t)t[l]==null&&delete t[l];const r={};t.verifyingContract&&!se(t.verifyingContract,20)&&(r[t.verifyingContract]="0x");const a=ss.from(s);a.visit(n,(l,c)=>(l==="address"&&!se(c,20)&&(r[c]="0x"),c));for(const l in r)r[l]=await i(l);return t.verifyingContract&&r[t.verifyingContract]&&(t.verifyingContract=r[t.verifyingContract]),n=a.visit(n,(l,c)=>l==="address"&&r[c]?r[c]:c),{domain:t,value:n}}static getPayload(t,s,n){ss.hashDomain(t);const i={},r=[];$o.forEach(c=>{const u=t[c];u!=null&&(i[c]=UA[c](u),r.push({name:c,type:cd[c]}))});const a=ss.from(s);s=a.types;const l=Object.assign({},s);return _(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",s),l.EIP712Domain=r,a.encode(n),{types:l,domain:i,primaryType:a.primaryType,message:a.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return ot(Dt(u));if(c.match(/^u?int/))return ut(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return _(typeof u=="string","invalid string","value",u),u}_(!1,"unsupported type","type",c)})}}}function ze(e){const t=new Set;return e.forEach(s=>t.add(s)),Object.freeze(t)}const FA="external public payable override",$A=ze(FA.split(" ")),Hp="constant external internal payable private public pure view override",VA=ze(Hp.split(" ")),jp="constructor error event fallback function receive struct",Gp=ze(jp.split(" ")),Kp="calldata memory storage payable indexed",HA=ze(Kp.split(" ")),jA="tuple returns",GA=[jp,Kp,jA,Hp].join(" "),KA=ze(GA.split(" ")),WA={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},zA=new RegExp("^(\\s*)"),YA=new RegExp("^([0-9]+)"),QA=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Wp=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),zp=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class ms{#t;#e;get offset(){return this.#t}get length(){return this.#e.length-this.#t}constructor(t){this.#t=0,this.#e=t.slice()}clone(){return new ms(this.#e)}reset(){this.#t=0}#s(t=0,s=0){return new ms(this.#e.slice(t,s).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))}popKeyword(t){const s=this.peek();if(s.type!=="KEYWORD"||!t.has(s.text))throw new Error(`expected keyword ${s.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const s=this.peek();throw new Error(`expected ${t}; got ${s.type} ${JSON.stringify(s.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const s=this.#s(this.#t+1,t.match+1);return this.#t=t.match+1,s}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const s=[];for(;this.#t<t.match-1;){const n=this.peek().linkNext;s.push(this.#s(this.#t+1,n)),this.#t=n}return this.#t=t.match+1,s}peek(){if(this.#t>=this.#e.length)throw new Error("out-of-bounds");return this.#e[this.#t]}peekKeyword(t){const s=this.peekType("KEYWORD");return s!=null&&t.has(s)?s:null}peekType(t){if(this.length===0)return null;const s=this.peek();return s.type===t?s.text:null}pop(){const t=this.peek();return this.#t++,t}toString(){const t=[];for(let s=this.#t;s<this.#e.length;s++){const n=this.#e[s];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}}function xn(e){const t=[],s=a=>{const l=r<e.length?JSON.stringify(e[r]):"$EOI";throw new Error(`invalid token ${l} at ${r}: ${a}`)};let n=[],i=[],r=0;for(;r<e.length;){let a=e.substring(r),l=a.match(zA);l&&(r+=l[1].length,a=e.substring(r));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:r,value:-1};t.push(c);let u=WA[a[0]]||"";if(u){if(c.type=u,c.text=a[0],r++,u==="OPEN_PAREN")n.push(t.length-1),i.push(t.length-1);else if(u=="CLOSE_PAREN")n.length===0&&s("no matching open bracket"),c.match=n.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if(u==="COMMA")c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const f=t.pop().text;d=f+d,t[t.length-1].value=Rt(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=d}continue}if(l=a.match(QA),l){if(c.text=l[1],r+=c.text.length,KA.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(zp)){c.type="TYPE";continue}c.type="ID";continue}if(l=a.match(YA),l){c.text=l[1],c.type="NUMBER",r+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${r}`)}return new ms(t.map(a=>Object.freeze(a)))}function fd(e,t){let s=[];for(const n in t.keys())e.has(n)&&s.push(n);if(s.length>1)throw new Error(`conflicting types: ${s.join(", ")}`)}function lo(e,t){if(t.peekKeyword(Gp)){const s=t.pop().text;if(s!==e)throw new Error(`expected ${e}, got ${s}`)}return t.popType("ID")}function ln(e,t){const s=new Set;for(;;){const n=e.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(e.pop(),s.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);s.add(n)}return Object.freeze(s)}function Yp(e){let t=ln(e,VA);return fd(t,ze("constant payable nonpayable".split(" "))),fd(t,ze("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function sn(e,t){return e.popParams().map(s=>ee.from(s,t))}function Qp(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ut(e.pop().text);throw new Error("invalid gas")}return null}function si(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const qA=new RegExp(/^(.*)\[([0-9]*)\]$/);function hd(e){const t=e.match(zp);if(_(t,"invalid type","type",e),e==="uint")return"uint256";if(e==="int")return"int256";if(t[2]){const s=parseInt(t[2]);_(s!==0&&s<=32,"invalid bytes length","type",e)}else if(t[3]){const s=parseInt(t[3]);_(s!==0&&s<=256&&s%8===0,"invalid numeric width","type",e)}return e}const oe={},ts=Symbol.for("_ethers_internal"),pd="_ParamTypeInternal",md="_ErrorInternal",gd="_EventInternal",vd="_ConstructorInternal",yd="_FallbackInternal",bd="_FunctionInternal",wd="_StructInternal";class ee{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,s,n,i,r,a,l,c){if(Fr(t,oe,"ParamType"),Object.defineProperty(this,ts,{value:pd}),a&&(a=Object.freeze(a.slice())),i==="array"){if(l==null||c==null)throw new Error("")}else if(l!=null||c!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");bt(this,{name:s,type:n,baseType:i,indexed:r,components:a,arrayLength:l,arrayChildren:c})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const r=JSON.parse(this.arrayChildren.format("json"));return r.name=n,r.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(r)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(r=>JSON.parse(r.format(t)))),JSON.stringify(i)}let s="";return this.isArray()?(s+=this.arrayChildren.format(t),s+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?s+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")":s+=this.type,t!=="sighash"&&(this.indexed===!0&&(s+=" indexed"),t==="full"&&this.name&&(s+=" "+this.name)),s}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(i=>n.arrayChildren.walk(i,s))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((i,r)=>n.components[r].walk(i,s))}return s(this.type,t)}#t(t,s,n,i){if(this.isArray()){if(!Array.isArray(s))throw new Error("invalid array value");if(this.arrayLength!==-1&&s.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,l=s.slice();l.forEach((c,u)=>{a.#t(t,c,n,d=>{l[u]=d})}),i(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(s))l=s.slice();else{if(s==null||typeof s!="object")throw new Error("invalid tuple value");l=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in s))throw new Error(`missing value for component ${c.name}`);return s[c.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((c,u)=>{a[u].#t(t,c,n,d=>{l[u]=d})}),i(l);return}const r=n(this.type,s);r.then?t.push((async function(){i(await r)})()):i(r)}async walkAsync(t,s){const n=[],i=[t];return this.#t(n,t,s,r=>{i[0]=r}),n.length&&await Promise.all(n),i[0]}static from(t,s){if(ee.isParamType(t))return t;if(typeof t=="string")try{return ee.from(xn(t),s)}catch{_(!1,"invalid param type","obj",t)}else if(t instanceof ms){let l="",c="",u=null;ln(t,ze(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",u=t.popParams().map(v=>ee.from(v)),l=`tuple(${u.map(v=>v.format()).join(",")})`):(l=hd(t.popType("TYPE")),c=l);let d=null,f=null;for(;t.length&&t.peekType("BRACKET");){const v=t.pop();d=new ee(oe,"",l,c,null,u,f,d),f=v.value,l+=v.text,c="array",u=null}let h=null;if(ln(t,HA).has("indexed")){if(!s)throw new Error("");h=!0}const w=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ee(oe,w,l,c,h,u,f,d)}const n=t.name;_(!n||typeof n=="string"&&n.match(Wp),"invalid name","obj.name",n);let i=t.indexed;i!=null&&(_(s,"parameter cannot be indexed","obj.indexed",t.indexed),i=!!i);let r=t.type,a=r.match(qA);if(a){const l=parseInt(a[2]||"-1"),c=ee.from({type:a[1],components:t.components});return new ee(oe,n||"",r,"array",i,null,l,c)}if(r==="tuple"||r.startsWith("tuple(")||r.startsWith("(")){const l=t.components!=null?t.components.map(u=>ee.from(u)):null;return new ee(oe,n||"",r,"tuple",i,l,null,null)}return r=hd(t.type),new ee(oe,n||"",r,r,i,null,null,null)}static isParamType(t){return t&&t[ts]===pd}}class ni{type;inputs;constructor(t,s,n){Fr(t,oe,"Fragment"),n=Object.freeze(n.slice()),bt(this,{type:s,inputs:n})}static from(t){if(typeof t=="string"){try{ni.from(JSON.parse(t))}catch{}return ni.from(xn(t))}if(t instanceof ms)switch(t.peekKeyword(Gp)){case"constructor":return Zs.from(t);case"error":return Je.from(t);case"event":return Ns.from(t);case"fallback":case"receive":return Ws.from(t);case"function":return Ls.from(t);case"struct":return ti.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return Zs.from(t);case"error":return Je.from(t);case"event":return Ns.from(t);case"fallback":case"receive":return Ws.from(t);case"function":return Ls.from(t);case"struct":return ti.from(t)}V(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}_(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return Zs.isFragment(t)}static isError(t){return Je.isFragment(t)}static isEvent(t){return Ns.isFragment(t)}static isFunction(t){return Ls.isFragment(t)}static isStruct(t){return ti.isFragment(t)}}class co extends ni{name;constructor(t,s,n,i){super(t,s,i),_(typeof n=="string"&&n.match(Wp),"invalid identifier","name",n),i=Object.freeze(i.slice()),bt(this,{name:n})}}function _r(e,t){return"("+t.map(s=>s.format(e)).join(e==="full"?", ":",")+")"}class Je extends co{constructor(t,s,n){super(t,"error",s,n),Object.defineProperty(this,ts,{value:md})}get selector(){return ei(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const s=[];return t!=="sighash"&&s.push("error"),s.push(this.name+_r(t,this.inputs)),s.join(" ")}static from(t){if(Je.isFragment(t))return t;if(typeof t=="string")return Je.from(xn(t));if(t instanceof ms){const s=lo("error",t),n=sn(t);return si(t),new Je(oe,s,n)}return new Je(oe,t.name,t.inputs?t.inputs.map(ee.from):[])}static isFragment(t){return t&&t[ts]===md}}class Ns extends co{anonymous;constructor(t,s,n,i){super(t,"event",s,n),Object.defineProperty(this,ts,{value:gd}),bt(this,{anonymous:i})}get topicHash(){return ei(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const s=[];return t!=="sighash"&&s.push("event"),s.push(this.name+_r(t,this.inputs)),t!=="sighash"&&this.anonymous&&s.push("anonymous"),s.join(" ")}static getTopicHash(t,s){return s=(s||[]).map(i=>ee.from(i)),new Ns(oe,t,s,!1).topicHash}static from(t){if(Ns.isFragment(t))return t;if(typeof t=="string")try{return Ns.from(xn(t))}catch{_(!1,"invalid event fragment","obj",t)}else if(t instanceof ms){const s=lo("event",t),n=sn(t,!0),i=!!ln(t,ze(["anonymous"])).has("anonymous");return si(t),new Ns(oe,s,n,i)}return new Ns(oe,t.name,t.inputs?t.inputs.map(s=>ee.from(s,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[ts]===gd}}class Zs extends ni{payable;gas;constructor(t,s,n,i,r){super(t,s,n),Object.defineProperty(this,ts,{value:vd}),bt(this,{payable:i,gas:r})}format(t){if(V(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const s=[`constructor${_r(t,this.inputs)}`];return this.payable&&s.push("payable"),this.gas!=null&&s.push(`@${this.gas.toString()}`),s.join(" ")}static from(t){if(Zs.isFragment(t))return t;if(typeof t=="string")try{return Zs.from(xn(t))}catch{_(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof ms){ln(t,ze(["constructor"]));const s=sn(t),n=!!ln(t,$A).has("payable"),i=Qp(t);return si(t),new Zs(oe,"constructor",s,n,i)}return new Zs(oe,"constructor",t.inputs?t.inputs.map(ee.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ts]===vd}}class Ws extends ni{payable;constructor(t,s,n){super(t,"fallback",s),Object.defineProperty(this,ts,{value:yd}),bt(this,{payable:n})}format(t){const s=this.inputs.length===0?"receive":"fallback";if(t==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:s,stateMutability:n})}return`${s}()${this.payable?" payable":""}`}static from(t){if(Ws.isFragment(t))return t;if(typeof t=="string")try{return Ws.from(xn(t))}catch{_(!1,"invalid fallback fragment","obj",t)}else if(t instanceof ms){const s=t.toString(),n=t.peekKeyword(ze(["fallback","receive"]));if(_(n,"type must be fallback or receive","obj",s),t.popKeyword(ze(["fallback","receive"]))==="receive"){const l=sn(t);return _(l.length===0,"receive cannot have arguments","obj.inputs",l),ln(t,ze(["payable"])),si(t),new Ws(oe,[],!0)}let r=sn(t);r.length?_(r.length===1&&r[0].type==="bytes","invalid fallback inputs","obj.inputs",r.map(l=>l.format("minimal")).join(", ")):r=[ee.from("bytes")];const a=Yp(t);if(_(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),ln(t,ze(["returns"])).has("returns")){const l=sn(t);_(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return si(t),new Ws(oe,r,a==="payable")}if(t.type==="receive")return new Ws(oe,[],!0);if(t.type==="fallback"){const s=[ee.from("bytes")],n=t.stateMutability==="payable";return new Ws(oe,s,n)}_(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[ts]===yd}}class Ls extends co{constant;outputs;stateMutability;payable;gas;constructor(t,s,n,i,r,a){super(t,"function",s,i),Object.defineProperty(this,ts,{value:bd}),r=Object.freeze(r.slice()),bt(this,{constant:n==="view"||n==="pure",gas:a,outputs:r,payable:n==="payable",stateMutability:n})}get selector(){return ei(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});const s=[];return t!=="sighash"&&s.push("function"),s.push(this.name+_r(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&s.push(this.stateMutability),this.outputs&&this.outputs.length&&(s.push("returns"),s.push(_r(t,this.outputs))),this.gas!=null&&s.push(`@${this.gas.toString()}`)),s.join(" ")}static getSelector(t,s){return s=(s||[]).map(i=>ee.from(i)),new Ls(oe,t,"view",s,[],null).selector}static from(t){if(Ls.isFragment(t))return t;if(typeof t=="string")try{return Ls.from(xn(t))}catch{_(!1,"invalid function fragment","obj",t)}else if(t instanceof ms){const n=lo("function",t),i=sn(t),r=Yp(t);let a=[];ln(t,ze(["returns"])).has("returns")&&(a=sn(t));const l=Qp(t);return si(t),new Ls(oe,n,r,i,a,l)}let s=t.stateMutability;return s==null&&(s="payable",typeof t.constant=="boolean"?(s="view",t.constant||(s="payable",typeof t.payable=="boolean"&&!t.payable&&(s="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(s="nonpayable")),new Ls(oe,t.name,s,t.inputs?t.inputs.map(ee.from):[],t.outputs?t.outputs.map(ee.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ts]===bd}}class ti extends co{constructor(t,s,n){super(t,"struct",s,n),Object.defineProperty(this,ts,{value:wd})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return ti.from(xn(t))}catch{_(!1,"invalid struct fragment","obj",t)}else if(t instanceof ms){const s=lo("struct",t),n=sn(t);return si(t),new ti(oe,s,n)}return new ti(oe,t.name,t.inputs?t.inputs.map(ee.from):[])}static isFragment(t){return t&&t[ts]===wd}}const Ts=new Map;Ts.set(0,"GENERIC_PANIC");Ts.set(1,"ASSERT_FALSE");Ts.set(17,"OVERFLOW");Ts.set(18,"DIVIDE_BY_ZERO");Ts.set(33,"ENUM_RANGE_ERROR");Ts.set(34,"BAD_STORAGE_DATA");Ts.set(49,"STACK_UNDERFLOW");Ts.set(50,"ARRAY_RANGE_ERROR");Ts.set(65,"OUT_OF_MEMORY");Ts.set(81,"UNINITIALIZED_FUNCTION_CALL");const JA=new RegExp(/^bytes([0-9]*)$/),ZA=new RegExp(/^(u?int)([0-9]*)$/);let Ho=null,Ad=1024;function XA(e,t,s,n){let i="missing revert data",r=null;const a=null;let l=null;if(s){i="execution reverted";const u=Dt(s);if(s=ot(s),u.length===0)i+=" (no data present; likely require(false) occurred",r="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ot(u.slice(0,4))==="0x08c379a0")try{r=n.decode(["string"],u.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[r]},i+=`: ${JSON.stringify(r)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ot(u.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],u.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[d]},r=`Panic due to ${Ts.get(d)||"UNKNOWN"}(${d})`,i+=`: ${r}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:t.to?Gt(t.to):null,data:t.data||"0x"};return t.from&&(c.from=Gt(t.from)),ae(i,"CALL_EXCEPTION",{action:e,data:s,reason:r,transaction:c,invocation:a,revert:l})}class ii{#t(t){if(t.isArray())return new vw(this.#t(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new ia(t.components.map(n=>this.#t(n)),t.name);switch(t.baseType){case"address":return new mw(t.name);case"bool":return new yw(t.name);case"string":return new _w(t.name);case"bytes":return new bw(t.name);case"":return new Ew(t.name)}let s=t.type.match(ZA);if(s){let n=parseInt(s[2]||"256");return _(n!==0&&n<=256&&n%8===0,"invalid "+s[1]+" bit length","param",t),new Tw(n/8,s[1]==="int",t.name)}if(s=t.type.match(JA),s){let n=parseInt(s[1]);return _(n!==0&&n<=32,"invalid bytes length","param",t),new ww(n,t.name)}_(!1,"invalid type","type",t.type)}getDefaultValue(t){const s=t.map(i=>this.#t(ee.from(i)));return new ia(s,"_").defaultValue()}encode(t,s){Ch(s.length,t.length,"types/values length mismatch");const n=t.map(a=>this.#t(ee.from(a))),i=new ia(n,"_"),r=new hl;return i.encode(r,s),r.data}decode(t,s,n){const i=t.map(a=>this.#t(ee.from(a)));return new ia(i,"_").decode(new lc(s,n,Ad))}static _setDefaultMaxInflation(t){_(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Ad=t}static defaultAbiCoder(){return Ho==null&&(Ho=new ii),Ho}static getBuiltinCallException(t,s,n){return XA(t,s,n,ii.defaultAbiCoder())}}class t2{fragment;name;signature;topic;args;constructor(t,s,n){const i=t.name,r=t.format();bt(this,{fragment:t,name:i,signature:r,topic:s,args:n})}}class e2{fragment;name;args;signature;selector;value;constructor(t,s,n,i){const r=t.name,a=t.format();bt(this,{fragment:t,name:r,args:n,signature:a,selector:s,value:i})}}class s2{fragment;name;args;signature;selector;constructor(t,s,n){const i=t.name,r=t.format();bt(this,{fragment:t,name:i,args:n,signature:r,selector:s})}}class Ed{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){bt(this,{hash:t,_isIndexed:!0})}}const kd={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Cd={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&kd[e.toString()]&&(t=kd[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class jn{fragments;deploy;fallback;receive;#t;#e;#s;#n;constructor(t){let s=[];typeof t=="string"?s=JSON.parse(t):s=t,this.#s=new Map,this.#t=new Map,this.#e=new Map;const n=[];for(const a of s)try{n.push(ni.from(a))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,l.message)}bt(this,{fragments:Object.freeze(n)});let i=null,r=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((a,l)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}bt(this,{deploy:a});return;case"fallback":a.inputs.length===0?r=!0:(_(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${l}]`,a),i=a,r=i.payable);return;case"function":c=this.#s;break;case"event":c=this.#e;break;case"error":c=this.#t;break;default:return}const u=a.format();c.has(u)||c.set(u,a)}),this.deploy||bt(this,{deploy:Zs.from("constructor()")}),bt(this,{fallback:i,receive:r})}format(t){const s=t?"minimal":"full";return this.fragments.map(i=>i.format(s))}formatJson(){const t=this.fragments.map(s=>s.format("json"));return JSON.stringify(t.map(s=>JSON.parse(s)))}getAbiCoder(){return ii.defaultAbiCoder()}#i(t,s,n){if(se(t)){const r=t.toLowerCase();for(const a of this.#s.values())if(r===a.selector)return a;return null}if(t.indexOf("(")===-1){const r=[];for(const[a,l]of this.#s)a.split("(")[0]===t&&r.push(l);if(s){const a=s.length>0?s[s.length-1]:null;let l=s.length,c=!0;de.isTyped(a)&&a.type==="overrides"&&(c=!1,l--);for(let u=r.length-1;u>=0;u--){const d=r[u].inputs.length;d!==l&&(!c||d!==l-1)&&r.splice(u,1)}for(let u=r.length-1;u>=0;u--){const d=r[u].inputs;for(let f=0;f<s.length;f++)if(de.isTyped(s[f])){if(f>=d.length){if(s[f].type==="overrides")continue;r.splice(u,1);break}if(s[f].type!==d[f].baseType){r.splice(u,1);break}}}}if(r.length===1&&s&&s.length!==r[0].inputs.length){const a=s[s.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&r.splice(0,1)}if(r.length===0)return null;if(r.length>1&&n){const a=r.map(l=>JSON.stringify(l.format())).join(", ");_(!1,`ambiguous function description (i.e. matches ${a})`,"key",t)}return r[0]}const i=this.#s.get(Ls.from(t).format());return i||null}getFunctionName(t){const s=this.#i(t,null,!1);return _(s,"no matching function","key",t),s.name}hasFunction(t){return!!this.#i(t,null,!1)}getFunction(t,s){return this.#i(t,s||null,!0)}forEachFunction(t){const s=Array.from(this.#s.keys());s.sort((n,i)=>n.localeCompare(i));for(let n=0;n<s.length;n++){const i=s[n];t(this.#s.get(i),n)}}#a(t,s,n){if(se(t)){const r=t.toLowerCase();for(const a of this.#e.values())if(r===a.topicHash)return a;return null}if(t.indexOf("(")===-1){const r=[];for(const[a,l]of this.#e)a.split("(")[0]===t&&r.push(l);if(s){for(let a=r.length-1;a>=0;a--)r[a].inputs.length<s.length&&r.splice(a,1);for(let a=r.length-1;a>=0;a--){const l=r[a].inputs;for(let c=0;c<s.length;c++)if(de.isTyped(s[c])&&s[c].type!==l[c].baseType){r.splice(a,1);break}}}if(r.length===0)return null;if(r.length>1&&n){const a=r.map(l=>JSON.stringify(l.format())).join(", ");_(!1,`ambiguous event description (i.e. matches ${a})`,"key",t)}return r[0]}const i=this.#e.get(Ns.from(t).format());return i||null}getEventName(t){const s=this.#a(t,null,!1);return _(s,"no matching event","key",t),s.name}hasEvent(t){return!!this.#a(t,null,!1)}getEvent(t,s){return this.#a(t,s||null,!0)}forEachEvent(t){const s=Array.from(this.#e.keys());s.sort((n,i)=>n.localeCompare(i));for(let n=0;n<s.length;n++){const i=s[n];t(this.#e.get(i),n)}}getError(t,s){if(se(t)){const i=t.toLowerCase();if(Cd[i])return Je.from(Cd[i].signature);for(const r of this.#t.values())if(i===r.selector)return r;return null}if(t.indexOf("(")===-1){const i=[];for(const[r,a]of this.#t)r.split("(")[0]===t&&i.push(a);if(i.length===0)return t==="Error"?Je.from("error Error(string)"):t==="Panic"?Je.from("error Panic(uint256)"):null;if(i.length>1){const r=i.map(a=>JSON.stringify(a.format())).join(", ");_(!1,`ambiguous error description (i.e. ${r})`,"name",t)}return i[0]}if(t=Je.from(t).format(),t==="Error(string)")return Je.from("error Error(string)");if(t==="Panic(uint256)")return Je.from("error Panic(uint256)");const n=this.#t.get(t);return n||null}forEachError(t){const s=Array.from(this.#t.keys());s.sort((n,i)=>n.localeCompare(i));for(let n=0;n<s.length;n++){const i=s[n];t(this.#t.get(i),n)}}_decodeParams(t,s){return this.#n.decode(t,s)}_encodeParams(t,s){return this.#n.encode(t,s)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,s){if(typeof t=="string"){const n=this.getError(t);_(n,"unknown error","fragment",t),t=n}return _(ce(s,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",s),this._decodeParams(t.inputs,ce(s,4))}encodeErrorResult(t,s){if(typeof t=="string"){const n=this.getError(t);_(n,"unknown error","fragment",t),t=n}return fe([t.selector,this._encodeParams(t.inputs,s||[])])}decodeFunctionData(t,s){if(typeof t=="string"){const n=this.getFunction(t);_(n,"unknown function","fragment",t),t=n}return _(ce(s,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",s),this._decodeParams(t.inputs,ce(s,4))}encodeFunctionData(t,s){if(typeof t=="string"){const n=this.getFunction(t);_(n,"unknown function","fragment",t),t=n}return fe([t.selector,this._encodeParams(t.inputs,s||[])])}decodeFunctionResult(t,s){if(typeof t=="string"){const r=this.getFunction(t);_(r,"unknown function","fragment",t),t=r}let n="invalid length for result data";const i=Ge(s);if(i.length%32===0)try{return this.#n.decode(t.outputs,i)}catch{n="could not decode result data"}V(!1,n,"BAD_DATA",{value:ot(i),info:{method:t.name,signature:t.format()}})}makeError(t,s){const n=Dt(t,"data"),i=ii.getBuiltinCallException("call",s,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const l=ot(n.slice(0,4)),c=this.getError(l);if(c)try{const u=this.#n.decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(s);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(t,s){if(typeof t=="string"){const n=this.getFunction(t);_(n,"unknown function","fragment",t),t=n}return ot(this.#n.encode(t.outputs,s||[]))}encodeFilterTopics(t,s){if(typeof t=="string"){const r=this.getEvent(t);_(r,"unknown event","eventFragment",t),t=r}V(s.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:s.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const i=(r,a)=>r.type==="string"?ei(a):r.type==="bytes"?me(ot(a)):(r.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":r.type.match(/^u?int/)?a=_n(a):r.type.match(/^bytes/)?a=y1(a,32):r.type==="address"&&this.#n.encode(["address"],[a]),an(ot(a),32));for(s.forEach((r,a)=>{const l=t.inputs[a];if(!l.indexed){_(r==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,r);return}r==null?n.push(null):l.baseType==="array"||l.baseType==="tuple"?_(!1,"filtering with tuples or arrays not supported","contract."+l.name,r):Array.isArray(r)?n.push(r.map(c=>i(l,c))):n.push(i(l,r))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,s){if(typeof t=="string"){const a=this.getEvent(t);_(a,"unknown event","eventFragment",t),t=a}const n=[],i=[],r=[];return t.anonymous||n.push(t.topicHash),_(s.length===t.inputs.length,"event arguments/values mismatch","values",s),t.inputs.forEach((a,l)=>{const c=s[l];if(a.indexed)if(a.type==="string")n.push(ei(c));else if(a.type==="bytes")n.push(me(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([a.type],[c]))}else i.push(a),r.push(c)}),{data:this.#n.encode(i,r),topics:n}}decodeEventLog(t,s,n){if(typeof t=="string"){const p=this.getEvent(t);_(p,"unknown event","eventFragment",t),t=p}if(n!=null&&!t.anonymous){const p=t.topicHash;_(se(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],r=[],a=[];t.inputs.forEach((p,w)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(ee.from({type:"bytes32",name:p.name})),a.push(!0)):(i.push(p),a.push(!1)):(r.push(p),a.push(!1))});const l=n!=null?this.#n.decode(i,fe(n)):null,c=this.#n.decode(r,s,!0),u=[],d=[];let f=0,h=0;return t.inputs.forEach((p,w)=>{let v=null;if(p.indexed)if(l==null)v=new Ed(null);else if(a[w])v=new Ed(l[h++]);else try{v=l[h++]}catch(A){v=A}else try{v=c[f++]}catch(A){v=A}u.push(v),d.push(p.name||null)}),Js.fromItems(u,d)}parseTransaction(t){const s=Dt(t.data,"tx.data"),n=ut(t.value!=null?t.value:0,"tx.value"),i=this.getFunction(ot(s.slice(0,4)));if(!i)return null;const r=this.#n.decode(i.inputs,s.slice(4));return new e2(i,i.selector,r,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const s=this.getEvent(t.topics[0]);return!s||s.anonymous?null:new t2(s,s.topicHash,this.decodeEventLog(s,t.data,t.topics))}parseError(t){const s=ot(t),n=this.getError(ce(s,0,4));if(!n)return null;const i=this.#n.decode(n.inputs,ce(s,4));return new s2(n,n.selector,i)}static from(t){return t instanceof jn?t:typeof t=="string"?new jn(JSON.parse(t)):typeof t.formatJson=="function"?new jn(t.formatJson()):typeof t.format=="function"?new jn(t.format("json")):new jn(t)}}const qp=BigInt(0);function Pi(e){return e??null}function he(e){return e==null?null:e.toString()}class Sd{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,s,n){bt(this,{gasPrice:Pi(t),maxFeePerGas:Pi(s),maxPriorityFeePerGas:Pi(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:s,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:he(t),maxFeePerGas:he(s),maxPriorityFeePerGas:he(n)}}}function Oa(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=ot(e.data));const s="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of s)!(i in e)||e[i]==null||(t[i]=ut(e[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in e)||e[i]==null||(t[i]=Rt(e[i],`request.${i}`));return e.accessList&&(t.accessList=oi(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(i=>oc(i)?ot(i):Object.assign({},i))),t}class n2{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#t;constructor(t,s){this.#t=t.transactions.map(n=>typeof n!="string"?new jr(n,s):n),bt(this,{provider:s,hash:Pi(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:Pi(t.prevRandao),extraData:t.extraData,baseFeePerGas:Pi(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#t.map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=this.#t.slice();return t.length===0?[]:(V(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:s,extraData:n,gasLimit:i,gasUsed:r,hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:w,timestamp:v,transactions:A}=this;return{_type:"Block",baseFeePerGas:he(t),difficulty:he(s),extraData:n,gasLimit:he(i),gasUsed:he(r),blobGasUsed:he(this.blobGasUsed),excessBlobGas:he(this.excessBlobGas),hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,timestamp:v,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:w,transactions:A}}[Symbol.iterator](){let t=0;const s=this.transactions;return{next:()=>t<this.length?{value:s[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#t.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let s;if(typeof t=="number")s=this.#t[t];else{const n=t.toLowerCase();for(const i of this.#t)if(typeof i=="string"){if(i!==n)continue;s=i;break}else{if(i.hash!==n)continue;s=i;break}}if(s==null)throw new Error("no such tx");return typeof s=="string"?await this.provider.getTransaction(s):s}getPrefetchedTransaction(t){const s=this.prefetchedTransactions;if(typeof t=="number")return s[t];t=t.toLowerCase();for(const n of s)if(n.hash===t)return n;_(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return i2(this)}}class Hr{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,s){this.provider=s;const n=Object.freeze(t.topics.slice());bt(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:s,blockNumber:n,data:i,index:r,removed:a,topics:l,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:t,blockHash:s,blockNumber:n,data:i,index:r,removed:a,topics:l,transactionHash:c,transactionIndex:u}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return V(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return V(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return V(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return r2(this)}}class Jp{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#t;constructor(t,s){this.#t=Object.freeze(t.logs.map(i=>new Hr(i,s)));let n=qp;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&&(n=t.gasPrice),bt(this,{provider:s,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:n,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#t}toJSON(){const{to:t,from:s,contractAddress:n,hash:i,index:r,blockHash:a,blockNumber:l,logsBloom:c,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:l,contractAddress:n,cumulativeGasUsed:he(this.cumulativeGasUsed),from:s,gasPrice:he(this.gasPrice),blobGasUsed:he(this.blobGasUsed),blobGasPrice:he(this.blobGasPrice),gasUsed:he(this.gasUsed),hash:i,index:r,logs:u,logsBloom:c,root:f,status:d,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Xp(this)}reorderedEvent(t){return V(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Zp(this,t)}}class jr{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#t;constructor(t,s){this.provider=s,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,this.#t=-1}toJSON(){const{blockNumber:t,blockHash:s,index:n,hash:i,type:r,to:a,from:l,nonce:c,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:t,blockHash:s,blobVersionedHashes:h,chainId:he(this.chainId),data:u,from:l,gasLimit:he(this.gasLimit),gasPrice:he(this.gasPrice),hash:i,maxFeePerGas:he(this.maxFeePerGas),maxPriorityFeePerGas:he(this.maxPriorityFeePerGas),maxFeePerBlobGas:he(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:n,type:r,value:he(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&&(t=n.blockNumber)}if(t==null)return null;const s=this.provider.getBlock(t);if(s==null)throw new Error("TODO");return s}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:s,blockNumber:n}=await Fe({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return s==null||s.blockNumber==null?0:n-s.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,s){const n=t??1,i=s??0;let r=this.#t,a=-1,l=r===-1;const c=async()=>{if(l)return null;const{blockNumber:h,nonce:p}=await Fe({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){r=h;return}if(l)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(a===-1&&(a=r-3,a<this.#t&&(a=this.#t));a<=h;){if(l)return null;const v=await this.provider.getBlock(a,!0);if(v==null)return;for(const A of v)if(A===this.hash)return;for(let A=0;A<v.length;A++){const E=await v.getTransaction(A);if(E.from===this.from&&E.nonce===this.nonce){if(l)return null;const L=await this.provider.getTransactionReceipt(E.hash);if(L==null||h-L.blockNumber+1<n)return;let N="replaced";E.data===this.data&&E.to===this.to&&E.value===this.value?N="repriced":E.data==="0x"&&E.from===E.to&&E.value===qp&&(N="cancelled"),V(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:E.replaceableTransaction(r),hash:E.hash,receipt:L})}}a++}},u=h=>{if(h==null||h.status!==0)return h;V(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(d);if(d){if(n===1||await d.confirmations()>=n)return u(d)}else if(await c(),n===0)return null;return await new Promise((h,p)=>{const w=[],v=()=>{w.forEach(E=>E())};if(w.push(()=>{l=!0}),i>0){const E=setTimeout(()=>{v(),p(ae("wait for transaction timeout","TIMEOUT"))},i);w.push(()=>{clearTimeout(E)})}const A=async E=>{if(await E.confirmations()>=n){v();try{h(u(E))}catch(L){p(L)}}};if(w.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),r>=0){const E=async()=>{try{await c()}catch(L){if(Ie(L,"TRANSACTION_REPLACED")){v(),p(L);return}}l||this.provider.once("block",E)};w.push(()=>{this.provider.off("block",E)}),this.provider.once("block",E)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return V(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Xp(this)}reorderedEvent(t){return V(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),V(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Zp(this,t)}replaceableTransaction(t){_(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const s=new jr(this,this.provider);return s.#t=t,s}}function i2(e){return{orphan:"drop-block",hash:e.hash,number:e.number}}function Zp(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Xp(e){return{orphan:"drop-transaction",tx:e}}function r2(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}class Ec extends Hr{interface;fragment;args;constructor(t,s,n){super(t,t.provider);const i=s.decodeEventLog(n,t.data,t.topics);bt(this,{args:i,fragment:n,interface:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class tm extends Hr{error;constructor(t,s){super(t,t.provider),bt(this,{error:s})}}class a2 extends Jp{#t;constructor(t,s,n){super(n,s),this.#t=t}get logs(){return super.logs.map(t=>{const s=t.topics.length?this.#t.getEvent(t.topics[0]):null;if(s)try{return new Ec(t,this.#t,s)}catch(n){return new tm(t,n)}return t})}}class kc extends jr{#t;constructor(t,s,n){super(n,s),this.#t=t}async wait(t,s){const n=await super.wait(t,s);return n==null?null:new a2(this.#t,this.provider,n)}}class em extends Ph{log;constructor(t,s,n,i){super(t,s,n),bt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class o2 extends em{constructor(t,s,n,i,r){super(t,s,n,new Ec(r,t.interface,i));const a=t.interface.decodeEventLog(i,this.log.data,this.log.topics);bt(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Td=BigInt(0);function sm(e){return e&&typeof e.call=="function"}function nm(e){return e&&typeof e.estimateGas=="function"}function uo(e){return e&&typeof e.resolveName=="function"}function im(e){return e&&typeof e.sendTransaction=="function"}function rm(e){if(e!=null){if(uo(e))return e;if(e.provider)return e.provider}}class l2{#t;fragment;constructor(t,s,n){if(bt(this,{fragment:s}),s.inputs.length<n.length)throw new Error("too many arguments");const i=ri(t.runner,"resolveName"),r=uo(i)?i:null;this.#t=(async function(){const a=await Promise.all(s.inputs.map((l,c)=>n[c]==null?null:l.walkAsync(n[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>We(h,r))):We(f,r):f)));return t.interface.encodeFilterTopics(s,a)})()}getTopicFilter(){return this.#t}}function ri(e,t){return e==null?null:typeof e[t]=="function"?e:e.provider&&typeof e.provider[t]=="function"?e.provider:null}function Yn(e){return e==null?null:e.provider||null}async function am(e,t){const s=de.dereference(e,"overrides");_(typeof s=="object","invalid overrides parameter","overrides",e);const n=Oa(s);return _(n.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),_(n.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function c2(e,t,s){const n=ri(e,"resolveName"),i=uo(n)?n:null;return await Promise.all(t.map((r,a)=>r.walkAsync(s[a],(l,c)=>(c=de.dereference(c,l),l==="address"?We(c,i):c))))}function u2(e){const t=async function(a){const l=await am(a,["data"]);l.to=await e.getAddress(),l.from&&(l.from=await We(l.from,rm(e.runner)));const c=e.interface,u=ut(l.value||Td,"overrides.value")===Td,d=(l.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&_(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),_(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data);const f=c.receive||c.fallback&&c.fallback.payable;return _(f||u,"cannot send value to non-payable fallback","overrides.value",l.value),_(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data),l},s=async function(a){const l=ri(e.runner,"call");V(sm(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await t(a);try{return await l.call(c)}catch(u){throw ac(u)&&u.data?e.interface.makeError(u.data,c):u}},n=async function(a){const l=e.runner;V(im(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await l.sendTransaction(await t(a)),u=Yn(e.runner);return new kc(e.interface,u,c)},i=async function(a){const l=ri(e.runner,"estimateGas");return V(nm(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await t(a))},r=async a=>await n(a);return bt(r,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:s}),r}function d2(e,t){const s=function(...u){const d=e.interface.getFunction(t,u);return V(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:u}}),d},n=async function(...u){const d=s(...u);let f={};if(d.inputs.length+1===u.length&&(f=await am(u.pop()),f.from&&(f.from=await We(f.from,rm(e.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await c2(e.runner,d.inputs,u);return Object.assign({},f,await Fe({to:e.getAddress(),data:e.interface.encodeFunctionData(d,h)}))},i=async function(...u){const d=await l(...u);return d.length===1?d[0]:d},r=async function(...u){const d=e.runner;V(im(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await n(...u)),h=Yn(e.runner);return new kc(e.interface,h,f)},a=async function(...u){const d=ri(e.runner,"estimateGas");return V(nm(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...u))},l=async function(...u){const d=ri(e.runner,"call");V(sm(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...u);let h="0x";try{h=await d.call(f)}catch(w){throw ac(w)&&w.data?e.interface.makeError(w.data,f):w}const p=s(...u);return e.interface.decodeFunctionResult(p,h)},c=async(...u)=>s(...u).constant?await i(...u):await r(...u);return bt(c,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:s,estimateGas:a,populateTransaction:n,send:r,staticCall:i,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=e.interface.getFunction(t);return V(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),u}}),c}function f2(e,t){const s=function(...i){const r=e.interface.getEvent(t,i);return V(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:i}}),r},n=function(...i){return new l2(e,s(...i),i)};return bt(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:s}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=e.interface.getEvent(t);return V(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),i}}),n}const Ma=Symbol.for("_ethersInternal_contract"),om=new WeakMap;function h2(e,t){om.set(e[Ma],t)}function ns(e){return om.get(e[Ma])}function p2(e){return e&&typeof e=="object"&&"getTopicFilter"in e&&typeof e.getTopicFilter=="function"&&e.fragment}async function Cc(e,t){let s,n=null;if(Array.isArray(t)){const r=function(a){if(se(a,32))return a;const l=e.interface.getEvent(a);return _(l,"unknown fragment","name",a),l.topicHash};s=t.map(a=>a==null?null:Array.isArray(a)?a.map(r):r(a))}else t==="*"?s=[null]:typeof t=="string"?se(t,32)?s=[t]:(n=e.interface.getEvent(t),_(n,"unknown fragment","event",t),s=[n.topicHash]):p2(t)?s=await t.getTopicFilter():"fragment"in t?(n=t.fragment,s=[n.topicHash]):_(!1,"unknown event name","event",t);s=s.map(r=>{if(r==null)return null;if(Array.isArray(r)){const a=Array.from(new Set(r.map(l=>l.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return r.toLowerCase()});const i=s.map(r=>r==null?"null":Array.isArray(r)?r.join("|"):r).join("&");return{fragment:n,tag:i,topics:s}}async function Xi(e,t){const{subs:s}=ns(e);return s.get((await Cc(e,t)).tag)||null}async function _d(e,t,s){const n=Yn(e.runner);V(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:r,topics:a}=await Cc(e,s),{addr:l,subs:c}=ns(e);let u=c.get(r);if(!u){const f={address:l||e,topics:a},h=A=>{let E=i;if(E==null)try{E=e.interface.getEvent(A.topics[0])}catch{}if(E){const L=E,N=i?e.interface.decodeEventLog(i,A.data,A.topics):[];Tl(e,s,N,F=>new o2(e,F,s,L,A))}else Tl(e,s,[],L=>new em(e,L,s,A))};let p=[];u={tag:r,listeners:[],start:()=>{p.length||p.push(n.on(f,h))},stop:async()=>{if(p.length==0)return;let A=p;p=[],await Promise.all(A),n.off(f,h)}},c.set(r,u)}return u}let Sl=Promise.resolve();async function m2(e,t,s,n){await Sl;const i=await Xi(e,t);if(!i)return!1;const r=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:l})=>{const c=Array.from(s);n&&c.push(n(l?null:a));try{a.call(e,...c)}catch{}return!l}),i.listeners.length===0&&(i.stop(),ns(e).subs.delete(i.tag)),r>0}async function Tl(e,t,s,n){try{await Sl}catch{}const i=m2(e,t,s,n);return Sl=i,await i}const aa=["then"];class lr{target;interface;runner;filters;[Ma];fallback;constructor(t,s,n,i){_(typeof t=="string"||hp(t),"invalid value for Contract target","target",t),n==null&&(n=null);const r=jn.from(s);bt(this,{target:t,runner:n,interface:r}),Object.defineProperty(this,Ma,{value:{}});let a,l=null,c=null;if(i){const f=Yn(n);c=new kc(this.interface,f,i)}let u=new Map;if(typeof t=="string")if(se(t))l=t,a=Promise.resolve(t);else{const f=ri(n,"resolveName");if(!uo(f))throw ae("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(t).then(h=>{if(h==null)throw ae("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return ns(this).addr=h,h})}else a=t.getAddress().then(f=>{if(f==null)throw new Error("TODO");return ns(this).addr=f,f});h2(this,{addrPromise:a,addr:l,deployTx:c,subs:u});const d=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||aa.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(w){if(!Ie(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(f,h)=>aa.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return bt(this,{filters:d}),bt(this,{fallback:r.receive||r.fallback?u2(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||aa.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(w){if(!Ie(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(f,h)=>typeof h=="symbol"||h in f||aa.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new lr(this.target,this.interface,t)}attach(t){return new lr(t,this.interface,this.runner)}async getAddress(){return await ns(this).addrPromise}async getDeployedCode(){const t=Yn(this.runner);V(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const s=await t.getCode(await this.getAddress());return s==="0x"?null:s}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Yn(this.runner);return V(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,r)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(l){r(l)}};a()})}deploymentTransaction(){return ns(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),d2(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),f2(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,s,n){s==null&&(s=0),n==null&&(n="latest");const{addr:i,addrPromise:r}=ns(this),a=i||await r,{fragment:l,topics:c}=await Cc(this,t),u={address:a,topics:c,fromBlock:s,toBlock:n},d=Yn(this.runner);return V(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=l;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new Ec(f,this.interface,h)}catch(p){return new tm(f,p)}return new Hr(f,d)})}async on(t,s){const n=await _d(this,"on",t);return n.listeners.push({listener:s,once:!1}),n.start(),this}async once(t,s){const n=await _d(this,"once",t);return n.listeners.push({listener:s,once:!0}),n.start(),this}async emit(t,...s){return await Tl(this,t,s,null)}async listenerCount(t){if(t){const i=await Xi(this,t);return i?i.listeners.length:0}const{subs:s}=ns(this);let n=0;for(const{listeners:i}of s.values())n+=i.length;return n}async listeners(t){if(t){const i=await Xi(this,t);return i?i.listeners.map(({listener:r})=>r):[]}const{subs:s}=ns(this);let n=[];for(const{listeners:i}of s.values())n=n.concat(i.map(({listener:r})=>r));return n}async off(t,s){const n=await Xi(this,t);if(!n)return this;if(s){const i=n.listeners.map(({listener:r})=>r).indexOf(s);i>=0&&n.listeners.splice(i,1)}return(s==null||n.listeners.length===0)&&(n.stop(),ns(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const s=await Xi(this,t);if(!s)return this;s.stop(),ns(this).subs.delete(s.tag)}else{const{subs:s}=ns(this);for(const{tag:n,stop:i}of s.values())i(),s.delete(n)}return this}async addListener(t,s){return await this.on(t,s)}async removeListener(t,s){return await this.off(t,s)}static buildClass(t){class s extends lr{constructor(i,r=null){super(i,t,r)}}return s}static from(t,s,n){return n==null&&(n=null),new this(t,s,n)}}function g2(){return lr}class $e extends g2(){}function jo(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):_(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class v2{name;constructor(t){bt(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,s){throw new Error("unsupported coin")}async decodeAddress(t,s){throw new Error("unsupported coin")}}const lm=new RegExp("^(ipfs)://(.*)$","i"),Pd=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),lm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class xi{provider;address;name;#t;#e;constructor(t,s,n){bt(this,{provider:t,address:s,name:n}),this.#t=null,this.#e=new $e(s,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return this.#t==null&&(this.#t=(async()=>{try{return await this.#e.supportsInterface("0x9061b923")}catch(t){if(Ie(t,"CALL_EXCEPTION"))return!1;throw this.#t=null,t}})()),await this.#t}async#s(t,s){s=(s||[]).slice();const n=this.#e.interface;s.unshift(Cl(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(t),V(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),s=[NA(this.name,255),n.encodeFunctionData(i,s)],t="resolve(bytes,bytes)"),s.push({enableCcipRead:!0});try{const r=await this.#e[t](...s);return i?n.decodeFunctionResult(i,r)[0]:r}catch(r){if(!Ie(r,"CALL_EXCEPTION"))throw r}return null}async getAddress(t){if(t==null&&(t=60),t===60)try{const r=await this.#s("addr(bytes32)");return r==null||r===Er?null:r}catch(r){if(Ie(r,"CALL_EXCEPTION"))return null;throw r}if(t>=0&&t<2147483648){let r=t+2147483648;const a=await this.#s("addr(bytes32,uint)",[r]);if(se(a,20))return Gt(a)}let s=null;for(const r of this.provider.plugins)if(r instanceof v2&&r.supportsCoinType(t)){s=r;break}if(s==null)return null;const n=await this.#s("addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const i=await s.decodeAddress(t,n);if(i!=null)return i;V(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const s=await this.#s("text(bytes32,string)",[t]);return s==null||s==="0x"?null:s}async getContentHash(){const t=await this.#s("contenthash(bytes32)");if(t==null||t==="0x")return null;const s=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(s){const i=s[1]==="e3010170"?"ipfs":"ipns",r=parseInt(s[4],16);if(s[5].length===r*2)return`${i}://${w1("0x"+s[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;V(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const s=await this.getText("avatar");if(s==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:s});for(let n=0;n<Pd.length;n++){const i=s.match(Pd[n]);if(i==null)continue;const r=i[1].toLowerCase();switch(r){case"https":case"data":return t.push({type:"url",value:s}),{linkage:t,url:s};case"ipfs":{const a=jo(s);return t.push({type:"ipfs",value:s}),t.push({type:"url",value:a}),{linkage:t,url:a}}case"erc721":case"erc1155":{const a=r==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:r,value:s});const l=await this.getAddress();if(l==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(i[2]||"").split("/");if(c.length!==2)return t.push({type:`!${r}caip`,value:i[2]||""}),{url:null,linkage:t};const u=c[1],d=new $e(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(r==="erc721"){const v=await d.ownerOf(u);if(l!==v)return t.push({type:"!owner",value:v}),{url:null,linkage:t};t.push({type:"owner",value:v})}else if(r==="erc1155"){const v=await d.balanceOf(l,u);if(!v)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:v.toString()})}let f=await d[a](u);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),r==="erc1155"&&(f=f.replace("{id}",_n(u,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=jo(f)),t.push({type:"metadata-url",value:f});let h={};const p=await new on(f).send();p.assertOk();try{h=p.bodyJson}catch{try{t.push({type:"!metadata",value:p.bodyText})}catch{const E=p.body;return E&&t.push({type:"!metadata",value:ot(E)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let w=h.image;if(typeof w!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(lm)==null)return t.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:w}),w=jo(w)}return t.push({type:"url",value:w}),{linkage:t,url:w}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const s=await t.getNetwork(),n=s.getPlugin("org.ethers.plugins.network.Ens");return V(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:s}}),n.address}static async#n(t,s){const n=await xi.getEnsAddress(t);try{const r=await new $e(n,["function resolver(bytes32) view returns (address)"],t).resolver(Cl(s),{enableCcipRead:!0});return r===Er?null:r}catch(i){throw i}return null}static async fromName(t,s){let n=s;for(;;){if(n===""||n==="."||s!=="eth"&&n==="eth")return null;const i=await xi.#n(t,n);if(i!=null){const r=new xi(t,i,s);return n!==s&&!await r.supportsWildcard()?null:r}n=n.split(".").slice(1).join(".")}}}const xd=BigInt(0);function Ot(e,t){return(function(s){return s==null?t:e(s)})}function Pr(e,t){return(s=>{if(t&&s==null)return null;if(!Array.isArray(s))throw new Error("not an array");return s.map(n=>e(n))})}function Gr(e,t){return(s=>{const n={};for(const i in e){let r=i;if(t&&i in t&&!(r in s)){for(const a of t[i])if(a in s){r=a;break}}try{const a=e[i](s[r]);a!==void 0&&(n[i]=a)}catch(a){const l=a instanceof Error?a.message:"not-an-error";V(!1,`invalid value for value.${i} (${l})`,"BAD_DATA",{value:s})}}return n})}function y2(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}_(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}function Mi(e){return _(se(e,!0),"invalid data","value",e),e}function xe(e){return _(se(e,32),"invalid hash","value",e),e}const b2=Gr({address:Gt,blockHash:xe,blockNumber:Rt,data:Mi,index:Rt,removed:Ot(y2,!1),topics:Pr(xe),transactionHash:xe,transactionIndex:Rt},{index:["logIndex"]});function w2(e){return b2(e)}const A2=Gr({hash:Ot(xe),parentHash:xe,parentBeaconBlockRoot:Ot(xe,null),number:Rt,timestamp:Rt,nonce:Ot(Mi),difficulty:ut,gasLimit:ut,gasUsed:ut,stateRoot:Ot(xe,null),receiptsRoot:Ot(xe,null),blobGasUsed:Ot(ut,null),excessBlobGas:Ot(ut,null),miner:Ot(Gt),prevRandao:Ot(xe,null),extraData:Mi,baseFeePerGas:Ot(ut)},{prevRandao:["mixHash"]});function E2(e){const t=A2(e);return t.transactions=e.transactions.map(s=>typeof s=="string"?s:cm(s)),t}const k2=Gr({transactionIndex:Rt,blockNumber:Rt,transactionHash:xe,address:Gt,topics:Pr(xe),data:Mi,index:Rt,blockHash:xe},{index:["logIndex"]});function C2(e){return k2(e)}const S2=Gr({to:Ot(Gt,null),from:Ot(Gt,null),contractAddress:Ot(Gt,null),index:Rt,root:Ot(ot),gasUsed:ut,blobGasUsed:Ot(ut,null),logsBloom:Ot(Mi),blockHash:xe,hash:xe,logs:Pr(C2),blockNumber:Rt,cumulativeGasUsed:ut,effectiveGasPrice:Ot(ut),blobGasPrice:Ot(ut,null),status:Ot(Rt),type:Ot(Rt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function T2(e){return S2(e)}function cm(e){e.to&&ut(e.to)===xd&&(e.to="0x0000000000000000000000000000000000000000");const t=Gr({hash:xe,index:Ot(Rt,void 0),type:s=>s==="0x"||s==null?0:Rt(s),accessList:Ot(oi,null),blobVersionedHashes:Ot(Pr(xe,!0),null),authorizationList:Ot(Pr(s=>{let n;if(s.signature)n=s.signature;else{let i=s.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},s,{yParity:i})}return{address:Gt(s.address),chainId:ut(s.chainId),nonce:ut(s.nonce),signature:ue.from(n)}},!1),null),blockHash:Ot(xe,null),blockNumber:Ot(Rt,null),transactionIndex:Ot(Rt,null),from:Gt,gasPrice:Ot(ut),maxPriorityFeePerGas:Ot(ut),maxFeePerGas:Ot(ut),maxFeePerBlobGas:Ot(ut,null),gasLimit:ut,to:Ot(Gt,null),value:ut,nonce:Rt,data:Mi,creates:Ot(Gt,null),chainId:Ot(ut,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(t.to==null&&t.creates==null&&(t.creates=pw(t)),(e.type===1||e.type===2)&&e.accessList==null&&(t.accessList=[]),e.signature?t.signature=ue.from(e.signature):t.signature=ue.from(e),t.chainId==null){const s=t.signature.legacyChainId;s!=null&&(t.chainId=s)}return t.blockHash&&ut(t.blockHash)===xd&&(t.blockHash=null),t}const _2="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Kr{name;constructor(t){bt(this,{name:t})}clone(){return new Kr(this.name)}}class fo extends Kr{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,s){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const n={effectiveBlock:t};function i(r,a){let l=(s||{})[r];l==null&&(l=a),_(typeof l=="number",`invalud value for ${r}`,"costs",s),n[r]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),bt(this,n)}clone(){return new fo(this.effectiveBlock,this)}}class ho extends Kr{address;targetNetwork;constructor(t,s){super("org.ethers.plugins.network.Ens"),bt(this,{address:t||_2,targetNetwork:s??1})}clone(){return new ho(this.address,this.targetNetwork)}}class P2 extends Kr{#t;#e;get url(){return this.#t}get processFunc(){return this.#e}constructor(t,s){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#t=t,this.#e=s}clone(){return this}}const Go=new Map;class as{#t;#e;#s;constructor(t,s){this.#t=t,this.#e=ut(s),this.#s=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(t){this.#t=t}get chainId(){return this.#e}set chainId(t){this.#e=ut(t,"chainId")}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===ut(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===ut(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===ut(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(this.#s.values())}attachPlugin(t){if(this.#s.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#s.set(t.name,t.clone()),this}getPlugin(t){return this.#s.get(t)||null}getPlugins(t){return this.plugins.filter(s=>s.name.split("#")[0]===t)}clone(){const t=new as(this.name,this.chainId);return this.plugins.forEach(s=>{t.attachPlugin(s.clone())}),t}computeIntrinsicGas(t){const s=this.getPlugin("org.ethers.plugins.network.GasCost")||new fo;let n=s.txBase;if(t.to==null&&(n+=s.txCreate),t.data)for(let i=2;i<t.data.length;i+=2)t.data.substring(i,i+2)==="00"?n+=s.txDataZero:n+=s.txDataNonzero;if(t.accessList){const i=oi(t.accessList);for(const r in i)n+=s.txAccessListAddress+s.txAccessListStorageKey*i[r].storageKeys.length}return n}static from(t){if(x2(),t==null)return as.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const s=Go.get(t);if(s)return s();if(typeof t=="bigint")return new as("unknown",t);_(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){_(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const s=new as(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&s.attachPlugin(new ho(t.ensAddress,t.ensNetwork)),s}_(!1,"invalid network","network",t)}static register(t,s){typeof t=="number"&&(t=BigInt(t));const n=Go.get(t);n&&_(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),Go.set(t,s)}}function Id(e,t){const s=String(e);if(!s.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=s.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function Rd(e){return new P2(e,async(t,s,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[r,a]=await Promise.all([n.send(),t()]);i=r;const l=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Id(l.maxFee,9),maxPriorityFeePerGas:Id(l.maxPriorityFee,9)}}catch(r){V(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:r})}})}let Nd=!1;function x2(){if(Nd)return;Nd=!0;function e(t,s,n){const i=function(){const r=new as(t,s);return n.ensNetwork!=null&&r.attachPlugin(new ho(null,n.ensNetwork)),r.attachPlugin(new fo),(n.plugins||[]).forEach(a=>{r.attachPlugin(a)}),r};as.register(t,i),as.register(s,i),n.altNames&&n.altNames.forEach(r=>{as.register(r,i)})}e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Rd("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Rd("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}function _l(e){return JSON.parse(JSON.stringify(e))}class I2{#t;#e;#s;#n;constructor(t){this.#t=t,this.#e=null,this.#s=4e3,this.#n=-2}get pollingInterval(){return this.#s}set pollingInterval(t){this.#s=t}async#i(){try{const t=await this.#t.getBlockNumber();if(this.#n===-2){this.#n=t;return}if(t!==this.#n){for(let s=this.#n+1;s<=t;s++){if(this.#e==null)return;await this.#t.emit("block",s)}this.#n=t}}catch{}this.#e!=null&&(this.#e=this.#t._setTimeout(this.#i.bind(this),this.#s))}start(){this.#e||(this.#e=this.#t._setTimeout(this.#i.bind(this),this.#s),this.#i())}stop(){this.#e&&(this.#t._clearTimeout(this.#e),this.#e=null)}pause(t){this.stop(),t&&(this.#n=-2)}resume(){this.start()}}class Sc{#t;#e;#s;constructor(t){this.#t=t,this.#s=!1,this.#e=s=>{this._poll(s,this.#t)}}async _poll(t,s){throw new Error("sub-classes must override this")}start(){this.#s||(this.#s=!0,this.#e(-2),this.#t.on("block",this.#e))}stop(){this.#s&&(this.#s=!1,this.#t.off("block",this.#e))}pause(t){this.stop()}resume(){this.start()}}class R2 extends Sc{#t;#e;constructor(t,s){super(t),this.#t=s,this.#e=-2}pause(t){t&&(this.#e=-2),super.pause(t)}async _poll(t,s){const n=await s.getBlock(this.#t);n!=null&&(this.#e===-2?this.#e=n.number:n.number>this.#e&&(s.emit(this.#t,n.number),this.#e=n.number))}}class N2 extends Sc{#t;constructor(t,s){super(t),this.#t=_l(s)}async _poll(t,s){throw new Error("@TODO")}}class L2 extends Sc{#t;constructor(t,s){super(t),this.#t=s}async _poll(t,s){const n=await s.getTransactionReceipt(this.#t);n&&s.emit(this.#t,n)}}class Tc{#t;#e;#s;#n;#i;constructor(t,s){this.#t=t,this.#e=_l(s),this.#s=this.#a.bind(this),this.#n=!1,this.#i=-2}async#a(t){if(this.#i===-2)return;const s=_l(this.#e);s.fromBlock=this.#i+1,s.toBlock=t;const n=await this.#t.getLogs(s);if(n.length===0){this.#i<t-60&&(this.#i=t-60);return}for(const i of n)this.#t.emit(this.#e,i),this.#i=i.blockNumber}start(){this.#n||(this.#n=!0,this.#i===-2&&this.#t.getBlockNumber().then(t=>{this.#i=t}),this.#t.on("block",this.#s))}stop(){this.#n&&(this.#n=!1,this.#t.off("block",this.#s))}pause(t){this.stop(),t&&(this.#i=-2)}resume(){this.start()}}const D2=BigInt(2),B2=10;function oa(e){return e&&typeof e.then=="function"}function ma(e,t){return e+":"+JSON.stringify(t,(s,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((r,a)=>(r[a]=n[a],r),{})}return n})}class um{name;constructor(t){bt(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function O2(e){return JSON.parse(JSON.stringify(e))}function Pl(e){return e=Array.from(new Set(e).values()),e.sort(),e}async function Ko(e,t){if(e==null)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),typeof e=="string")switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(se(e,32)){const s=e.toLowerCase();return{type:"transaction",tag:ma("tx",{hash:s}),hash:s}}if(e.orphan){const s=e;return{type:"orphan",tag:ma("orphan",s),filter:O2(s)}}if(e.address||e.topics){const s=e,n={topics:(s.topics||[]).map(i=>i==null?null:Array.isArray(i)?Pl(i.map(r=>r.toLowerCase())):i.toLowerCase())};if(s.address){const i=[],r=[],a=l=>{se(l)?i.push(l):r.push((async()=>{i.push(await We(l,t))})())};Array.isArray(s.address)?s.address.forEach(a):a(s.address),r.length&&await Promise.all(r),n.address=Pl(i.map(l=>l.toLowerCase()))}return{filter:n,tag:ma("event",n),type:"event"}}_(!1,"unknown ProviderEvent","event",e)}function Wo(){return new Date().getTime()}const M2={cacheTimeout:250,pollingInterval:4e3};class U2{#t;#e;#s;#n;#i;#a;#r;#o;#d;#c;#p;#m;constructor(t,s){if(this.#m=Object.assign({},M2,s||{}),t==="any")this.#a=!0,this.#i=null;else if(t){const n=as.from(t);this.#a=!1,this.#i=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#a=!1,this.#i=null;this.#o=-1,this.#r=new Map,this.#t=new Map,this.#e=new Map,this.#s=null,this.#n=!1,this.#d=1,this.#c=new Map,this.#p=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#e.values())}attachPlugin(t){if(this.#e.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#e.set(t.name,t.connect(this)),this}getPlugin(t){return this.#e.get(t)||null}get disableCcipRead(){return this.#p}set disableCcipRead(t){this.#p=!!t}async#l(t){const s=this.#m.cacheTimeout;if(s<0)return await this._perform(t);const n=ma(t.method,t);let i=this.#r.get(n);return i||(i=this._perform(t),this.#r.set(n,i),setTimeout(()=>{this.#r.get(n)===i&&this.#r.delete(n)},s)),await i}async ccipReadFetch(t,s,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const i=t.to.toLowerCase(),r=s.toLowerCase(),a=[];for(let l=0;l<n.length;l++){const c=n[l],u=c.replace("{sender}",i).replace("{data}",r),d=new on(u);c.indexOf("{data}")===-1&&(d.body={data:r,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:l,urls:n});let f="unknown error",h;try{h=await d.send()}catch(p){a.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:p}});continue}try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:p})}catch{}V(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:c,errorMessage:f}}),a.push(f)}V(!1,`error encountered during CCIP fetch: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:a}})}_wrapBlock(t,s){return new n2(E2(t),this)}_wrapLog(t,s){return new Hr(w2(t),this)}_wrapTransactionReceipt(t,s){return new Jp(T2(t),this)}_wrapTransactionResponse(t,s){return new jr(cm(t),this)}_detectNetwork(){V(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){V(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=Rt(await this.#l({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=t),t}_getAddress(t){return We(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(se(t))return se(t,32)?t:bs(t);if(typeof t=="bigint"&&(t=Rt(t,"blockTag")),typeof t=="number")return t>=0?bs(t):this.#o>=0?bs(this.#o+t):this.getBlockNumber().then(s=>bs(s+t));_(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const s=(t.topics||[]).map(c=>c==null?null:Array.isArray(c)?Pl(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,i=(c,u,d)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),s.length&&(h.topics=s),u&&(h.fromBlock=u),d&&(h.toBlock=d),n&&(h.blockHash=n),h};let r=[];if(t.address)if(Array.isArray(t.address))for(const c of t.address)r.push(this._getAddress(c));else r.push(this._getAddress(t.address));let a;"fromBlock"in t&&(a=this._getBlockTag(t.fromBlock));let l;return"toBlock"in t&&(l=this._getBlockTag(t.toBlock)),r.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(r),a,l]).then(c=>i(c[0],c[1],c[2])):i(r,a,l)}_getTransactionRequest(t){const s=Oa(t),n=[];if(["to","from"].forEach(i=>{if(s[i]==null)return;const r=We(s[i],this);oa(r)?n.push((async function(){s[i]=await r})()):s[i]=r}),s.blockTag!=null){const i=this._getBlockTag(s.blockTag);oa(i)?n.push((async function(){s.blockTag=await i})()):s.blockTag=i}return n.length?(async function(){return await Promise.all(n),s})():s}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const r=await this._detectNetwork();return this.emit("network",r,null),r}catch(r){throw this.#i===i&&(this.#i=null),r}})();return this.#i=i,(await i).clone()}const t=this.#i,[s,n]=await Promise.all([t,this._detectNetwork()]);return s.chainId!==n.chainId&&(this.#a?(this.emit("network",n,s),this.#i===t&&(this.#i=Promise.resolve(n))):V(!1,`network changed: ${s.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),s.clone()}async getFeeData(){const t=await this.getNetwork(),s=async()=>{const{_block:i,gasPrice:r,priorityFee:a}=await Fe({_block:this.#v("latest",!1),gasPrice:(async()=>{try{const d=await this.#l({method:"getGasPrice"});return ut(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await this.#l({method:"getPriorityFee"});return ut(d,"%response")}catch{}return null})()});let l=null,c=null;const u=this._wrapBlock(i,t);return u&&u.baseFeePerGas&&(c=a??BigInt("1000000000"),l=u.baseFeePerGas*D2+c),new Sd(r,l,c)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new on(n.url),r=await n.processFunc(s,this,i);return new Sd(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await s()}async estimateGas(t){let s=this._getTransactionRequest(t);return oa(s)&&(s=await s),ut(await this.#l({method:"estimateGas",transaction:s}),"%response")}async#u(t,s,n){V(n<B2,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:s,enableCcipRead:!0})});const i=Oa(t);try{return ot(await this._perform({method:"call",transaction:i,blockTag:s}))}catch(r){if(!this.disableCcipRead&&ac(r)&&r.data&&n>=0&&s==="latest"&&i.to!=null&&ce(r.data,0,4)==="0x556f1830"){const a=r.data,l=await We(i.to,this);let c;try{c=j2(ce(r.data,4))}catch(f){V(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}V(c.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);V(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:r.data,errorArgs:c.errorArgs}});const d={to:l,data:fe([c.selector,H2([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await this.#u(d,s,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw r}}async#f(t){const{value:s}=await Fe({network:this.getNetwork(),value:t});return s}async call(t){const{tx:s,blockTag:n}=await Fe({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#f(this.#u(s,n,t.enableCcipRead?0:-1))}async#h(t,s,n){let i=this._getAddress(s),r=this._getBlockTag(n);return(typeof i!="string"||typeof r!="string")&&([i,r]=await Promise.all([i,r])),await this.#f(this.#l(Object.assign(t,{address:i,blockTag:r})))}async getBalance(t,s){return ut(await this.#h({method:"getBalance"},t,s),"%response")}async getTransactionCount(t,s){return Rt(await this.#h({method:"getTransactionCount"},t,s),"%response")}async getCode(t,s){return ot(await this.#h({method:"getCode"},t,s))}async getStorage(t,s,n){const i=ut(s,"position");return ot(await this.#h({method:"getStorage",position:i},t,n))}async broadcastTransaction(t){const{blockNumber:s,hash:n,network:i}=await Fe({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),r=ys.from(t);if(r.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(r,i).replaceableTransaction(s)}async#v(t,s){if(se(t,32))return await this.#l({method:"getBlock",blockHash:t,includeTransactions:s});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await this.#l({method:"getBlock",blockTag:n,includeTransactions:s})}async getBlock(t,s){const{network:n,params:i}=await Fe({network:this.getNetwork(),params:this.#v(t,!!s)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(t){const{network:s,params:n}=await Fe({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,s)}async getTransactionReceipt(t){const{network:s,params:n}=await Fe({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:t});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,s)}async getTransactionResult(t){const{result:s}=await Fe({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:t})});return s==null?null:ot(s)}async getLogs(t){let s=this._getFilter(t);oa(s)&&(s=await s);const{network:n,params:i}=await Fe({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:s})});return i.map(r=>this._wrapLog(r,n))}_getProvider(t){V(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await xi.fromName(this,t)}async getAvatar(t){const s=await this.getResolver(t);return s?await s.getAvatar():null}async resolveName(t){const s=await this.getResolver(t);return s?await s.getAddress():null}async lookupAddress(t){t=Gt(t);const s=Cl(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await xi.getEnsAddress(this),r=await new $e(n,["function resolver(bytes32) view returns (address)"],this).resolver(s);if(r==null||r===Er)return null;const l=await new $e(r,["function name(bytes32) view returns (string)"],this).name(s);return await this.resolveName(l)!==t?null:l}catch(n){if(Ie(n,"BAD_DATA")&&n.value==="0x"||Ie(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,s,n){const i=s??1;return i===0?this.getTransactionReceipt(t):new Promise(async(r,a)=>{let l=null;const c=(async u=>{try{const d=await this.getTransactionReceipt(t);if(d!=null&&u-d.blockNumber+1>=i){r(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)});n!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c),a(ae("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(t){V(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const s=this.#c.get(t);s&&(s.timer&&clearTimeout(s.timer),this.#c.delete(t))}_setTimeout(t,s){s==null&&(s=0);const n=this.#d++,i=()=>{this.#c.delete(n),t()};if(this.paused)this.#c.set(n,{timer:null,func:i,time:s});else{const r=setTimeout(i,s);this.#c.set(n,{timer:r,func:i,time:Wo()})}return n}_forEachSubscriber(t){for(const s of this.#t.values())t(s.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new um(t.type);case"block":{const s=new I2(this);return s.pollingInterval=this.pollingInterval,s}case"safe":case"finalized":return new R2(this,t.type);case"event":return new Tc(this,t.filter);case"transaction":return new L2(this,t.hash);case"orphan":return new N2(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,s){for(const n of this.#t.values())if(n.subscriber===t){n.started&&n.subscriber.stop(),n.subscriber=s,n.started&&s.start(),this.#s!=null&&s.pause(this.#s);break}}async#g(t,s){let n=await Ko(t,this);return n.type==="event"&&s&&s.length>0&&s[0].removed===!0&&(n=await Ko({orphan:"drop-log",log:s[0]},this)),this.#t.get(n.tag)||null}async#y(t){const s=await Ko(t,this),n=s.tag;let i=this.#t.get(n);return i||(i={subscriber:this._getSubscriber(s),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#t.set(n,i)),i}async on(t,s){const n=await this.#y(t);return n.listeners.push({listener:s,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#s!=null&&n.subscriber.pause(this.#s)),this}async once(t,s){const n=await this.#y(t);return n.listeners.push({listener:s,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#s!=null&&n.subscriber.pause(this.#s)),this}async emit(t,...s){const n=await this.#g(t,s);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:r,once:a})=>{const l=new Ph(this,a?null:r,t);try{r.call(this,...s,l)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#t.delete(n.tag)),i>0}async listenerCount(t){if(t){const n=await this.#g(t);return n?n.listeners.length:0}let s=0;for(const{listeners:n}of this.#t.values())s+=n.length;return s}async listeners(t){if(t){const n=await this.#g(t);return n?n.listeners.map(({listener:i})=>i):[]}let s=[];for(const{listeners:n}of this.#t.values())s=s.concat(n.map(({listener:i})=>i));return s}async off(t,s){const n=await this.#g(t);if(!n)return this;if(s){const i=n.listeners.map(({listener:r})=>r).indexOf(s);i>=0&&n.listeners.splice(i,1)}return(!s||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#t.delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:s,started:n,subscriber:i}=await this.#y(t);n&&i.stop(),this.#t.delete(s)}else for(const[s,{started:n,subscriber:i}]of this.#t)n&&i.stop(),this.#t.delete(s);return this}async addListener(t,s){return await this.on(t,s)}async removeListener(t,s){return this.off(t,s)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const t of this.#c.keys())this._clearTimeout(t);this.#n=!0}get paused(){return this.#s!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#o=-1,this.#s!=null){if(this.#s==!!t)return;V(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(s=>s.pause(t)),this.#s=!!t;for(const s of this.#c.values())s.timer&&clearTimeout(s.timer),s.time=Wo()-s.time}resume(){if(this.#s!=null){this._forEachSubscriber(t=>t.resume()),this.#s=null;for(const t of this.#c.values()){let s=t.time;s<0&&(s=0),t.time=Wo(),setTimeout(t.func,s)}}}}function F2(e,t){try{const s=xl(e,t);if(s)return xa(s)}catch{}return null}function xl(e,t){if(e==="0x")return null;try{const s=Rt(ce(e,t,t+32)),n=Rt(ce(e,s,s+32));return ce(e,s+32,s+32+n)}catch{}return null}function Ld(e){const t=Ee(e);if(t.length>32)throw new Error("internal; should not happen");const s=new Uint8Array(32);return s.set(t,32-t.length),s}function $2(e){if(e.length%32===0)return e;const t=new Uint8Array(Math.ceil(e.length/32)*32);return t.set(e),t}const V2=new Uint8Array([]);function H2(e){const t=[];let s=0;for(let n=0;n<e.length;n++)t.push(V2),s+=32;for(let n=0;n<e.length;n++){const i=Dt(e[n]);t[n]=Ld(s),t.push(Ld(i.length)),t.push($2(i)),s+=32+Math.ceil(i.length/32)*32}return fe(t)}const Dd="0x0000000000000000000000000000000000000000000000000000000000000000";function j2(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};V(Si(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const s=ce(e,0,32);V(ce(s,0,12)===ce(Dd,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=ce(s,12);try{const n=[],i=Rt(ce(e,32,64)),r=Rt(ce(e,i,i+32)),a=ce(e,i+32);for(let l=0;l<r;l++){const c=F2(a,l*32);if(c==null)throw new Error("abort");n.push(c)}t.urls=n}catch{V(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=xl(e,64);if(n==null)throw new Error("abort");t.calldata=n}catch{V(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}V(ce(e,100,128)===ce(Dd,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=ce(e,96,100);try{const n=xl(e,128);if(n==null)throw new Error("abort");t.extraData=n}catch{V(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>t[n]),t}function Mn(e,t){if(e.provider)return e.provider;V(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Bd(e,t){let s=Oa(t);if(s.to!=null&&(s.to=We(s.to,e)),s.from!=null){const n=s.from;s.from=Promise.all([e.getAddress(),We(n,e)]).then(([i,r])=>(_(i.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),i))}else s.from=e.getAddress();return await Fe(s)}class G2{provider;constructor(t){bt(this,{provider:t||null})}async getNonce(t){return Mn(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await Bd(this,t)}async populateTransaction(t){const s=Mn(this,"populateTransaction"),n=await Bd(this,t);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const a=ut(n.chainId);_(a===i.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=i.chainId;const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?_(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&&r&&_(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await s.getFeeData();V(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await s.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const l=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=l,n.maxPriorityFeePerGas=l}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(V(!r,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):V(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Fe(n)}async populateAuthorization(t){const s=Object.assign({},t);return s.chainId==null&&(s.chainId=(await Mn(this,"getNetwork").getNetwork()).chainId),s.nonce==null&&(s.nonce=await this.getNonce()),s}async estimateGas(t){return Mn(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return Mn(this,"call").call(await this.populateCall(t))}async resolveName(t){return await Mn(this,"resolveName").resolveName(t)}async sendTransaction(t){const s=Mn(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const i=ys.from(n);return await s.broadcastTransaction(await this.signTransaction(i))}authorize(t){V(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function K2(e){return JSON.parse(JSON.stringify(e))}class dm{#t;#e;#s;#n;#i;#a;constructor(t){this.#t=t,this.#e=null,this.#s=this.#r.bind(this),this.#n=!1,this.#i=null,this.#a=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,s){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#r(t){try{this.#e==null&&(this.#e=this._subscribe(this.#t));let s=null;try{s=await this.#e}catch(r){if(!Ie(r,"UNSUPPORTED_OPERATION")||r.operation!=="eth_newFilter")throw r}if(s==null){this.#e=null,this.#t._recoverSubscriber(this,this._recover(this.#t));return}const n=await this.#t.getNetwork();if(this.#i||(this.#i=n),this.#i.chainId!==n.chainId)throw new Error("chaid changed");if(this.#a)return;const i=await this.#t.send("eth_getFilterChanges",[s]);await this._emitResults(this.#t,i)}catch(s){console.log("@TODO",s)}this.#t.once("block",this.#s)}#o(){const t=this.#e;t&&(this.#e=null,t.then(s=>{this.#t.destroyed||this.#t.send("eth_uninstallFilter",[s])}))}start(){this.#n||(this.#n=!0,this.#r(-2))}stop(){this.#n&&(this.#n=!1,this.#a=!0,this.#o(),this.#t.off("block",this.#s))}pause(t){t&&this.#o(),this.#t.off("block",this.#s)}resume(){this.start()}}class W2 extends dm{#t;constructor(t,s){super(t),this.#t=K2(s)}_recover(t){return new Tc(t,this.#t)}async _subscribe(t){return await t.send("eth_newFilter",[this.#t])}async _emitResults(t,s){for(const n of s)t.emit(this.#t,t._wrapLog(n,t._network))}}class z2 extends dm{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,s){for(const n of s)t.emit("pending",n)}}const Y2="bigint,boolean,function,number,string,symbol".split(/,/g);function ga(e){if(e==null||Y2.indexOf(typeof e)>=0||typeof e.getAddress=="function")return e;if(Array.isArray(e))return e.map(ga);if(typeof e=="object")return Object.keys(e).reduce((t,s)=>(t[s]=e[s],t),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Q2(e){return new Promise(t=>{setTimeout(t,e)})}function hi(e){return e&&e.toLowerCase()}function Od(e){return e&&typeof e.pollingInterval=="number"}const fm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class zo extends G2{address;constructor(t,s){super(t),s=Gt(s),bt(this,{address:s})}connect(t){V(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const s=ga(t),n=[];if(s.from){const r=s.from;n.push((async()=>{const a=await We(r,this.provider);_(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),s.from=a})())}else s.from=this.address;if(s.gasLimit==null&&n.push((async()=>{s.gasLimit=await this.provider.estimateGas({...s,from:this.address})})()),s.to!=null){const r=s.to;n.push((async()=>{s.to=await We(r,this.provider)})())}n.length&&await Promise.all(n);const i=this.provider.getRpcTransaction(s);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){const s=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(t);return await new Promise((i,r)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(n);if(u!=null){i(u.replaceableTransaction(s));return}}catch(u){if(Ie(u,"CANCELLED")||Ie(u,"BAD_DATA")||Ie(u,"NETWORK_ERROR")||Ie(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=n,r(u);return}if(Ie(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=n,l>10)){r(u);return}this.provider.emit("error",ae("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(t){const s=ga(t);if(s.from){const i=await We(s.from,this.provider);_(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),s.from=i}else s.from=this.address;const n=this.provider.getRpcTransaction(s);return await this.provider.send("eth_signTransaction",[n])}async signMessage(t){const s=typeof t=="string"?en(t):t;return await this.provider.send("personal_sign",[ot(s),this.address.toLowerCase()])}async signTypedData(t,s,n){const i=ga(n),r=await ss.resolveNames(t,s,i,async a=>{const l=await We(a);return _(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ss.getPayload(r.domain,s,r.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const s=typeof t=="string"?en(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ot(s)])}}class q2 extends U2{#t;#e;#s;#n;#i;#a;#r;#o(){if(this.#n)return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const s=this.#s;for(this.#s=[];s.length;){const n=[s.shift()];for(;s.length&&n.length!==this.#t.batchMaxCount;)if(n.push(s.shift()),JSON.stringify(n.map(r=>r.payload)).length>this.#t.batchMaxSize){s.unshift(n.pop());break}(async()=>{const i=n.length===1?n[0].payload:n.map(r=>r.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const r=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:a,reject:l,payload:c}of n){if(this.destroyed){l(ae("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=r.filter(d=>d.id===c.id)[0];if(u==null){const d=ae("missing response for request","BAD_DATA",{value:r,info:{payload:c}});this.emit("error",d),l(d);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(r){this.emit("debug",{action:"receiveRpcError",error:r});for(const{reject:a}of n)a(r)}})()}},t)}constructor(t,s){super(t,s),this.#e=1,this.#t=Object.assign({},fm,s||{}),this.#s=[],this.#n=null,this.#a=null,this.#r=null;{let i=null;const r=new Promise(a=>{i=a});this.#i={promise:r,resolve:i}}const n=this._getOption("staticNetwork");typeof n=="boolean"?(_(!n||t!=="any","staticNetwork cannot be used on special network 'any'","options",s),n&&t!=null&&(this.#a=as.from(t))):n&&(_(t==null||n.matches(t),"staticNetwork MUST match network object","options",s),this.#a=n)}_getOption(t){return this.#t[t]}get _network(){return V(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let n=t.transaction;if(n&&n.type!=null&&ut(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},n,{type:void 0})}))}}const s=this.getRpcRequest(t);return s!=null?await this.send(s.method,s.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(this.#a)return this.#a}else return t;return this.#r?await this.#r:this.ready?(this.#r=(async()=>{try{const s=as.from(ut(await this.send("eth_chainId",[])));return this.#r=null,s}catch(s){throw this.#r=null,s}})(),await this.#r):(this.#r=(async()=>{const s={id:this.#e++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:s});let n;try{n=(await this._send(s))[0],this.#r=null}catch(i){throw this.#r=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return as.from(ut(n.result));throw this.getRpcError(s,n)})(),await this.#r)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ae("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Q2(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(t){return t.type==="pending"?new z2(this):t.type==="event"?this._getOption("polling")?new Tc(this,t.filter):new W2(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new um("orphan"):super._getSubscriber(t)}get ready(){return this.#i==null}getRpcTransaction(t){const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(t[n]==null)return;let i=n;n==="gasLimit"&&(i="gas"),s[i]=bs(ut(t[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{t[n]!=null&&(s[n]=ot(t[n]))}),t.accessList&&(s.accessList=oi(t.accessList)),t.blobVersionedHashes&&(s.blobVersionedHashes=t.blobVersionedHashes.map(n=>n.toLowerCase())),t.authorizationList&&(s.authorizationList=t.authorizationList.map(n=>{const i=vp(n);return{address:i.address,nonce:bs(i.nonce),chainId:bs(i.chainId),yParity:bs(i.signature.yParity),r:bs(i.signature.r),s:bs(i.signature.s)}})),s}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[hi(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[hi(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[hi(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[hi(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(hi):t.filter.address=hi(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,s){const{method:n}=t,{error:i}=s;if(n==="eth_estimateGas"&&i.message){const l=i.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return ae("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}});if(l.match(/nonce/i)&&l.match(/too low/i))return ae("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:i}})}if(n==="eth_call"||n==="eth_estimateGas"){const l=Il(i),c=ii.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",t.params[0],l?l.data:null);return c.info={error:i,payload:t},c}const r=JSON.stringify(Z2(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return ae("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:t,error:i}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const l=t.params[0];if(r.match(/insufficient funds|base fee exceeds gas limit/i))return ae("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(r.match(/nonce/i)&&r.match(/too low/i))return ae("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(r.match(/replacement transaction/i)&&r.match(/underpriced/i))return ae("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(r.match(/only replay-protected/i))return ae("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:l,info:{error:i}}})}let a=!!r.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?ae("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):ae("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,s){if(this.destroyed)return Promise.reject(ae("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const n=this.#e++,i=new Promise((r,a)=>{this.#s.push({resolve:r,reject:a,payload:{method:t,params:s,id:n,jsonrpc:"2.0"}})});return this.#o(),i}async getSigner(t){t==null&&(t=0);const s=this.send("eth_accounts",[]);if(typeof t=="number"){const i=await s;if(t>=i.length)throw new Error("no such account");return new zo(this,i[t])}const{accounts:n}=await Fe({network:this.getNetwork(),accounts:s});t=Gt(t);for(const i of n)if(Gt(i)===t)return new zo(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(s=>new zo(this,s))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:t,reject:s}of this.#s)s(ae("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#s=[],super.destroy()}}class J2 extends q2{#t;constructor(t,s){super(t,s);let n=this._getOption("pollingInterval");n==null&&(n=fm.pollingInterval),this.#t=n}_getSubscriber(t){const s=super._getSubscriber(t);return Od(s)&&(s.pollingInterval=this.#t),s}get pollingInterval(){return this.#t}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#t=t,this._forEachSubscriber(s=>{Od(s)&&(s.pollingInterval=this.#t)})}}function Il(e){if(e==null)return null;if(typeof e.message=="string"&&e.message.match(/revert/i)&&se(e.data))return{message:e.message,data:e.data};if(typeof e=="object"){for(const t in e){const s=Il(e[t]);if(s)return s}return null}if(typeof e=="string")try{return Il(JSON.parse(e))}catch{}return null}function Rl(e,t){if(e!=null){if(typeof e.message=="string"&&t.push(e.message),typeof e=="object")for(const s in e)Rl(e[s],t);if(typeof e=="string")try{return Rl(JSON.parse(e),t)}catch{}}}function Z2(e){const t=[];return Rl(e,t),t}class As extends J2{#t;#e;constructor(t,s,n){const i=Object.assign({},n??{},{batchMaxCount:1});_(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(s,i),this.#e=null,n&&n.providerInfo&&(this.#e=n.providerInfo),this.#t=async(r,a)=>{const l={method:r,params:a};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const c=await t.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}}}get providerInfo(){return this.#e}async send(t,s){return await this._start(),await super.send(t,s)}async _send(t){_(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const s=await this.#t(t.method,t.params||[]);return[{id:t.id,result:s}]}catch(s){return[{id:t.id,error:{code:s.code,data:s.data,message:s.message}}]}}getRpcError(t,s){switch(s=JSON.parse(JSON.stringify(s)),s.error.code||-1){case 4001:s.error.message=`ethers-user-denied: ${s.error.message}`;break;case 4200:s.error.message=`ethers-unsupported: ${s.error.message}`;break}return super.getRpcError(t,s)}async hasSigner(t){t==null&&(t=0);const s=await this.send("eth_accounts",[]);return typeof t=="number"?s.length>t:(t=t.toLowerCase(),s.filter(n=>n.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await this.#t("eth_requestAccounts",[])}catch(s){const n=s.payload;throw this.getRpcError(n,{id:n.id,error:s})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new As(t.provider);const s=t.window?t.window:typeof window<"u"?window:null;if(s==null)return null;const n=t.anyProvider;if(n&&s.ethereum)return new As(s.ethereum);if(!("addEventListener"in s&&"dispatchEvent"in s&&"removeEventListener"in s))return null;const i=t.timeout?t.timeout:300;return i===0?null:await new Promise((r,a)=>{let l=[];const c=f=>{l.push(f.detail),n&&u()},u=()=>{if(clearTimeout(d),l.length)if(t&&t.filter){const f=t.filter(l.map(h=>Object.assign({},h.info)));if(f==null)r(null);else if(f instanceof As)r(f);else{let h=null;if(f.uuid&&(h=l.filter(w=>f.uuid===w.info.uuid)[0]),h){const{provider:p,info:w}=h;r(new As(p,void 0,{providerInfo:w}))}else a(ae("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:h}=l[0];r(new As(f,void 0,{providerInfo:h}))}else r(null);s.removeEventListener("eip6963:announceProvider",c)},d=setTimeout(()=>{u()},i);s.addEventListener("eip6963:announceProvider",c),s.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Wr=vt(!1),Cs=vt(""),Ze=vt(null),_c=vt(""),po=vt("ETH"),mo=vt(0n),xr=vt(null),Ua=Or([]),Ir=vt(""),ds=vt(""),Nl=vt(!1),X2=vt("tokens");let Xe=null,hm=null,Fa=!1,cr=null,Ll=!1;const tE={1:[{address:"0x7b21325dcB87A8167A7eFF504ec876C0F520dc17",label:"PWL-P"},{address:"#",label:"PWL-I"}],11155111:[{address:"0xYOUR_PWLP_SEPOLIA",label:"PWL-P"},{address:"0xYOUR_PWLI_SEPOLIA",label:"PWL-I"}]},eE=["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)"],sE=_t(()=>Cs.value||""),nE=_t(()=>{const e=Cs.value;return e?`${e.slice(0,6)}...${e.slice(-4)}`:""}),iE=_t(()=>{try{return Xe?Hs(mo.value):"0"}catch{return"0"}}),pm=_t(()=>xr.value?(Number(Hs(mo.value))*xr.value).toLocaleString(void 0,{maximumFractionDigits:2}):"0"),rE=_t(()=>`A$${pm.value||"0"} AUD`);function aE(e,t){try{return Number(Oh(e,t)).toLocaleString(void 0,{maximumFractionDigits:6})}catch{return"0"}}function Md(e,t){return e().catch(()=>t)}function oE(e){return e&&e[0].toUpperCase()+e.slice(1)}function ur(e){const t=e&&(e.reason||e.message)?e.reason||e.message:String(e);return t.toLowerCase().includes("user rejected")?"User rejected the request.":t}function mm(){window.ethereum&&(window.ethereum.on("accountsChanged",gm),window.ethereum.on("chainChanged",vm),Xe&&!Fa&&(cr=async()=>{try{await xc()}catch{}},Xe.on("block",cr),Fa=!0))}function lE(){window.ethereum&&(window.ethereum.removeListener("accountsChanged",gm),window.ethereum.removeListener("chainChanged",vm)),Xe&&Fa&&cr&&(Xe.removeListener("block",cr),Fa=!1,cr=null)}async function gm(e){!e||e.length===0?ym():(Cs.value=e[0],await Pc())}async function vm(){await Pc()}async function cE(){try{const e=po.value==="MATIC"?"matic-network":"ethereum",s=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=aud`)).json();xr.value=s?.[e]?.aud||null}catch{xr.value=null}}async function uE(){console.log("🔄 useWallet connect() called"),ds.value="",Ir.value="";try{if(!window.ethereum){console.log("❌ MetaMask not detected"),Ir.value="MetaMask not detected. Please install MetaMask extension.";return}console.log("🔗 Creating provider..."),Xe=new As(window.ethereum,"any"),console.log("📝 Requesting accounts...");const e=await Xe.send("eth_requestAccounts",[]);if(console.log("📋 Received accounts:",e),!e||e.length===0){console.log("❌ No accounts found"),ds.value="No accounts found. Please unlock your wallet or create a new account.";return}console.log("🔐 Getting signer..."),hm=await Xe.getSigner(),Cs.value=e[0],Wr.value=!0,console.log("🔄 Refreshing wallet data..."),await bm(),await xc(),await Ic(),mm(),console.log("✅ Wallet connected successfully:",e[0])}catch(e){console.error("❌ Wallet connection failed:",e),e.code===4001?ds.value="User rejected the connection request.":e.code===-32002?ds.value="Connection request already pending. Please check your MetaMask.":e.message.includes("User denied")?ds.value="Connection was denied. Please approve the connection in MetaMask.":e.message.includes("Already processing")?ds.value="MetaMask is already processing a request. Please wait and try again.":ds.value=ur(e)}}function ym(){Wr.value=!1,Cs.value="",Ze.value=null,_c.value="",po.value="ETH",mo.value=0n,xr.value=null,Ua.splice(0),lE()}async function Pc(){Wr.value&&(await bm(),await xc(),await Ic())}async function bm(){const e=await Xe.getNetwork();Ze.value=Number(e.chainId),_c.value=e.name&&e.name!=="unknown"?oE(e.name):`Chain ${Ze.value}`,po.value=Ze.value===1?"ETH":Ze.value===137?"MATIC":(Ze.value===42161||Ze.value===10,"ETH"),cE()}async function xc(){mo.value=await Xe.getBalance(Cs.value)}async function Ic(){Nl.value=!0,Ua.splice(0);try{const e=tE[Ze.value]||[],t=Rc(Ze.value),s=[...e,...t];for(const n of s){if(!yc(n.address))continue;const i=new $e(n.address,eE,Xe),[r,a,l,c]=await Promise.all([i.balanceOf(Cs.value),i.decimals(),Md(()=>i.symbol(),n.label||"TKN"),Md(()=>i.name(),n.label||"Token")]),u=aE(r,a);Ua.push({address:n.address,symbol:l||n.label||"TKN",name:c||n.label||"Token",decimals:a,displayBalance:u})}}catch(e){ds.value=ur(e)}finally{Nl.value=!1}}function dE(){Cs.value&&navigator.clipboard.writeText(Cs.value)}function wm(e){return`customTokens:${e||""}`}function Rc(e){try{const t=sessionStorage.getItem(wm(e)),s=t?JSON.parse(t):[];return Array.isArray(s)?s.filter(n=>n&&n.address):[]}catch{return[]}}function Am(e,t){try{sessionStorage.setItem(wm(e),JSON.stringify(t||[]))}catch{}}function fE(e,t){try{if(!yc(e))return Ir.value="Invalid token address.",!1;const s=Rc(Ze.value);return s.find(n=>n.address.toLowerCase()===e.toLowerCase())||(s.push({address:e,label:t||"Token",addedAt:Date.now(),source:"ImportFromUs"}),Am(Ze.value,s)),!0}catch{return!1}}function hE(e){try{const t=Rc(Ze.value).filter(s=>s.address.toLowerCase()!==(e||"").toLowerCase());Am(Ze.value,t)}catch{}}function Ud(){if(!Ll){if(Ll=!0,!window.ethereum){Ir.value="MetaMask not detected.";return}try{Xe=new As(window.ethereum,"any"),Xe.send("eth_accounts",[]).then(async e=>{if(e&&e.length>0)try{hm=await Xe.getSigner(),Cs.value=e[0],Wr.value=!0,await Pc(),mm()}catch(t){console.error("Failed to initialize wallet:",t),ds.value=ur(t)}}).catch(e=>{console.error("Failed to get accounts:",e),ds.value=ur(e)})}catch(e){console.error("Failed to create provider:",e),ds.value=ur(e)}}}function Qn(){return Ud(),Vi(()=>{Ll||Ud()}),Ya(()=>{}),{connected:Wr,address:Cs,fullAddress:sE,shortAddress:nE,chainId:Ze,networkLabel:_c,nativeSymbol:po,nativeBalanceDisplay:iE,nativeToAudDisplay:pm,bigAudDisplay:rE,tokens:Ua,warning:Ir,error:ds,loadingTokens:Nl,activeTab:X2,connect:uE,disconnect:ym,refreshTokens:Ic,copyAddress:dE,addCustomToken:fE,removeCustomToken:hE}}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const gi=typeof document<"u";function Em(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function pE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Em(e.default)}const Kt=Object.assign;function Yo(e,t){const s={};for(const n in t){const i=t[n];s[n]=Ss(i)?i.map(e):e(i)}return s}const dr=()=>{},Ss=Array.isArray,km=/#/g,mE=/&/g,gE=/\//g,vE=/=/g,yE=/\?/g,Cm=/\+/g,bE=/%5B/g,wE=/%5D/g,Sm=/%5E/g,AE=/%60/g,Tm=/%7B/g,EE=/%7C/g,_m=/%7D/g,kE=/%20/g;function Nc(e){return encodeURI(""+e).replace(EE,"|").replace(bE,"[").replace(wE,"]")}function CE(e){return Nc(e).replace(Tm,"{").replace(_m,"}").replace(Sm,"^")}function Dl(e){return Nc(e).replace(Cm,"%2B").replace(kE,"+").replace(km,"%23").replace(mE,"%26").replace(AE,"`").replace(Tm,"{").replace(_m,"}").replace(Sm,"^")}function SE(e){return Dl(e).replace(vE,"%3D")}function TE(e){return Nc(e).replace(km,"%23").replace(yE,"%3F")}function _E(e){return e==null?"":TE(e).replace(gE,"%2F")}function Rr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const PE=/\/$/,xE=e=>e.replace(PE,"");function Qo(e,t,s="/"){let n,i={},r="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(n=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),i=e(r)),l>-1&&(n=n||t.slice(0,l),a=t.slice(l,t.length)),n=LE(n??t,s),{fullPath:n+(r&&"?")+r+a,path:n,query:i,hash:Rr(a)}}function IE(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Fd(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function RE(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Ui(t.matched[n],s.matched[i])&&Pm(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ui(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Pm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!NE(e[s],t[s]))return!1;return!0}function NE(e,t){return Ss(e)?$d(e,t):Ss(t)?$d(t,e):e===t}function $d(e,t){return Ss(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function LE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,a,l;for(a=0;a<n.length;a++)if(l=n[a],l!==".")if(l==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(a).join("/")}const gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Nr;(function(e){e.pop="pop",e.push="push"})(Nr||(Nr={}));var fr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fr||(fr={}));function DE(e){if(!e)if(gi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),xE(e)}const BE=/^[^#]+#/;function OE(e,t){return e.replace(BE,"#")+t}function ME(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const go=()=>({left:window.scrollX,top:window.scrollY});function UE(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=ME(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Vd(e,t){return(history.state?history.state.position-t:-1)+e}const Bl=new Map;function FE(e,t){Bl.set(e,t)}function $E(e){const t=Bl.get(e);return Bl.delete(e),t}let VE=()=>location.protocol+"//"+location.host;function xm(e,t){const{pathname:s,search:n,hash:i}=t,r=e.indexOf("#");if(r>-1){let l=i.includes(e.slice(r))?e.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),Fd(c,"")}return Fd(s,e)+n+i}function HE(e,t,s,n){let i=[],r=[],a=null;const l=({state:h})=>{const p=xm(e,location),w=s.value,v=t.value;let A=0;if(h){if(s.value=p,t.value=h,a&&a===w){a=null;return}A=v?h.position-v.position:0}else n(p);i.forEach(E=>{E(s.value,w,{delta:A,type:Nr.pop,direction:A?A>0?fr.forward:fr.back:fr.unknown})})};function c(){a=s.value}function u(h){i.push(h);const p=()=>{const w=i.indexOf(h);w>-1&&i.splice(w,1)};return r.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(Kt({},h.state,{scroll:go()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function Hd(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?go():null}}function jE(e){const{history:t,location:s}=window,n={value:xm(e,s)},i={value:t.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,u,d){const f=e.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+c:VE()+e+c;try{t[d?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),s[d?"replace":"assign"](h)}}function a(c,u){const d=Kt({},t.state,Hd(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});r(c,d,!0),n.value=c}function l(c,u){const d=Kt({},i.value,t.state,{forward:c,scroll:go()});r(d.current,d,!0);const f=Kt({},Hd(n.value,c,null),{position:d.position+1},u);r(c,f,!1),n.value=c}return{location:n,state:i,push:l,replace:a}}function GE(e){e=DE(e);const t=jE(e),s=HE(e,t.state,t.location,t.replace);function n(r,a=!0){a||s.pauseListeners(),history.go(r)}const i=Kt({location:"",base:e,go:n,createHref:OE.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function KE(e){return typeof e=="string"||e&&typeof e=="object"}function Im(e){return typeof e=="string"||typeof e=="symbol"}const Rm=Symbol("");var jd;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jd||(jd={}));function Fi(e,t){return Kt(new Error,{type:e,[Rm]:!0},t)}function $s(e,t){return e instanceof Error&&Rm in e&&(t==null||!!(e.type&t))}const Gd="[^/]+?",WE={sensitive:!1,strict:!1,start:!0,end:!0},zE=/[.+*?^${}()[\]/\\]/g;function YE(e,t){const s=Kt({},WE,t),n=[];let i=s.start?"^":"";const r=[];for(const u of e){const d=u.length?[]:[90];s.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=40+(s.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(zE,"\\$&"),p+=40;else if(h.type===1){const{value:w,repeatable:v,optional:A,regexp:E}=h;r.push({name:w,repeatable:v,optional:A});const L=E||Gd;if(L!==Gd){p+=10;try{new RegExp(`(${L})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${w}" (${L}): `+F.message)}}let N=v?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;f||(N=A&&u.length<2?`(?:/${N})`:"/"+N),A&&(N+="?"),i+=N,p+=20,A&&(p+=-8),v&&(p+=-20),L===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,s.sensitive?"":"i");function l(u){const d=u.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",w=r[h-1];f[w.name]=p&&w.repeatable?p.split("/"):p}return f}function c(u){let d="",f=!1;for(const h of e){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:w,repeatable:v,optional:A}=p,E=w in u?u[w]:"";if(Ss(E)&&!v)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const L=Ss(E)?E.join("/"):E;if(!L)if(A)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);d+=L}}return d||"/"}return{re:a,score:n,keys:r,parse:l,stringify:c}}function QE(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Nm(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const r=QE(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(Kd(n))return 1;if(Kd(i))return-1}return i.length-n.length}function Kd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const qE={type:0,value:""},JE=/[a-zA-Z0-9_]/;function ZE(e){if(!e)return[[]];if(e==="/")return[[qE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,n=s;const i=[];let r;function a(){r&&i.push(r),r=[]}let l=0,c,u="",d="";function f(){u&&(s===0?r.push({type:0,value:u}):s===1||s===2||s===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(u&&f(),a()):c===":"?(f(),s=1):h();break;case 4:h(),s=n;break;case 1:c==="("?s=2:JE.test(c)?h():(f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),a(),i}function XE(e,t,s){const n=YE(ZE(e.path),s),i=Kt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function t3(e,t){const s=[],n=new Map;t=Qd({strict:!1,end:!0,sensitive:!1},t);function i(f){return n.get(f)}function r(f,h,p){const w=!p,v=zd(f);v.aliasOf=p&&p.record;const A=Qd(t,f),E=[v];if("alias"in f){const F=typeof f.alias=="string"?[f.alias]:f.alias;for(const K of F)E.push(zd(Kt({},v,{components:p?p.record.components:v.components,path:K,aliasOf:p?p.record:v})))}let L,N;for(const F of E){const{path:K}=F;if(h&&K[0]!=="/"){const H=h.record.path,X=H[H.length-1]==="/"?"":"/";F.path=h.record.path+(K&&X+K)}if(L=XE(F,h,A),p?p.alias.push(L):(N=N||L,N!==L&&N.alias.push(L),w&&f.name&&!Yd(L)&&a(f.name)),Lm(L)&&c(L),v.children){const H=v.children;for(let X=0;X<H.length;X++)r(H[X],L,p&&p.children[X])}p=p||L}return N?()=>{a(N)}:dr}function a(f){if(Im(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return s}function c(f){const h=n3(f,s);s.splice(h,0,f),f.record.name&&!Yd(f)&&n.set(f.record.name,f)}function u(f,h){let p,w={},v,A;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw Fi(1,{location:f});A=p.record.name,w=Kt(Wd(h.params,p.keys.filter(N=>!N.optional).concat(p.parent?p.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),f.params&&Wd(f.params,p.keys.map(N=>N.name))),v=p.stringify(w)}else if(f.path!=null)v=f.path,p=s.find(N=>N.re.test(v)),p&&(w=p.parse(v),A=p.record.name);else{if(p=h.name?n.get(h.name):s.find(N=>N.re.test(h.path)),!p)throw Fi(1,{location:f,currentLocation:h});A=p.record.name,w=Kt({},h.params,f.params),v=p.stringify(w)}const E=[];let L=p;for(;L;)E.unshift(L.record),L=L.parent;return{name:A,path:v,params:w,matched:E,meta:s3(E)}}e.forEach(f=>r(f));function d(){s.length=0,n.clear()}return{addRoute:r,resolve:u,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:i}}function Wd(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function zd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:e3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function e3(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Yd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function s3(e){return e.reduce((t,s)=>Kt(t,s.meta),{})}function Qd(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function n3(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;Nm(e,t[r])<0?n=r:s=r+1}const i=i3(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function i3(e){let t=e;for(;t=t.parent;)if(Lm(t)&&Nm(e,t)===0)return t}function Lm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function r3(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(Cm," "),a=r.indexOf("="),l=Rr(a<0?r:r.slice(0,a)),c=a<0?null:Rr(r.slice(a+1));if(l in t){let u=t[l];Ss(u)||(u=t[l]=[u]),u.push(c)}else t[l]=c}return t}function qd(e){let t="";for(let s in e){const n=e[s];if(s=SE(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ss(n)?n.map(r=>r&&Dl(r)):[n&&Dl(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function a3(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Ss(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const o3=Symbol(""),Jd=Symbol(""),vo=Symbol(""),Dm=Symbol(""),Ol=Symbol("");function qi(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function wn(e,t,s,n,i,r=a=>a()){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const u=h=>{h===!1?c(Fi(4,{from:s,to:t})):h instanceof Error?c(h):KE(h)?c(Fi(2,{from:t,to:h})):(a&&n.enterCallbacks[i]===a&&typeof h=="function"&&a.push(h),l())},d=r(()=>e.call(n&&n.instances[i],t,s,u));let f=Promise.resolve(d);e.length<3&&(f=f.then(u)),f.catch(h=>c(h))})}function qo(e,t,s,n,i=r=>r()){const r=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Em(c)){const d=(c.__vccOpts||c)[t];d&&r.push(wn(d,s,n,a,l,i))}else{let u=c();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=pE(d)?d.default:d;a.mods[l]=d,a.components[l]=f;const p=(f.__vccOpts||f)[t];return p&&wn(p,s,n,a,l,i)()}))}}return r}function Zd(e){const t=Bs(vo),s=Bs(Dm),n=_t(()=>{const c=Ft(e.to);return t.resolve(c)}),i=_t(()=>{const{matched:c}=n.value,{length:u}=c,d=c[u-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(Ui.bind(null,d));if(h>-1)return h;const p=Xd(c[u-2]);return u>1&&Xd(d)===p&&f[f.length-1].path!==p?f.findIndex(Ui.bind(null,c[u-2])):h}),r=_t(()=>i.value>-1&&f3(s.params,n.value.params)),a=_t(()=>i.value>-1&&i.value===s.matched.length-1&&Pm(s.params,n.value.params));function l(c={}){if(d3(c)){const u=t[Ft(e.replace)?"replace":"push"](Ft(e.to)).catch(dr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:_t(()=>n.value.href),isActive:r,isExactActive:a,navigate:l}}function l3(e){return e.length===1?e[0]:e}const c3=jf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Zd,setup(e,{slots:t}){const s=Or(Zd(e)),{options:n}=Bs(vo),i=_t(()=>({[tf(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[tf(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&l3(t.default(s));return e.custom?r:rc("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),u3=c3;function d3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function f3(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Ss(i)||i.length!==n.length||n.some((r,a)=>r!==i[a]))return!1}return!0}function Xd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tf=(e,t,s)=>e??t??s,h3=jf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Bs(Ol),i=_t(()=>e.route||n.value),r=Bs(Jd,0),a=_t(()=>{let u=Ft(r);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),l=_t(()=>i.value.matched[a.value]);ua(Jd,_t(()=>a.value+1)),ua(o3,l),ua(Ol,i);const c=vt();return Zn(()=>[c.value,l.value,e.name],([u,d,f],[h,p,w])=>{d&&(d.instances[f]=u,p&&p!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!Ui(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,d=e.name,f=l.value,h=f&&f.components[d];if(!h)return ef(s.default,{Component:h,route:u});const p=f.props[d],w=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=rc(h,Kt({},w,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return ef(s.default,{Component:A,route:u})||A}}});function ef(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const p3=h3;function m3(e){const t=t3(e.routes,e),s=e.parseQuery||r3,n=e.stringifyQuery||qd,i=e.history,r=qi(),a=qi(),l=qi(),c=Qg(gn);let u=gn;gi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Yo.bind(null,D=>""+D),f=Yo.bind(null,_E),h=Yo.bind(null,Rr);function p(D,tt){let Y,lt;return Im(D)?(Y=t.getRecordMatcher(D),lt=tt):lt=D,t.addRoute(lt,Y)}function w(D){const tt=t.getRecordMatcher(D);tt&&t.removeRoute(tt)}function v(){return t.getRoutes().map(D=>D.record)}function A(D){return!!t.getRecordMatcher(D)}function E(D,tt){if(tt=Kt({},tt||c.value),typeof D=="string"){const x=Qo(s,D,tt.path),B=t.resolve({path:x.path},tt),M=i.createHref(x.fullPath);return Kt(x,B,{params:h(B.params),hash:Rr(x.hash),redirectedFrom:void 0,href:M})}let Y;if(D.path!=null)Y=Kt({},D,{path:Qo(s,D.path,tt.path).path});else{const x=Kt({},D.params);for(const B in x)x[B]==null&&delete x[B];Y=Kt({},D,{params:f(x)}),tt.params=f(tt.params)}const lt=t.resolve(Y,tt),Lt=D.hash||"";lt.params=d(h(lt.params));const m=IE(n,Kt({},D,{hash:CE(Lt),path:lt.path})),b=i.createHref(m);return Kt({fullPath:m,hash:Lt,query:n===qd?a3(D.query):D.query||{}},lt,{redirectedFrom:void 0,href:b})}function L(D){return typeof D=="string"?Qo(s,D,c.value.path):Kt({},D)}function N(D,tt){if(u!==D)return Fi(8,{from:tt,to:D})}function F(D){return X(D)}function K(D){return F(Kt(L(D),{replace:!0}))}function H(D){const tt=D.matched[D.matched.length-1];if(tt&&tt.redirect){const{redirect:Y}=tt;let lt=typeof Y=="function"?Y(D):Y;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=L(lt):{path:lt},lt.params={}),Kt({query:D.query,hash:D.hash,params:lt.path!=null?{}:D.params},lt)}}function X(D,tt){const Y=u=E(D),lt=c.value,Lt=D.state,m=D.force,b=D.replace===!0,x=H(Y);if(x)return X(Kt(L(x),{state:typeof x=="object"?Kt({},Lt,x.state):Lt,force:m,replace:b}),tt||Y);const B=Y;B.redirectedFrom=tt;let M;return!m&&RE(n,lt,Y)&&(M=Fi(16,{to:B,from:lt}),Qt(lt,lt,!0,!1)),(M?Promise.resolve(M):W(B,lt)).catch(O=>$s(O)?$s(O,2)?O:Ut(O):dt(O,B,lt)).then(O=>{if(O){if($s(O,2))return X(Kt({replace:b},L(O.to),{state:typeof O.to=="object"?Kt({},Lt,O.to.state):Lt,force:m}),tt||B)}else O=$(B,lt,!0,b,Lt);return rt(B,lt,O),O})}function st(D,tt){const Y=N(D,tt);return Y?Promise.reject(Y):Promise.resolve()}function z(D){const tt=we.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(D):D()}function W(D,tt){let Y;const[lt,Lt,m]=g3(D,tt);Y=qo(lt.reverse(),"beforeRouteLeave",D,tt);for(const x of lt)x.leaveGuards.forEach(B=>{Y.push(wn(B,D,tt))});const b=st.bind(null,D,tt);return Y.push(b),ie(Y).then(()=>{Y=[];for(const x of r.list())Y.push(wn(x,D,tt));return Y.push(b),ie(Y)}).then(()=>{Y=qo(Lt,"beforeRouteUpdate",D,tt);for(const x of Lt)x.updateGuards.forEach(B=>{Y.push(wn(B,D,tt))});return Y.push(b),ie(Y)}).then(()=>{Y=[];for(const x of m)if(x.beforeEnter)if(Ss(x.beforeEnter))for(const B of x.beforeEnter)Y.push(wn(B,D,tt));else Y.push(wn(x.beforeEnter,D,tt));return Y.push(b),ie(Y)}).then(()=>(D.matched.forEach(x=>x.enterCallbacks={}),Y=qo(m,"beforeRouteEnter",D,tt,z),Y.push(b),ie(Y))).then(()=>{Y=[];for(const x of a.list())Y.push(wn(x,D,tt));return Y.push(b),ie(Y)}).catch(x=>$s(x,8)?x:Promise.reject(x))}function rt(D,tt,Y){l.list().forEach(lt=>z(()=>lt(D,tt,Y)))}function $(D,tt,Y,lt,Lt){const m=N(D,tt);if(m)return m;const b=tt===gn,x=gi?history.state:{};Y&&(lt||b?i.replace(D.fullPath,Kt({scroll:b&&x&&x.scroll},Lt)):i.push(D.fullPath,Lt)),c.value=D,Qt(D,tt,Y,b),Ut()}let ht;function At(){ht||(ht=i.listen((D,tt,Y)=>{if(!Te.listening)return;const lt=E(D),Lt=H(lt);if(Lt){X(Kt(Lt,{replace:!0,force:!0}),lt).catch(dr);return}u=lt;const m=c.value;gi&&FE(Vd(m.fullPath,Y.delta),go()),W(lt,m).catch(b=>$s(b,12)?b:$s(b,2)?(X(Kt(L(b.to),{force:!0}),lt).then(x=>{$s(x,20)&&!Y.delta&&Y.type===Nr.pop&&i.go(-1,!1)}).catch(dr),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),dt(b,lt,m))).then(b=>{b=b||$(lt,m,!1),b&&(Y.delta&&!$s(b,8)?i.go(-Y.delta,!1):Y.type===Nr.pop&&$s(b,20)&&i.go(-1,!1)),rt(lt,m,b)}).catch(dr)}))}let U=qi(),j=qi(),J;function dt(D,tt,Y){Ut(D);const lt=j.list();return lt.length?lt.forEach(Lt=>Lt(D,tt,Y)):console.error(D),Promise.reject(D)}function Tt(){return J&&c.value!==gn?Promise.resolve():new Promise((D,tt)=>{U.add([D,tt])})}function Ut(D){return J||(J=!D,At(),U.list().forEach(([tt,Y])=>D?Y(D):tt()),U.reset()),D}function Qt(D,tt,Y,lt){const{scrollBehavior:Lt}=e;if(!gi||!Lt)return Promise.resolve();const m=!Y&&$E(Vd(D.fullPath,0))||(lt||!Y)&&history.state&&history.state.scroll||null;return Zl().then(()=>Lt(D,tt,m)).then(b=>b&&UE(b)).catch(b=>dt(b,D,tt))}const Vt=D=>i.go(D);let be;const we=new Set,Te={currentRoute:c,listening:!0,addRoute:p,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:v,resolve:E,options:e,push:F,replace:K,go:Vt,back:()=>Vt(-1),forward:()=>Vt(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:j.add,isReady:Tt,install(D){const tt=this;D.component("RouterLink",u3),D.component("RouterView",p3),D.config.globalProperties.$router=tt,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ft(c)}),gi&&!be&&c.value===gn&&(be=!0,F(i.location).catch(Lt=>{}));const Y={};for(const Lt in gn)Object.defineProperty(Y,Lt,{get:()=>c.value[Lt],enumerable:!0});D.provide(vo,tt),D.provide(Dm,Pf(Y)),D.provide(Ol,c);const lt=D.unmount;we.add(D),D.unmount=function(){we.delete(D),we.size<1&&(u=gn,ht&&ht(),ht=null,c.value=gn,be=!1,J=!1),lt()}}};function ie(D){return D.reduce((tt,Y)=>tt.then(()=>z(Y)),Promise.resolve())}return Te}function g3(e,t){const s=[],n=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const l=t.matched[a];l&&(e.matched.find(u=>Ui(u,l))?n.push(l):s.push(l));const c=e.matched[a];c&&(t.matched.find(u=>Ui(u,c))||i.push(c))}return[s,n,i]}function v3(){return Bs(vo)}const y3={class:"container pf-page"},b3={class:"pf-main-content"},w3={class:"pf-body"},A3={class:"pf-sidebar"},E3={class:"pf-side-head"},k3={class:"pf-side-tools"},C3={class:"pf-acc-group"},S3={class:"pf-acc-list"},T3=["onClick"],_3={class:"pf-acc-info"},P3={class:"pf-acc-name"},x3=["title"],I3={class:"pf-acc-balance"},R3={key:0,class:"pf-account-overview"},N3={class:"pf-stats"},L3={class:"pf-stat-card"},D3={class:"pf-stat-value"},B3={class:"pf-stat-card"},O3={class:"pf-stat-card"},M3={class:"pf-stat-card"},U3={class:"pf-sidebar-pie-section"},F3={class:"pf-pie-chart-container"},$3={class:"pf-pie-chart"},V3={viewBox:"0 0 200 200",class:"pf-pie-svg"},H3=["stroke","stroke-dasharray","stroke-dashoffset"],j3={class:"pf-pie-center"},G3={class:"pf-pie-total"},K3={class:"pf-chart-legend"},W3={class:"pf-legend-info"},z3={class:"pf-legend-code"},Y3={class:"pf-legend-value"},Q3={class:"pf-legend-percentage"},q3={class:"pf-main"},J3={class:"pf-hero"},Z3={class:"pf-balance"},X3={class:"pf-tabs"},tk=["onClick"],ek={key:0,class:"pf-analysis"},sk={class:"pf-asset-summary"},nk={class:"pf-summary-header"},ik={class:"pf-summary-stats"},rk={class:"pf-summary-stat"},ak={class:"pf-stat-number"},ok={class:"pf-summary-stat"},lk={class:"pf-summary-stat"},ck={class:"pf-stat-number"},uk={class:"pf-transaction-chart"},dk={class:"pf-chart-header"},fk={class:"pf-chart-controls"},hk={class:"pf-bar-chart-container"},pk={key:0,class:"pf-chart-loading"},mk={key:1,class:"pf-chart-empty"},gk={key:2,class:"pf-bar-chart"},vk={class:"pf-bar-container"},yk={class:"pf-bar-label"},bk={class:"pf-bar-tooltip"},wk={class:"pf-tooltip-buy"},Ak={class:"pf-tooltip-sell"},Ek={class:"pf-tooltip-total"},kk={class:"pf-analysis-grid"},Ck={class:"pf-analysis-card"},Sk={class:"pf-chart-placeholder"},Tk={class:"pf-chart-bars"},_k={class:"pf-chart-bar-label"},Pk={class:"pf-analysis-card"},xk={class:"pf-risk-metrics"},Ik={class:"pf-risk-item"},Rk={class:"pf-risk-value"},Nk={class:"pf-risk-item"},Lk={class:"pf-risk-value"},Dk={key:1,class:"pf-transactions"},Bk={class:"pf-transactions-header"},Ok={key:0,class:"pf-filters"},Mk=["value"],Uk={class:"pf-transactions-list"},Fk={class:"pf-transaction-details"},$k={class:"pf-transaction-title"},Vk={class:"pf-transaction-time"},Hk={class:"pf-transaction-value"},jk={class:"pf-transaction-price"},Gk={class:"pf-transaction-total"},Kk={key:2,class:"pf-projects"},Wk={class:"pf-projects-grid"},zk={class:"pf-project-header"},Yk=["src","alt"],Qk={class:"pf-project-info"},qk={class:"pf-project-metrics"},Jk={class:"pf-project-metric"},Zk={class:"pf-metric-value"},Xk={class:"pf-project-metric"},tC={class:"pf-metric-value"},eC={class:"pf-project-metric"},sC={class:"pf-project-actions"},nC=["onClick"],iC=["onClick"],rC={__name:"PortfolioView",setup(e){const t=v3(),{fullAddress:s,connected:n,nativeBalanceDisplay:i,nativeSymbol:r}=Qn();_t(()=>!0);const a=["Analysis","Transactions","Projects"],l=vt("Analysis");vt("1d");const c=vt("30d"),u=vt(!1),d=vt([]),f=vt(!1),h=vt(!1),p=vt(""),w=vt(""),v=vt(!0),A=vt(""),E=vt([]);function L(){try{const I=localStorage.getItem("walletBoundAccounts");if(I){const P=JSON.parse(I);E.value=P.map((R,Z)=>({address:R,name:`Wallet ${Z+1}`,balance:0})),console.log("📂 Portfolio loaded bound accounts:",E.value)}else s.value?(E.value=[{address:s.value,name:"Main Account",balance:0}],console.log("📂 Portfolio using current connected wallet:",s.value)):(E.value=[{address:"0x1234567890123456789012345678901234567890",name:"Demo Account",balance:1.5}],console.log("📂 Portfolio using demo account for display"));N(),F()}catch(I){console.error("❌ Failed to load bound accounts:",I),E.value=[{address:"0x1234567890123456789012345678901234567890",name:"Demo Account",balance:1.5}],F()}}function N(){E.value.forEach(I=>{if(I.address===s.value&&n.value){const P=i.value;I.balance=parseFloat(P)||0,console.log(`💰 Updated balance for ${I.address}: ${I.balance} ${r.value}`)}else I.balance===0&&(I.balance=Math.random()*2)})}function F(){if(E.value.length===0)return;const I={};E.value.forEach((P,R)=>{R===0?I[P.address]=[{id:1,type:"buy",projectCode:"TYMU",amount:100,price:1,timestamp:Date.now()-36e5},{id:2,type:"buy",projectCode:"SQNB",amount:50,price:1.02,timestamp:Date.now()-72e5}]:R===1?I[P.address]=[{id:3,type:"sell",projectCode:"LZYT",amount:25,price:.98,timestamp:Date.now()-108e5},{id:4,type:"buy",projectCode:"YYD",amount:75,price:1.05,timestamp:Date.now()-144e5}]:I[P.address]=[{id:5,type:"buy",projectCode:"TYMU",amount:200,price:.99,timestamp:Date.now()-18e6}]}),K.value=I,console.log("📊 Portfolio initialized transaction data:",K.value)}const K=vt({}),H=vt([{code:"TYMU",name:"TYMU Property Loan",image:"/pics/TYMU.png",subtitle:"Prime Residential Mortgage Backed Loan",type:"residential",region:"Suburban",risk:"low",targetYield:6.5,currentPrice:1,change:2.5},{code:"SQNB",name:"SQNB Property Loan",image:"/pics/SQNB.png",subtitle:"Commercial Mortgage Loan",type:"commercial",region:"CBD",risk:"medium",targetYield:7.2,currentPrice:1.02,change:-1.2},{code:"LZYT",name:"LZYT Property Loan",image:"/pics/LZYT.png",subtitle:"Suburban Residential Loan",type:"residential",region:"Suburban",risk:"medium",targetYield:6.9,currentPrice:.98,change:.8},{code:"YYD",name:"YYD Property Loan",image:"/pics/YYD.png",subtitle:"CBD Apartment Mortgage",type:"residential",region:"CBD",risk:"low",targetYield:6.1,currentPrice:1.05,change:3.1}]),X=_t(()=>{let I=[];return A.value?I=K.value[A.value]||[]:I=[{id:1,type:"buy",projectCode:"TYMU",amount:100,price:1,timestamp:Date.now()-36e5},{id:2,type:"buy",projectCode:"SQNB",amount:50,price:1.02,timestamp:Date.now()-72e5},{id:3,type:"sell",projectCode:"LZYT",amount:25,price:.98,timestamp:Date.now()-108e5},{id:4,type:"buy",projectCode:"YYD",amount:75,price:1.05,timestamp:Date.now()-144e5}],p.value&&(I=I.filter(P=>P.type===p.value)),w.value&&(I=I.filter(P=>P.projectCode===w.value)),I.sort((P,R)=>R.timestamp-P.timestamp)}),st=()=>{try{const I=JSON.parse(localStorage.getItem("walletActivity")||"[]");return console.log("📊 PortfolioView: 获取到WalletView活动数据:",I.length,"条记录"),I}catch(I){return console.error("❌ PortfolioView: 获取wallet activity数据失败:",I),[]}},z=I=>{if(!I)return[];const R=st().filter(it=>it.type==="buy"||it.type==="sell");console.log("📊 PortfolioView: 账户",I,"的交易活动:",R.length,"条");const Z=new Map;return R.forEach(it=>{const Et=it.project_code||it.projectCode;Z.has(Et)||Z.set(Et,{code:Et,amount:0,totalCost:0,totalInvestment:0});const Bt=Z.get(Et),le=H.value.find(Ye=>Ye.code===Et),re=le?le.currentPrice:1;it.type==="buy"?(Bt.amount+=it.amount,Bt.totalCost+=it.amount*re,Bt.totalInvestment+=it.amount*(it.price||re)):(Bt.amount-=it.amount,Bt.totalCost-=it.amount*re,Bt.totalInvestment-=it.amount*(it.price||re))}),Array.from(Z.values()).filter(it=>it.amount>0).map(it=>{const Et=H.value.find(Ye=>Ye.code===it.code),Bt=Et?Et.currentPrice:1,le=it.amount*Bt,re=it.totalInvestment>0?(le-it.totalInvestment)/it.totalInvestment*100:0;return{...it,currentPrice:Bt,change:re}})},W=I=>{const R=z(I).reduce((Z,it)=>Z+(it.totalInvestment||0),0);return console.log("💰 PortfolioView: 账户",I,"总投资:",R),R},rt=I=>{const R=z(I).reduce((Z,it)=>Z+it.amount*it.currentPrice,0);return console.log("📈 PortfolioView: 账户",I,"当前价值:",R),R},$=I=>{const P=rt(I),R=W(I),Z=P-R;return console.log("📊 PortfolioView: 账户",I,"总收益:",Z,"(当前价值:",P,"- 总投资:",R,")"),Z},ht=I=>{const P=W(I),R=$(I),Z=P>0?R/P*100:0;return console.log("📈 PortfolioView: 账户",I,"ROI:",Z.toFixed(2)+"%","(总收益:",R,"/ 总投资:",P,")"),Z},At=_t(()=>A.value?z(A.value):[{code:"TYMU",amount:100,totalCost:100,currentPrice:1,change:2.5},{code:"SQNB",amount:50,totalCost:51,currentPrice:1.02,change:-1.2},{code:"LZYT",amount:25,totalCost:24.5,currentPrice:.98,change:.8},{code:"YYD",amount:75,totalCost:78.75,currentPrice:1.05,change:3.1}]);_t(()=>A.value?W(A.value):254.25);const U=_t(()=>A.value?rt(A.value):267.75),j=_t(()=>A.value?$(A.value):13.5),J=_t(()=>A.value?ht(A.value):5.31),dt=_t(()=>{if(!A.value)return H.value;const P=z(A.value).map(R=>R.code);return H.value.filter(R=>P.includes(R.code))}),Tt=_t(()=>{const I={low:1,medium:2,high:3},P=At.value.reduce((it,Et)=>{const Bt=H.value.find(re=>re.code===Et.code),le=Bt&&I[Bt.risk]||2;return it+le*Et.amount*Et.currentPrice},0),R=U.value;if(R===0)return"Low";const Z=P/R;return Z<=1.5?"Low":Z<=2.5?"Medium":"High"}),Ut=_t(()=>{const I=At.value.length,P=H.value.length;return P>0?Math.min(I/P*100,100):0}),Qt=_t(()=>{const I=[];return Object.values(K.value).forEach(P=>{I.push(...P)}),I.length===0?[{id:1,type:"buy",projectCode:"TYMU",amount:100,price:1,timestamp:Date.now()-36e5},{id:2,type:"buy",projectCode:"SQNB",amount:50,price:1.02,timestamp:Date.now()-72e5},{id:3,type:"sell",projectCode:"LZYT",amount:25,price:.98,timestamp:Date.now()-108e5},{id:4,type:"buy",projectCode:"YYD",amount:75,price:1.05,timestamp:Date.now()-144e5}]:I}),Vt=_t(()=>d.value.length===0?1:Math.max(...d.value.map(I=>I.buy+I.sell)));_t(()=>{const I=[];j.value>0?I.push({id:1,icon:"📈",text:`Portfolio is up ${J.value.toFixed(1)}%. Consider taking some profits.`}):I.push({id:1,icon:"📉",text:`Portfolio is down ${Math.abs(J.value).toFixed(1)}%. Consider dollar-cost averaging.`}),Ut.value<50&&I.push({id:2,icon:"⚠️",text:"Low diversification. Consider spreading risk across more projects."});const P=At.value.reduce((R,Z)=>Z.change>R.change?Z:R,At.value[0]||{change:0,code:""});return P.change>5&&I.push({id:3,icon:"🎯",text:`${P.code} is performing well (+${P.change.toFixed(1)}%). Consider increasing allocation.`}),I});const be=I=>{A.value=I},we=()=>{alert("请在Wallet页面绑定新的钱包账户。Portfolio只显示已绑定的钱包。")},Te=I=>I?`${I.slice(0,6)}...${I.slice(-4)}`:"—",ie=I=>{const P=E.value.find(R=>R.address===I);if(!P)return"0.0000";if(I===s.value&&n.value){const R=i.value;return parseFloat(R).toFixed(4)}return P.balance.toFixed(4)},D=()=>{H.value.forEach(I=>{const P=(Math.random()-.5)*.1;I.currentPrice*=1+P,I.change=P*100})},tt=async()=>{u.value=!0;try{await Y()}catch(I){console.error("Failed to refresh transaction data:",I)}finally{u.value=!1}},Y=async()=>{const I=lt(c.value),P=new Date,R=new Date(P.getTime()-I*24*60*60*1e3),Z=new Map;for(let it=0;it<I;it++){const Et=new Date(R.getTime()+it*24*60*60*1e3),Bt=Et.toISOString().split("T")[0];Z.set(Bt,{date:Lt(Et),buy:0,sell:0})}Qt.value.forEach(it=>{const Bt=new Date(it.timestamp).toISOString().split("T")[0];if(Z.has(Bt)){const le=Z.get(Bt);it.type==="buy"?le.buy++:it.type==="sell"&&le.sell++}}),d.value=Array.from(Z.values()).sort((it,Et)=>new Date(it.date)-new Date(Et.date))},lt=I=>{switch(I){case"7d":return 7;case"30d":return 30;case"90d":return 90;case"1y":return 365;default:return 30}},Lt=I=>{const R=new Date-I,Z=Math.floor(R/(1e3*60*60*24));return Z===0?"Today":Z===1?"Yesterday":Z<7?`${Z}d ago`:Z<30?`${Math.floor(Z/7)}w ago`:I.toLocaleDateString("en-US",{month:"short",day:"numeric"})},m=(I,P)=>P===0?0:Math.max(I/P*100,I>0?5:0),b=I=>{const R=Date.now()-I,Z=Math.floor(R/6e4),it=Math.floor(R/36e5),Et=Math.floor(R/864e5);return Et>0?`${Et}d ago`:it>0?`${it}h ago`:Z>0?`${Z}m ago`:"Just now"},x=I=>{const P=Math.max(...At.value.map(R=>Math.abs(R.change)),1);return Math.min(Math.abs(I)/P*100,100)},B=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],M=I=>B[I%B.length],O=I=>U.value===0?0:I.amount*I.currentPrice/U.value*100,nt=I=>{const P=O(I),R=2*Math.PI*80;return`${P/100*R} ${R}`},q=I=>{let P=0;for(let R=0;R<I;R++){const Z=At.value[R],it=O(Z),Et=2*Math.PI*80;P-=it/100*Et}return P},Q=I=>{t.push({name:"tradeProject",params:{code:I}})},G=I=>{t.push({name:"detail",params:{code:I}})};let gt;Vi(()=>{L(),E.value.length>0&&(A.value=E.value[0].address),tt(),gt=setInterval(D,3e4),window.addEventListener("walletActivityUpdated",at);const P=st().filter(R=>R.type==="buy"||R.type==="sell");console.log("🚀 PortfolioView初始化: 检测到WalletView交易活动数据:",P.length,"条"),P.length>0&&(console.log("📊 PortfolioView: 交易活动详情:",P),console.log("💰 PortfolioView: 计算的总投资:",W(A.value)),console.log("📈 PortfolioView: 计算的当前价值:",rt(A.value)),console.log("📊 PortfolioView: 计算的总收益:",$(A.value)),console.log("📈 PortfolioView: 计算的ROI:",ht(A.value)))});const at=I=>{console.log("🔄 PortfolioView: 检测到WalletView交易活动更新:",I.detail);const R=st().filter(Z=>Z.type==="buy"||Z.type==="sell");console.log("📊 PortfolioView: 当前交易活动数据:",R.length,"条"),console.log("💰 PortfolioView: 计算的总投资:",W(A.value)),console.log("📈 PortfolioView: 计算的当前价值:",rt(A.value)),console.log("📊 PortfolioView: 计算的总收益:",$(A.value)),console.log("📈 PortfolioView: 计算的ROI:",ht(A.value))};return tc(()=>{gt&&clearInterval(gt),window.removeEventListener("walletActivityUpdated",at)}),Zn(c,()=>{tt()}),Zn([s,i,n],()=>{console.log("🔄 Wallet state changed, updating balances..."),N()},{deep:!0}),window.addEventListener("storage",I=>{I.key==="walletBoundAccounts"&&(console.log("🔄 Detected wallet bound accounts change, reloading..."),L(),E.value.length>0&&!E.value.find(P=>P.address===A.value)&&(A.value=E.value[0].address))}),(I,P)=>(S(),T("div",y3,[o("div",b3,[o("div",w3,[o("aside",A3,[o("div",E3,[P[6]||(P[6]=o("h2",null,"Bound Wallets",-1)),o("div",k3,[o("span",{class:"gear",onClick:P[0]||(P[0]=R=>f.value=!f.value)},"⚙️"),o("span",{class:"plus",onClick:we,title:"Add wallets in Wallet page"},"＋")])]),o("div",C3,[o("button",{class:"pf-acc-title",onClick:P[1]||(P[1]=R=>v.value=!v.value)},[P[7]||(P[7]=o("span",null,"Decentralized",-1)),o("span",{class:Ct(["caret",{open:v.value}])},"▾",2)]),It(o("div",S3,[(S(!0),T(xt,null,Ae(E.value,R=>(S(),T("div",{key:R.address,class:Ct(["pf-acc-item",{active:A.value===R.address}]),onClick:Z=>be(R.address)},[P[8]||(P[8]=o("div",{class:"pf-avatar"},null,-1)),o("div",_3,[o("div",P3,y(R.name||"Account"),1),o("div",{class:"pf-addr",title:R.address},y(Te(R.address)),9,x3),o("div",I3,y(ie(R.address))+" "+y(Ft(r)),1)])],10,T3))),128))],512),[[E0,v.value]])]),A.value?(S(),T("div",R3,[P[16]||(P[16]=o("h3",null,"Account Overview",-1)),o("div",N3,[o("div",L3,[P[9]||(P[9]=o("div",{class:"pf-stat-label"},"Total Investment",-1)),o("div",D3,"A$"+y(W(A.value).toFixed(2)),1)]),o("div",B3,[P[10]||(P[10]=o("div",{class:"pf-stat-label"},"Current Value",-1)),o("div",{class:Ct(["pf-stat-value",{positive:$(A.value)>=0,negative:$(A.value)<0}])}," A$"+y(rt(A.value).toFixed(2)),3)]),o("div",O3,[P[11]||(P[11]=o("div",{class:"pf-stat-label"},"Total Gain/Loss",-1)),o("div",{class:Ct(["pf-stat-value",{positive:$(A.value)>=0,negative:$(A.value)<0}])},y($(A.value)>=0?"+":"")+"A$"+y($(A.value).toFixed(2)),3)]),o("div",M3,[P[12]||(P[12]=o("div",{class:"pf-stat-label"},"ROI",-1)),o("div",{class:Ct(["pf-stat-value",{positive:ht(A.value)>=0,negative:ht(A.value)<0}])},y(ht(A.value)>=0?"+":"")+y(ht(A.value).toFixed(2))+"% ",3)])]),o("div",U3,[P[15]||(P[15]=o("div",{class:"pf-chart-header"},[o("h4",null,"Asset Distribution")],-1)),o("div",F3,[o("div",$3,[(S(),T("svg",V3,[P[13]||(P[13]=o("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#e5e7eb","stroke-width":"20"},null,-1)),(S(!0),T(xt,null,Ae(At.value,(R,Z)=>(S(),T("circle",{key:R.code,cx:"100",cy:"100",r:"80",fill:"none",stroke:M(Z),"stroke-width":"20","stroke-dasharray":nt(R),"stroke-dashoffset":q(Z),transform:"rotate(-90 100 100)"},null,8,H3))),128))])),o("div",j3,[o("div",G3,"A$"+y(U.value.toFixed(0)),1),P[14]||(P[14]=o("div",{class:"pf-pie-label"},"Total Value",-1))])]),o("div",K3,[(S(!0),T(xt,null,Ae(At.value,(R,Z)=>(S(),T("div",{key:R.code,class:"pf-legend-item"},[o("div",{class:"pf-legend-color",style:Rs({backgroundColor:M(Z)})},null,4),o("div",W3,[o("div",z3,y(R.code),1),o("div",Y3,"A$"+y((R.amount*R.currentPrice).toFixed(0)),1),o("div",Q3,y(O(R).toFixed(1))+"%",1)])]))),128))])])])])):et("",!0)]),o("main",q3,[o("div",J3,[o("div",Z3," A$"+y(Ft(i)),1)]),o("nav",X3,[(S(),T(xt,null,Ae(a,R=>o("button",{key:R,class:Ct(["pf-tab",{active:l.value===R}]),onClick:Z=>l.value=R},y(R),11,tk)),64))]),l.value==="Analysis"?(S(),T("div",ek,[o("div",sk,[o("div",nk,[P[20]||(P[20]=o("h3",null,"Asset Summary",-1)),o("div",ik,[o("div",rk,[o("span",ak,y(At.value.length),1),P[17]||(P[17]=o("span",{class:"pf-stat-label"},"Assets",-1))]),o("div",ok,[o("span",{class:Ct(["pf-stat-number",{positive:j.value>=0,negative:j.value<0}])},y(j.value>=0?"+":"")+y(J.value.toFixed(1))+"% ",3),P[18]||(P[18]=o("span",{class:"pf-stat-label"},"Total Return",-1))]),o("div",lk,[o("span",ck,"A$"+y(U.value.toFixed(0)),1),P[19]||(P[19]=o("span",{class:"pf-stat-label"},"Total Value",-1))])])]),o("div",uk,[o("div",dk,[P[22]||(P[22]=o("h4",null,"Transaction History",-1)),o("div",fk,[It(o("select",{"onUpdate:modelValue":P[2]||(P[2]=R=>c.value=R),class:"pf-select"},[...P[21]||(P[21]=[o("option",{value:"7d"},"Last 7 Days",-1),o("option",{value:"30d"},"Last 30 Days",-1),o("option",{value:"90d"},"Last 3 Months",-1),o("option",{value:"1y"},"Last Year",-1)])],512),[[De,c.value]]),o("button",{onClick:tt,class:"pf-refresh-btn"},"🔄")])]),o("div",hk,[u.value?(S(),T("div",pk,[...P[23]||(P[23]=[o("div",{class:"pf-spinner"},null,-1),o("span",null,"Loading transaction data...",-1)])])):d.value.length===0?(S(),T("div",mk,[...P[24]||(P[24]=[o("div",{class:"pf-empty-icon"},"📊",-1),o("p",null,"No transaction data available",-1)])])):(S(),T("div",gk,[o("div",{class:"pf-chart-bars",style:Rs({"--bar-count":d.value.length})},[(S(!0),T(xt,null,Ae(d.value,(R,Z)=>(S(),T("div",{key:Z,class:"pf-bar-item"},[o("div",vk,[o("div",{class:"pf-bar-buy",style:Rs({height:m(R.buy,Vt.value)+"%"})},null,4),o("div",{class:"pf-bar-sell",style:Rs({height:m(R.sell,Vt.value)+"%"})},null,4)]),o("div",yk,y(R.date),1),o("div",bk,[o("div",wk,"Buy: "+y(R.buy),1),o("div",Ak,"Sell: "+y(R.sell),1),o("div",Ek,"Total: "+y(R.buy+R.sell),1)])]))),128))],4),P[25]||(P[25]=ne('<div class="pf-chart-legend" data-v-9e2d842a><div class="pf-legend-item" data-v-9e2d842a><div class="pf-legend-color pf-buy-color" data-v-9e2d842a></div><span data-v-9e2d842a>Buy Transactions</span></div><div class="pf-legend-item" data-v-9e2d842a><div class="pf-legend-color pf-sell-color" data-v-9e2d842a></div><span data-v-9e2d842a>Sell Transactions</span></div></div>',1))]))])])]),o("div",kk,[o("div",Ck,[P[26]||(P[26]=o("h4",null,"Return Distribution",-1)),o("div",Sk,[o("div",Tk,[(S(!0),T(xt,null,Ae(At.value,R=>(S(),T("div",{key:R.code,class:"pf-chart-bar"},[o("div",{class:"pf-chart-bar-fill",style:Rs({height:x(R.change)+"%"})},null,4),o("div",_k,y(R.code),1)]))),128))])])]),o("div",Pk,[P[29]||(P[29]=o("h4",null,"Risk Assessment",-1)),o("div",xk,[o("div",Ik,[P[27]||(P[27]=o("span",{class:"pf-risk-label"},"Portfolio Risk",-1)),o("span",Rk,y(Tt.value),1)]),o("div",Nk,[P[28]||(P[28]=o("span",{class:"pf-risk-label"},"Diversification",-1)),o("span",Lk,y(Ut.value)+"%",1)])])])])])):et("",!0),l.value==="Transactions"?(S(),T("div",Dk,[o("div",Bk,[P[30]||(P[30]=o("h3",null,"Recent Transactions",-1)),o("button",{class:"pf-filter-btn",onClick:P[3]||(P[3]=R=>h.value=!h.value)}," Filter ")]),h.value?(S(),T("div",Ok,[It(o("select",{"onUpdate:modelValue":P[4]||(P[4]=R=>p.value=R),class:"pf-filter-select"},[...P[31]||(P[31]=[o("option",{value:""},"All Types",-1),o("option",{value:"buy"},"Buy",-1),o("option",{value:"sell"},"Sell",-1)])],512),[[De,p.value]]),It(o("select",{"onUpdate:modelValue":P[5]||(P[5]=R=>w.value=R),class:"pf-filter-select"},[P[32]||(P[32]=o("option",{value:""},"All Projects",-1)),(S(!0),T(xt,null,Ae(H.value,R=>(S(),T("option",{key:R.code,value:R.code},y(R.code),9,Mk))),128))],512),[[De,w.value]])])):et("",!0),o("div",Uk,[(S(!0),T(xt,null,Ae(X.value,R=>(S(),T("div",{key:R.id,class:"pf-transaction-item"},[o("div",{class:Ct(["pf-transaction-icon",R.type])},y(R.type==="buy"?"📈":"📉"),3),o("div",Fk,[o("div",$k,y(R.type.toUpperCase())+" "+y(R.amount)+" "+y(R.projectCode),1),o("div",Vk,y(b(R.timestamp)),1)]),o("div",Hk,[o("div",jk,"A$"+y(R.price.toFixed(2)),1),o("div",Gk,"A$"+y((R.amount*R.price).toFixed(2)),1)])]))),128))])])):et("",!0),l.value==="Projects"?(S(),T("div",Kk,[o("div",Wk,[(S(!0),T(xt,null,Ae(dt.value,R=>(S(),T("div",{key:R.code,class:"pf-project-card"},[o("div",zk,[o("img",{src:R.image,alt:R.code,class:"pf-project-image"},null,8,Yk),o("div",Qk,[o("h4",null,y(R.code),1),o("p",null,y(R.subtitle),1)])]),o("div",qk,[o("div",Jk,[P[33]||(P[33]=o("span",{class:"pf-metric-label"},"Current Price",-1)),o("span",Zk,"A$"+y(R.currentPrice),1)]),o("div",Xk,[P[34]||(P[34]=o("span",{class:"pf-metric-label"},"Target Yield",-1)),o("span",tC,y(R.targetYield)+"%",1)]),o("div",eC,[P[35]||(P[35]=o("span",{class:"pf-metric-label"},"Risk Level",-1)),o("span",{class:Ct(["pf-metric-value","risk-"+R.risk])},y(R.risk),3)])]),o("div",sC,[o("button",{class:"pf-project-btn",onClick:Z=>Q(R.code)},"Trade",8,nC),o("button",{class:"pf-project-btn pf-project-btn-secondary",onClick:Z=>G(R.code)},"Details",8,iC)])]))),128))])])):et("",!0)])])])]))}},Bm=zt(rC,[["__scopeId","data-v-9e2d842a"]]),Om="userInfo",Ml={name:"",email:"",phone:"",firstName:"",lastName:"",dob:"1990-01-01",country:"US",docType:"passport",agreeEmailUpdates:!1};function Lr(){try{const e=localStorage.getItem(Om);if(e){const t=JSON.parse(e);return{...Ml,...t}}}catch(e){console.error("Failed to get user info:",e)}return{...Ml}}function Mm(e){try{const t={...Ml,...e};localStorage.setItem(Om,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("user-info-changed",{detail:t}))}catch(t){console.error("Failed to set user info:",t)}}function Um(){return Lr().name||"User"}function aC(){return Lr().email||""}function oC(){return Um().charAt(0).toUpperCase()||"U"}function Fm(e){const t=e.trim().split(" "),s=t[0]||"",n=t.slice(1).join(" ")||"";return{firstName:s,lastName:n}}function lC(e){const t={name:e.user_name||"",email:e.user_email||"",phone:e.user_phone||"",agreeEmailUpdates:e.agree_email_updates||!1,...Fm(e.user_name||"")};Mm(t)}function cC(e){const t=Lr();if(e.user_name){t.name=e.user_name;const{firstName:s,lastName:n}=Fm(e.user_name);t.firstName=s,t.lastName=n}e.user_email&&(t.email=e.user_email),e.user_phone&&(t.phone=e.user_phone),Mm(t)}const sf="user-info-changed",uC="/icons/signup-icon1.png",dC={name:"LoginView",emits:["notify","navigate"],data(){return{user_email:"",user_password:"",remember:!1,loginStatus:!1,loginStatusMessage:"",loginStatusClass:"",loading:!1}},mounted(){localStorage.getItem("isLoggedIn")==="true"&&(this.loginStatus=!0,this.loginStatusClass="status success")},methods:{async submitLogin(){if(!this.user_email||!this.user_password){this.$emit("notify","Please enter email and password");return}this.loading=!0,this.loginStatus=!0,this.loginStatusClass="status",this.loginStatusMessage="Logging in...";try{const t=await(await fetch("http://localhost:3000/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:this.user_email,user_password:this.user_password})})).json();t.status===0?(this.loginStatusClass="status success",this.loginStatusMessage="Login successful!",localStorage.setItem("isLoggedIn","true"),localStorage.setItem("token",t.token),this.remember&&localStorage.setItem("remember_email",this.user_email),this.saveUserInfo(t),window.dispatchEvent(new CustomEvent("auth-changed")),this.$emit("notify","Login successful!"),setTimeout(()=>{this.$router.push("/home")},1e3)):(this.loginStatusClass="status error",this.loginStatusMessage=`Login failed: ${t.message}`,this.$emit("notify",t.message))}catch(e){this.loginStatusClass="status error",this.loginStatusMessage=`Network error: ${e.message}`,this.$emit("notify",`Network error: ${e.message}`)}finally{this.loading=!1}},saveUserInfo(e){try{cC({user_email:this.user_email,user_name:e.user_name||"",...e}),console.log("User info saved from login:",this.user_email)}catch(t){console.error("Failed to save user info from login:",t)}}}},fC={class:"auth-card"},hC={class:"auth-row"},pC={class:"auth-check"},mC=["disabled"],gC={class:"auth-alt"};function vC(e,t,s,n,i,r){return S(),T("div",fC,[t[10]||(t[10]=o("div",{class:"auth-logo"},[o("img",{src:uC,alt:"Mortgage RWA"})],-1)),t[11]||(t[11]=o("h1",{class:"auth-title"},"Login Your Account",-1)),t[12]||(t[12]=o("p",{class:"auth-sub"},"Welcome to Mortgage RWA",-1)),i.loginStatus?(S(),T("div",{key:0,class:Ct(["status",i.loginStatusClass])},y(i.loginStatusMessage),3)):et("",!0),o("form",{class:"auth-form",onSubmit:t[5]||(t[5]=St((...a)=>r.submitLogin&&r.submitLogin(...a),["prevent"]))},[t[8]||(t[8]=o("label",{for:"lemail",class:"auth-label"},"Email",-1)),It(o("input",{id:"lemail",type:"email",class:"input auth-input",placeholder:"Enter your email","onUpdate:modelValue":t[0]||(t[0]=a=>i.user_email=a),required:""},null,512),[[ye,i.user_email,void 0,{trim:!0}]]),t[9]||(t[9]=o("label",{for:"lpass",class:"auth-label"},"Password",-1)),It(o("input",{id:"lpass",type:"password",class:"input auth-input",placeholder:"••••••••","onUpdate:modelValue":t[1]||(t[1]=a=>i.user_password=a),required:""},null,512),[[ye,i.user_password]]),o("div",hC,[o("label",pC,[It(o("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=a=>i.remember=a)},null,512),[[ul,i.remember]]),t[6]||(t[6]=o("span",null,"Remember for 30 days",-1))]),o("a",{href:"#",class:"auth-link",onClick:t[3]||(t[3]=St(a=>e.$emit("navigate","forgot"),["prevent"]))},"Forgot password")]),o("button",{class:"btn orange auth-submit",type:"submit",disabled:i.loading},y(i.loading?"Logging in...":"Login"),9,mC),o("p",gC,[t[7]||(t[7]=pt(" Don't have an account? ",-1)),o("a",{href:"#",class:"auth-link",onClick:t[4]||(t[4]=St(a=>e.$emit("navigate","signup"),["prevent"]))},"Sign up")])],32)])}const $m=zt(dC,[["render",vC],["__scopeId","data-v-11931b5a"]]);function yC(){const e=Date.now(),t=Math.random().toString(36).slice(2,7);return`user${e}${t}`}const bC={name:"SignupView",emits:["notify","navigate"],data(){return{user_email:"",user_password:"",user_name:"",user_phone:"",agreeTerms:!1,agreeEmailUpdates:!1,signupStatus:!1,signupStatusMessage:"",signupStatusClass:"",loading:!1}},methods:{generateUserId(){return yC()},async submitSignup(){this.clearFieldErrors();const e={user_email:this.user_email?.trim(),user_password:this.user_password,user_name:this.user_name?.trim(),user_phone:this.user_phone?.trim(),user_id:this.generateUserId()};console.log("🔍 注册表单数据:",e);const t=this.validateForm(e);if(this.agreeTerms||t.push("Please agree to the terms and conditions"),t.length>0){this.$emit("notify",`Validation errors: ${t.join(", ")}`),this.showFieldErrors(e);return}this.loading=!0,this.signupStatus=!0,this.signupStatusClass="status",this.signupStatusMessage="Registering...";try{console.log("🚀 发送注册请求:",e);const n=await(await fetch("http://localhost:3000/user/reguser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();n.status===0?(this.signupStatusClass="status success",this.signupStatusMessage=`Registration successful! User: ${this.user_email}`,this.saveUserInfo(),console.log("✅ Registration successful!"),console.log("📧 Email:",this.user_email),console.log("👤 Name:",this.user_name),console.log("📱 Phone:",this.user_phone),console.log("💾 User data saved to MySQL user table"),this.$emit("notify",n.message||"Registration successful! Please login to continue."),setTimeout(()=>{this.$router.push("/login")},1500)):(this.signupStatusClass="status error",this.signupStatusMessage=`Registration failed: ${n.message}`,console.error("❌ Registration failed:",n.message),console.error("🔍 Error details: status=",n.status),this.$emit("notify",n.message))}catch(s){this.signupStatusClass="status error",this.signupStatusMessage=`Network error: ${s.message}`,console.error("🌐 Network error:",s.message),console.error("🔍 Error type:",s.name),s.name==="TypeError"&&s.message.includes("fetch")?(console.error("🔌 Check if backend server is running on localhost:3000"),this.$emit("notify","Network error: Please check if the server is running")):this.$emit("notify",`Network error: ${s.message}`)}finally{this.loading=!1}},saveUserInfo(){try{lC({user_name:this.user_name,user_email:this.user_email,user_phone:this.user_phone,agree_email_updates:this.agreeEmailUpdates}),console.log("User info saved:",this.user_name,this.user_email,this.user_phone),console.log("Email updates preference:",this.agreeEmailUpdates)}catch(e){console.error("Failed to save user info:",e)}},validateForm(e){const t=[];return e.user_email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.user_email)||t.push("Invalid email format"):t.push("Email is required"),e.user_password?e.user_password.length<6&&t.push("Password must be at least 6 characters"):t.push("Password is required"),e.user_name&&e.user_name.length<2&&t.push("Name must be at least 2 characters if provided"),e.user_phone?this.isValidPhone(e.user_phone)||t.push("Invalid phone number format"):t.push("Phone number is required"),t},showFieldErrors(e){(!e.user_email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.user_email))&&this.showFieldError("semail","Invalid email format"),(!e.user_password||e.user_password.length<6)&&this.showFieldError("spass","Password must be at least 6 characters"),e.user_name&&e.user_name.length<2&&this.showFieldError("sname","Name must be at least 2 characters if provided"),(!e.user_phone||!this.isValidPhone(e.user_phone))&&this.showFieldError("sphone","Invalid phone number format")},showFieldError(e,t){const s=document.getElementById(e);if(s){s.classList.add("error");const n=document.createElement("div");n.className="error-message",n.textContent=t,s.parentNode.appendChild(n)}},clearFieldErrors(){document.querySelectorAll(".auth-input").forEach(e=>{e.classList.remove("error")}),document.querySelectorAll(".error-message").forEach(e=>{e.remove()})},isValidPhone(e){return/^[\+]?[1-9][\d]{0,15}$/.test(e.replace(/[\s\-\(\)]/g,""))},goToTerms(){this.$router.push("/terms")},goToPrivacy(){this.$router.push("/privacy")}}},wC={class:"auth-card"},AC={key:0,class:"modal-mask"},EC={class:"modal-wrapper"},kC={class:"modal-container"},CC={class:"auth-row"},SC={class:"auth-check"},TC={class:"auth-row"},_C={class:"auth-check"},PC=["disabled"],xC={class:"auth-alt"};function IC(e,t,s,n,i,r){return S(),T("div",wC,[e.showModal?(S(),T("div",AC,[o("div",EC,[o("div",kC,[o("h3",null,y(e.modalTitle),1),o("p",null,y(e.modalMessage),1),o("button",{class:"btn orange",onClick:t[0]||(t[0]=(...a)=>e.handleModalAction&&e.handleModalAction(...a))},y(e.modalButtonText),1)])])])):et("",!0),t[19]||(t[19]=o("div",{class:"auth-logo"},[o("img",{src:Ah,alt:"Mortgage RWA"})],-1)),t[20]||(t[20]=o("h1",{class:"auth-title"},"Create an account",-1)),i.signupStatus?(S(),T("div",{key:1,class:Ct(["status",i.signupStatusClass])},y(i.signupStatusMessage),3)):et("",!0),o("form",{class:"auth-form",onSubmit:t[10]||(t[10]=St((...a)=>r.submitSignup&&r.submitSignup(...a),["prevent"]))},[t[15]||(t[15]=o("label",{for:"semail",class:"auth-label"},"Email",-1)),It(o("input",{id:"semail","onUpdate:modelValue":t[1]||(t[1]=a=>i.user_email=a),type:"email",class:"input auth-input",placeholder:"Enter your email",required:""},null,512),[[ye,i.user_email,void 0,{trim:!0}]]),t[16]||(t[16]=o("label",{for:"spass",class:"auth-label"},"Password",-1)),It(o("input",{id:"spass","onUpdate:modelValue":t[2]||(t[2]=a=>i.user_password=a),type:"password",class:"input auth-input",placeholder:"Enter your password",required:""},null,512),[[ye,i.user_password]]),t[17]||(t[17]=o("label",{for:"sname",class:"auth-label"},"Full Name",-1)),It(o("input",{id:"sname","onUpdate:modelValue":t[3]||(t[3]=a=>i.user_name=a),type:"text",class:"input auth-input",placeholder:"Enter your name"},null,512),[[ye,i.user_name,void 0,{trim:!0}]]),t[18]||(t[18]=o("label",{for:"sphone",class:"auth-label"},"Phone number",-1)),It(o("input",{id:"sphone","onUpdate:modelValue":t[4]||(t[4]=a=>i.user_phone=a),type:"tel",class:"input auth-input",placeholder:"Enter your phone number",required:""},null,512),[[ye,i.user_phone,void 0,{trim:!0}]]),o("div",CC,[o("label",SC,[It(o("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>i.agreeTerms=a)},null,512),[[ul,i.agreeTerms]]),o("span",null,[t[11]||(t[11]=pt("I agree to the ",-1)),o("a",{href:"#",onClick:t[6]||(t[6]=St((...a)=>r.goToTerms&&r.goToTerms(...a),["prevent"]))},"Terms"),t[12]||(t[12]=pt(" and ",-1)),o("a",{href:"#",onClick:t[7]||(t[7]=St((...a)=>r.goToPrivacy&&r.goToPrivacy(...a),["prevent"]))},"Privacy Policy.")])])]),o("div",TC,[o("label",_C,[It(o("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=a=>i.agreeEmailUpdates=a)},null,512),[[ul,i.agreeEmailUpdates]]),t[13]||(t[13]=o("span",null,"I want to receive e-mail updates from RWA. ",-1))])]),o("button",{class:"btn orange auth-submit",type:"submit",disabled:i.loading||!i.agreeTerms},y(i.loading?"registering...":"Sign up"),9,PC),o("p",xC,[t[14]||(t[14]=pt(" Already have an account? ",-1)),o("a",{href:"#",class:"auth-link",onClick:t[9]||(t[9]=St(a=>e.go("/login"),["prevent"]))},"Log in")])],32)])}const Vm=zt(bC,[["render",IC],["__scopeId","data-v-f455fb21"]]),RC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://8.138.127.3:3000",VITE_API_LOGIN_URL:"http://8.138.127.3:3000/user/login",VITE_API_SIGNUP_URL:"http://8.138.127.3:3000/user/reguser",VITE_API_TSC_URL:"http://8.138.127.3:3000/user/transactionhistory",VITE_INTEREST_TOKEN_ADDRESS:"0xE6aeE4a898c6d99033ee5380Df407C5DD470fb17",VITE_KYC_REGISTRY_ADDRESS:"0x4533f47BE0ce8b80F7bbdF02939f81F4A15b7A45",VITE_LOAN_ISSUER_ADDRESS:"0x13159e6417D98528C220b12Ec4950D5A343E5eAA",VITE_PRINCIPAL_TOKEN_ADDRESS:"0x45b1eCb3D9af651244eC656ed15B86404924c354"},ve=(e,t)=>RC[e]||t;ve("VITE_KYC_REGISTRY_ADDRESS","0x4533f47BE0ce8b80F7bbdF02939f81F4A15b7A45"),ve("VITE_LOAN_ISSUER_ADDRESS","0x13159e6417D98528C220b12Ec4950D5A343E5eAA"),ve("VITE_PRINCIPAL_TOKEN_ADDRESS","0x45b1eCb3D9af651244eC656ed15B86404924c354"),ve("VITE_INTEREST_TOKEN_ADDRESS","0xE6aeE4a898c6d99033ee5380Df407C5DD470fb17"),ve("VITE_TRADE_CONTRACT_ADDRESS","0x13159e6417D98528C220b12Ec4950D5A343E5eAA"),ve("VITE_COMPLIANCE_GUARD_ADDRESS","0x1234567890123456789012345678901234567890"),parseInt(ve("VITE_NETWORK_CHAIN_ID","11155111")),ve("VITE_NETWORK_NAME","Sepolia Testnet"),ve("VITE_KYC_DEFAULT_SUCCESS","false"),parseInt(ve("VITE_KYC_DEFAULT_LEVEL","0"));const NC={KYC_REGISTRY_ADDRESS:ve("VITE_KYC_REGISTRY_ADDRESS","0x4533f47BE0ce8b80F7bbdF02939f81F4A15b7A45"),LOAN_ISSUER_ADDRESS:ve("VITE_LOAN_ISSUER_ADDRESS","0x1234567890123456789012345678901234567890"),PRINCIPAL_TOKEN_ADDRESS:ve("VITE_PRINCIPAL_TOKEN_ADDRESS","0x45b1eCb3D9af651244eC656ed15B86404924c354"),INTEREST_TOKEN_ADDRESS:ve("VITE_INTEREST_TOKEN_ADDRESS","0xE6aeE4a898c6d99033ee5380Df407C5DD470fb17"),TRADE_CONTRACT_ADDRESS:ve("VITE_TRADE_CONTRACT_ADDRESS","0x1234567890123456789012345678901234567890"),COMPLIANCE_GUARD_ADDRESS:ve("VITE_COMPLIANCE_GUARD_ADDRESS","0x1234567890123456789012345678901234567890"),NETWORK:{chainId:parseInt(ve("VITE_NETWORK_CHAIN_ID_PROD","1")),name:ve("VITE_NETWORK_NAME_PROD","Ethereum Mainnet")},KYC:{DEFAULT_SUCCESS:ve("VITE_KYC_DEFAULT_SUCCESS_PROD","false")==="true",DEFAULT_LEVEL:parseInt(ve("VITE_KYC_DEFAULT_LEVEL_PROD","0"))}},Yt=NC,Ul=Yt.KYC,He={UNVERIFIED:"unverified",PENDING:"pending",VERIFIED:"verified",REJECTED:"rejected"},Pt={LEVEL_0:0,LEVEL_1:1,LEVEL_2:2,LEVEL_3:3},Hm="kycStatus",jm="kycLevel";function En(){return Ul.DEFAULT_SUCCESS?He.VERIFIED:localStorage.getItem(Hm)||He.UNVERIFIED}function fs(){if(Ul.DEFAULT_SUCCESS)return Ul.DEFAULT_LEVEL;const e=localStorage.getItem(jm);return e?parseInt(e):Pt.LEVEL_0}function Fl(e){localStorage.setItem(Hm,e)}function qn(e){localStorage.setItem(jm,e.toString())}const LC=["function kycLevel(address user) external view returns (uint8)","function blocked(address user) external view returns (bool)","function setKycLevel(address user, uint8 level) external","function setBlocked(address user, bool isBlocked) external","function setKycLevelBySig(address user, uint8 level, uint256 deadline, bytes32 nonce, bytes calldata signature) external","function setSigner(address signer) external","function kycSigner() external view returns (address)","function DOMAIN_SEPARATOR() external view returns (bytes32)","function usedNonce(bytes32 nonce) external view returns (bool)","event SetLevel(address indexed user, uint8 level, address indexed setter)","event Block(address indexed user, bool blocked, address indexed setter)","event SetSigner(address indexed signer)"],DC=["function registry() external view returns (address)","function principalToken() external view returns (address)","function interestToken() external view returns (address)","function nextLoanId() external view returns (uint256)","function loans(uint256 loanId) external view returns (uint256 principal, uint256 annualRateBps, uint64 startDate, uint64 dueDate, string memory borrower, string memory lender, string memory collateral, string memory note, bool closed)","function loanHolder(uint256 loanId) external view returns (address)","function wireControllers() external","function createLoan((address holder, uint256 principalAmount, uint256 annualRateBps, uint64 startDate, uint64 dueDate, string memory borrower, string memory lender, string memory collateral, string memory note) calldata p) external returns (uint256 loanId)","function mintInterest(uint256 loanId, address to, uint256 amount) external","function redeem(uint256 loanId, uint256 principalAmt, uint256 interestAmt) external","function closeLoan(uint256 loanId) external","event CreateLoan(uint256 indexed loanId, address indexed holder, uint256 principal, uint256 rateBps)","event MintInterest(uint256 indexed loanId, address indexed to, uint256 amount)","event Redeem(uint256 indexed loanId, address indexed from, uint256 principalBurn, uint256 interestBurn)","event CloseLoan(uint256 indexed loanId)"],BC=["function whitelist(address user) external view returns (bool)","function blocked(address user) external view returns (bool)","function kycTier(address user) external view returns (uint8)","function kycExpireAt(address user) external view returns (uint64)","function setWhitelist(address user, bool allow) external","function setBlocked(address user, bool blocked) external","function setWhitelistBySig(address user, bool allow, uint8 tier, uint64 expireAt, uint256 nonce, uint256 deadline, uint8 v, bytes32 r, bytes32 s) external","function activateByProof(address user, bool allow, uint8 tier, uint64 expireAt, bytes32[] calldata proof) external","function canReceivePrincipal(address user) external view returns (bool)","function canReceiveInterest(address user) external view returns (bool)","function canRedeem(address user) external view returns (bool)","function checkPrincipal(address from, address to) external view","function checkInterest(address from, address to) external view","function minTierPrincipal() external view returns (uint8)","function minTierInterest() external view returns (uint8)","function minTierRedeem() external view returns (uint8)","function transfersPaused() external view returns (bool)","function nonces(address user) external view returns (uint256)","event WhitelistSet(address indexed user, bool allow)","event BlockedSet(address indexed user, bool blocked)","event KycStamped(address indexed user, bool allow, uint8 tier, uint64 expireAt)","event WhitelistBySig(address indexed user, bool allow, uint8 tier, uint64 expireAt, uint256 nonce, uint256 deadline, address indexed relayer)"],la=["function name() external view returns (string memory)","function symbol() external view returns (string memory)","function decimals() external pure returns (uint8)","function totalSupply() external view returns (uint256)","function balanceOf(address account) external view returns (uint256)","function allowance(address owner, address spender) external view returns (uint256)","function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function transferFrom(address from, address to, uint256 amount) external returns (bool)","function registry() external view returns (address)","function requiredKycLevel() external view returns (uint8)","function paused() external view returns (bool)","function setRequiredKycLevel(uint8 level) external","function setPaused(bool p) external","event Transfer(address indexed from, address indexed to, uint256 value)","event Approval(address indexed owner, address indexed spender, uint256 value)","event RequiredKycLevel(uint8 oldLevel, uint8 newLevel)","event Paused(bool status)"],OC=["function buyTokens(uint256 amount) external payable","function sellTokens(uint256 amount) external","function getTokenPrice() external view returns (uint256)","function getUserBalance(address user) external view returns (uint256)","function getTradeHistory(uint256 limit) external view returns (tuple(uint256 id, address user, uint8 tradeType, uint256 amount, uint256 price, uint256 timestamp)[])","event TradeExecuted(uint256 indexed id, address indexed user, uint8 tradeType, uint256 amount, uint256 price, uint256 timestamp)"];class MC{constructor(){this.provider=null,this.signer=null,this.kycRegistryContract=null,this.loanIssuerContract=null,this.principalTokenContract=null,this.interestTokenContract=null,this.tradeContract=null,this.complianceGuardContract=null}validateContractAddress(t,s){if(!t||t==="#"||t==="0x...")throw new Error(`${s} contract address is not configured properly`);if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`${s} contract address format is invalid: ${t}`);return!0}async initialize(){try{if(console.log("🚀 Initializing contract service..."),console.log("📋 Contract config:",Yt),typeof window.ethereum<"u"){this.validateContractAddress(Yt.KYC_REGISTRY_ADDRESS,"KYC Registry"),this.validateContractAddress(Yt.LOAN_ISSUER_ADDRESS,"Loan Issuer"),this.validateContractAddress(Yt.PRINCIPAL_TOKEN_ADDRESS,"Principal Token"),this.validateContractAddress(Yt.INTEREST_TOKEN_ADDRESS,"Interest Token"),this.validateContractAddress(Yt.TRADE_CONTRACT_ADDRESS,"Trade Contract"),this.validateContractAddress(Yt.COMPLIANCE_GUARD_ADDRESS,"Compliance Guard");const t=await window.ethereum.request({method:"eth_chainId"}),s="0x"+Yt.NETWORK.chainId.toString(16),n=parseInt(t,16);if(console.log("🌐 Current chain ID:",n),console.log("🎯 Target chain ID:",Yt.NETWORK.chainId),t!==s)throw new Error(`Please switch to ${Yt.NETWORK.name} (Chain ID: ${Yt.NETWORK.chainId})`);this.provider=new As(window.ethereum),await window.ethereum.request({method:"eth_requestAccounts"}),this.signer=await this.provider.getSigner(),console.log("✅ Provider and signer initialized");try{this.kycRegistryContract=new $e(Yt.KYC_REGISTRY_ADDRESS,LC,this.signer),console.log("✅ KYC Registry contract initialized"),this.loanIssuerContract=new $e(Yt.LOAN_ISSUER_ADDRESS,DC,this.signer),console.log("✅ Loan Issuer contract initialized"),this.principalTokenContract=new $e(Yt.PRINCIPAL_TOKEN_ADDRESS,la,this.signer),console.log("✅ Principal Token contract initialized"),this.interestTokenContract=new $e(Yt.INTEREST_TOKEN_ADDRESS,la,this.signer),console.log("✅ Interest Token contract initialized"),this.tradeContract=new $e(Yt.TRADE_CONTRACT_ADDRESS,OC,this.signer),console.log("✅ Trade contract initialized"),this.complianceGuardContract=new $e(Yt.COMPLIANCE_GUARD_ADDRESS,BC,this.signer),console.log("✅ Compliance Guard contract initialized")}catch(i){throw console.error("❌ Contract initialization error:",i),new Error(`Failed to initialize contracts: ${i.message}`)}return console.log("🎉 Contract service initialized successfully!"),!0}else throw new Error("Web3 wallet not detected. Please install MetaMask or similar wallet.")}catch(t){throw console.error("❌ Failed to initialize contract service:",t),t.message.includes("UNSUPPORTED_OPERATION")?new Error("Contract address format is invalid. Please check your configuration."):t.message.includes("network")?new Error(`Network error: ${t.message}`):t.message.includes("wallet")?new Error("Wallet connection failed. Please check your MetaMask connection."):new Error(`Initialization failed: ${t.message}`)}}async applyForKYC(t){try{this.kycRegistryContract||await this.initialize();const s=await this.signer.getAddress();if(await this.kycRegistryContract.blocked(s))throw new Error("User is blocked from KYC verification");const i=await this.kycRegistryContract.kycLevel(s);if(i>=2)return{success:!0,message:"User already has sufficient KYC level",currentLevel:i};const r=me(ii.defaultAbiCoder().encode(["string","string","string","string","string"],[t.firstName,t.lastName,t.dob,t.country,t.docType]));return console.log("KYC Data Hash:",r),console.log("KYC Data:",t),{success:!0,message:"KYC application submitted successfully",kycHash:r,userAddress:s}}catch(s){return console.error("KYC application failed:",s),{success:!1,error:s.message}}}async setKycLevelBySignature(t,s,n,i,r){try{this.kycRegistryContract||await this.initialize();const l=await(await this.kycRegistryContract.setKycLevelBySig(t,s,n,i,r)).wait();return{success:!0,transactionHash:l.transactionHash,blockNumber:l.blockNumber}}catch(a){return console.error("Set KYC level by signature failed:",a),{success:!1,error:a.message}}}async getKycLevel(t=null){try{return this.kycRegistryContract||await this.initialize(),t||(t=await this.signer.getAddress()),await this.kycRegistryContract.kycLevel(t)}catch(s){return console.error("Failed to check KYC level:",s),0}}async isBlocked(t=null){try{return this.kycRegistryContract||await this.initialize(),t||(t=await this.signer.getAddress()),await this.kycRegistryContract.blocked(t)}catch(s){return console.error("Failed to check block status:",s),!1}}async canTrade(t=null,s=1){try{t||(t=await this.signer.getAddress());const[n,i]=await Promise.all([this.getKycLevel(t),this.isBlocked(t)]);return{canTrade:!i&&n>=s,kycLevel:n,isBlocked:i,requiredLevel:s}}catch(n){return console.error("Failed to check trade eligibility:",n),{canTrade:!1,kycLevel:0,isBlocked:!1,requiredLevel:s}}}async getUserAddress(){try{if(console.log("🔍 ContractService: Getting user address..."),this.signer)try{const t=await this.signer.getAddress();return console.log("✅ ContractService: Address from signer:",t),t}catch(t){console.warn("⚠️ ContractService: Signer getAddress failed:",t.message)}if(!this.signer&&(console.log("🔄 ContractService: Signer not available, initializing..."),await this.initialize(),this.signer))try{const t=await this.signer.getAddress();return console.log("✅ ContractService: Address after initialization:",t),t}catch(t){console.warn("⚠️ ContractService: Signer still not working:",t.message)}if(typeof window.ethereum<"u"){console.log("🔄 ContractService: Trying direct ethereum access...");try{const t=await window.ethereum.request({method:"eth_accounts"});if(t&&t.length>0)return console.log("✅ ContractService: Address from ethereum:",t[0]),t[0]}catch(t){console.warn("⚠️ ContractService: Ethereum access failed:",t.message)}}return console.error("❌ ContractService: Unable to get user address from any source"),null}catch(t){return console.error("❌ ContractService: Failed to get user address:",t),null}}async validateUserAddress(t=null){try{if(console.log("🔍 ContractService: Validating user address..."),t||(t=await this.getUserAddress()),!t)throw new Error("无法获取用户钱包地址");if(!yc(t))throw new Error(`无效的钱包地址格式: ${t}`);if(t==="0x0000000000000000000000000000000000000000")throw new Error("钱包地址不能为零地址");return console.log("✅ ContractService: User address validated:",t),{success:!0,address:t,isValid:!0}}catch(s){return console.error("❌ ContractService: Address validation failed:",s),{success:!1,address:t,isValid:!1,error:s.message}}}async getTokenBalance(t,s=null){try{return s||(s=await this.getUserAddress()),await new $e(t,la,this.signer).balanceOf(s)}catch(n){return console.error("Failed to get token balance:",n),0n}}async getTokenInfo(t){try{const s=new $e(t,la,this.signer),[n,i,r,a]=await Promise.all([s.name(),s.symbol(),s.decimals(),s.totalSupply()]);return{name:n,symbol:i,decimals:r,totalSupply:a,address:t}}catch(s){return console.error("Failed to get token info:",s),null}}async getLoanInfo(t){try{this.loanIssuerContract||await this.initialize();const s=await this.loanIssuerContract.loans(t),n=await this.loanIssuerContract.loanHolder(t);return{loanId:t,principal:s.principal,annualRateBps:s.annualRateBps,startDate:s.startDate,dueDate:s.dueDate,borrower:s.borrower,lender:s.lender,collateral:s.collateral,note:s.note,closed:s.closed,holder:n}}catch(s){return console.error("Failed to get loan info:",s),null}}async getNextLoanId(){try{return this.loanIssuerContract||await this.initialize(),await this.loanIssuerContract.nextLoanId()}catch(t){return console.error("Failed to get next loan ID:",t),0n}}async getNetworkInfo(){try{this.provider||await this.initialize();const t=await this.provider.getNetwork();return{chainId:t.chainId,name:t.name}}catch(t){return console.error("Failed to get network info:",t),null}}async buyTokens(t){try{this.tradeContract||await this.initialize();const s=await this.getUserAddress();if(!s)throw new Error("无法获取用户钱包地址，请确保钱包已连接");if(console.log("💰 购买代币:",{amount:t,userAddress:s}),!Yt.TRADE_CONTRACT_ADDRESS||Yt.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890"){console.warn("⚠️ Trade contract address is not configured, simulating successful transaction");const l="0x"+Math.random().toString(16).substr(2,64),c=Math.floor(Math.random()*1e6)+1e6;return{success:!0,transactionHash:l,blockNumber:c,tokenPrice:"1.0",totalCost:t.toString(),userAddress:s}}let n,i;try{n=await this.tradeContract.getTokenPrice(),i=n*BigInt(t),console.log("💰 获取到代币价格:",n.toString())}catch(l){console.warn("⚠️ 无法获取代币价格，使用默认价格:",l.message),n=Du("1.0"),i=n*BigInt(t)}console.log("💰 购买代币:",{amount:t,userAddress:s,tokenPrice:n.toString(),totalCost:i.toString()});const a=await(await this.tradeContract.buyTokens(t,{value:i})).wait();return{success:!0,transactionHash:a.transactionHash,blockNumber:a.blockNumber,tokenPrice:Hs(n),totalCost:Hs(i),userAddress:s}}catch(s){return console.error("❌ Failed to buy tokens:",s),{success:!1,error:s.message}}}async sellTokens(t){try{this.tradeContract||await this.initialize();const s=await this.getUserAddress();if(!s)throw new Error("无法获取用户钱包地址，请确保钱包已连接");if(console.log("💸 出售代币:",{amount:t,userAddress:s}),!Yt.TRADE_CONTRACT_ADDRESS||Yt.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890"){console.warn("⚠️ Trade contract address is not configured, simulating successful transaction");const l="0x"+Math.random().toString(16).substr(2,64),c=Math.floor(Math.random()*1e6)+1e6;return{success:!0,transactionHash:l,blockNumber:c,tokenPrice:"1.0",totalCost:t.toString(),userAddress:s}}let n,i;try{n=await this.tradeContract.getTokenPrice(),i=n*BigInt(t),console.log("💰 获取到代币价格:",n.toString())}catch(l){console.warn("⚠️ 无法获取代币价格，使用默认价格:",l.message),n=Du("1.0"),i=n*BigInt(t)}console.log("💸 出售代币:",{amount:t,userAddress:s,tokenPrice:n.toString(),totalRevenue:i.toString()});const a=await(await this.tradeContract.sellTokens(t)).wait();return{success:!0,transactionHash:a.transactionHash,blockNumber:a.blockNumber,tokenPrice:Hs(n),totalCost:Hs(i),userAddress:s}}catch(s){return console.error("Failed to sell tokens:",s),{success:!1,error:s.message}}}async getTokenPrice(){try{if(this.tradeContract||await this.initialize(),console.log("🔍 Attempting to get token price from contract:",Yt.TRADE_CONTRACT_ADDRESS),!Yt.TRADE_CONTRACT_ADDRESS||Yt.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890")return console.warn("⚠️ Trade contract address is not configured, returning default price"),"1.0";const t=await this.tradeContract.getTokenPrice();return console.log("✅ Token price retrieved:",Hs(t)),Hs(t)}catch(t){return console.error("❌ Failed to get token price:",t),t.message.includes("BAD_DATA")||t.message.includes("UNSUPPORTED_OPERATION")?(console.warn("⚠️ Contract method not available, using default price"),"1.0"):"0"}}async getUserTokenBalance(t=null,s=null){try{if(this.tradeContract||await this.initialize(),t||(t=await this.getUserAddress()),console.log(`🔍 Attempting to get ${s||"token"} balance for:`,t),!Yt.TRADE_CONTRACT_ADDRESS||Yt.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890")return console.warn(`⚠️ Trade contract address is not configured, returning default ${s||"token"} balance`),{TYMU:"500",SQNB:"300",LZYT:"200",YYD:"400"}[s]||"1000";let n;if(s)try{n=await this.tradeContract.getUserTokenBalance(t,s)}catch{console.warn(`⚠️ Token-specific balance method failed for ${s}, using general method`),n=await this.tradeContract.getUserBalance(t)}else n=await this.tradeContract.getUserBalance(t);return console.log(`✅ ${s||"User"} token balance retrieved:`,n.toString()),n.toString()}catch(n){return console.error(`❌ Failed to get ${s||"user"} token balance:`,n),n.message.includes("BAD_DATA")||n.message.includes("UNSUPPORTED_OPERATION")?(console.warn(`⚠️ Contract method not available, using default ${s||"token"} balance`),{TYMU:"500",SQNB:"300",LZYT:"200",YYD:"400"}[s]||"1000"):"0"}}async getTradeHistory(t=10){try{return this.tradeContract||await this.initialize(),console.log("🔍 Attempting to get trade history from contract"),!Yt.TRADE_CONTRACT_ADDRESS||Yt.TRADE_CONTRACT_ADDRESS==="0x1234567890123456789012345678901234567890"?(console.warn("⚠️ Trade contract address is not configured, returning empty history"),[]):(await this.tradeContract.getTradeHistory(t)).map(n=>({id:n.id.toString(),user:n.user,tradeType:n.tradeType===0?"buy":"sell",amount:n.amount.toString(),price:Hs(n.price),timestamp:Number(n.timestamp)*1e3}))}catch(s){return console.error("❌ Failed to get trade history:",s),s.message.includes("BAD_DATA")||s.message.includes("UNSUPPORTED_OPERATION")?(console.warn("⚠️ Contract method not available, returning empty history"),[]):[]}}async isWhitelisted(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking whitelist status for:",t);const s=await this.complianceGuardContract.whitelist(t);return console.log("✅ Whitelist status:",s),s}catch(s){return console.error("❌ Failed to check whitelist status:",s),!1}}async isBlocked(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking blocked status for:",t);const s=await this.complianceGuardContract.blocked(t);return console.log("✅ Blocked status:",s),s}catch(s){return console.error("❌ Failed to check blocked status:",s),!1}}async getKycLevel(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Getting KYC level for:",t);const s=await this.complianceGuardContract.kycTier(t);return console.log("✅ KYC level:",s.toString()),parseInt(s.toString())}catch(s){return console.error("❌ Failed to get KYC level:",s),0}}async getKycExpireAt(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Getting KYC expire time for:",t);const s=await this.complianceGuardContract.kycExpireAt(t);return console.log("✅ KYC expire time:",s.toString()),parseInt(s.toString())}catch(s){return console.error("❌ Failed to get KYC expire time:",s),0}}async applyForWhitelist(t){try{this.complianceGuardContract||await this.initialize(),console.log("🚀 Applying for whitelist:",t);const{userAddress:s,kycLevel:n,timestamp:i,userInfo:r}=t,a=await this.complianceGuardContract.nonces(s);console.log("📝 User nonce:",a.toString());const l=Math.floor(Date.now()/1e3)+1440*60,c=n||2,u=Math.floor(Date.now()/1e3)+365*24*60*60;return console.log("⚠️ Whitelist application requires backend signature"),console.log("📋 Application details:",{userAddress:s,tier:c,expireAt:u,nonce:a.toString(),deadline:l}),await new Promise(d=>setTimeout(d,2e3)),{success:!0,transactionHash:"0x"+Math.random().toString(16).substr(2,40),blockNumber:Math.floor(Math.random()*1e6)+1e6,message:"白名单申请已提交，等待后台审核"}}catch(s){return console.error("❌ Failed to apply for whitelist:",s),{success:!1,error:s.message}}}async canReceivePrincipal(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking if user can receive principal:",t);const s=await this.complianceGuardContract.canReceivePrincipal(t);return console.log("✅ Can receive principal:",s),s}catch(s){return console.error("❌ Failed to check principal receive permission:",s),!1}}async canReceiveInterest(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking if user can receive interest:",t);const s=await this.complianceGuardContract.canReceiveInterest(t);return console.log("✅ Can receive interest:",s),s}catch(s){return console.error("❌ Failed to check interest receive permission:",s),!1}}async canRedeem(t){try{this.complianceGuardContract||await this.initialize(),console.log("🔍 Checking if user can redeem:",t);const s=await this.complianceGuardContract.canRedeem(t);return console.log("✅ Can redeem:",s),s}catch(s){return console.error("❌ Failed to check redeem permission:",s),!1}}async getWhitelistStatus(t){try{console.log("🔍 Getting comprehensive whitelist status for:",t);const[s,n,i,r]=await Promise.all([this.isWhitelisted(t),this.isBlocked(t),this.getKycLevel(t),this.getKycExpireAt(t)]),a=Math.floor(Date.now()/1e3),l=r>0&&a>r;let c="none";return n?c="rejected":s&&i>=2&&!l||s&&i>=2?c="approved":s&&i>=1&&(c="pending"),console.log("✅ Whitelist status:",c),{status:c,isWhitelisted:s,isBlocked:n,kycLevel:i,kycExpireAt:r,isKycExpired:l}}catch(s){return console.error("❌ Failed to get whitelist status:",s),{status:"none",isWhitelisted:!1,isBlocked:!1,kycLevel:0,kycExpireAt:0,isKycExpired:!1}}}}const Ue=new MC,UC={name:"WhitelistApplication",props:{isKycVerified:{type:Boolean,default:!1},userInfo:{type:Object,default:()=>({})}},data(){return{whitelistStatus:"none",showApplicationModal:!1,showProcessingModal:!1,showResultModal:!1,loading:!1,processingTitle:"Applying for Whitelist...",processingMessage:"Please wait while we process your whitelist application.",processingSubMessage:"Connecting to blockchain and submitting your application...",resultType:"success",resultTitle:"",resultMessage:"",showValidationErrorModal:!1,validationErrorTitle:"",validationErrorMessage:"",contractService:Ue}},computed:{statusClass(){switch(this.whitelistStatus){case"approved":return"green";case"pending":return"orange";case"rejected":return"red";default:return"gray"}}},async mounted(){try{await this.loadWhitelistStatus()}catch(e){console.error("Failed to initialize contract service:",e)}},methods:{async loadWhitelistStatus(){try{const e=fs();if(this.isKycVerified&&e>=Pt.LEVEL_2){this.whitelistStatus="approved",localStorage.setItem("whitelistStatus","approved"),console.log("✅ KYC Level 2用户，白名单状态自动设置为approved");return}if(!this.contractService)return;const s=await this.getUserWalletAddress();if(!s){console.warn("No wallet address available for whitelist status check");return}const n=await this.contractService.getWhitelistStatus(s);this.whitelistStatus=n.status,console.log("✅ Whitelist status loaded:",n)}catch(e){console.error("Failed to load whitelist status:",e);const t=localStorage.getItem("whitelistStatus");t&&(this.whitelistStatus=t)}},async applyWhitelist(){if(console.log("🔍 开始验证白名单申请条件..."),!Gn()){this.showValidationError("请先登录账户","您需要先登录才能申请白名单");return}if(!this.isKycVerified){this.showValidationError("KYC验证未完成","请先完成KYC身份验证才能申请白名单");return}const e=fs();e<Pt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动设置级别为 ${Pt.LEVEL_2}`),qn(Pt.LEVEL_2),console.log("✅ KYC级别已设置为Level 2"));const t=await this.getUserWalletAddress();if(!t){this.showValidationError("钱包未连接","请先连接MetaMask钱包才能申请白名单");return}if(e>=Pt.LEVEL_2){console.log("✅ KYC Level 2用户，直接通过白名单申请"),this.whitelistStatus="approved",localStorage.setItem("whitelistStatus","approved"),this.showSuccessResult("Whitelist Approved!","Congratulations! Your KYC Level 2 status automatically qualifies you for whitelist. You can now start trading assets."),this.$emit("success","Whitelist automatically approved due to KYC Level 2 status!");return}const s=await this.checkCurrentWhitelistStatus(t);if(s==="approved"){this.showValidationError("已在白名单中","您的钱包地址已经在白名单中，无需重复申请");return}if(s==="pending"){this.showValidationError("申请审核中","您的白名单申请正在审核中，请耐心等待");return}console.log("✅ 所有条件验证通过，可以申请白名单"),this.showApplicationModal=!0},async submitApplication(){this.loading=!0,this.showApplicationModal=!1,this.showProcessingModal=!0;try{console.log("🚀 开始提交白名单申请...");const e=await this.getUserWalletAddress();if(!e)throw new Error("无法获取钱包地址");this.processingTitle="正在提交白名单申请...",this.processingMessage="正在连接区块链并提交您的申请",this.processingSubMessage="请稍候，不要关闭页面...";let t;if(this.contractService){console.log("📝 通过合约服务申请白名单...");const s={userAddress:e,kycLevel:fs(),timestamp:Date.now(),userInfo:this.userInfo};t=await this.contractService.applyForWhitelist(s)}else console.log("⚠️ 合约服务未初始化，使用模拟申请..."),await this.delay(2e3),t={success:!0,transactionHash:"0x"+Math.random().toString(16).substr(2,40),blockNumber:Math.floor(Math.random()*1e6)+1e6,message:"白名单申请已提交（模拟）"};t.success?(console.log("✅ 白名单申请提交成功:",t),this.whitelistStatus="pending",localStorage.setItem("whitelistStatus","pending"),t.transactionHash&&localStorage.setItem("whitelistTransactionHash",t.transactionHash),this.showProcessingModal=!1,console.log("🎉 白名单申请提交成功！"),console.log(`交易哈希: ${t.transactionHash||"N/A"}`),console.log("我们将在24小时内审核您的申请"),this.$emit("success","白名单申请提交成功！"),setTimeout(()=>{this.checkWhitelistStatus()},5e3)):(console.error("❌ 白名单申请失败:",t.error),this.showProcessingModal=!1,console.error("申请失败:",t.error||"白名单申请提交失败，请稍后重试。"),this.$emit("error","白名单申请失败，请稍后重试。"))}catch(e){console.error("❌ 白名单申请错误:",e),this.showProcessingModal=!1,console.error("申请错误:",e.message||"提交申请时发生错误，请检查网络连接后重试。"),this.$emit("error","提交申请时发生错误，请检查网络连接后重试。")}finally{this.loading=!1}},async checkWhitelistStatus(){this.loading=!0,this.showProcessingModal=!0,this.processingTitle="Checking Status...",this.processingMessage="Please wait while we check your whitelist status.",this.processingSubMessage="Querying blockchain for latest status...";try{await this.delay(1e3),await this.loadWhitelistStatus(),this.showProcessingModal=!1,this.whitelistStatus==="approved"?(this.showSuccessResult("Application Approved!","Congratulations! Your whitelist application has been approved. You can now start trading assets."),this.$emit("success","Whitelist application approved!")):this.whitelistStatus==="rejected"?(this.showErrorResult("Application Rejected","Your whitelist application was rejected. Please contact support for more information."),this.$emit("error","Whitelist application rejected.")):(this.showWarningResult("Still Pending","Your application is still under review. Please check again later."),this.$emit("info","Application still pending."))}catch(e){console.error("Failed to check whitelist status:",e),this.showProcessingModal=!1,this.showErrorResult("Check Failed","Failed to check whitelist status. Please try again."),this.$emit("error","Failed to check whitelist status.")}finally{this.loading=!1,this.resetProcessingModal()}},async reapplyWhitelist(){this.whitelistStatus="none",localStorage.setItem("whitelistStatus","none"),await this.applyWhitelist()},goToProjects(){this.$router.push("/projects")},showSuccessResult(e,t){this.resultType="success",this.resultTitle=e,this.resultMessage=t,this.showResultModal=!0},showErrorResult(e,t){this.resultType="error",this.resultTitle=e,this.resultMessage=t,this.showResultModal=!0},showWarningResult(e,t){this.resultType="warning",this.resultTitle=e,this.resultMessage=t,this.showResultModal=!0},closeResultModal(){this.showResultModal=!1},resetProcessingModal(){this.processingTitle="Applying for Whitelist...",this.processingMessage="Please wait while we process your whitelist application.",this.processingSubMessage="Connecting to blockchain and submitting your application..."},delay(e){return new Promise(t=>setTimeout(t,e))},showValidationError(e,t){this.validationErrorTitle=e,this.validationErrorMessage=t,this.showValidationErrorModal=!0},async getUserWalletAddress(){try{return typeof window.ethereum<"u"&&(await window.ethereum.request({method:"eth_accounts"}))[0]||null}catch(e){return console.error("获取用户钱包地址失败:",e),null}},async checkCurrentWhitelistStatus(e){try{return this.contractService?(await this.contractService.getWhitelistStatus(e)).status:localStorage.getItem("whitelistStatus")||"none"}catch(t){return console.error("检查白名单状态失败:",t),localStorage.getItem("whitelistStatus")||"none"}}},watch:{isKycVerified(e){!e&&this.whitelistStatus!=="none"&&(this.whitelistStatus="none",localStorage.removeItem("whitelistStatus"))}}},FC={class:"whitelist-application"},$C={class:"field"},VC={key:0,class:"verified"},HC={key:1},jC={key:2},GC={key:3},KC=["disabled"],WC=["disabled"],zC=["disabled"],YC={key:0,class:"modal-mask"},QC={class:"modal-wrapper"},qC={class:"modal-container"},JC={style:{"margin-top":"18px",display:"flex",gap:"12px","justify-content":"flex-end"}},ZC=["disabled"],XC=["disabled"],t6={key:0},e6={key:1},s6={key:1,class:"modal-mask"},n6={class:"modal-wrapper"},i6={class:"modal-container"},r6={style:{"text-align":"center",padding:"20px"}},a6={style:{"margin-bottom":"8px"}},o6={style:{color:"#64748b","font-size":"14px","margin-top":"8px"}},l6={key:2,class:"modal-mask"},c6={class:"modal-wrapper"},u6={class:"modal-container"},d6={style:{"text-align":"center",padding:"20px"}},f6={key:0},h6={key:1},p6={style:{"margin-bottom":"8px"}},m6={style:{"margin-top":"18px",display:"flex",gap:"12px","justify-content":"center"}},g6={key:3,class:"modal-mask"},v6={class:"modal-wrapper"},y6={class:"modal-container"},b6={style:{"text-align":"center",padding:"20px"}},w6={style:{"margin-bottom":"8px",color:"#dc2626"}},A6={style:{color:"#6b7280","margin-bottom":"20px"}},E6={style:{"margin-top":"18px",display:"flex",gap:"12px","justify-content":"center"}};function k6(e,t,s,n,i,r){const a=Av('else"');return S(),T("div",FC,[o("div",$C,[t[11]||(t[11]=o("label",{class:"label"},"Whitelist Status",-1)),o("div",{class:Ct(["whitelist-banner",r.statusClass]),role:"status"},[t[10]||(t[10]=o("span",{class:"icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})])],-1)),i.whitelistStatus==="approved"?(S(),T("span",VC,[...t[9]||(t[9]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})],-1),pt(" Whitelist Approved ",-1)])])):i.whitelistStatus==="pending"?(S(),T("span",HC,"Whitelist Application Pending")):i.whitelistStatus==="rejected"?(S(),T("span",jC,"Not Qualified for Transaction")):(S(),T("span",GC,"Apply for Whitelist")),i.whitelistStatus==="none"?(S(),T("button",{key:4,class:"link",type:"button",onClick:t[0]||(t[0]=(...l)=>r.applyWhitelist&&r.applyWhitelist(...l)),disabled:i.loading},"Apply Now",8,KC)):i.whitelistStatus==="pending"?(S(),T("button",{key:5,class:"link",type:"button",onClick:t[1]||(t[1]=(...l)=>r.checkWhitelistStatus&&r.checkWhitelistStatus(...l)),disabled:i.loading},"Check Status",8,WC)):i.whitelistStatus==="approved"?(S(),T("button",{key:6,class:"link",type:"button",onClick:t[2]||(t[2]=(...l)=>r.goToProjects&&r.goToProjects(...l))},"Start Trading")):i.whitelistStatus==="rejected"?(S(),T("button",{key:7,class:"link",type:"button",onClick:t[3]||(t[3]=(...l)=>r.reapplyWhitelist&&r.reapplyWhitelist(...l)),disabled:i.loading},"Reapply",8,zC)):et("",!0)],2)]),i.showApplicationModal?(S(),T("div",YC,[o("div",QC,[o("div",qC,[t[12]||(t[12]=o("h2",{style:{"margin-bottom":"8px"}},"Apply for Whitelist",-1)),t[13]||(t[13]=o("p",null,"You are about to apply for the whitelist to start trading assets.",-1)),t[14]||(t[14]=o("p",null,[o("strong",null,"Requirements:")],-1)),t[15]||(t[15]=o("ul",{style:{margin:"8px 0","padding-left":"20px"}},[o("li",null,"KYC verification completed ✅"),o("li",null,"Valid wallet connection"),o("li",null,"Agreement to terms and conditions")],-1)),o("div",JC,[o("button",{class:"btn light",onClick:t[4]||(t[4]=l=>i.showApplicationModal=!1),disabled:i.loading},"Cancel",8,ZC),o("button",{class:"btn orange",onClick:t[5]||(t[5]=(...l)=>r.submitApplication&&r.submitApplication(...l)),disabled:i.loading},[i.loading?(S(),T("span",t6,"Applying...")):(S(),T("span",e6,"Apply Now"))],8,XC)])])])])):et("",!0),i.showProcessingModal?(S(),T("div",s6,[o("div",n6,[o("div",i6,[o("div",r6,[t[16]||(t[16]=o("div",{class:"spinner"},null,-1)),o("h2",a6,y(i.processingTitle),1),o("p",null,y(i.processingMessage),1),o("p",o6,y(i.processingSubMessage),1)])])])])):et("",!0),i.showResultModal?(S(),T("div",l6,[o("div",c6,[o("div",u6,[o("div",d6,[o("div",{class:Ct(["result-icon",i.resultType])},[i.resultType==="success"?(S(),T("span",f6,"✓")):i.resultType==="error"?(S(),T("span",h6,"✗")):et("",!0),It((S(),T("span",null,[...t[17]||(t[17]=[pt("⚠",-1)])])),[[a]])],2),o("h2",p6,y(i.resultTitle),1),o("p",null,y(i.resultMessage),1),o("div",m6,[i.resultType==="success"?(S(),T("button",{key:0,class:"btn orange",onClick:t[6]||(t[6]=(...l)=>r.goToProjects&&r.goToProjects(...l))},"Start Trading")):et("",!0),o("button",{class:"btn light",onClick:t[7]||(t[7]=(...l)=>r.closeResultModal&&r.closeResultModal(...l))},"Close")])])])])])):et("",!0),i.showValidationErrorModal?(S(),T("div",g6,[o("div",v6,[o("div",y6,[o("div",b6,[t[18]||(t[18]=o("div",{class:"result-icon error",style:{"background-color":"#fee2e2",color:"#dc2626"}},[o("span",null,"⚠")],-1)),o("h2",w6,y(i.validationErrorTitle),1),o("p",A6,y(i.validationErrorMessage),1),o("div",E6,[o("button",{class:"btn orange",onClick:t[8]||(t[8]=l=>i.showValidationErrorModal=!1)},"确认")])])])])])):et("",!0)])}const C6=zt(UC,[["render",k6],["__scopeId","data-v-51fbd4b3"]]),S6={name:"ProfileView",components:{WhitelistApplication:C6},emits:["navigate","notify"],data(){return{kycStatus:En(),form:{twoFA:"off",email:"",walletAction:""},emailCode:"",emailCodeSent:!1,emailVerified:!1,generatedCode:"",_offVis:null,_offStorage:null,_offAfterEach:null,showEmailModal:!1,userInfo:Lr(),whitelistStatus:"none",kycLevel:fs()}},computed:{isVerified(){return this.kycStatus===He.VERIFIED},isPending(){return this.kycStatus===He.PENDING},userName(){return Um()},userInitial(){return oC()},userEmail(){return aC()},kycLevelText(){switch(this.kycLevel){case Pt.LEVEL_0:return"Level 0 (Unverified)";case Pt.LEVEL_1:return"Level 1 (Basic)";case Pt.LEVEL_2:return"Level 2 (Advanced)";case Pt.LEVEL_3:return"Level 3 (Premium)";default:return"Unknown"}},kycLevelClass(){switch(this.kycLevel){case Pt.LEVEL_0:return"level-0";case Pt.LEVEL_1:return"level-1";case Pt.LEVEL_2:return"level-2";case Pt.LEVEL_3:return"level-3";default:return"level-unknown"}},whitelistStatusText(){switch(this.whitelistStatus){case"approved":return"Approved";case"pending":return"Pending Review";case"rejected":return"Not Qualified for Transaction";case"none":return"Not Applied";default:return"Unknown"}},whitelistStatusClass(){switch(this.whitelistStatus){case"approved":return"status-approved";case"pending":return"status-pending";case"rejected":return"status-rejected";case"none":return"status-none";default:return"status-unknown"}},tradingPermissionText(){return this.kycLevel>=Pt.LEVEL_2&&this.whitelistStatus==="approved"?"Full Access":this.kycLevel>=Pt.LEVEL_2?"Limited Access":"No Access"},tradingPermissionClass(){return this.kycLevel>=Pt.LEVEL_2&&this.whitelistStatus==="approved"?"permission-full":this.kycLevel>=Pt.LEVEL_2?"permission-limited":"permission-none"}},watch:{kycStatus:{handler(e,t){console.log("🔄 KYC状态变化:",t,"->",e),e===He.VERIFIED&&t!==He.VERIFIED&&(console.log("✅ KYC验证成功，自动更新Account Status"),this.kycLevel=fs(),this.kycLevel<Pt.LEVEL_2&&(qn(Pt.LEVEL_2),this.kycLevel=Pt.LEVEL_2,console.log("🔧 自动设置KYC等级为Level 2")),this.loadStatusInfo())},immediate:!1},kycLevel:{handler(e,t){console.log("🔄 KYC等级变化:",t,"->",e),e>=Pt.LEVEL_2&&this.isVerified&&(console.log("✅ KYC等级达到Level 2，自动更新白名单状态"),this.loadStatusInfo())},immediate:!1}},mounted(){const e=()=>{this.kycStatus=En(),this.kycLevel=fs(),this.loadStatusInfo()},t=()=>{this.userInfo=Lr()},s=()=>{this.loadStatusInfo()};e(),t(),s();const n=()=>document.visibilityState==="visible"&&(e(),t(),s());document.addEventListener("visibilitychange",n),this._offVis=()=>document.removeEventListener("visibilitychange",n);const i=l=>{l.key==="kycStatus"&&e(),l.key==="kycLevel"&&e(),l.key==="userInfo"&&t(),l.key==="whitelistStatus"&&s()};window.addEventListener("storage",i),this._offStorage=()=>window.removeEventListener("storage",i),this._offAfterEach=this.$router.afterEach(l=>{l.path==="/profile"&&(e(),t(),s())});const r=()=>{t(),this.$forceUpdate()};window.addEventListener(sf,r),this._offUserInfo=()=>window.removeEventListener(sf,r);const a=()=>{console.log("🎉 收到KYC验证成功事件，更新Account Status"),e()};window.addEventListener("kyc-verification-success",a),this._offKycSuccess=()=>window.removeEventListener("kyc-verification-success",a)},activated(){this.kycStatus=En()},beforeUnmount(){this._offVis&&this._offVis(),this._offStorage&&this._offStorage(),this._offAfterEach&&this._offAfterEach(),this._offUserInfo&&this._offUserInfo(),this._offKycSuccess&&this._offKycSuccess()},methods:{async loadStatusInfo(){try{if(console.log("🔄 开始加载状态信息..."),this.kycLevel=fs(),console.log("📊 当前KYC等级:",this.kycLevel),console.log("📊 当前KYC状态:",this.kycStatus),this.isVerified){if(console.log("✅ 用户已通过KYC验证"),this.kycLevel>=Pt.LEVEL_2){this.whitelistStatus="approved",localStorage.setItem("whitelistStatus","approved"),console.log("✅ KYC Level 2用户，白名单状态自动设置为approved"),console.log("📊 更新后的状态 - KYC Level:",this.kycLevel,"Whitelist:",this.whitelistStatus);return}const e=localStorage.getItem("whitelistStatus");e&&(this.whitelistStatus=e,console.log("📊 从本地存储加载白名单状态:",e))}else this.whitelistStatus="none",console.log("❌ 用户未通过KYC验证，设置默认状态");console.log("📊 最终状态 - KYC Level:",this.kycLevel,"Whitelist:",this.whitelistStatus)}catch(e){console.error("Failed to load status info:",e)}},isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},async sendEmailCode(){if(!this.isValidEmail(this.form.email)){this.$emit("notify","Please enter a valid email.");return}try{const t=await(await fetch("http://localhost:3000/user/send-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:this.form.email})})).json();t.status===0?(this.emailCodeSent=!0,this.generatedCode=t.code,this.showEmailModal=!0,this.$emit("notify",t.message||"验证码已发送到您的邮箱")):this.$emit("notify",t.message||"Failed to send email.")}catch{this.$emit("notify","Network error, please try again.")}},async verifyEmailCode(){try{const t=await(await fetch("http://localhost:3000/user/verify-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:this.form.email,verification_code:this.form.emailCode})})).json();t.status===0?(this.emailVerified=!0,this.emailCodeSent=!1,this.form.emailCode="",this.$emit("notify",t.message||"Email verified and bound to account.")):this.$emit("notify",t.message||"Incorrect verification code.")}catch{this.$emit("notify","Network error, please try again.")}},verifyKYC(){this.$router.push("/kycService")},cancelKYC(){confirm("Are you sure you want to cancel KYC verification?")&&(Fl(He.UNVERIFIED),this.kycStatus=He.UNVERIFIED,qn(Pt.LEVEL_0),this.$emit("notify","KYC verification has been cancelled."))},onCancel(){this.$emit("navigate","home")},onSave(){if(!this.isVerified)return this.$emit("notify","Please complete KYC first.");if(this.form.email&&!this.isValidEmail(this.form.email))return this.$emit("notify","Please enter a valid email.");if(this.form.email&&!this.emailVerified)return this.$emit("notify","Please verify your email before saving.");this.$emit("notify","Profile saved (demo)")},logout(){localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("remember_email"),window.dispatchEvent(new CustomEvent("auth-changed")),this.$emit("notify","You have logged out."),this.$router.push("/login")},handleWhitelistSuccess(e){this.$emit("notify",e),this.loadStatusInfo()},handleWhitelistError(e){this.$emit("notify",e)},handleWhitelistInfo(e){this.$emit("notify",e),this.loadStatusInfo()}}},T6={class:"profile-page"},_6={class:"topbar container"},P6={class:"breadcrumb","aria-label":"Breadcrumb"},x6={class:"container head"},I6={class:"avatar"},R6={class:"avatar-initial"},N6={class:"title"},L6={class:"field"},D6={key:0},B6={key:1,class:"verified"},O6={class:"status-section"},M6={class:"status-item"},U6={class:"status-value kyc-level"},F6={class:"status-item"},$6={class:"status-value whitelist-status"},V6={class:"status-item"},H6={class:"status-value trading-permission"},j6={class:"actions bottom"};function G6(e,t,s,n,i,r){const a=Xs("WhitelistApplication");return S(),T("section",T6,[o("header",_6,[o("nav",P6,[o("button",{class:"crumb-back",onClick:t[0]||(t[0]=l=>e.$emit("navigate","home")),"aria-label":"Back to Home"},[...t[6]||(t[6]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M10 19a1 1 0 0 1-.7-.3l-7-7a1 1 0 0 1 0-1.4l7-7a1 1 0 1 1 1.4 1.4L4.41 11H21a1 1 0 1 1 0 2H4.41l6.3 6.3A1 1 0 0 1 10 19z"})],-1)])]),t[7]||(t[7]=o("span",{class:"sep"},"/",-1)),t[8]||(t[8]=o("span",{class:"crumb-current"},"Profile",-1))])]),o("div",x6,[o("div",I6,[o("span",R6,y(r.userInitial),1)]),o("div",null,[o("h1",N6,y(r.userName),1)])]),o("form",{class:"container form",onSubmit:t[5]||(t[5]=St((...l)=>r.onSave&&r.onSave(...l),["prevent"]))},[o("div",null,[o("div",L6,[t[11]||(t[11]=o("label",{class:"label"},[pt("KYC verification "),o("span",{class:"req"},"*")],-1)),o("div",{class:Ct(["kyc-banner",r.isVerified?"green":"orange"]),role:"status"},[t[10]||(t[10]=o("span",{class:"icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M12 2 2 7l10 5 10-5-10-5Zm0 7L2 4v13l10 5 10-5V4L12 9Zm0 9.5-7-3.5V9l7 3.5V20.5Z"})])],-1)),r.isVerified?(S(),T("span",B6,[...t[9]||(t[9]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})],-1),pt(" Verified ",-1)])])):(S(),T("span",D6,"Verify now")),r.isVerified?(S(),T("button",{key:3,class:"link danger",type:"button",onClick:t[2]||(t[2]=(...l)=>r.cancelKYC&&r.cancelKYC(...l))},"Cancel verification")):(S(),T("button",{key:2,class:"link",type:"button",onClick:t[1]||(t[1]=(...l)=>r.verifyKYC&&r.verifyKYC(...l))},"Start"))],2)]),r.isVerified?(S(),nc(a,{key:0,"is-kyc-verified":r.isVerified,"user-info":i.userInfo,onSuccess:r.handleWhitelistSuccess,onError:r.handleWhitelistError,onInfo:r.handleWhitelistInfo},null,8,["is-kyc-verified","user-info","onSuccess","onError","onInfo"])):et("",!0)]),o("div",O6,[t[15]||(t[15]=o("h3",{class:"status-title"},"Account Status",-1)),o("div",M6,[t[12]||(t[12]=o("div",{class:"status-label"},[o("span",{class:"status-icon kyc-icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M12 2 2 7l10 5 10-5-10-5Zm0 7L2 4v13l10 5 10-5V4L12 9Zm0 9.5-7-3.5V9l7 3.5V20.5Z"})])]),pt(" KYC Level ")],-1)),o("div",U6,[o("span",{class:Ct(["level-badge",r.kycLevelClass])},y(r.kycLevelText),3)])]),o("div",F6,[t[13]||(t[13]=o("div",{class:"status-label"},[o("span",{class:"status-icon whitelist-icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})])]),pt(" Whitelist Status ")],-1)),o("div",$6,[o("span",{class:Ct(["status-badge",r.whitelistStatusClass])},y(r.whitelistStatusText),3)])]),o("div",V6,[t[14]||(t[14]=o("div",{class:"status-label"},[o("span",{class:"status-icon trading-icon"},[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"})])]),pt(" Trading Permission ")],-1)),o("div",H6,[o("span",{class:Ct(["permission-badge",r.tradingPermissionClass])},y(r.tradingPermissionText),3)])])]),o("div",j6,[o("button",{class:"btn light",type:"button",onClick:t[3]||(t[3]=(...l)=>r.onCancel&&r.onCancel(...l))},"Cancel"),t[16]||(t[16]=o("button",{class:"btn orange",type:"submit"},"Save",-1)),o("button",{class:"btn light",type:"button",onClick:t[4]||(t[4]=(...l)=>r.logout&&r.logout(...l)),style:{"margin-left":"auto"}},"Log out")])],32)])}const Gm=zt(S6,[["render",G6],["__scopeId","data-v-4aa87725"]]),K6={key:0,class:"modal-mask"},W6={class:"modal-wrapper"},z6={class:"modal-container"},Y6={style:{margin:"16px 0"}},Q6={style:{display:"block","font-size":"15px",padding:"8px 0",color:"#ffffff",background:"#2a2a4a","border-radius":"8px"}},q6={style:{"text-align":"right"}},J6={key:1,class:"modal-mask"},Z6={class:"modal-wrapper"},X6={class:"modal-container"},tS={style:{color:"#ffffff"}},eS={style:{"text-align":"right"}},sS={class:"mm-page"},nS={class:"mm-account-section"},iS={class:"mm-topbar"},rS={class:"mm-account"},aS={class:"mm-account-meta"},oS={class:"mm-account-line"},lS=["title"],cS={key:1,class:"mm-addr",style:{color:"#b45309"}},uS={key:0,class:"mm-status",style:{"margin-top":"6px"}},dS={key:0,class:"mm-wallet-management-section"},fS={class:"mm-wallet-management"},hS={class:"field"},pS={class:"input with-icon",style:{display:"flex","align-items":"center",gap:"8px"}},mS={class:"icon",style:{width:"28px",height:"28px","border-radius":"10px",background:"#fff",display:"grid","place-items":"center","box-shadow":"0 2px 6px rgba(15,23,42,.06), inset 0 0 0 1px #e2e8f0"}},gS={viewBox:"0 0 24 24",class:"i",style:{width:"18px",height:"18px",fill:"currentColor",color:"#0f172a"}},vS=["value"],yS={key:1,class:"mm-dashboard-section"},bS={class:"mm-hero"},wS={class:"mm-balance"},AS={class:"mm-subline"},ES={class:"mm-custom"},kS=["disabled"],CS={class:"mm-info"},SS={class:"mm-card"},TS={class:"mm-card-title"},_S={class:"mm-card-sub"},PS={class:"mm-card"},xS={class:"mm-card-title"},IS={class:"mm-card-sub"},RS={class:"mm-tabs"},NS={class:"mm-networkbar"},LS={class:"mm-net-left"},DS=["value"],BS={class:"mm-net-right",style:{position:"relative"}},OS={key:0,class:"mm-sort-menu"},MS={key:0,class:"mm-tokenlist",style:{background:"#1d1d36"}},US={class:"mm-token"},FS={class:"mm-token-right"},$S={class:"mm-token-sub"},VS={class:"mm-token-amount"},HS=["onClick"],jS={class:"mm-token-left"},GS={class:"mm-token-icon"},KS={class:"mm-token-sub"},WS={class:"mm-token-title"},zS={class:"mm-token-sub"},YS={class:"mm-token-right"},QS={class:"mm-token-sub"},qS={class:"mm-token-amount"},JS={key:2,class:"mm-activity-section"},ZS={class:"mm-activity-header"},XS={class:"mm-activity-actions"},tT=["disabled"],eT={key:0},sT={key:1},nT={key:0,class:"mm-activity-filters"},iT={class:"mm-filter-row"},rT={class:"mm-filter-group"},aT={class:"mm-filter-group"},oT=["value"],lT={key:1,class:"mm-loading"},cT={key:2,class:"mm-no-activity"},uT={key:3,class:"mm-activity-stats"},dT={class:"mm-stat-item"},fT={class:"mm-stat-value"},hT={class:"mm-stat-item"},pT={class:"mm-stat-value"},mT={class:"mm-stat-item"},gT={class:"mm-stat-value"},vT={key:4,class:"mm-activity-list"},yT={key:0,class:"mm-filter-results"},bT={class:"mm-results-count"},wT={class:"mm-activity-columns"},AT={class:"mm-activity-left"},ET={class:"mm-activity-header-item"},kT={class:"mm-activity-icon"},CT={class:"mm-activity-title"},ST={class:"mm-activity-time"},TT={class:"mm-activity-details"},_T={key:0,class:"mm-activity-project"},PT={class:"mm-activity-value"},xT={key:1,class:"mm-activity-project-name"},IT={class:"mm-activity-value"},RT={key:2,class:"mm-activity-amount"},NT={class:"mm-activity-value"},LT={key:3,class:"mm-activity-trade-type"},DT={key:4,class:"mm-activity-timestamp"},BT={class:"mm-activity-value"},OT={key:5,class:"mm-activity-wallet"},MT={class:"mm-activity-value"},UT={key:6,class:"mm-activity-network"},FT={class:"mm-activity-value"},$T={key:7,class:"mm-activity-network-id"},VT={class:"mm-activity-value"},HT={key:8,class:"mm-activity-metamask"},jT={key:9,class:"mm-activity-chain"},GT={class:"mm-activity-value"},KT={key:10,class:"mm-activity-error"},WT={class:"mm-activity-value"},zT={key:11,class:"mm-activity-transaction"},YT={class:"mm-activity-transaction-hash"},QT={class:"mm-activity-value"},qT={class:"mm-activity-transaction-status"},JT={class:"mm-activity-transaction-from"},ZT={class:"mm-activity-value"},XT={class:"mm-activity-transaction-to"},t_={class:"mm-activity-value"},e_={class:"mm-activity-transaction-nonce"},s_={class:"mm-activity-value"},n_={class:"mm-activity-transaction-token-amount"},i_={class:"mm-activity-value"},r_={class:"mm-activity-transaction-value"},a_={class:"mm-activity-value"},o_={class:"mm-activity-transaction-block"},l_={class:"mm-activity-value"},c_={class:"mm-activity-transaction-fee"},u_={class:"mm-activity-value"},d_={class:"mm-activity-transaction-gas"},f_={class:"mm-activity-value"},h_={key:12,class:"mm-activity-status"},p_={key:13,class:"mm-activity-wallet"},m_={class:"mm-activity-value"},g_={key:14,class:"mm-activity-message"},v_={class:"mm-activity-value"},y_={key:15,class:"mm-activity-message-text"},b_={class:"mm-activity-value"},w_={key:16,class:"mm-activity-etherscan"},A_={class:"mm-activity-etherscan-info"},E_={class:"mm-activity-value"},k_={class:"mm-activity-etherscan-info"},C_={class:"mm-activity-etherscan-info"},S_={class:"mm-activity-value"},T_={class:"mm-activity-etherscan-info"},__={class:"mm-activity-value"},P_={class:"mm-activity-etherscan-info"},x_={class:"mm-activity-value"},I_={class:"mm-activity-etherscan-info"},R_={class:"mm-activity-value"},N_={class:"mm-activity-etherscan-info"},L_={class:"mm-activity-value"},D_={class:"mm-activity-etherscan-info"},B_={class:"mm-activity-value"},O_={class:"mm-activity-etherscan-info"},M_={class:"mm-activity-value"},U_={class:"mm-activity-etherscan-info"},F_={class:"mm-activity-value"},$_={key:0,class:"mm-activity-footer"},V_=["href"],H_={class:"mm-activity-right"},j_={class:"mm-activity-section-header"},G_={class:"mm-button-group"},K_=["disabled"],W_={class:"mm-activity-header-item"},z_={class:"mm-activity-icon"},Y_={class:"mm-activity-title"},Q_={class:"mm-activity-time"},q_={class:"mm-activity-details"},J_={key:0,class:"mm-activity-status"},Z_={key:1,class:"mm-activity-wallet"},X_={class:"mm-activity-value"},tP={key:2,class:"mm-activity-network"},eP={class:"mm-activity-value"},sP={key:3,class:"mm-activity-network-id"},nP={class:"mm-activity-value"},iP={key:4,class:"mm-activity-message-text"},rP={class:"mm-activity-value"},aP={key:0,class:"mm-status-pagination"},oP={class:"mm-pagination-info"},lP={class:"mm-pagination-text"},cP={class:"mm-pagination-count"},uP={class:"mm-pagination-controls"},dP=["disabled"],fP={class:"mm-pagination-pages"},hP={key:0,class:"mm-pagination-ellipsis"},pP=["onClick"],mP=["disabled"],gP={key:1,class:"mm-transaction-pagination"},vP={class:"mm-pagination-info"},yP={class:"mm-pagination-text"},bP={class:"mm-pagination-count"},wP={class:"mm-pagination-controls"},AP=["disabled"],EP={class:"mm-pagination-pages"},kP=["onClick"],CP=["disabled"],SP={key:3,class:"mm-warn"},TP={key:4,class:"mm-error"},_P={key:0,class:"mm-toast"},Jo=3,Zo=5,PP={__name:"WalletView",setup(e){const t=vt(!1),s=vt(!1),n=vt(!1),i=vt(""),r=vt(""),a=vt(""),{connected:l,address:c,fullAddress:u,chainId:d,networkLabel:f,nativeSymbol:h,nativeBalanceDisplay:p,nativeToAudDisplay:w,bigAudDisplay:v,tokens:A,warning:E,error:L,activeTab:N,connect:F,disconnect:K,refreshTokens:H,copyAddress:X,addCustomToken:st}=Qn(),z=vt([u.value]),W=vt(u.value),rt=vt(""),$=vt([]),ht=vt(!1),At=vt(!1),U=vt({type:"",projectCode:"",startDate:"",endDate:""}),j=vt(1),J=vt(1),dt=vt("SepoliaETH"),Tt=vt([{value:"SepoliaETH",label:"SepoliaETH",chainId:11155111},{value:"Ethereum",label:"Ethereum",chainId:1},{value:"Polygon",label:"Polygon",chainId:137},{value:"Arbitrum",label:"Arbitrum",chainId:42161},{value:"Optimism",label:"Optimism",chainId:10}]),Ut=_t(()=>{let C=$.value;if(U.value.type&&(C=C.filter(g=>g.type===U.value.type)),U.value.projectCode&&(C=C.filter(g=>g.project_code===U.value.projectCode)),U.value.startDate){const g=new Date(U.value.startDate);C=C.filter(k=>new Date(k.timestamp)>=g)}if(U.value.endDate){const g=new Date(U.value.endDate);g.setHours(23,59,59,999),C=C.filter(k=>new Date(k.timestamp)<=g)}return C}),Qt=_t(()=>{const C=new Set;return $.value.forEach(g=>{g.project_code&&C.add(g.project_code)}),Array.from(C).sort()}),Vt=_t(()=>$.value.filter(C=>C.source==="api").length),be=_t(()=>$.value.filter(C=>!C.source||C.source==="local"||C.source==="demo").length),we=_t(()=>U.value.type!==""||U.value.projectCode!==""||U.value.startDate!==""||U.value.endDate!==""),Te=_t(()=>Ut.value.filter(C=>C.type==="buy"||C.type==="sell"||C.type==="transaction"||C.type==="wallet_disconnect"||C.type==="metamask_connect"||C.type==="metamask_disconnect"||C.type==="metamask_message"||C.type==="metamask_transaction")),ie=_t(()=>Ut.value.filter(C=>C.type==="wallet_connect"||C.type==="wallet_status_check"||C.type==="wallet_focus_check"||C.type==="network_change")),D=_t(()=>{const C=(j.value-1)*Jo,g=C+Jo;return ie.value.slice(C,g)}),tt=_t(()=>Math.ceil(ie.value.length/Jo)),Y=_t(()=>{const C=tt.value,g=j.value;if(C<=5)return Array.from({length:C},(mt,ft)=>ft+1);const k=[];if(k.push(1),g<=3)for(let mt=2;mt<=Math.min(3,C-1);mt++)k.push(mt);else if(g>=C-2)for(let mt=Math.max(2,C-2);mt<=C-1;mt++)k.push(mt);else k.push(g-1),k.push(g),k.push(g+1);return C>1&&k.push(C),[...new Set(k)].sort((mt,ft)=>mt-ft)}),lt=_t(()=>{const C=(J.value-1)*Zo,g=C+Zo;return Te.value.slice(C,g)}),Lt=_t(()=>Math.ceil(Te.value.length/Zo));Zn(u,C=>{C&&!z.value.includes(C)&&(z.value.push(C),W.value=C)});function m(){if(rt.value==="set-primary"){i.value=W.value,t.value=!0;return}if(rt.value==="disconnect"){r.value=W.value,s.value=!0;return}if(rt.value==="link"){if(!window.ethereum){E.value="MetaMask not detected.";return}window.ethereum.request({method:"eth_requestAccounts"}).then(C=>{if(C&&C.length>0){const g=C[0];z.value.includes(g)?(W.value=g,c.value=g,E.value=`Wallet ${g} already linked. Switched to it.`):(z.value.push(g),W.value=g,c.value=g,E.value=`New wallet ${g} linked and selected.`)}}).catch(C=>{E.value=Z(C)});return}W.value&&(c.value=W.value,E.value=`Dashboard now shows info for ${W.value}`)}function b(){if(r.value){const C=z.value.indexOf(r.value);C!==-1&&(z.value.splice(C,1),W.value===r.value&&(W.value="",c.value="",E.value=""),s.value=!1,a.value=`Wallet ${r.value} disconnected.`,n.value=!0)}}let x=null,B=!1,M=null;const O=vt(!1);function nt(){try{X()}finally{O.value=!0,setTimeout(()=>{O.value=!1},3e3)}}async function q(){l.value&&(await Q(),await G(),await H())}async function Q(){const C=await x.getNetwork();d.value=Number(C.chainId),f.value=C.name&&C.name!=="unknown"?R(C.name):`Chain ${d.value}`,h.value=d.value===1?"ETH":d.value===137?"MATIC":(d.value===42161||d.value===10,"ETH"),it()}async function G(){nativeBalance.value=await x.getBalance(c.value)}function gt(){window.ethereum&&(window.ethereum.on("accountsChanged",I),window.ethereum.on("chainChanged",P),x&&!B&&(M=async()=>{try{await G()}catch{}},x.on("block",M),B=!0))}function at(){window.ethereum&&(window.ethereum.removeListener("accountsChanged",I),window.ethereum.removeListener("chainChanged",P)),x&&B&&M&&(x.removeListener("block",M),B=!1,M=null)}async function I(C){!C||C.length===0?K():(c.value=C[0],W.value=C[0],q(),N.value="tokens")}async function P(){await q()}function R(C){return C&&C[0].toUpperCase()+C.slice(1)}function Z(C){const g=C&&(C.reason||C.message)?C.reason||C.message:String(C);return g.toLowerCase().includes("user rejected")?"User rejected the request.":g}async function it(){try{const C=h.value==="MATIC"?"matic-network":"ethereum",k=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${C}&vs_currencies=aud`)).json();audPrice.value=k?.[C]?.aud||null}catch{audPrice.value=null}}Vi(async()=>{if(!window.ethereum){E.value="MetaMask not detected.";return}x=new As(window.ethereum,"any");const C=await x.send("eth_accounts",[]);C&&C.length>0&&(await x.getSigner(),c.value=C[0],l.value=!0,await q(),gt()),await ci(),window.addEventListener("walletActivityUpdated",Mc),Xm(),eg(),sg()}),Ya(()=>{at(),window.removeEventListener("walletActivityUpdated",Mc)});const Et=vt(""),Bt=vt("");function le(){st(Et.value.trim(),Bt.value.trim())&&(Et.value="",Bt.value="",H())}const re=vt(!1),Ye=vt("desc");function zr(){re.value=!re.value}function Re(C){Ye.value=C,re.value=!1}function Oe(C){if(C==null)return 0;if(typeof C=="number")return C;const g=parseFloat(String(C).replace(/,/g,""));return isNaN(g)?0:g}const Yr=_t(()=>{const C=Array.from(A),g=(mt,ft)=>Oe(ft.displayBalance)-Oe(mt.displayBalance),k=(mt,ft)=>Oe(mt.displayBalance)-Oe(ft.displayBalance);return C.sort(Ye.value==="desc"?g:k)}),In=vt("");function Ym(){const C=In.value.trim();C&&!z.value.includes(C)&&(z.value.push(C),W.value=C,c.value=C,In.value="",E.value=`New wallet ${C} added and selected.`)}function Lc(C){return new Date(C).toLocaleString()}function Qm(C){return new Date(C).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Rn(C){return C?`${C.slice(0,6)}...${C.slice(-4)}`:""}function Dc(C){return C?(parseInt(C,16)/Math.pow(10,18)).toFixed(6):"0"}function Bc(C){return{buy:"📈",sell:"📉",wallet_connect:"🔗",wallet_disconnect:"❌",network_change:"🌐",metamask_connect:"🦊",metamask_disconnect:"🦊❌",wallet_status_check:"👁️",wallet_focus_check:"🎯",metamask_message:"💬",metamask_transaction:"💰"}[C]||"📋"}function Oc(C){return{buy:"BUY TOKEN",sell:"SELL TOKEN",wallet_connect:"WALLET CONNECTED",wallet_disconnect:"WALLET DISCONNECTED",network_change:"NETWORK CHANGED",metamask_connect:"METAMASK CONNECTED",metamask_disconnect:"METAMASK DISCONNECTED",wallet_status_check:"STATUS CHECKED",wallet_focus_check:"FOCUS CHECKED",metamask_message:"METAMASK MESSAGE",metamask_transaction:"METAMASK TRANSACTION"}[C]||C.toUpperCase()}async function yo(C){try{console.log("🔍 正在从Etherscan获取交易详情:",C);const g=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionByHash&txhash=${C}`,mt=await(await fetch(g)).json();if(mt.result){console.log("✅ 成功获取交易详情:",mt.result);const ft=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionReceipt&txhash=${C}`,Xt=await(await fetch(ft)).json();return{success:!0,transaction:mt.result,receipt:Xt.result,hash:C,from:mt.result.from,to:mt.result.to,value:mt.result.value,nonce:mt.result.nonce,gasUsed:Xt.result?Xt.result.gasUsed:null,gasPrice:mt.result.gasPrice,blockNumber:mt.result.blockNumber,blockHash:mt.result.blockHash,status:Xt.result?Xt.result.status:null,transactionFee:Xt.result?parseInt(Xt.result.gasUsed,16)*parseInt(mt.result.gasPrice,16)/Math.pow(10,18):null,etherscanUrl:`https://sepolia.etherscan.io/tx/${C}`}}else return console.warn("⚠️ 交易详情获取失败:",mt.message),{success:!1,error:mt.message||"Failed to fetch transaction details"}}catch(g){return console.error("❌ 获取交易详情时发生错误:",g),{success:!1,error:g.message}}}async function qm(C){try{console.log("🌐 从后端API获取钱包交易记录:",C);const g=await fetch(`http://localhost:3000/user/transactionhistory?userAddress=${C}&limit=100`);if(!g.ok)return console.warn("⚠️ API请求失败:",g.status,g.statusText),[];const k=await g.json();return k.status===0&&k.data&&Array.isArray(k.data)?(console.log("✅ 从API获取交易记录:",k.data.length,"条"),k.data.map(ft=>({id:`api_tx_${ft.id}`,type:ft.trade_type||"transaction",amount:ft.amount||0,project_code:ft.project_code||"Unknown",project_name:ft.project_name||"Unknown Project",timestamp:ft.timestamp||ft.created_at||Date.now(),transactionHash:ft.transaction_hash||"",blockNumber:ft.block_number||0,userAddress:ft.user_address||C,price:ft.price||0,total:ft.total||0,source:"api"}))):(console.log("ℹ️ API返回空数据或格式错误:",k.message),[])}catch(g){return console.error("❌ 从API获取交易记录失败:",g),[]}}async function ci(){try{ht.value=!0,console.log("🔄 正在加载钱包活动记录...");let C=[];const g=localStorage.getItem("walletActivity");if(g){const mt=JSON.parse(g);console.log("📂 从localStorage加载本地活动记录:",mt.length,"条"),C=[...mt]}u.value&&l.value&&(console.log("🔍 钱包已连接，获取后端交易记录:",u.value),(await qm(u.value)).forEach(ft=>{C.find(Xt=>Xt.transactionHash===ft.transactionHash&&Xt.type===ft.type&&Xt.amount===ft.amount)||(ft.transactionHash&&yo(ft.transactionHash).then(Xt=>{Xt.success&&(ft.etherscan={hash:Xt.hash,from:Xt.from,to:Xt.to,value:Xt.value,nonce:Xt.nonce,gasUsed:Xt.gasUsed,gasPrice:Xt.gasPrice,blockNumber:Xt.blockNumber,blockHash:Xt.blockHash,status:Xt.status,transactionFee:Xt.transactionFee,etherscanUrl:`https://sepolia.etherscan.io/tx/${ft.transactionHash}`})}).catch(Xt=>{console.warn("⚠️ 获取API交易Etherscan详情失败:",Xt)}),C.push(ft))}),console.log("📊 合并后总活动记录:",C.length,"条"));const k=[];for(const mt of C){if(mt.transactionHash&&!mt.etherscan&&mt.type!=="wallet_connect"&&mt.type!=="wallet_disconnect")try{const ft=await yo(mt.transactionHash);ft.success&&(mt.etherscan={hash:ft.hash,from:ft.from,to:ft.to,value:ft.value,nonce:ft.nonce,gasUsed:ft.gasUsed,gasPrice:ft.gasPrice,blockNumber:ft.blockNumber,blockHash:ft.blockHash,status:ft.status,transactionFee:ft.transactionFee,etherscanUrl:ft.etherscanUrl})}catch(ft){console.warn("⚠️ 获取Etherscan详情失败:",ft)}k.push(mt)}if(k.sort((mt,ft)=>ft.timestamp-mt.timestamp),$.value=k,$.value.length===0){$.value=[{id:Date.now()-36e5,type:"buy",amount:100,project_code:"TYMU",project_name:"St Ives NSW Residential Project",timestamp:Date.now()-36e5,transactionHash:"0xabc123def45678901234567890123456789012345678901234567890123456789012",source:"demo"},{id:Date.now()-18e5,type:"sell",amount:50,project_code:"SQNB",project_name:"SQNB Property Loan",timestamp:Date.now()-18e5,transactionHash:"0xdef456abc12378901234567890123456789012345678901234567890123456789012",source:"demo"},{id:Date.now()-9e5,type:"wallet_connect",message:"Wallet connected to MetaMask",wallet_address:u.value,timestamp:Date.now()-9e5,source:"demo"}];for(const mt of $.value)if(mt.transactionHash){const ft=await yo(mt.transactionHash);ft.success&&(mt.etherscan={hash:ft.hash,from:ft.from,to:ft.to,value:ft.value,nonce:ft.nonce,gasUsed:ft.gasUsed,gasPrice:ft.gasPrice,blockNumber:ft.blockNumber,blockHash:ft.blockHash,status:ft.status,transactionFee:ft.transactionFee,etherscanUrl:`https://sepolia.etherscan.io/tx/${mt.transactionHash}`})}console.log("📊 创建演示活动记录:",$.value.length,"条")}console.log("✅ 钱包活动记录加载完成，总计:",$.value.length,"条记录")}catch(C){console.error("❌ 加载钱包活动记录失败:",C),E.value="Failed to load wallet activity",$.value=[]}finally{ht.value=!1}}async function Jm(){await ci()}function Zm(){l.value&&u.value&&Ms({type:"wallet_status_check",message:"Current wallet status logged",wallet_address:u.value,chain_id:d.value,network_name:f.value,timestamp:Date.now()})}function Mc(C){console.log("📨 收到WalletView活动更新通知:",C.detail),ci()}function Xm(){console.log("🎧 设置MetaMask活动监听器..."),window.ethereum&&(window.ethereum.on("accountsChanged",C=>{console.log("📱 账户变化检测到:",C),C.length>0?Ms({type:"wallet_connect",message:"Wallet account connected",wallet_address:C[0],timestamp:Date.now()}):Ms({type:"wallet_disconnect",message:"Wallet account disconnected",wallet_address:u.value,timestamp:Date.now()})}),window.ethereum.on("chainChanged",C=>{console.log("🌐 网络变化检测到:",C);const g=tg(C);Ms({type:"network_change",message:`Network changed to ${g}`,network_id:C,network_name:g,timestamp:Date.now()})}),window.ethereum.on("connect",C=>{console.log("🔗 MetaMask连接检测到:",C),Ms({type:"metamask_connect",message:"MetaMask extension connected",chain_id:C.chainId,timestamp:Date.now()})}),window.ethereum.on("disconnect",C=>{console.log("❌ MetaMask断开连接:",C),Ms({type:"metamask_disconnect",message:"MetaMask extension disconnected",error:C.message||"Unknown error",timestamp:Date.now()})}),window.ethereum.on("message",C=>{console.log("💬 MetaMask消息:",C),Ms({type:"metamask_message",message:"MetaMask message received",message_type:C.type,data:C.data,timestamp:Date.now()})}))}function tg(C){return{"0x1":"Ethereum Mainnet","0x3":"Ropsten Testnet","0x4":"Rinkeby Testnet","0x5":"Goerli Testnet","0xaa36a7":"Sepolia Testnet","0x89":"Polygon Mainnet","0x13881":"Polygon Mumbai","0x38":"BSC Mainnet","0x61":"BSC Testnet"}[C]||`Unknown Network (${C})`}function Ms(C){try{console.log("📝 记录钱包活动:",C),$.value.unshift(C);const g=JSON.parse(localStorage.getItem("walletActivity")||"[]");g.unshift(C),g.length>100&&g.splice(100),localStorage.setItem("walletActivity",JSON.stringify(g)),console.log("✅ 钱包活动记录已保存")}catch(g){console.error("❌ 记录钱包活动失败:",g)}}function eg(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("👁️ 页面重新可见，刷新钱包状态和活动记录"),ci(),window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(C=>{C.length>0&&C[0]!==u.value&&Ms({type:"wallet_status_check",message:"Wallet status checked on page visibility",wallet_address:C[0],timestamp:Date.now()})}).catch(C=>{console.error("检查钱包状态失败:",C)}))})}function sg(){window.addEventListener("focus",()=>{console.log("🎯 窗口获得焦点，检查钱包状态和刷新活动记录"),ci(),window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(C=>{C.length>0&&Ms({type:"wallet_focus_check",message:"Wallet status checked on window focus",wallet_address:C[0],timestamp:Date.now()})}).catch(C=>{console.error("检查钱包状态失败:",C)})})}function ng(){At.value=!At.value}function Uc(){U.value={type:"",projectCode:"",startDate:"",endDate:""}}function ig(){console.log("🔍 应用筛选条件:",U.value)}async function rg(){N.value="activity",console.log("🔄 切换到Activity tab，刷新活动记录"),await ci()}function ag(){if($.value.length===0){console.log("📋 没有状态检查活动需要清除");return}const C=$.value.filter(g=>g.type!=="wallet_status_check"&&g.type!=="wallet_focus_check"&&g.type!=="network_change");$.value=C,j.value=1,console.log("🗑️ 已清除状态检查活动，剩余活动数量:",C.length),console.log("📊 清除的活动类型: wallet_status_check, wallet_focus_check, network_change")}function og(C){C>=1&&C<=tt.value&&(j.value=C,console.log(`📄 切换到状态检查第 ${C} 页`))}function lg(){j.value<tt.value&&(j.value++,console.log(`📄 状态检查下一页: ${j.value}`))}function cg(){j.value>1&&(j.value--,console.log(`📄 状态检查上一页: ${j.value}`))}function ug(C){C>=1&&C<=Lt.value&&(J.value=C,console.log(`📄 切换到交易活动第 ${C} 页`))}function dg(){J.value<Lt.value&&(J.value++,console.log(`📄 交易活动下一页: ${J.value}`))}function fg(){J.value>1&&(J.value--,console.log(`📄 交易活动上一页: ${J.value}`))}function hg(C){const g=Tt.value.find(k=>k.value===C);g&&(dt.value=C,console.log(`🌐 切换到网络: ${g.label} (Chain ID: ${g.chainId})`),window.ethereum&&window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${g.chainId.toString(16)}`}]}).then(()=>{console.log(`✅ 成功切换到 ${g.label}`)}).catch(k=>{console.error("❌ 网络切换失败:",k),k.code===4902&&pg(g)}))}function pg(C){const k={Ethereum:{chainId:"0x1",chainName:"Ethereum Mainnet",rpcUrls:["https://mainnet.infura.io/v3/YOUR_PROJECT_ID"],blockExplorerUrls:["https://etherscan.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18}},Polygon:{chainId:"0x89",chainName:"Polygon Mainnet",rpcUrls:["https://polygon-rpc.com"],blockExplorerUrls:["https://polygonscan.com"],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18}},Arbitrum:{chainId:"0xa4b1",chainName:"Arbitrum One",rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorerUrls:["https://arbiscan.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18}},Optimism:{chainId:"0xa",chainName:"Optimism",rpcUrls:["https://mainnet.optimism.io"],blockExplorerUrls:["https://optimistic.etherscan.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18}}}[C.value];k&&window.ethereum&&window.ethereum.request({method:"wallet_addEthereumChain",params:[k]}).then(()=>{console.log(`✅ 成功添加网络 ${C.label}`)}).catch(mt=>{console.error("❌ 添加网络失败:",mt)})}return(C,g)=>(S(),T(xt,null,[s.value?(S(),T("div",K6,[o("div",W6,[o("div",z6,[g[17]||(g[17]=o("h2",{style:{"margin-bottom":"8px",color:"#ffffff"}},"Disconnect Wallet",-1)),g[18]||(g[18]=o("p",{style:{color:"#ffffff"}},"Select the wallet account you want to disconnect:",-1)),o("div",Y6,[o("span",Q6,y(W.value),1)]),o("div",q6,[o("button",{class:"mm-btn mm-outline",onClick:g[0]||(g[0]=k=>s.value=!1)},"Cancel"),o("button",{class:"mm-btn mm-outline",style:{"margin-left":"8px"},onClick:b},"Confirm")])])])])):et("",!0),n.value?(S(),T("div",J6,[o("div",Z6,[o("div",X6,[g[19]||(g[19]=o("h2",{style:{"margin-bottom":"8px",color:"#ffffff"}},"Wallet Disconnected",-1)),o("p",tS,y(a.value),1),o("div",eS,[o("button",{class:"mm-btn mm-outline",onClick:g[1]||(g[1]=k=>n.value=!1)},"Confirm")])])])])):et("",!0),o("div",sS,[o("section",nS,[o("header",iS,[o("div",rS,[g[22]||(g[22]=o("div",{class:"mm-avatar"},null,-1)),o("div",aS,[g[21]||(g[21]=o("div",{class:"mm-account-title"},"Account",-1)),o("div",oS,[W.value?(S(),T(xt,{key:0},[o("span",{class:"mm-addr",title:W.value},y(W.value),9,lS),Ft(l)?(S(),T("button",{key:0,class:"mm-btn mm-outline mm-copy",onClick:nt},"Copy")):et("",!0)],64)):(S(),T("span",cS,"please connect your wallet in wallet management"))]),Ft(l)&&W.value?(S(),T("div",uS,[...g[20]||(g[20]=[o("span",{class:"mm-dot"},null,-1),o("span",{class:"mm-status-text"},"Connected",-1)])])):(S(),T("button",{key:1,class:"mm-btn mm-outline",style:{"margin-top":"6px"},onClick:g[2]||(g[2]=(...k)=>Ft(F)&&Ft(F)(...k))},"Connect MetaMask"))])])])]),Ft(l)?(S(),T("section",dS,[o("div",fS,[o("div",hS,[g[25]||(g[25]=o("label",{class:"mm-net-left"},"Wallet Management",-1)),o("div",pS,[o("span",mS,[(S(),T("svg",gS,[...g[23]||(g[23]=[o("path",{d:"M3 7a3 3 0 0 1 3-3h12a1 1 0 1 1 0 2H6a1 1 0 0 0-1 1v1h13a3 3 0 0 1 3 3v5a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm18 6h-4a2 2 0 1 0 0 4h4v-4Z"},null,-1)])]))]),It(o("select",{"onUpdate:modelValue":g[3]||(g[3]=k=>rt.value=k),style:{border:"0",outline:"none",width:"180px",height:"38px",background:"#1d1d36",color:"#ffffff","border-radius":"8px",padding:"0 8px"}},[...g[24]||(g[24]=[o("option",{value:"",disabled:"",style:{background:"#1d1d36",color:"#94a3b8"}},"Choose…",-1),o("option",{value:"link",style:{background:"#1d1d36",color:"#ffffff"}},"Link new wallet",-1),o("option",{value:"set-primary",style:{background:"#1d1d36",color:"#ffffff"}},"Set primary wallet",-1),pt(" --> ",-1),o("option",{value:"disconnect",style:{background:"#1d1d36",color:"#ffffff"}},"Disconnect my wallet",-1)])],512),[[De,rt.value]]),rt.value==="set-primary"||rt.value==="disconnect"?(S(),T(xt,{key:0},[It(o("select",{"onUpdate:modelValue":g[4]||(g[4]=k=>W.value=k),style:{border:"1px solid #2a2a4a",outline:"none",width:"180px",height:"38px",background:"#1d1d36",color:"#ffffff","font-size":"15px","border-radius":"8px",padding:"0 8px"}},[(S(!0),T(xt,null,Ae(z.value,k=>(S(),T("option",{key:k,value:k,style:{background:"#1d1d36",color:"#ffffff"}},y(k),9,vS))),128))],512),[[De,W.value]]),o("button",{class:"mm-btn mm-outline",style:{"margin-left":"8px"},onClick:m},"Confirm")],64)):et("",!0),rt.value==="link"?(S(),T(xt,{key:1},[It(o("input",{"onUpdate:modelValue":g[5]||(g[5]=k=>In.value=k),class:"mm-input",placeholder:"Paste new wallet address",style:{width:"180px","margin-left":"8px",background:"#1d1d36",color:"#ffffff","border-color":"#2a2a4a"}},null,512),[[ye,In.value]]),o("button",{class:"mm-btn mm-outline",style:{"margin-left":"8px"},onClick:Ym},"Confirm")],64)):et("",!0)])])])])):et("",!0),Ft(l)&&W.value?(S(),T("section",yS,[o("div",bS,[o("div",wS,y(Ft(v)),1),o("div",AS,[o("a",{href:"#",onClick:g[6]||(g[6]=St(k=>C.$router.push("/portfolio"),["prevent"])),class:"mm-link"},"Portfolio ↗")])]),o("div",ES,[g[26]||(g[26]=o("span",{class:"mm-net-left"},"Insert your contract address here:",-1)),o("form",{class:"mm-custom-form",onSubmit:St(le,["prevent"])},[It(o("input",{"onUpdate:modelValue":g[7]||(g[7]=k=>Et.value=k),class:"mm-input",placeholder:"Paste ERC20 contract address"},null,512),[[ye,Et.value]]),It(o("input",{"onUpdate:modelValue":g[8]||(g[8]=k=>Bt.value=k),class:"mm-input",placeholder:"Label (optional)"},null,512),[[ye,Bt.value]]),o("button",{class:"mm-btn mm-outline",type:"submit",disabled:!Et.value},"Add Token",8,kS),o("button",{class:"mm-btn mm-outline",type:"button",onClick:g[9]||(g[9]=(...k)=>Ft(H)&&Ft(H)(...k))},"Refresh")],32)]),o("div",CS,[o("div",SS,[g[27]||(g[27]=o("div",{class:"mm-card-label"},"Current Network",-1)),o("div",TS,y(Ft(f)),1),o("div",_S,"Chain ID: "+y(Ft(d)),1)]),o("div",PS,[g[28]||(g[28]=o("div",{class:"mm-card-label"},"Native Balance",-1)),o("div",xS,y(Ft(p))+" "+y(Ft(h)),1),o("div",IS,"≈ "+y(Ft(w)||0)+" AUD",1)])]),o("nav",RS,[o("button",{class:Ct(["mm-tab",{"is-active":Ft(N)==="tokens"}]),onClick:g[10]||(g[10]=k=>N.value="tokens")},"Tokens",2),o("button",{class:Ct(["mm-tab",{"is-active":Ft(N)==="activity"}]),onClick:rg},"Activity",2)]),o("div",NS,[o("div",LS,[It(o("select",{"onUpdate:modelValue":g[11]||(g[11]=k=>dt.value=k),onChange:g[12]||(g[12]=k=>hg(dt.value)),class:"mm-network-select"},[(S(!0),T(xt,null,Ae(Tt.value,k=>(S(),T("option",{key:k.value,value:k.value},y(k.label),9,DS))),128))],544),[[De,dt.value]])]),o("div",BS,[o("button",{class:"mm-btn mm-outline",onClick:zr,style:{height:"28px",padding:"2px 10px"}},"Sort"),re.value?(S(),T("div",OS,[o("button",{class:Ct(["mm-sort-item",{active:Ye.value==="desc"}]),onClick:g[13]||(g[13]=k=>Re("desc"))},"descending by balance",2),o("button",{class:Ct(["mm-sort-item",{active:Ye.value==="asc"}]),onClick:g[14]||(g[14]=k=>Re("asc"))},"ascending by balance",2)])):et("",!0)])]),Ft(N)==="tokens"?(S(),T("div",MS,[o("div",US,[g[29]||(g[29]=o("div",{class:"mm-token-left"},[o("div",{class:"mm-token-icon mm-eth"}),o("div",null,[o("div",{class:"mm-token-title"}," SepoliaETH ")])],-1)),o("div",FS,[o("div",$S,y(Ft(p))+" "+y(Ft(h)),1),o("div",VS,"A$"+y(Ft(w)||0),1)])]),(S(!0),T(xt,null,Ae(Yr.value,k=>(S(),T("div",{key:k.address,class:"mm-token",onClick:mt=>C.$router.push({name:"tokenDetail",params:{address:k.address}})},[o("div",jS,[o("div",GS,y((k.symbol||"T").slice(0,1)),1),o("div",null,[o("div",KS,y(k.symbol),1),o("div",WS,y(k.symbol||"Token"),1),o("div",zS,y(k.name),1)])]),o("div",YS,[o("div",QS,y(k.symbol),1),o("div",qS,y(k.displayBalance),1)])],8,HS))),128)),g[30]||(g[30]=o("div",{class:"mm-token-footer"},null,-1))])):et("",!0)])):et("",!0),Ft(N)==="activity"?(S(),T("div",JS,[o("div",ZS,[g[31]||(g[31]=o("h3",null,"Wallet Activity Log",-1)),o("div",XS,[o("button",{class:Ct(["mm-btn mm-outline",{active:At.value}]),onClick:ng}," Filter ",2),o("button",{class:"mm-btn mm-outline",onClick:Jm,disabled:ht.value},[ht.value?(S(),T("span",eT,"🔄")):(S(),T("span",sT,"Refresh"))],8,tT)])]),At.value?(S(),T("div",nT,[o("div",iT,[o("div",rT,[g[33]||(g[33]=o("label",{class:"mm-filter-label"},"Type",-1)),It(o("select",{"onUpdate:modelValue":g[15]||(g[15]=k=>U.value.type=k),class:"mm-filter-select"},[...g[32]||(g[32]=[ne('<option value="" data-v-8f24662d>All Types</option><option value="buy" data-v-8f24662d>Buy</option><option value="sell" data-v-8f24662d>Sell</option><option value="wallet_connect" data-v-8f24662d>Wallet Connect</option><option value="wallet_disconnect" data-v-8f24662d>Wallet Disconnect</option><option value="network_change" data-v-8f24662d>Network Change</option><option value="metamask_connect" data-v-8f24662d>MetaMask Connect</option><option value="metamask_disconnect" data-v-8f24662d>MetaMask Disconnect</option><option value="wallet_status_check" data-v-8f24662d>Status Check</option><option value="wallet_focus_check" data-v-8f24662d>Focus Check</option><option value="metamask_message" data-v-8f24662d>MetaMask Message</option>',11)])],512),[[De,U.value.type]])]),o("div",aT,[g[35]||(g[35]=o("label",{class:"mm-filter-label"},"Project Code",-1)),It(o("select",{"onUpdate:modelValue":g[16]||(g[16]=k=>U.value.projectCode=k),class:"mm-filter-select"},[g[34]||(g[34]=o("option",{value:""},"All Projects",-1)),(S(!0),T(xt,null,Ae(Qt.value,k=>(S(),T("option",{key:k,value:k},y(k),9,oT))),128))],512),[[De,U.value.projectCode]])]),o("div",{class:"mm-filter-actions"},[o("button",{class:"mm-btn mm-outline",onClick:Uc}," Clear "),o("button",{class:"mm-btn mm-primary",onClick:ig}," Apply ")])])])):et("",!0),ht.value?(S(),T("div",lT,[...g[36]||(g[36]=[o("div",{class:"mm-spinner"},null,-1),o("span",null,"Loading activity...",-1)])])):$.value.length===0?(S(),T("div",cT,[...g[37]||(g[37]=[o("div",{class:"mm-no-activity-icon"},null,-1),o("p",null,"No transaction activity found",-1),o("p",{class:"mm-no-activity-sub"},"Your recent transactions will appear here",-1)])])):et("",!0),$.value.length>0?(S(),T("div",uT,[o("div",dT,[g[38]||(g[38]=o("span",{class:"mm-stat-label"},"Total Transactions:",-1)),o("span",fT,y($.value.length),1)]),o("div",hT,[g[39]||(g[39]=o("span",{class:"mm-stat-label"},"API Records:",-1)),o("span",pT,y(Vt.value),1)]),o("div",mT,[g[40]||(g[40]=o("span",{class:"mm-stat-label"},"Local Records:",-1)),o("span",gT,y(be.value),1)])])):(S(),T("div",vT,[At.value?(S(),T("div",yT,[o("span",bT," Showing "+y(Ut.value.length)+" of "+y($.value.length)+" activities ",1),we.value?(S(),T("button",{key:0,class:"mm-clear-filters-btn",onClick:Uc}," Clear all filters ")):et("",!0)])):et("",!0),o("div",wT,[o("div",AT,[g[76]||(g[76]=o("div",{class:"mm-activity-section-header"},[o("h4",{class:"mm-activity-section-title"},"Transaction Activity")],-1)),(S(!0),T(xt,null,Ae(lt.value,k=>(S(),T("div",{key:k.id,class:"mm-activity-item"},[o("div",ET,[o("div",{class:Ct(["mm-activity-type",k.type])},[o("span",kT,y(Bc(k.type)),1),o("span",CT,y(Oc(k.type)),1)],2),o("div",ST,y(Lc(k.timestamp)),1)]),o("div",TT,[k.type==="buy"||k.type==="sell"?(S(),T("div",_T,[g[41]||(g[41]=o("span",{class:"mm-activity-label"},"Project Code:",-1)),o("span",PT,y(k.project_code),1)])):et("",!0),k.type==="buy"||k.type==="sell"?(S(),T("div",xT,[g[42]||(g[42]=o("span",{class:"mm-activity-label"},"Project Name:",-1)),o("span",IT,y(k.project_name),1)])):et("",!0),k.type==="buy"||k.type==="sell"?(S(),T("div",RT,[g[43]||(g[43]=o("span",{class:"mm-activity-label"},"Token Amount:",-1)),o("span",NT,y(k.amount)+" tokens",1)])):et("",!0),k.type==="buy"||k.type==="sell"?(S(),T("div",LT,[g[44]||(g[44]=o("span",{class:"mm-activity-label"},"Trade Type:",-1)),o("span",{class:Ct(["mm-activity-value",k.type==="buy"?"mm-trade-buy":"mm-trade-sell"])},y(k.type.toUpperCase()),3)])):et("",!0),k.type==="buy"||k.type==="sell"?(S(),T("div",DT,[g[45]||(g[45]=o("span",{class:"mm-activity-label"},"Trade Time:",-1)),o("span",BT,y(Qm(k.timestamp)),1)])):et("",!0),k.type==="wallet_connect"||k.type==="wallet_disconnect"?(S(),T("div",OT,[g[46]||(g[46]=o("span",{class:"mm-activity-label"},"Wallet Address:",-1)),o("span",MT,y(Rn(k.wallet_address)),1)])):et("",!0),k.type==="network_change"?(S(),T("div",UT,[g[47]||(g[47]=o("span",{class:"mm-activity-label"},"Network:",-1)),o("span",FT,y(k.network_name),1)])):et("",!0),k.type==="network_change"?(S(),T("div",$T,[g[48]||(g[48]=o("span",{class:"mm-activity-label"},"Chain ID:",-1)),o("span",VT,y(k.network_id),1)])):et("",!0),k.type==="metamask_connect"||k.type==="metamask_disconnect"?(S(),T("div",HT,[...g[49]||(g[49]=[o("span",{class:"mm-activity-label"},"Extension:",-1),o("span",{class:"mm-activity-value"},"MetaMask",-1)])])):et("",!0),k.type==="metamask_connect"&&k.chain_id?(S(),T("div",jT,[g[50]||(g[50]=o("span",{class:"mm-activity-label"},"Chain ID:",-1)),o("span",GT,y(k.chain_id),1)])):et("",!0),k.type==="metamask_disconnect"&&k.error?(S(),T("div",KT,[g[51]||(g[51]=o("span",{class:"mm-activity-label"},"Error:",-1)),o("span",WT,y(k.error),1)])):et("",!0),k.type==="metamask_transaction"?(S(),T("div",zT,[o("div",YT,[g[52]||(g[52]=o("span",{class:"mm-activity-label"},"Transaction Hash:",-1)),o("span",QT,y(k.etherscan?.hash||k.transactionHash||"N/A"),1)]),o("div",qT,[g[53]||(g[53]=o("span",{class:"mm-activity-label"},"Status:",-1)),o("span",{class:Ct(["mm-activity-value",{"mm-status-success":k.etherscan?.status==="0x1","mm-status-failed":k.etherscan?.status==="0x0"}])},y(k.etherscan?.status==="0x1"?"Success":k.etherscan?.status==="0x0"?"Failed":"Pending"),3)]),o("div",JT,[g[54]||(g[54]=o("span",{class:"mm-activity-label"},"From:",-1)),o("span",ZT,y(Rn(k.etherscan?.from)),1)]),o("div",XT,[g[55]||(g[55]=o("span",{class:"mm-activity-label"},"To:",-1)),o("span",t_,y(Rn(k.etherscan?.to)),1)]),o("div",e_,[g[56]||(g[56]=o("span",{class:"mm-activity-label"},"Nonce:",-1)),o("span",s_,y(k.etherscan?.nonce?parseInt(k.etherscan.nonce,16):"N/A"),1)]),o("div",n_,[g[57]||(g[57]=o("span",{class:"mm-activity-label"},"Token Amount:",-1)),o("span",i_,y(k.amount||"N/A")+" "+y(k.project_code||"tokens"),1)]),o("div",r_,[g[58]||(g[58]=o("span",{class:"mm-activity-label"},"Value:",-1)),o("span",a_,y(Dc(k.etherscan?.value))+" ETH",1)]),o("div",o_,[g[59]||(g[59]=o("span",{class:"mm-activity-label"},"Block:",-1)),o("span",l_,y(k.etherscan?.blockNumber?parseInt(k.etherscan.blockNumber,16).toLocaleString():"N/A"),1)]),o("div",c_,[g[60]||(g[60]=o("span",{class:"mm-activity-label"},"Transaction Fee:",-1)),o("span",u_,y(k.etherscan?.transactionFee?k.etherscan.transactionFee.toFixed(6):"N/A")+" ETH",1)]),o("div",d_,[g[61]||(g[61]=o("span",{class:"mm-activity-label"},"Gas Price:",-1)),o("span",f_,y(k.etherscan?.gasPrice?parseInt(k.etherscan.gasPrice,16).toLocaleString():"N/A")+" Gwei",1)])])):et("",!0),k.type==="wallet_status_check"||k.type==="wallet_focus_check"?(S(),T("div",h_,[...g[62]||(g[62]=[o("span",{class:"mm-activity-label"},"Status:",-1),o("span",{class:"mm-activity-value"},"Checked",-1)])])):et("",!0),k.type==="wallet_status_check"||k.type==="wallet_focus_check"?(S(),T("div",p_,[g[63]||(g[63]=o("span",{class:"mm-activity-label"},"Wallet:",-1)),o("span",m_,y(Rn(k.wallet_address)),1)])):et("",!0),k.type==="metamask_message"?(S(),T("div",g_,[g[64]||(g[64]=o("span",{class:"mm-activity-label"},"Message Type:",-1)),o("span",v_,y(k.message_type),1)])):et("",!0),k.message?(S(),T("div",y_,[g[65]||(g[65]=o("span",{class:"mm-activity-label"},"Message:",-1)),o("span",b_,y(k.message),1)])):et("",!0),k.etherscan?(S(),T("div",w_,[o("div",A_,[g[66]||(g[66]=o("span",{class:"mm-activity-label"},"Transaction Hash:",-1)),o("span",E_,y(k.etherscan.hash||k.transactionHash||"N/A"),1)]),o("div",k_,[g[67]||(g[67]=o("span",{class:"mm-activity-label"},"Status:",-1)),o("span",{class:Ct(["mm-activity-value",{"mm-status-success":k.etherscan.status==="0x1","mm-status-failed":k.etherscan.status==="0x0"}])},y(k.etherscan.status==="0x1"?"Success":k.etherscan.status==="0x0"?"Failed":"Pending"),3)]),o("div",C_,[g[68]||(g[68]=o("span",{class:"mm-activity-label"},"From:",-1)),o("span",S_,y(Rn(k.etherscan.from)),1)]),o("div",T_,[g[69]||(g[69]=o("span",{class:"mm-activity-label"},"To:",-1)),o("span",__,y(Rn(k.etherscan.to)),1)]),o("div",P_,[g[70]||(g[70]=o("span",{class:"mm-activity-label"},"Nonce:",-1)),o("span",x_,y(k.etherscan.nonce?parseInt(k.etherscan.nonce,16):"N/A"),1)]),o("div",I_,[g[71]||(g[71]=o("span",{class:"mm-activity-label"},"Token Amount:",-1)),o("span",R_,y(k.amount||"N/A")+" "+y(k.project_code||"tokens"),1)]),o("div",N_,[g[72]||(g[72]=o("span",{class:"mm-activity-label"},"Value:",-1)),o("span",L_,y(Dc(k.etherscan.value))+" ETH",1)]),o("div",D_,[g[73]||(g[73]=o("span",{class:"mm-activity-label"},"Gas Used:",-1)),o("span",B_,y(k.etherscan.gasUsed?parseInt(k.etherscan.gasUsed,16).toLocaleString():"N/A"),1)]),o("div",O_,[g[74]||(g[74]=o("span",{class:"mm-activity-label"},"Block:",-1)),o("span",M_,y(k.etherscan.blockNumber?parseInt(k.etherscan.blockNumber,16).toLocaleString():"N/A"),1)]),o("div",U_,[g[75]||(g[75]=o("span",{class:"mm-activity-label"},"Transaction Fee:",-1)),o("span",F_,y(k.etherscan.transactionFee?k.etherscan.transactionFee.toFixed(6):"N/A")+" ETH",1)])])):et("",!0)]),k.etherscan&&k.etherscan.etherscanUrl?(S(),T("div",$_,[o("a",{href:k.etherscan.etherscanUrl,target:"_blank",class:"mm-etherscan-link"}," 🔗 View on Etherscan ",8,V_)])):et("",!0)]))),128))]),o("div",H_,[o("div",j_,[g[77]||(g[77]=o("h4",{class:"mm-activity-section-title"},"Status Check",-1)),o("div",G_,[o("button",{class:"mm-btn mm-outline mm-log-status-btn",onClick:Zm,disabled:!Ft(l)}," Log Status ",8,K_),o("button",{class:"mm-btn mm-outline mm-clear-status-btn",onClick:ag}," Clear Status ")])]),(S(!0),T(xt,null,Ae(D.value,k=>(S(),T("div",{key:k.id,class:"mm-activity-item"},[o("div",W_,[o("div",{class:Ct(["mm-activity-type",k.type])},[o("span",z_,y(Bc(k.type)),1),o("span",Y_,y(Oc(k.type)),1)],2),o("div",Q_,y(Lc(k.timestamp)),1)]),o("div",q_,[k.type==="wallet_status_check"||k.type==="wallet_focus_check"?(S(),T("div",J_,[...g[78]||(g[78]=[o("span",{class:"mm-activity-label"},"Status:",-1),o("span",{class:"mm-activity-value"},"Checked",-1)])])):et("",!0),k.type==="wallet_status_check"||k.type==="wallet_focus_check"?(S(),T("div",Z_,[g[79]||(g[79]=o("span",{class:"mm-activity-label"},"Wallet:",-1)),o("span",X_,y(Rn(k.wallet_address)),1)])):et("",!0),k.type==="network_change"?(S(),T("div",tP,[g[80]||(g[80]=o("span",{class:"mm-activity-label"},"Network:",-1)),o("span",eP,y(k.network_name),1)])):et("",!0),k.type==="network_change"?(S(),T("div",sP,[g[81]||(g[81]=o("span",{class:"mm-activity-label"},"Chain ID:",-1)),o("span",nP,y(k.network_id),1)])):et("",!0),k.message?(S(),T("div",iP,[g[82]||(g[82]=o("span",{class:"mm-activity-label"},"Message:",-1)),o("span",rP,y(k.message),1)])):et("",!0)])]))),128)),tt.value>1?(S(),T("div",aP,[o("div",oP,[o("span",lP," Page "+y(j.value)+" of "+y(tt.value),1),o("span",cP," ("+y(ie.value.length)+" records) ",1)]),o("div",uP,[o("button",{class:"mm-pagination-btn",onClick:cg,disabled:j.value<=1}," ← ",8,dP),o("div",fP,[(S(!0),T(xt,null,Ae(Y.value,(k,mt)=>(S(),T(xt,{key:k},[mt>0&&k-Y.value[mt-1]>1?(S(),T("span",hP," ... ")):et("",!0),o("button",{class:Ct(["mm-pagination-page",{active:k===j.value}]),onClick:ft=>og(k)},y(k),11,pP)],64))),128))]),o("button",{class:"mm-pagination-btn",onClick:lg,disabled:j.value>=tt.value}," → ",8,mP)])])):et("",!0),Lt.value>1?(S(),T("div",gP,[o("div",vP,[o("span",yP," Transaction Page "+y(J.value)+" of "+y(Lt.value),1),o("span",bP," ("+y(Te.value.length)+" records) ",1)]),o("div",wP,[o("button",{class:"mm-pagination-btn",onClick:fg,disabled:J.value<=1}," ← ",8,AP),o("div",EP,[(S(!0),T(xt,null,Ae(Lt.value,k=>(S(),T("button",{key:k,class:Ct(["mm-pagination-page",{active:k===J.value}]),onClick:mt=>ug(k)},y(k),11,kP))),128))]),o("button",{class:"mm-pagination-btn",onClick:dg,disabled:J.value>=Lt.value}," → ",8,CP)])])):et("",!0)])])]))])):et("",!0),Ft(E)?(S(),T("p",SP,y(Ft(E)),1)):et("",!0),Ft(L)?(S(),T("p",TP,y(Ft(L)),1)):et("",!0)]),wt(g0,{name:"fade"},{default:$t(()=>[O.value?(S(),T("div",_P,"Copied")):et("",!0)]),_:1})],64))}},Km=zt(PP,[["__scopeId","data-v-8f24662d"]]),xP={name:"KycServicePage",data(){return{step:1,form:{firstName:"",lastName:"",dob:"",email:"",phone:"",country:"",docType:"",docNumber:"",fileFront:null,fileBack:null},cameraEnabled:!1,camError:"",livenessDetecting:!1,livenessStatus:"正在检测...",showWhitelistEligibility:!1,showWhitelistApplication:!1,showWhitelistSuccess:!1,loadingMessage:"Processing...",showCancelConfirm:!1}},computed:{needsBack(){return this.form.docType==="driver"||this.form.docType==="idcard"},readyExtract(){return!!(this.form.firstName&&this.form.lastName&&this.form.dob)}},methods:{goProfile(){this.$router.push("/profile")},prev(){this.step=Math.max(1,this.step-1)},cancelKYC(){this.showCancelConfirm=!0},hideCancelConfirm(){this.showCancelConfirm=!1},confirmCancelKYC(){this.showCancelConfirm=!1,Fl(He.UNVERIFIED),this.$router.push("/profile")},goDoc(){this.step=3},onFile(e,t){const s=e.target.files?.[0];s&&(t==="front"?this.form.fileFront=s:this.form.fileBack=s)},async extractFromId(){try{const e=(this.form.fileFront?.name||"").toLowerCase();e.includes("john")&&(this.form.firstName="John"),e.includes("doe")&&(this.form.lastName="Doe"),e.match(/1990|90/)&&(this.form.dob="1990-01-01"),this.form.firstName||(this.form.firstName="GivenName"),this.form.lastName||(this.form.lastName="FamilyName"),this.form.dob||(this.form.dob="1990-01-01")}catch{}},complete(){Fl(He.VERIFIED),this.step=4,this.disableCamera(),setTimeout(()=>{this.showWhitelistEligibility=!0},1500)},async enableCamera(){this.camError="";try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.cameraEnabled=!0,this.$nextTick(()=>{this.$refs.videoEl&&(this.$refs.videoEl.srcObject=e)}),this.startLivenessDetection()}catch{this.camError="无法访问摄像头，请检查浏览器权限设置。"}},async startLivenessDetection(){this.livenessDetecting=!0,this.livenessStatus="正在检测...",setTimeout(()=>{this.livenessStatus="验证成功，进入下一步",setTimeout(()=>{this.complete()},1e3)},3e3)},cancelLiveness(){this.cameraEnabled=!1,this.livenessDetecting=!1,this.livenessStatus="正在检测...",this.$refs.videoEl&&this.$refs.videoEl.srcObject&&(this.$refs.videoEl.srcObject.getTracks().forEach(t=>t.stop()),this.$refs.videoEl.srcObject=null),this.prev()},disableCamera(){console.log("🔒 KYC验证完成，禁用镜头功能"),this.cameraEnabled=!1,this.livenessDetecting=!1,this.livenessStatus="验证已完成",this.$refs.videoEl&&this.$refs.videoEl.srcObject&&(this.$refs.videoEl.srcObject.getTracks().forEach(t=>{t.stop(),console.log("📹 摄像头流已停止")}),this.$refs.videoEl.srcObject=null),this.camError="",console.log("✅ 镜头功能已完全禁用")},async applyWhitelist(){this.showWhitelistEligibility=!1,this.showWhitelistApplication=!0;try{this.loadingMessage="Connecting to blockchain...",await this.delay(1e3),this.loadingMessage="Submitting whitelist application...",await this.delay(1e3),this.loadingMessage="Processing transaction...",await this.delay(1500);const e=await this.submitWhitelistToContract();if(e.success)this.loadingMessage="Whitelist application successful!",await this.delay(1e3),this.showWhitelistApplication=!1,this.showWhitelistSuccess=!0;else throw new Error(e.error||"Whitelist application failed")}catch(e){console.error("Whitelist application error:",e),this.loadingMessage="Application failed. Please try again.",await this.delay(2e3),this.showWhitelistApplication=!1,this.showWhitelistEligibility=!0}},async submitWhitelistToContract(){try{console.log("Calling whitelist contract...");const e={firstName:this.form.firstName,lastName:this.form.lastName,dob:this.form.dob,country:this.form.country,docType:this.form.docType,docNumber:this.form.docNumber},t=await Ue.applyForKYC(e);if(t.success)return console.log("Whitelist application successful:",t.transactionHash),t;throw new Error(t.error||"Whitelist application failed")}catch(e){return console.error("Contract call failed:",e),{success:!1,error:e.message}}},delay(e){return new Promise(t=>setTimeout(t,e))},goToProjects(){this.showWhitelistSuccess=!1,this.$router.push("/projects")}}},IP={class:"kyc-page container"},RP={class:"topbar"},NP={class:"steps"},LP={key:0,class:"modal"},DP={class:"card"},BP={class:"grid"},OP={class:"actions",style:{"justify-content":"flex-start",gap:"10px"}},MP=["disabled"],UP={class:"grid",style:{"margin-top":"12px"}},FP={class:"actions"},$P=["disabled"],VP={key:1,class:"modal"},HP={class:"card"},jP={class:"camera-block"},GP={key:0,ref:"videoEl",autoplay:"",playsinline:"",class:"cam-preview"},KP={key:2,class:"cam-error"},WP={key:3,class:"liveness-status"},zP={class:"detection-text"},YP={class:"actions"},QP={key:2,class:"modal"},qP={class:"card success"},JP={class:"actions"},ZP={key:3,class:"modal"},XP={class:"card"},t8={class:"actions"},e8={key:4,class:"modal"},s8={class:"card"},n8={class:"loading-text"},i8={key:5,class:"modal"},r8={key:6,class:"modal"},a8={class:"card"},o8={class:"actions"};function l8(e,t,s,n,i,r){return S(),T("section",IP,[o("header",RP,[o("button",{class:"back",onClick:t[0]||(t[0]=(...a)=>r.goProfile&&r.goProfile(...a))},"← Back"),t[21]||(t[21]=o("h1",{class:"title"},"KYC Verification",-1)),o("button",{class:"btn light danger",onClick:t[1]||(t[1]=(...a)=>r.cancelKYC&&r.cancelKYC(...a))},"Cancel Verification")]),o("ol",NP,[o("li",{class:Ct({active:i.step===1,done:i.step>1})},"1. Upload ID & auto-read",2),o("li",{class:Ct({active:i.step===3,done:i.step>3})},"2. Liveness",2),o("li",{class:Ct({active:i.step===4,done:i.step>4})},"3. Complete",2)]),i.step===1?(S(),T("div",LP,[o("div",DP,[t[33]||(t[33]=o("h2",null,"Upload your ID and auto-read info",-1)),o("form",{onSubmit:t[12]||(t[12]=St((...a)=>r.goDoc&&r.goDoc(...a),["prevent"]))},[o("div",BP,[o("label",null,[t[22]||(t[22]=pt("Upload front image* ",-1)),o("input",{type:"file",accept:"image/*",onChange:t[2]||(t[2]=a=>r.onFile(a,"front")),required:""},null,32)]),o("label",null,[t[23]||(t[23]=pt("Upload back image ",-1)),o("input",{type:"file",accept:"image/*",onChange:t[3]||(t[3]=a=>r.onFile(a,"back"))},null,32)]),o("label",null,[t[25]||(t[25]=pt("Issuing country* ",-1)),It(o("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>i.form.country=a),required:""},[...t[24]||(t[24]=[o("option",{value:"",disabled:""},"Select…",-1),o("option",{value:"AU"},"Australia",-1),o("option",{value:"US"},"United States",-1),o("option",{value:"AR"},"Argentina",-1)])],512),[[De,i.form.country]])]),o("label",null,[t[27]||(t[27]=pt("ID type* ",-1)),It(o("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>i.form.docType=a),required:""},[...t[26]||(t[26]=[ne('<option value="" disabled data-v-9a4b01e2>Select…</option><option value="passport" data-v-9a4b01e2>Passport</option><option value="driver" data-v-9a4b01e2>Driver&#39;s license</option><option value="idcard" data-v-9a4b01e2>ID card</option><option value="residence" data-v-9a4b01e2>Residence permit</option>',5)])],512),[[De,i.form.docType]])])]),o("div",OP,[o("button",{type:"button",class:"btn light",onClick:t[6]||(t[6]=(...a)=>r.extractFromId&&r.extractFromId(...a)),disabled:!i.form.fileFront},"Auto-read from ID",8,MP),t[28]||(t[28]=o("small",{class:"hint"},"将使用 OCR/解析服务读取 first name, last name, DOB 等信息。",-1))]),o("div",UP,[o("label",null,[t[29]||(t[29]=pt("First name* ",-1)),It(o("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>i.form.firstName=a),required:"",readonly:""},null,512),[[ye,i.form.firstName,void 0,{trim:!0}]])]),o("label",null,[t[30]||(t[30]=pt("Last name* ",-1)),It(o("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>i.form.lastName=a),required:"",readonly:""},null,512),[[ye,i.form.lastName,void 0,{trim:!0}]])]),o("label",null,[t[31]||(t[31]=pt("Date of birth* ",-1)),It(o("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>i.form.dob=a),required:"",readonly:""},null,512),[[ye,i.form.dob,void 0,{trim:!0}]])]),o("label",null,[t[32]||(t[32]=pt("ID number ",-1)),It(o("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>i.form.docNumber=a),readonly:""},null,512),[[ye,i.form.docNumber,void 0,{trim:!0}]])])]),o("div",FP,[o("button",{type:"button",class:"btn light",onClick:t[11]||(t[11]=(...a)=>r.cancelKYC&&r.cancelKYC(...a))},"Cancel"),o("button",{type:"submit",class:"btn orange",disabled:!r.readyExtract},"Continue",8,$P)])],32)])])):et("",!0),i.step===3?(S(),T("div",VP,[o("div",HP,[t[35]||(t[35]=o("h2",null,"Liveness detection",-1)),t[36]||(t[36]=o("p",null,"Center your face in the frame and follow the instruction.",-1)),o("div",jP,[i.cameraEnabled?(S(),T("video",GP,null,512)):(S(),T("button",{key:1,class:"btn orange",onClick:t[13]||(t[13]=(...a)=>r.enableCamera&&r.enableCamera(...a))},"Enable Camera")),i.camError?(S(),T("p",KP,y(i.camError),1)):et("",!0),i.livenessDetecting?(S(),T("div",WP,[t[34]||(t[34]=o("div",{class:"detection-spinner"},null,-1)),o("p",zP,y(i.livenessStatus),1)])):et("",!0)]),t[37]||(t[37]=o("small",{class:"hint"},[pt("接入 Sumsub/Persona/Onfido 时，把此区域替换为他们的组件，并在成功回调里调用 "),o("code",null,"complete()"),pt("。")],-1)),o("div",YP,[o("button",{type:"button",class:"btn light",onClick:t[14]||(t[14]=(...a)=>r.prev&&r.prev(...a))},"Back"),i.cameraEnabled?et("",!0):(S(),T("button",{key:0,class:"btn light danger",onClick:t[15]||(t[15]=(...a)=>r.cancelLiveness&&r.cancelLiveness(...a))},"Cancel"))])])])):et("",!0),i.step===4?(S(),T("div",QP,[o("div",qP,[t[38]||(t[38]=o("div",{class:"bigcheck"},"✓",-1)),t[39]||(t[39]=o("h2",null,"Your profile has been verified",-1)),t[40]||(t[40]=o("p",null,"Please wait for the whitelist application...",-1)),o("div",JP,[o("button",{class:"btn orange",onClick:t[16]||(t[16]=(...a)=>r.goProfile&&r.goProfile(...a))},"Back to Profile")])])])):et("",!0),i.showWhitelistEligibility?(S(),T("div",ZP,[o("div",XP,[t[41]||(t[41]=o("div",{class:"success-icon"},"🎉",-1)),t[42]||(t[42]=o("h2",{style:{color:"#16a34a"}},"Congratulations!",-1)),t[43]||(t[43]=o("p",{style:{"font-weight":"bold",color:"#000"}},"Your KYC verification has been completed successfully.",-1)),t[44]||(t[44]=o("p",{style:{"font-weight":"bold",color:"#000"}},"Now you are eligible to apply for the whitelist and start trading!",-1)),o("div",t8,[o("button",{class:"btn light",onClick:t[17]||(t[17]=(...a)=>r.goProfile&&r.goProfile(...a))},"Maybe Later"),o("button",{class:"btn orange",onClick:t[18]||(t[18]=(...a)=>r.applyWhitelist&&r.applyWhitelist(...a))},"Apply for Whitelist")])])])):et("",!0),i.showWhitelistApplication?(S(),T("div",e8,[o("div",s8,[t[45]||(t[45]=o("div",{class:"loading-icon"},[o("div",{class:"spinner"})],-1)),t[46]||(t[46]=o("h2",null,"Applying for Whitelist...",-1)),t[47]||(t[47]=o("p",null,"Please wait while we process your whitelist application.",-1)),o("div",n8,y(i.loadingMessage),1)])])):et("",!0),i.showWhitelistSuccess?(S(),T("div",i8,[...t[48]||(t[48]=[o("div",{class:"card success"},[o("div",{class:"bigcheck"},"✓"),o("h2",null,"Welcome to the Whitelist!"),o("p",null,"You have successfully joined the whitelist."),o("p",null,[o("strong",null,"Now you can go to the Projects page to subscribe to your preferred assets!")])],-1)])])):et("",!0),i.showCancelConfirm?(S(),T("div",r8,[o("div",a8,[t[49]||(t[49]=o("div",{class:"warning-icon"},"⚠️",-1)),t[50]||(t[50]=o("h2",null,"Cancel KYC Verification",-1)),t[51]||(t[51]=o("p",null,"Canceling KYC will revoke your subscription eligibility.",-1)),t[52]||(t[52]=o("p",null,[o("strong",null,"Are you sure you want to cancel KYC verification?")],-1)),o("div",o8,[o("button",{class:"btn light",onClick:t[19]||(t[19]=(...a)=>r.hideCancelConfirm&&r.hideCancelConfirm(...a))},"Continue KYC"),o("button",{class:"btn danger",onClick:t[20]||(t[20]=(...a)=>r.confirmCancelKYC&&r.confirmCancelKYC(...a))},"Yes, Cancel KYC")])])])):et("",!0)])}const Wm=zt(xP,[["render",l8],["__scopeId","data-v-9a4b01e2"]]),c8="/icons/RWA.png",u8="/icons/X-logo.png",d8="/icons/Linkedin-logo.png",f8="/icons/facebook-logo.png",h8="/icons/github-logo.png",p8={name:"AppFooter"},m8={class:"footer"},g8={class:"container footer-top"},v8={class:"footer-links"};function y8(e,t,s,n,i,r){const a=Xs("router-link");return S(),T("footer",m8,[o("div",g8,[t[29]||(t[29]=o("div",{class:"footer-brand"},[o("img",{src:c8,alt:"Mortgage RWA Logo",class:"footer-logo"}),o("p",{class:"footer-tagline"},"Design amazing digital experiences that create more happy in the world.")],-1)),o("div",v8,[o("div",null,[t[6]||(t[6]=o("h4",null,"Product",-1)),o("ul",null,[o("li",null,[wt(a,{to:"/overview"},{default:$t(()=>[...t[0]||(t[0]=[pt("Overview",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/features"},{default:$t(()=>[...t[1]||(t[1]=[pt("Features",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/solutions"},{default:$t(()=>[...t[2]||(t[2]=[pt("Solutions ",-1),o("span",{class:"new"},"New",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/tutorials"},{default:$t(()=>[...t[3]||(t[3]=[pt("Tutorials",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/pricing"},{default:$t(()=>[...t[4]||(t[4]=[pt("Pricing",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/releases"},{default:$t(()=>[...t[5]||(t[5]=[pt("Releases",-1)])]),_:1})])])]),o("div",null,[t[13]||(t[13]=o("h4",null,"Company",-1)),o("ul",null,[o("li",null,[wt(a,{to:"/about"},{default:$t(()=>[...t[7]||(t[7]=[pt("About us",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/careers"},{default:$t(()=>[...t[8]||(t[8]=[pt("Careers",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/press"},{default:$t(()=>[...t[9]||(t[9]=[pt("Press",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/news"},{default:$t(()=>[...t[10]||(t[10]=[pt("News",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/media-kit"},{default:$t(()=>[...t[11]||(t[11]=[pt("Media kit",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/contact"},{default:$t(()=>[...t[12]||(t[12]=[pt("Contact",-1)])]),_:1})])])]),o("div",null,[t[20]||(t[20]=o("h4",null,"Resources",-1)),o("ul",null,[o("li",null,[wt(a,{to:"/blog"},{default:$t(()=>[...t[14]||(t[14]=[pt("Blog",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/newsletter"},{default:$t(()=>[...t[15]||(t[15]=[pt("Newsletter",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/events"},{default:$t(()=>[...t[16]||(t[16]=[pt("Events",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/help"},{default:$t(()=>[...t[17]||(t[17]=[pt("Help centre",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/tutorials"},{default:$t(()=>[...t[18]||(t[18]=[pt("Tutorials",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/support"},{default:$t(()=>[...t[19]||(t[19]=[pt("Support",-1)])]),_:1})])])]),t[28]||(t[28]=ne('<div data-v-e8b61f5d><h4 data-v-e8b61f5d>Social</h4><ul data-v-e8b61f5d><li data-v-e8b61f5d><a href="https://twitter.com" target="_blank" data-v-e8b61f5d>Twitter</a></li><li data-v-e8b61f5d><a href="https://linkedin.com" target="_blank" data-v-e8b61f5d>LinkedIn</a></li><li data-v-e8b61f5d><a href="https://facebook.com" target="_blank" data-v-e8b61f5d>Facebook</a></li><li data-v-e8b61f5d><a href="https://github.com" target="_blank" data-v-e8b61f5d>GitHub</a></li><li data-v-e8b61f5d><a href="https://angel.co" target="_blank" data-v-e8b61f5d>AngelList</a></li><li data-v-e8b61f5d><a href="https://dribbble.com" target="_blank" data-v-e8b61f5d>Dribbble</a></li></ul></div>',1)),o("div",null,[t[27]||(t[27]=o("h4",null,"Legal",-1)),o("ul",null,[o("li",null,[wt(a,{to:"/terms"},{default:$t(()=>[...t[21]||(t[21]=[pt("Terms",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/privacy"},{default:$t(()=>[...t[22]||(t[22]=[pt("Privacy",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/cookies"},{default:$t(()=>[...t[23]||(t[23]=[pt("Cookies",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/licenses"},{default:$t(()=>[...t[24]||(t[24]=[pt("Licenses",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/settings"},{default:$t(()=>[...t[25]||(t[25]=[pt("Settings",-1)])]),_:1})]),o("li",null,[wt(a,{to:"/contact"},{default:$t(()=>[...t[26]||(t[26]=[pt("Contact",-1)])]),_:1})])])])])]),t[30]||(t[30]=ne('<div class="container footer-bottom" data-v-e8b61f5d><p data-v-e8b61f5d>© 2025 Mortgage RWA. All rights reserved.</p><div class="social-icons" data-v-e8b61f5d><a href="#" data-v-e8b61f5d><img src="'+u8+'" alt="X" data-v-e8b61f5d></a><a href="#" data-v-e8b61f5d><img src="'+d8+'" alt="LinkedIn" data-v-e8b61f5d></a><a href="#" data-v-e8b61f5d><img src="'+f8+'" alt="Facebook" data-v-e8b61f5d></a><a href="#" data-v-e8b61f5d><img src="'+h8+'" alt="GitHub" data-v-e8b61f5d></a></div></div>',1))])}const b8=zt(p8,[["render",y8],["__scopeId","data-v-e8b61f5d"]]),w8={name:"DetailPage",props:{product:{type:Object,default:null}},data(){return{model:null,loading:!1,error:null}},computed:{p(){return this.model||{}}},async mounted(){await this.loadProjectData()},methods:{async loadProjectData(){if(this.product){this.model=this.product;return}try{const t=sessionStorage.getItem("lastProduct");if(t){this.model=JSON.parse(t);return}}catch(t){console.warn("解析缓存数据失败:",t)}const e=this.$route.params.id||this.$route.query.id;e&&await this.fetchProjectFromAPI(e)},async fetchProjectFromAPI(e){this.loading=!0,this.error=null;try{const s=await(await fetch(void 0)).json();s.status===0&&s.data?(this.model=s.data,sessionStorage.setItem("lastProduct",JSON.stringify(s.data))):this.error=s.message||"获取项目详情失败"}catch(t){console.error("API请求失败:",t),this.error="网络请求失败，请稍后重试"}finally{this.loading=!1}},getPrepaymentInfo(){if(!this.model?.loanTerm)return"-";const e=this.model.loanTerm.toLowerCase();return e.includes("6个月")||e.includes("6 months")?"Available after 6 months":"Not available"},getTotalToken(){if(!this.model?.loanAmount)return"-";const t=this.model.loanAmount.toString().match(/[\d,]+/g);if(t&&t.length>0){const s=t[0].replace(/,/g,"");return`${parseInt(s).toLocaleString()} tokens`}return"-"},handleInvest(){if(!this.model){console.error("No project data available");return}const e=this.model.code||this.model.project_id||this.model.projectCode;if(!e){console.error("No project code found");return}console.log("🚀 跳转到交易页面，项目代码:",e),this.$router.push({name:"tradeProject",params:{code:e}})}},watch:{$route(e,t){e.params.id!==t.params.id&&this.loadProjectData()},product:{handler(e){e&&(this.model=e)},immediate:!0}}},A8={class:"container"},E8={class:"headline"},k8={key:0,class:"loading-state"},C8={key:1,class:"error-state"},S8={key:2,class:"detail-container"},T8={class:"section key-facts"},_8={class:"section-header"},P8={class:"facts-grid"},x8={class:"fact-item"},I8={class:"fact-value"},R8={class:"fact-item"},N8={class:"fact-value"},L8={class:"fact-item"},D8={class:"fact-value"},B8={class:"fact-item"},O8={class:"fact-value"},M8={class:"fact-item"},U8={class:"fact-value"},F8={class:"fact-item"},$8={class:"fact-value"},V8={class:"fact-item"},H8={class:"fact-value"},j8={class:"fact-item"},G8={class:"fact-value"},K8={class:"section parties"},W8={class:"parties-grid"},z8={class:"party-item"},Y8={class:"party-value"},Q8={class:"party-item"},q8={class:"party-value"},J8={class:"party-item"},Z8={class:"party-value"},X8={class:"party-item"},tx={class:"party-value"},ex={class:"party-item"},sx={class:"party-value"},nx={class:"section disbursement"},ix={class:"disbursement-grid"},rx={class:"disbursement-item"},ax={class:"disbursement-value"},ox={class:"disbursement-item"},lx={class:"disbursement-value"},cx={class:"disbursement-item"},ux={class:"disbursement-value"},dx={class:"disbursement-item"},fx={class:"disbursement-value"},hx={class:"section collateral"},px={class:"collateral-grid"},mx={class:"collateral-item"},gx={class:"collateral-value"},vx={class:"collateral-item"},yx={class:"collateral-value"},bx={class:"collateral-item"},wx={class:"collateral-value"},Ax={class:"collateral-item"},Ex={class:"collateral-value"},kx={class:"collateral-item full-width"},Cx={class:"collateral-value"},Sx={class:"section default"},Tx={class:"default-grid"},_x={class:"default-item"},Px={class:"default-value"},xx={class:"default-item full-width"},Ix={class:"default-value"},Rx={class:"default-item full-width"},Nx={class:"default-value"},Lx={class:"section documents"},Dx={class:"documents-grid"},Bx={class:"document-item"},Ox={class:"document-value"},Mx={class:"document-item"},Ux={class:"document-value"},Fx={class:"document-item"},$x={class:"document-value"},Vx={class:"document-item"},Hx={class:"document-value"};function jx(e,t,s,n,i,r){return S(),T("section",A8,[o("h1",E8,y(i.model?.name||"Project Detail"),1),i.loading?(S(),T("div",k8,[...t[2]||(t[2]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"Loading project details...",-1)])])):i.error?(S(),T("div",C8,[t[3]||(t[3]=o("div",{class:"error-icon"},"⚠️",-1)),t[4]||(t[4]=o("h3",null,"Loading failed",-1)),o("p",null,y(i.error),1),o("button",{onClick:t[0]||(t[0]=(...a)=>r.loadProjectData&&r.loadProjectData(...a)),class:"retry-btn"},"Retry")])):i.model?(S(),T("div",S8,[o("section",T8,[o("div",_8,[t[6]||(t[6]=o("h2",null,"Key Facts",-1)),o("button",{class:"invest-btn",onClick:t[1]||(t[1]=(...a)=>r.handleInvest&&r.handleInvest(...a))},[...t[5]||(t[5]=[o("span",{class:"btn-icon"},"💰",-1),pt(" Invest ",-1)])])]),o("div",P8,[o("div",x8,[t[7]||(t[7]=o("div",{class:"fact-label"},"Loan Amount",-1)),o("div",I8,y(r.p.loanAmount),1)]),o("div",R8,[t[8]||(t[8]=o("div",{class:"fact-label"},"Total Token",-1)),o("div",N8,y(r.getTotalToken()),1)]),o("div",L8,[t[9]||(t[9]=o("div",{class:"fact-label"},"Annual Interest Rate",-1)),o("div",D8,y(r.p.loanInterest),1)]),o("div",B8,[t[10]||(t[10]=o("div",{class:"fact-label"},"Loan Term",-1)),o("div",O8,y(r.p.loanTerm),1)]),o("div",M8,[t[11]||(t[11]=o("div",{class:"fact-label"},"LTV (Loan-to-Value)",-1)),o("div",U8,y(r.p.collateralRatio),1)]),o("div",F8,[t[12]||(t[12]=o("div",{class:"fact-label"},"Disbursement Date",-1)),o("div",$8,y(r.p.loanWithdrawalDate),1)]),o("div",V8,[t[13]||(t[13]=o("div",{class:"fact-label"},"Prepayment Option",-1)),o("div",H8,y(r.getPrepaymentInfo()),1)]),o("div",j8,[t[14]||(t[14]=o("div",{class:"fact-label"},"Repayment Schedule",-1)),o("div",G8,y(r.p.interestPaymentMethod),1)])])]),o("section",K8,[t[20]||(t[20]=o("h2",null,"Parties",-1)),o("div",W8,[o("div",z8,[t[15]||(t[15]=o("div",{class:"party-label"},"Issuer",-1)),o("div",Y8,y(r.p.issuer),1)]),o("div",Q8,[t[16]||(t[16]=o("div",{class:"party-label"},"PW Shareholders",-1)),o("div",q8,y(r.p.pwShareholders),1)]),o("div",J8,[t[17]||(t[17]=o("div",{class:"party-label"},"Lender",-1)),o("div",Z8,y(r.p.lender),1)]),o("div",X8,[t[18]||(t[18]=o("div",{class:"party-label"},"Borrower",-1)),o("div",tx,y(r.p.borrower),1)]),o("div",ex,[t[19]||(t[19]=o("div",{class:"party-label"},"Guarantor",-1)),o("div",sx,y(r.p.guarantor),1)])])]),o("section",nx,[t[25]||(t[25]=o("h2",null,"Disbursement & Interest",-1)),o("div",ix,[o("div",rx,[t[21]||(t[21]=o("div",{class:"disbursement-label"},"Disbursement Method",-1)),o("div",ax,y(r.p.disbursementMethod),1)]),o("div",ox,[t[22]||(t[22]=o("div",{class:"disbursement-label"},"Interest Rate",-1)),o("div",lx,y(r.p.interest),1)]),o("div",cx,[t[23]||(t[23]=o("div",{class:"disbursement-label"},"Prepayment Information",-1)),o("div",ux,y(r.p.earlyRepaymentDetails),1)]),o("div",dx,[t[24]||(t[24]=o("div",{class:"disbursement-label"},"Maturity Date",-1)),o("div",fx,y(r.p.maturityDate),1)])])]),o("section",hx,[t[31]||(t[31]=o("h2",null,"Collateral",-1)),o("div",px,[o("div",mx,[t[26]||(t[26]=o("div",{class:"collateral-label"},"Property Address",-1)),o("div",gx,y(r.p.propertyAddress),1)]),o("div",vx,[t[27]||(t[27]=o("div",{class:"collateral-label"},"Valuation",-1)),o("div",yx,y(r.p.valuation),1)]),o("div",bx,[t[28]||(t[28]=o("div",{class:"collateral-label"},"Security Ranking",-1)),o("div",wx,y(r.p.securityRank),1)]),o("div",Ax,[t[29]||(t[29]=o("div",{class:"collateral-label"},"LVR (Loan-to-Value Ratio)",-1)),o("div",Ex,y(r.p.lvr),1)]),o("div",kx,[t[30]||(t[30]=o("div",{class:"collateral-label"},"Description",-1)),o("div",Cx,y(r.p.summary),1)])])]),o("section",Sx,[t[35]||(t[35]=o("h2",null,"Default & Remedies",-1)),o("div",Tx,[o("div",_x,[t[32]||(t[32]=o("div",{class:"default-label"},"Default Interest Rate",-1)),o("div",Px,y(r.p.defaultInterestRate),1)]),o("div",xx,[t[33]||(t[33]=o("div",{class:"default-label"},"Default Trigger Conditions",-1)),o("div",Ix,y(r.p.defaultTriggers),1)]),o("div",Rx,[t[34]||(t[34]=o("div",{class:"default-label"},"Disposal Process",-1)),o("div",Nx,y(r.p.defaultProcess),1)])])]),o("section",Lx,[t[44]||(t[44]=o("h2",null,"On-Chain & Documents",-1)),o("div",Dx,[o("div",Bx,[t[36]||(t[36]=o("div",{class:"document-label"},"Issuer Token",-1)),o("div",Ox,y(r.p.issuerToken),1),t[37]||(t[37]=o("button",{class:"doc-btn"},"View",-1))]),o("div",Mx,[t[38]||(t[38]=o("div",{class:"document-label"},"Loan Token",-1)),o("div",Ux,y(r.p.loanToken),1),t[39]||(t[39]=o("button",{class:"doc-btn"},"View",-1))]),o("div",Fx,[t[40]||(t[40]=o("div",{class:"document-label"},"Valuation Report",-1)),o("div",$x,y(r.p.valuationReport),1),t[41]||(t[41]=o("button",{class:"doc-btn"},"Download",-1))]),o("div",Vx,[t[42]||(t[42]=o("div",{class:"document-label"},"Mortgage Deed",-1)),o("div",Hx,y(r.p.mortgageDeed),1),t[43]||(t[43]=o("button",{class:"doc-btn"},"Download",-1))])])])])):et("",!0)])}const zm=zt(w8,[["render",jx],["__scopeId","data-v-4db07449"]]),Gx={name:"App",components:{AppHeader:oy,AppFooter:b8,HomeView:Eh,ProjectsView:kh,LoginView:$m,SignupView:Vm,ProfileView:Gm,WalletView:Km,PortfolioView:Bm,kycService:Wm,DetailPage:zm},data(){return{user:null}},computed:{isAuthPage(){const e=this.$route.path;return e==="/login"||e==="/signup"}},methods:{alertMsg(e){alert(e)},handleSearch(e){const t=(e||"").toLowerCase().trim();t&&(t.includes("project")?this.$router.push({name:"projects"}):t.includes("login")?this.$router.push({name:"login"}):t.includes("signup")||t.includes("register")?this.$router.push({name:"signup"}):alert("No matching page found."))}}},Kx={id:"app"},Wx={class:"page-wrap"};function zx(e,t,s,n,i,r){const a=Xs("AppHeader"),l=Xs("router-view"),c=Xs("AppFooter");return S(),T("div",Kx,[wt(a,{onSearch:r.handleSearch},null,8,["onSearch"]),o("main",Wx,[wt(l)]),r.isAuthPage?et("",!0):(S(),nc(c,{key:0}))])}const Yx=zt(Gx,[["render",zx]]),Qx="modulepreload",qx=function(e){return"/"+e},nf={},Jx=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(s.map(u=>{if(u=qx(u),u in nf)return;nf[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Qx,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,w)=>{h.addEventListener("load",p),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Zx={name:"TradeProjectView",props:{code:{type:String,required:!0}},data(){return{tradeType:"buy",tradeAmount:"",walletActivity:[],loading:!1,error:null,errorType:null,showSuccessModal:!1,showInsufficientBalanceModal:!1,showLoadingModal:!1,loadingStatus:"",userTokenBalance:0,successData:{tradeType:"",amount:0,transactionHash:"",blockNumber:0},contractInitialized:!1,contractLoading:!1,contractStatus:null,testResults:[],userAddress:"",tokenPrice:"",userTokenBalance:"",tradeHistory:[],testAmount:"",errorMessages:{insufficient_balance:"You have insufficient funds",input_required:"Please enter the amount",login_required:"Please login to your account",wallet_connection_required:"Please connect your wallet",address_retrieval_failed:"Unable to retrieve wallet address",kyc_verification_required:"Please complete KYC verification",whitelist_required:"Your wallet is not whitelisted",transaction_failed:"Transaction failed",network_error:"Network error occurred",unknown_error:"An unknown error occurred"}}},computed:{projectCode(){return this.code||this.$route.params.code||"TYMU"},projectData(){const e=ly.getProductByCode(this.projectCode);if(e)return console.log("📊 TradeProjectView: 从ProductDetailsInfo获取项目数据:",e),{code:e.code,name:e.name,image:e.image,subtitle:e.subtitle,type:e.type,region:e.region,risk:e.risk,targetYield:e.targetYield,status:e.status,summary:e.summary,totalOffering:e.totalOffering,subscribed:e.subscribed,totalSubscriptionTokens:e.totalSubscriptionTokens,subscribedTokens:e.subscribedTokens,metrics:{currentElaraPrice:this.calculateTokenPrice(e),collateralPropertyValue:e.valuation||"TBA",rentalIncome:this.calculateRentalIncome(e),targetLoanYield:`${e.targetYield}% p.a.`},loanAmount:e.loanAmount,annualInterestRate:e.annualInterestRate,loanTerm:e.loanTerm,ltv:e.ltv,drawdownDate:e.drawdownDate,earlyRepayment:e.earlyRepayment,repaymentArrangement:e.repaymentArrangement,issuer:e.issuer,pwShareholders:e.pwShareholders,lender:e.lender,borrower:e.borrower,guarantor:e.guarantor,disbursementMethod:e.disbursementMethod,interest:e.interest,earlyRepaymentDetails:e.earlyRepaymentDetails,maturityDate:e.maturityDate,propertyAddress:e.propertyAddress,valuation:e.valuation,securityRank:e.securityRank,lvr:e.lvr,defaultInterestRate:e.defaultInterestRate,defaultTriggers:e.defaultTriggers,defaultProcess:e.defaultProcess,issuerToken:e.issuerToken,loanToken:e.loanToken,valuationReport:e.valuationReport,mortgageDeed:e.mortgageDeed}},canSubmit(){return this.tradeAmount&&this.tradeAmount>0&&!this.loading},formattedError(){return this.error?this.errorType&&this.errorMessages[this.errorType]?this.errorMessages[this.errorType]:this.error:null},projectTrades(){return!this.walletActivity||!Array.isArray(this.walletActivity)?[]:this.walletActivity.filter(e=>(e.type==="buy"||e.type==="sell")&&e.project_code===this.projectCode).sort((e,t)=>t.timestamp-e.timestamp)}},methods:{calculateTokenPrice(e){return`A$${(1*((e.targetYield||6)/6)).toFixed(2)}`},calculateRentalIncome(e){if(!e.valuation)return"TBA";const t=e.valuation.replace(/[A$,]/g,""),s=parseFloat(t),n=(e.targetYield||6)/12/100;return`A$${(s*n).toLocaleString("en-AU",{maximumFractionDigits:0})} / month`},calculateTotal(){return this.tradeAmount?(parseFloat(this.tradeAmount)*price).toFixed(2):"0.00"},formatTime(e){return new Date(e).toLocaleString()},async fetchTransactionDetails(e){try{console.log("🔍 正在从Etherscan获取交易详情:",e);const t=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionByHash&txhash=${e}`,n=await(await fetch(t)).json();if(n.result){console.log("✅ 成功获取交易详情:",n.result);const i=`https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionReceipt&txhash=${e}`,a=await(await fetch(i)).json();return{success:!0,transaction:n.result,receipt:a.result,from:n.result.from,to:n.result.to,value:n.result.value,gasUsed:a.result?a.result.gasUsed:null,gasPrice:n.result.gasPrice,blockNumber:n.result.blockNumber,blockHash:n.result.blockHash,status:a.result?a.result.status:null}}else return console.warn("⚠️ 交易详情获取失败:",n.message),{success:!1,error:n.message||"Failed to fetch transaction details"}}catch(t){return console.error("❌ 获取交易详情时发生错误:",t),{success:!1,error:t.message}}},cancelTrade(){this.$router.back()},async selectTradeType(e){if(this.tradeType=e,!this.tradeAmount||this.tradeAmount<=0){this.errorType="input_required",this.error=`请先输入${e==="buy"?"购买":"出售"}数量`,this.addTestResult("error","Input Required",`请先输入${e==="buy"?"购买":"出售"}数量`);return}console.log(`🚀 开始${e}交易流程...`),this.addTestResult("info",`🚀 开始${e}交易流程...`,`正在处理${e}交易，数量: ${this.tradeAmount} tokens`);try{if(this.loading=!0,this.error=null,this.loadingStatus="正在初始化智能合约...",this.showLoadingModal=!0,this.addTestResult("info","🚀 Initializing Contract","正在初始化智能合约..."),await this.initializeContract(),console.log("✅ 合约初始化完成"),this.addTestResult("success","Contract Initialized","智能合约初始化完成"),!Gn()){this.showLoadingModal=!1,this.loading=!1,this.errorType="login_required",this.error="请先登录账户",this.addTestResult("error","Authentication Required","请先登录账户");return}if(!this.isWalletConnected()){this.showLoadingModal=!1,this.loading=!1,this.errorType="wallet_connection_required",this.error="请先连接钱包",this.addTestResult("error","Wallet Connection Required","请先连接钱包");return}this.loadingStatus="正在获取钱包地址...",this.addTestResult("info","👤 Getting User Address","正在获取钱包地址...");const t=await this.getUserAddress();if(!t){this.showLoadingModal=!1,this.loading=!1,this.errorType="address_retrieval_failed",this.error="无法获取钱包地址，请检查钱包连接",this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接");return}console.log("✅ 钱包地址获取完成:",t),this.addTestResult("success","User Address Retrieved",`地址: ${t}`);const s=En(),n=fs();if(s!==He.VERIFIED){this.showLoadingModal=!1,this.loading=!1,this.errorType="kyc_verification_required",this.error="请先完成KYC身份验证",this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证");return}n<Pt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动设置级别为 ${Pt.LEVEL_2}`),qn(Pt.LEVEL_2),this.addTestResult("info","KYC Level Set",`KYC级别已设置为${Pt.LEVEL_2}`)),this.loadingStatus=`正在获取${this.projectCode}代币余额...`,this.addTestResult("info","💰 Getting Token Balance",`正在获取${this.projectCode}代币余额...`);const i=await Ue.getUserTokenBalance(t,this.projectCode);if(this.userTokenBalance=parseInt(i)||0,console.log(`✅ ${this.projectCode}代币余额获取完成:`,this.userTokenBalance),this.addTestResult("success","Token Balance Retrieved",`${this.projectCode}余额: ${this.userTokenBalance} tokens`),e==="buy"){if(console.log(`💰 ${this.projectCode}余额检查: ${this.userTokenBalance} vs ${this.tradeAmount}`),this.addTestResult("info","💰 Checking Balance",`检查${this.projectCode}余额: ${this.userTokenBalance} vs ${this.tradeAmount}`),this.userTokenBalance<parseInt(this.tradeAmount)){this.showLoadingModal=!1,this.loading=!1,this.showInsufficientBalanceModal=!0,this.addTestResult("error","Insufficient Balance",`${this.projectCode}余额不足: 当前${this.userTokenBalance}，需要${this.tradeAmount}`);return}console.log("✅ 余额充足，可以继续交易"),this.addTestResult("success","Balance Check Passed",`${this.projectCode}余额充足: ${this.userTokenBalance} >= ${this.tradeAmount}`)}this.loadingStatus=`正在与智能合约签订${e==="buy"?"购买":"出售"}协议...`,this.addTestResult("info",`📝 Executing ${e.toUpperCase()} Transaction`,`正在与智能合约签订${e==="buy"?"购买":"出售"}协议...`);let r;if(e==="buy"?r=await Ue.buyTokens(parseInt(this.tradeAmount)):r=await Ue.sellTokens(parseInt(this.tradeAmount)),r.success){console.log(`✅ ${e}交易成功:`,r),this.showLoadingModal=!1;const a={projectCode:this.projectCode,tradeType:e,amount:parseInt(this.tradeAmount),price:r.tokenPrice||1,total:r.totalCost||parseFloat(this.calculateTotal()),userAddress:t,transactionHash:r.transactionHash,blockNumber:r.blockNumber,timestamp:Date.now()},l={id:Date.now(),type:e,amount:this.tradeAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:r.transactionHash};this.notifyWalletActivity(l),this.showSuccessModal=!0,this.successData={tradeType:e,amount:this.tradeAmount,price:a.price,total:a.total,transactionHash:r.transactionHash,blockNumber:r.blockNumber},this.addTestResult("success",`${e.toUpperCase()} Transaction Successful`,"交易成功完成",{transactionHash:r.transactionHash,blockNumber:r.blockNumber,amount:a.amount,price:r.tokenPrice,totalCost:r.totalCost,userAddress:t}),this.tradeAmount=""}else this.showLoadingModal=!1,console.error(`❌ ${e}交易失败:`,r.error),this.errorType="transaction_failed",this.error=r.error||`${e}交易失败`,this.addTestResult("error",`${e.toUpperCase()} Transaction Failed`,r.error||`${e}交易失败`)}catch(t){this.showLoadingModal=!1,console.error("❌ 交易流程失败:",t),this.errorType="network_error",this.error=t.message,this.addTestResult("error","Transaction Error",t.message)}finally{this.loading=!1}},async submitTrade(){if(this.canSubmit){this.loading=!0,this.error=null;try{if(this.addTestResult("info",`🚀 开始${this.tradeType}交易...`,`正在处理${this.tradeType}交易，数量: ${this.tradeAmount} tokens`),this.addTestResult("info","🚀 Initializing Contract","正在初始化智能合约..."),await this.initializeContract(),this.addTestResult("success","Contract Initialized","智能合约初始化完成"),!Gn()){this.addTestResult("error","Authentication Required","请先登录账户"),this.loading=!1;return}if(!this.isWalletConnected()){this.addTestResult("error","Wallet Connection Required","请先连接钱包"),this.loading=!1;return}const e=await this.getUserAddress();if(!e){this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接"),this.loading=!1;return}this.addTestResult("success","User Address Retrieved",`地址: ${e}`);const t=En(),s=fs();if(t!==He.VERIFIED){this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证"),this.loading=!1;return}if(s<Pt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动设置级别为 ${Pt.LEVEL_2}`),qn(Pt.LEVEL_2),this.addTestResult("info","KYC Level Set",`KYC级别已设置为${Pt.LEVEL_2}`)),this.loadingStatus="正在检查白名单状态...",this.addTestResult("info","🔍 Checking Whitelist Status","正在检查白名单状态..."),!await this.checkWhitelistStatus(e)){this.showLoadingModal=!1,this.loading=!1,this.errorType="whitelist_required",this.error="您的钱包地址尚未加入白名单，请先完成白名单申请",this.addTestResult("error","Whitelist Required","您的钱包地址尚未加入白名单，请先完成白名单申请");return}if(this.addTestResult("success","Whitelist Check Passed","白名单验证通过"),this.tradeType==="buy"){this.loadingStatus="正在获取用户代币余额...",this.showLoadingModal=!0,this.addTestResult("info","💰 Checking Token Balance","正在获取用户代币余额...");const r=await Ue.getUserTokenBalance(e,this.projectCode);if(this.userTokenBalance=parseInt(r)||0,console.log(`💰 用户${this.projectCode}代币余额: ${this.userTokenBalance}, 认购数量: ${this.tradeAmount}`),this.userTokenBalance<parseInt(this.tradeAmount)){this.showLoadingModal=!1,this.loading=!1,this.showInsufficientBalanceModal=!0,this.addTestResult("error","Insufficient Balance",`${this.projectCode}余额不足: 当前${this.userTokenBalance}，需要${this.tradeAmount}`);return}this.loadingStatus="余额充足，正在处理交易...",this.addTestResult("success","Balance Check Passed",`${this.projectCode}余额充足: ${this.userTokenBalance} >= ${this.tradeAmount}`)}console.log(`🚀 开始${this.tradeType}交易...`);let i;if(this.tradeType==="buy"?(this.loadingStatus="正在与智能合约签订购买协议...",this.addTestResult("info","📈 Executing Buy Transaction",`正在购买 ${this.tradeAmount} tokens`),i=await Ue.buyTokens(parseInt(this.tradeAmount))):(this.loadingStatus="正在与智能合约签订出售协议...",this.addTestResult("info","📉 Executing Sell Transaction",`正在出售 ${this.tradeAmount} tokens`),i=await Ue.sellTokens(parseInt(this.tradeAmount))),i.success){console.log(`✅ ${this.tradeType}交易成功:`,i),this.showLoadingModal=!1,this.addTestResult("success",`${this.tradeType.toUpperCase()} Transaction Successful`,`Tx Hash: ${i.transactionHash}`,{transactionHash:i.transactionHash,blockNumber:i.blockNumber,amount:this.tradeAmount,price:i.tokenPrice,totalCost:i.totalCost});const r={id:Date.now(),type:this.tradeType,amount:this.tradeAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:i.transactionHash};this.notifyWalletActivity(r),this.showSuccessModal=!0,this.successData={tradeType:this.tradeType,amount:this.tradeAmount,price:i.tokenPrice||1,total:i.totalCost||parseFloat(this.calculateTotal()),transactionHash:i.transactionHash,blockNumber:i.blockNumber},this.tradeAmount=""}else this.showLoadingModal=!1,console.error(`❌ ${this.tradeType}交易失败:`,i.error),this.errorType="transaction_failed",this.error=i.error||`${this.tradeType}交易失败`,this.addTestResult("error",`${this.tradeType.toUpperCase()} Transaction Failed`,i.error)}catch(e){this.showLoadingModal=!1,console.error("❌ 交易失败:",e),this.errorType="network_error",this.error=e.message,this.addTestResult("error","Transaction Error",e.message),this.$emit("notify",`Trade failed: ${e.message}`)}finally{this.loading=!1}}},loadWalletActivity(){try{const e=localStorage.getItem("walletActivity");e?(this.walletActivity=JSON.parse(e),console.log("📊 TradeProjectView: 加载Wallet Activity数据:",this.walletActivity.length,"条记录")):(this.walletActivity=[],console.log("📊 TradeProjectView: 没有找到Wallet Activity数据"))}catch(e){console.error("❌ TradeProjectView: 加载Wallet Activity数据失败:",e),this.walletActivity=[]}},handleWalletActivityUpdate(e){console.log("📢 TradeProjectView: 收到Wallet Activity更新通知:",e.detail),this.loadWalletActivity()},async getUserAddress(){try{console.log("🔍 TradeProjectView: 正在获取用户钱包地址...");const e=localStorage.getItem("walletBoundAccounts");if(e)try{const n=JSON.parse(e);if(n&&n.length>0){const i=n[0];return console.log("✅ TradeProjectView: 从WalletView获取绑定地址:",i),i}}catch(n){console.warn("⚠️ TradeProjectView: 解析walletBoundAccounts失败:",n)}const{fullAddress:t,connected:s}=Qn();if(s.value&&t.value)return console.log("⚠️ TradeProjectView: 使用useWallet地址作为备用:",t.value),t.value;if(typeof window.ethereum<"u"){const n=await window.ethereum.request({method:"eth_accounts"});if(n&&n.length>0)return console.log("⚠️ TradeProjectView: 使用ethereum地址作为最后备用:",n[0]),n[0]}return console.error("❌ TradeProjectView: 无法从任何来源获取用户地址"),null}catch(e){return console.error("❌ TradeProjectView: 获取用户地址失败:",e),null}},closeSuccessModal(){this.showSuccessModal=!1,this.successData={tradeType:"",amount:0,price:0,total:0,transactionHash:"",blockNumber:0}},closeInsufficientBalanceModal(){this.showInsufficientBalanceModal=!1},clearError(){this.error=null,this.errorType=null},formatHash(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""},async copyHash(){try{await navigator.clipboard.writeText(this.successData.transactionHash),this.$emit("notify","交易哈希已复制到剪贴板")}catch(e){console.error("复制失败:",e),this.$emit("notify","复制失败，请手动复制")}},viewOnEtherscan(){const e=this.getCurrentChainId();let t="https://etherscan.io";e===11155111?t="https://sepolia.etherscan.io":e===5?t="https://goerli.etherscan.io":e===137?t="https://polygonscan.com":e===80001&&(t="https://mumbai.polygonscan.com");const s=`${t}/tx/${this.successData.transactionHash}`;window.open(s,"_blank")},getCurrentChainId(){return 11155111},async initializeContract(){try{this.contractLoading=!0,this.addTestResult("info","🚀 Initializing contract service...","Starting contract initialization"),await Ue.initialize(),this.contractInitialized=!0,this.contractStatus={type:"success",icon:"✅",message:"Contract service initialized successfully!"},this.addTestResult("success","Contract Initialized","Contract service is ready",{initialized:!0,timestamp:Date.now()})}catch(e){this.contractStatus={type:"error",icon:"❌",message:`Initialization failed: ${e.message}`},this.addTestResult("error","Contract Initialization Failed",e.message),console.error("Contract initialization failed:",e)}finally{this.contractLoading=!1}},async testGetUserAddress(){try{this.contractLoading=!0,this.addTestResult("info","👤 Fetching user address...","Getting connected wallet address");const e=localStorage.getItem("walletBoundAccounts");if(e)try{const n=JSON.parse(e);if(n&&n.length>0){this.userAddress=n[0],this.addTestResult("success","User Address from WalletView",`Address: ${this.userAddress}`,{address:this.userAddress,shortAddress:this.formatAddress(this.userAddress),source:"WalletView Bound Accounts",boundAccountsCount:n.length});return}}catch(n){this.addTestResult("warning","Parse walletBoundAccounts failed",n.message)}const{fullAddress:t,connected:s}=Qn();if(s.value&&t.value){this.userAddress=t.value,this.addTestResult("warning","Address from useWallet (No bound accounts)",`Address: ${this.userAddress}`,{address:this.userAddress,shortAddress:this.formatAddress(this.userAddress),source:"useWallet composable"});return}if(typeof window.ethereum<"u"){const n=await window.ethereum.request({method:"eth_accounts"});if(n&&n.length>0){this.userAddress=n[0],this.addTestResult("warning","Address from ethereum (Fallback)",`Address: ${this.userAddress}`,{address:this.userAddress,shortAddress:this.formatAddress(this.userAddress),source:"ethereum.accounts"});return}}this.addTestResult("error","No Wallet Address Found","Please connect your wallet in WalletView first",{localStorageEmpty:!e,useWalletConnected:s.value,useWalletAddress:t.value,ethereumAvailable:typeof window.ethereum<"u"})}catch(e){this.addTestResult("error","Failed to Get User Address",e.message),console.error("Failed to get user address:",e)}finally{this.contractLoading=!1}},async getTokenPrice(){try{this.contractLoading=!0,this.addTestResult("info","💰 Fetching token price...","Getting current token price"),this.tokenPrice=await Ue.getTokenPrice(),this.addTestResult("success","Token Price Retrieved",`Price: ${this.tokenPrice} ETH`,{price:this.tokenPrice,currency:"ETH"})}catch(e){this.addTestResult("error","Failed to Get Token Price",e.message),console.error("Failed to get token price:",e)}finally{this.contractLoading=!1}},async getUserTokenBalance(){try{this.contractLoading=!0,this.addTestResult("info","💳 Fetching user token balance...",`Getting ${this.projectCode} token balance`),this.userTokenBalance=await Ue.getUserTokenBalance(null,this.projectCode),this.addTestResult("success","User Token Balance Retrieved",`${this.projectCode} Balance: ${this.userTokenBalance}`,{balance:this.userTokenBalance,address:this.userAddress,tokenSymbol:this.projectCode})}catch(e){this.addTestResult("error","Failed to Get User Token Balance",e.message),console.error("Failed to get user token balance:",e)}finally{this.contractLoading=!1}},async getTradeHistory(){try{this.contractLoading=!0,this.addTestResult("info"," Fetching trade history...","Getting recent trade records"),this.tradeHistory=await Ue.getTradeHistory(),this.addTestResult("success","Trade History Retrieved",`Found ${this.tradeHistory.length} trade records`,{trades:this.tradeHistory,count:this.tradeHistory.length})}catch(e){this.addTestResult("error","Failed to Get Trade History",e.message),console.error("Failed to get trade history:",e)}finally{this.contractLoading=!1}},async testBuyTransaction(){try{if(this.contractLoading=!0,this.addTestResult("info","📈 Testing buy transaction...",`Testing buy of ${this.testAmount} tokens`),!Gn()){this.addTestResult("error","Authentication Required","请先登录账户");return}if(!this.isWalletConnected()){this.addTestResult("error","Wallet Connection Required","请先连接钱包");return}if(!await this.getUserAddress()){this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接");return}const t=En(),s=fs();if(t!==He.VERIFIED){this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证");return}s<Pt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动升级级别从 ${s} 到 ${Pt.LEVEL_2}`),qn(Pt.LEVEL_2),this.addTestResult("info","KYC Level Updated",`KYC级别已自动从${s}升级到${Pt.LEVEL_2}`));const n=await Ue.buyTokens(this.testAmount);if(n.success){this.addTestResult("success","Buy Transaction Successful",`Tx Hash: ${n.transactionHash}`,{transactionHash:n.transactionHash,blockNumber:n.blockNumber,amount:this.testAmount,price:n.tokenPrice,totalCost:n.totalCost});const i={id:Date.now(),type:"buy",amount:this.testAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:n.transactionHash};this.notifyWalletActivity(i)}else this.addTestResult("error","Buy Transaction Failed",n.error)}catch(e){this.addTestResult("error","Buy Transaction Error",e.message),console.error("Buy transaction failed:",e)}finally{this.contractLoading=!1}},async testSellTransaction(){try{if(this.contractLoading=!0,this.addTestResult("info","📉 Testing sell transaction...",`Testing sell of ${this.testAmount} tokens`),!Gn()){this.addTestResult("error","Authentication Required","请先登录账户");return}if(!this.isWalletConnected()){this.addTestResult("error","Wallet Connection Required","请先连接钱包");return}const e=await this.getUserAddress();if(!e){this.addTestResult("error","Address Retrieval Failed","无法获取钱包地址，请检查钱包连接");return}const t=En(),s=fs();if(t!==He.VERIFIED){this.addTestResult("error","KYC Verification Required","请先完成KYC身份验证");return}if(s<Pt.LEVEL_2&&(console.log(`🔧 KYC验证成功，自动升级级别从 ${s} 到 ${Pt.LEVEL_2}`),qn(Pt.LEVEL_2),this.addTestResult("info","KYC Level Updated",`KYC级别已自动从${s}升级到${Pt.LEVEL_2}`)),!await this.checkWhitelistStatus(e)){this.addTestResult("error","Whitelist Required","您的钱包地址尚未加入白名单");return}const i=await Ue.sellTokens(this.testAmount);if(i.success){this.addTestResult("success","Sell Transaction Successful",`Tx Hash: ${i.transactionHash}`,{transactionHash:i.transactionHash,blockNumber:i.blockNumber,amount:this.testAmount,price:i.tokenPrice,totalCost:i.totalCost});const r={id:Date.now(),type:"sell",amount:this.testAmount,project_code:this.projectCode,project_name:this.projectData.name,timestamp:Date.now(),transactionHash:i.transactionHash};this.notifyWalletActivity(r)}else this.addTestResult("error","Sell Transaction Failed",i.error)}catch(e){this.addTestResult("error","Sell Transaction Error",e.message),console.error("Sell transaction failed:",e)}finally{this.contractLoading=!1}},addTestResult(e,t,s,n=null){const i={type:e,title:t,message:s,data:n,timestamp:Date.now(),icon:this.getResultIcon(e)};this.testResults.unshift(i),this.testResults.length>20&&(this.testResults=this.testResults.slice(0,20))},getResultIcon(e){return{success:"✅",error:"❌",info:"ℹ️",warning:"⚠️"}[e]||"📝"},clearResults(){this.testResults=[]},async runAllTests(){this.contractInitialized||await this.initializeContract(),this.contractInitialized&&(await this.testGetUserAddress(),await this.getTokenPrice(),await this.getUserTokenBalance(),await this.getTradeHistory(),await this.testBuyTransaction(this.tradeAmount=3),await this.testSellTransaction(this.tradeAmount=3))},formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""},formatEtherValue(e){if(!e)return"0";try{const t=BigInt(e);return(Number(t)/Math.pow(10,18)).toFixed(6)}catch(t){return console.error("Error formatting ETH value:",t),"0"}},formatHash(e){return e?`${e.slice(0,10)}...${e.slice(-8)}`:"N/A"},formatEtherscanTime(e){return e?new Date(e).toLocaleString():"N/A"},copyHash(e){e&&navigator.clipboard.writeText(e).then(()=>{console.log("✅ 哈希值已复制到剪贴板")}).catch(t=>{console.error("❌ 复制失败:",t)})},getTradeTypeDisplay(e){return{successful_trade:"SUCCESS",failed_trade:"FAILED",buy:"BUY",sell:"SELL"}[e]||e.toUpperCase()},notifyWalletActivity(e){try{console.log("📢 通知WalletView更新活动记录:",e);const t=JSON.parse(localStorage.getItem("walletActivity")||"[]");t.unshift(e),t.length>50&&t.splice(50),localStorage.setItem("walletActivity",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("walletActivityUpdated",{detail:e})),console.log("✅ WalletView活动记录更新通知已发送")}catch(t){console.error("❌ 通知WalletView更新活动记录失败:",t)}},async checkWhitelistStatus(e){try{console.log("🔍 检查白名单状态:",e);const t=fs();if(En()===He.VERIFIED&&t>=Pt.LEVEL_2)return console.log("✅ KYC Level 2用户，自动通过白名单检查"),!0;const n=await Ue.getWhitelistStatus(e);return console.log("✅ 白名单状态检查结果:",n),n.status==="approved"}catch(t){return console.error("❌ 检查白名单状态失败:",t),!1}},isWalletConnected(){try{const{connected:e,fullAddress:t}=Qn(),s=e.value&&t.value;return console.log("TradeProjectView: 钱包连接状态检查:",{connected:e.value,hasAddress:!!t.value,address:t.value,isConnected:s}),s}catch(e){return console.error("检查钱包连接状态失败:",e),!1}}},async mounted(){try{const{connected:e,fullAddress:t}=Qn();console.log("TradeProjectView: Wallet connection status:",e.value),console.log("TradeProjectView: Wallet address:",t.value)}catch(e){console.error("TradeProjectView: Failed to initialize wallet:",e)}try{const e=sessionStorage.getItem("lastProduct");if(e){const t=JSON.parse(e);console.log("Loaded project from session:",t)}}catch{console.log("No project data in session storage")}this.loadWalletActivity(),window.addEventListener("walletActivityUpdated",this.handleWalletActivityUpdate)},beforeUnmount(){window.removeEventListener("walletActivityUpdated",this.handleWalletActivityUpdate)}},Xx={class:"trade-page"},t4={class:"modal-body"},e4={class:"error-message"},s4={class:"modal-footer"},n4={key:1,class:"modal-overlay"},i4={class:"modal-body"},r4={class:"loading-message"},a4={class:"loading-status"},o4={class:"modal-body"},l4={class:"success-details"},c4={class:"detail-item"},u4={class:"detail-value"},d4={class:"detail-item"},f4={class:"detail-value"},h4={class:"detail-item"},p4={class:"detail-value"},m4={class:"detail-item"},g4={class:"detail-value"},v4={class:"detail-item"},y4={class:"detail-item"},b4={class:"detail-value"},w4={class:"modal-footer"},A4={class:"topbar container"},E4={class:"breadcrumb","aria-label":"Breadcrumb"},k4={class:"crumb-current"},C4={class:"container main-content"},S4={class:"project-info-card"},T4={class:"project-header"},_4=["src","alt"],P4={class:"project-details"},x4={class:"project-title"},I4={class:"project-subtitle"},R4={class:"project-meta"},N4={class:"meta-item"},L4={class:"meta-item"},D4={class:"meta-item"},B4={class:"project-metrics"},O4={class:"metric-item"},M4={class:"metric-value"},U4={class:"metric-item"},F4={class:"metric-value"},$4={class:"metric-item"},V4={class:"metric-value"},H4={class:"metric-item"},j4={class:"metric-value"},G4={class:"metric-item"},K4={class:"metric-value"},W4={class:"trade-form-card"},z4={class:"form-title"},Y4={class:"form-section"},Q4={class:"amount-input-group"},q4={class:"form-section"},J4={class:"trade-type-buttons"},Z4=["disabled"],X4=["disabled"],tI={key:0,class:"error-message"},eI={class:"error-text"},sI={class:"trade-history-card"},nI={key:0,class:"loading-message"},iI={key:1,class:"no-trades"},rI={key:2,class:"trade-list"},aI={class:"trade-header"},oI={class:"trade-time"},lI={class:"trade-info"},cI={class:"trade-project-section"},uI={class:"value"},dI={class:"trade-amount-section"},fI={class:"value"},hI={key:0,class:"trade-etherscan-section"},pI={class:"etherscan-info"},mI=["onClick"],gI={class:"etherscan-info"},vI={class:"etherscan-info"},yI={class:"value"},bI={class:"etherscan-info"},wI={class:"value"},AI={class:"etherscan-info"},EI={class:"value"},kI={class:"etherscan-info"},CI={class:"value"},SI={class:"etherscan-info"},TI={class:"value"},_I={class:"etherscan-info"},PI={class:"value"},xI={class:"etherscan-info"},II={class:"value"},RI={key:0,class:"trade-footer"},NI=["href"];function LI(e,t,s,n,i,r){return S(),T("div",Xx,[i.showInsufficientBalanceModal?(S(),T("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...a)=>r.closeInsufficientBalanceModal&&r.closeInsufficientBalanceModal(...a))},[o("div",{class:"modal-content error-modal",onClick:t[1]||(t[1]=St(()=>{},["stop"]))},[t[16]||(t[16]=o("div",{class:"modal-header"},[o("div",{class:"error-icon"},"⚠️"),o("h2",{class:"modal-title"},"Insufficient Balance")],-1)),o("div",t4,[o("div",e4,[o("p",null,"Your token balance is insufficient to complete this transaction of "+y(r.projectCode)+" .",1),o("p",null,[t[14]||(t[14]=o("strong",null,"Current Balance:",-1)),pt(" "+y(i.userTokenBalance)+" "+y(r.projectCode)+" tokens",1)]),o("p",null,[t[15]||(t[15]=o("strong",null,"Required Amount:",-1)),pt(" "+y(i.tradeAmount)+" "+y(r.projectCode)+" tokens",1)])])]),o("div",s4,[o("button",{class:"btn primary",onClick:t[0]||(t[0]=(...a)=>r.closeInsufficientBalanceModal&&r.closeInsufficientBalanceModal(...a))},"确定")])])])):et("",!0),i.showLoadingModal?(S(),T("div",n4,[o("div",{class:"modal-content loading-modal",onClick:t[3]||(t[3]=St(()=>{},["stop"]))},[t[18]||(t[18]=o("div",{class:"modal-header"},[o("div",{class:"loading-icon"},[o("div",{class:"spinner"})]),o("h2",{class:"modal-title"},"Processing...")],-1)),o("div",i4,[o("div",r4,[t[17]||(t[17]=o("p",null,"We are processing your transaction request, please wait...",-1)),o("p",a4,y(i.loadingStatus),1)])])])])):et("",!0),i.showSuccessModal?(S(),T("div",{key:2,class:"modal-overlay",onClick:t[8]||(t[8]=(...a)=>r.closeSuccessModal&&r.closeSuccessModal(...a))},[o("div",{class:"modal-content success-modal",onClick:t[7]||(t[7]=St(()=>{},["stop"]))},[t[26]||(t[26]=o("div",{class:"modal-header"},[o("div",{class:"success-icon"},"✅"),o("h2",{class:"modal-title"},"Transaction Successful!")],-1)),o("div",o4,[o("div",l4,[o("div",c4,[t[19]||(t[19]=o("span",{class:"detail-label"},"Trade Type:",-1)),o("span",u4,y(i.successData.tradeType==="buy"?"买入":"卖出"),1)]),o("div",d4,[t[20]||(t[20]=o("span",{class:"detail-label"},"Trade Amount:",-1)),o("span",f4,y(i.successData.amount)+" 代币",1)]),o("div",h4,[t[21]||(t[21]=o("span",{class:"detail-label"},"Trade Price:",-1)),o("span",p4,"A$"+y(i.successData.price),1)]),o("div",m4,[t[22]||(t[22]=o("span",{class:"detail-label"},"Trade Total:",-1)),o("span",g4,"A$"+y(i.successData.total),1)]),o("div",v4,[t[23]||(t[23]=o("span",{class:"detail-label"},"Trade Hash:",-1)),o("span",{class:"detail-value hash-value",onClick:t[4]||(t[4]=(...a)=>r.copyHash&&r.copyHash(...a))},y(r.formatHash(i.successData.transactionHash)),1)]),o("div",y4,[t[24]||(t[24]=o("span",{class:"detail-label"},"Block Number:",-1)),o("span",b4,y(i.successData.blockNumber),1)])]),t[25]||(t[25]=o("div",{class:"success-message"},[o("p",null,"🎉 Congratulations! Your transaction has been successfully completed and recorded on the blockchain."),o("p",null,'You can view the transaction record in the "Recent Trades" on the right.')],-1))]),o("div",w4,[o("button",{class:"btn secondary",onClick:t[5]||(t[5]=(...a)=>r.closeSuccessModal&&r.closeSuccessModal(...a))},"关闭"),o("button",{class:"btn primary",onClick:t[6]||(t[6]=(...a)=>r.viewOnEtherscan&&r.viewOnEtherscan(...a))},"在Etherscan查看")])])])):et("",!0),o("header",A4,[o("nav",E4,[o("button",{class:"crumb-back",onClick:t[9]||(t[9]=a=>e.$router.back()),"aria-label":"Back"},[...t[27]||(t[27]=[o("svg",{viewBox:"0 0 24 24",class:"i"},[o("path",{d:"M10 19a1 1 0 0 1-.7-.3l-7-7a1 1 0 0 1 0-1.4l7-7a1 1 0 1 1 1.4 1.4L4.41 11H21a1 1 0 1 1 0 2H4.41l6.3 6.3A1 1 0 0 1 10 19z"})],-1)])]),t[28]||(t[28]=o("span",{class:"sep"},"/",-1)),t[29]||(t[29]=o("span",{class:"crumb"},"Projects",-1)),t[30]||(t[30]=o("span",{class:"sep"},"/",-1)),o("span",k4,"Trade "+y(r.projectCode),1)])]),o("div",C4,[o("div",S4,[o("div",T4,[o("img",{src:r.projectData.image,alt:r.projectCode,class:"project-image"},null,8,_4),o("div",P4,[o("h1",x4,y(r.projectData.code)+" - "+y(r.projectData.name),1),o("p",I4,y(r.projectData.subtitle),1),o("div",R4,[o("span",N4,"Type: "+y(r.projectData.type),1),o("span",L4,"Region: "+y(r.projectData.region),1),o("span",D4,"Risk: "+y(r.projectData.risk),1)])])]),o("div",B4,[o("div",O4,[t[31]||(t[31]=o("span",{class:"metric-label"},"Property Value",-1)),o("span",M4,y(r.projectData.metrics.collateralPropertyValue),1)]),o("div",U4,[t[32]||(t[32]=o("span",{class:"metric-label"},"Loan Amount",-1)),o("span",F4,y(r.projectData.loanAmount||"TBA"),1)]),o("div",$4,[t[33]||(t[33]=o("span",{class:"metric-label"},"Target Yield",-1)),o("span",V4,y(r.projectData.metrics.targetLoanYield),1)]),o("div",H4,[t[34]||(t[34]=o("span",{class:"metric-label"},"LTV",-1)),o("span",j4,y(r.projectData.ltv||"TBA"),1)]),o("div",G4,[t[35]||(t[35]=o("span",{class:"metric-label"},"Loan Term",-1)),o("span",K4,y(r.projectData.loanTerm||"TBA"),1)])])]),o("div",W4,[o("h2",z4,"Trade "+y(r.projectCode),1),o("div",Y4,[t[37]||(t[37]=o("h3",{class:"section-title"},"Amount",-1)),o("div",Q4,[It(o("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=a=>i.tradeAmount=a),class:"amount-input",placeholder:"Enter amount",min:"1",step:"1",onInput:t[11]||(t[11]=(...a)=>r.clearError&&r.clearError(...a))},null,544),[[ye,i.tradeAmount]]),t[36]||(t[36]=o("span",{class:"amount-unit"},"tokens",-1))]),t[38]||(t[38]=o("div",{class:"amount-info"},null,-1))]),o("div",q4,[o("div",J4,[o("button",{class:Ct(["trade-type-btn",{active:i.tradeType==="buy"}]),onClick:t[12]||(t[12]=a=>r.selectTradeType("buy")),disabled:i.loading},[...t[39]||(t[39]=[o("span",{class:"btn-text"},"Buy",-1)])],10,Z4),o("button",{class:Ct(["trade-type-btn",{active:i.tradeType==="sell"}]),onClick:t[13]||(t[13]=a=>r.selectTradeType("sell")),disabled:i.loading},[...t[40]||(t[40]=[o("span",{class:"btn-text"},"Sell",-1)])],10,X4)])]),r.formattedError?(S(),T("div",tI,[t[41]||(t[41]=o("div",{class:"error-icon"},"⚠️",-1)),o("div",eI,y(r.formattedError),1)])):et("",!0)]),o("div",sI,[t[53]||(t[53]=o("div",{class:"card-header"},[o("h2",{class:"card-title"},"Recent Trades")],-1)),i.loading?(S(),T("div",nI,"Loading trades...")):r.projectTrades.length===0?(S(),T("div",iI,"No trades found for this project")):(S(),T("div",rI,[(S(!0),T(xt,null,Ae(r.projectTrades,a=>(S(),T("div",{key:a.id,class:"trade-item"},[o("div",aI,[o("span",{class:Ct(["trade-type",a.type])},y(r.getTradeTypeDisplay(a.type)),3),o("span",oI,y(r.formatTime(a.timestamp)),1)]),o("div",lI,[o("div",cI,[t[42]||(t[42]=o("span",{class:"label"},"Project:",-1)),o("span",uI,y(a.project_code)+" - "+y(a.project_name),1)]),o("div",dI,[t[43]||(t[43]=o("span",{class:"label"},"Token Amount:",-1)),o("span",fI,y(a.amount)+" tokens",1)]),a.etherscan?(S(),T("div",hI,[o("div",pI,[t[44]||(t[44]=o("span",{class:"label"},"Transaction Hash:",-1)),o("span",{class:"value hash-value",onClick:l=>r.copyHash(a.etherscan.hash)},y(r.formatHash(a.etherscan.hash)),9,mI)]),o("div",gI,[t[45]||(t[45]=o("span",{class:"label"},"Status:",-1)),o("span",{class:Ct(["value",{"status-success":a.etherscan.status==="0x1","status-failed":a.etherscan.status==="0x0"}])},y(a.etherscan.status==="0x1"?"Success":a.etherscan.status==="0x0"?"Failed":"Pending"),3)]),o("div",vI,[t[46]||(t[46]=o("span",{class:"label"},"Block:",-1)),o("span",yI,y(a.etherscan.blockNumber?parseInt(a.etherscan.blockNumber,16).toLocaleString():"N/A"),1)]),o("div",bI,[t[47]||(t[47]=o("span",{class:"label"},"Timestamp:",-1)),o("span",wI,y(r.formatEtherscanTime(a.etherscan.timestamp)),1)]),o("div",AI,[t[48]||(t[48]=o("span",{class:"label"},"From:",-1)),o("span",EI,y(r.formatAddress(a.etherscan.from)),1)]),o("div",kI,[t[49]||(t[49]=o("span",{class:"label"},"To:",-1)),o("span",CI,y(r.formatAddress(a.etherscan.to)),1)]),o("div",SI,[t[50]||(t[50]=o("span",{class:"label"},"Value:",-1)),o("span",TI,y(r.formatEtherValue(a.etherscan.value))+" ETH",1)]),o("div",_I,[t[51]||(t[51]=o("span",{class:"label"},"Transaction Fee:",-1)),o("span",PI,y(a.etherscan.transactionFee?a.etherscan.transactionFee.toFixed(6):"N/A")+" ETH",1)]),o("div",xI,[t[52]||(t[52]=o("span",{class:"label"},"Gas Price:",-1)),o("span",II,y(a.etherscan.gasPrice?parseInt(a.etherscan.gasPrice,16).toLocaleString():"N/A")+" Gwei",1)])])):et("",!0)]),a.etherscan&&a.etherscan.hash?(S(),T("div",RI,[o("a",{href:`https://sepolia.etherscan.io/tx/${a.etherscan.hash}`,target:"_blank",class:"tx-link"}," 🔗 View on Sepolia Etherscan ",8,NI)])):et("",!0)]))),128))]))])])])}const DI=zt(Zx,[["render",LI],["__scopeId","data-v-2832232d"]]),BI={name:"BridgeView"},OI={class:"container"};function MI(e,t,s,n,i,r){return S(),T("section",OI,[...t[0]||(t[0]=[o("h1",{class:"headline"},"Bridge",-1),o("p",null,"这里是跨链桥页面占位内容，后续可接入桥接服务与交易记录。",-1)])])}const UI=zt(BI,[["render",MI]]),FI={name:"SendView"},$I={class:"container"};function VI(e,t,s,n,i,r){return S(),T("section",$I,[...t[0]||(t[0]=[o("h1",{class:"headline"},"Send",-1),o("p",null,"这里是转账页面占位内容，后续可接入地址簿与手续费估算。",-1)])])}const HI=zt(FI,[["render",VI]]),jI={name:"SwapView"},GI={class:"container"};function KI(e,t,s,n,i,r){return S(),T("section",GI,[...t[0]||(t[0]=[o("h1",{class:"headline"},"Swap",-1),o("p",null,"这里是代币兑换页面占位内容，后续可接入路由器与报价。",-1)])])}const WI=zt(jI,[["render",KI]]),zI={name:"TokenDetailView",props:{address:{type:String,required:!0}},setup(e){const{chainId:t,networkLabel:s}=Qn(),n=vt(""),i=vt(""),r=vt(null),a=vt(!1),l=new As(window.ethereum,"any"),c=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)"];Vi(async()=>{try{const w=new $e(e.address,c,l);r.value=await w.decimals(),n.value=await w.symbol(),i.value=await w.name()}catch{}try{const w=sessionStorage.getItem(`customTokens:${t.value}`),v=w?JSON.parse(w):[],A=Array.isArray(v)?v.find(E=>(E.address||"").toLowerCase()===e.address.toLowerCase()):null;A&&A.addedAt&&(h.value=new Date(A.addedAt).toLocaleString(),p.value=A.source||"ImportFromUs")}catch{}});function u(){const w=Number(t.value),v=w===1?"https://etherscan.io":w===11155111?"https://sepolia.etherscan.io":"",A=v?`${v}/token/${e.address}`:`https://etherscan.io/token/${e.address}`;window.open(A,"_blank")}function d(){try{const w=`hiddenTokens:${t.value}`,v=sessionStorage.getItem(w),A=v?JSON.parse(v):[],E=new Set((Array.isArray(A)?A:[]).map(L=>String(L).toLowerCase()));E.add(e.address.toLowerCase()),sessionStorage.setItem(w,JSON.stringify(Array.from(E))),alert("Hidden successfully"),window.history.back()}catch{alert("Hide failed")}}function f(){try{const w=`customTokens:${t.value}`,v=sessionStorage.getItem(w),A=v?JSON.parse(v):[],E=Array.isArray(A)?A.filter(L=>(L.address||"").toLowerCase()!==e.address.toLowerCase()):[];sessionStorage.setItem(w,JSON.stringify(E)),alert("Deleted from custom tokens"),window.history.back()}catch{alert("Delete failed")}}const h=vt(""),p=vt("");return{networkLabel:s,address:e.address,symbol:n,name:i,decimals:r,importDate:h,importSource:p,menuOpen:a,openInExplorer:u,hideToken:d,deleteToken:f}}},YI={class:"container"},QI={class:"td-top"},qI={class:"td-actions"},JI={key:0,class:"td-menu"},ZI={class:"td-grid"},XI={class:"card"},tR={class:"kv"},eR={class:"v"},sR={class:"kv"},nR={class:"v addr"},iR={class:"kv"},rR={class:"v"},aR={class:"kv"},oR={class:"v"},lR={class:"kv"},cR={class:"v"};function uR(e,t,s,n,i,r){return S(),T("section",YI,[o("header",QI,[t[4]||(t[4]=o("h1",{class:"headline"},"Token details",-1)),o("div",qI,[o("button",{class:"btn",onClick:t[0]||(t[0]=a=>n.menuOpen=!n.menuOpen)},"⋮"),n.menuOpen?(S(),T("div",JI,[o("button",{class:"td-item",onClick:t[1]||(t[1]=(...a)=>n.openInExplorer&&n.openInExplorer(...a))},"View Asset in explorer"),o("button",{class:"td-item",onClick:t[2]||(t[2]=(...a)=>n.hideToken&&n.hideToken(...a))},"Hide "+y(n.symbol),1),o("button",{class:"td-item danger",onClick:t[3]||(t[3]=(...a)=>n.deleteToken&&n.deleteToken(...a))},"Delete from my wallet")])):et("",!0)])]),o("div",ZI,[o("article",XI,[t[10]||(t[10]=o("h3",null,"Overview",-1)),o("div",tR,[t[5]||(t[5]=o("span",{class:"k"},"Network name",-1)),o("span",eR,y(n.networkLabel),1)]),o("div",sR,[t[6]||(t[6]=o("span",{class:"k"},"Contract address",-1)),o("span",nR,y(n.address),1)]),o("div",iR,[t[7]||(t[7]=o("span",{class:"k"},"Token decimal",-1)),o("span",rR,y(n.decimals??"-"),1)]),t[11]||(t[11]=o("div",{class:"kv"},[o("span",{class:"k"},"Spending caps"),o("span",{class:"v"},"—")],-1)),o("div",aR,[t[8]||(t[8]=o("span",{class:"k"},"Token import date",-1)),o("span",oR,y(n.importDate||"-"),1)]),o("div",lR,[t[9]||(t[9]=o("span",{class:"k"},"Token import source",-1)),o("span",cR,y(n.importSource||"metamask"),1)])]),t[12]||(t[12]=o("article",{class:"card"},[o("h3",null,"Your activity"),o("p",{class:"muted"},"Activity list placeholder.")],-1))])])}const dR=zt(zI,[["render",uR],["__scopeId","data-v-28606b53"]]),fR={name:"OverviewView"},hR={class:"container"};function pR(e,t,s,n,i,r){return S(),T("div",hR,[...t[0]||(t[0]=[ne('<div class="page-header" data-v-66d933c2><h1 data-v-66d933c2>Product Overview</h1><p class="page-subtitle" data-v-66d933c2>Know our real estate tokenization investment platform</p></div><div class="overview-content" data-v-66d933c2><div class="feature-grid" data-v-66d933c2><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>🏠</div><h3 data-v-66d933c2>Real Estate Tokenization</h3><p data-v-66d933c2>Convert traditional real estate investments into tradable digital tokens, reducing investment门槛, and improving liquidity.</p></div><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>💰</div><h3 data-v-66d933c2>Stable Income</h3><p data-v-66d933c2>Based on high-quality real estate mortgage loans, providing stable rental income and capital appreciation potential.</p></div><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>🔒</div><h3 data-v-66d933c2>Secure and Transparent</h3><p data-v-66d933c2>Based on blockchain technology, all transaction records are transparent and smart contracts are automatically executed.</p></div><div class="feature-card" data-v-66d933c2><div class="feature-icon" data-v-66d933c2>📊</div><h3 data-v-66d933c2>Real-Time Data</h3><p data-v-66d933c2>Provide real-time market data, project information and investment performance, helping you make wise decisions.</p></div></div><div class="stats-section" data-v-66d933c2><h2 data-v-66d933c2>Platform Data</h2><div class="stats-grid" data-v-66d933c2><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>$50M+</div><div class="stat-label" data-v-66d933c2>Managed Assets</div></div><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>1,200+</div><div class="stat-label" data-v-66d933c2>Active Investors</div></div><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>25+</div><div class="stat-label" data-v-66d933c2>Investment Projects</div></div><div class="stat-item" data-v-66d933c2><div class="stat-number" data-v-66d933c2>6.5%</div><div class="stat-label" data-v-66d933c2>Average Annual Return</div></div></div></div></div>',2)])])}const cs=zt(fR,[["render",pR],["__scopeId","data-v-66d933c2"]]),mR={name:"FeaturesView"},gR={class:"container"},vR={class:"features-content"},yR={class:"cta-section"},bR={class:"cta-buttons"};function wR(e,t,s,n,i,r){const a=Xs("router-link");return S(),T("div",gR,[t[5]||(t[5]=o("div",{class:"page-header"},[o("h1",null,"Features of the Product"),o("p",{class:"page-subtitle"},"Explore the core features of our platform")],-1)),o("div",vR,[t[4]||(t[4]=ne('<div class="feature-section" data-v-cd164033><div class="feature-item" data-v-cd164033><div class="feature-icon" data-v-cd164033>🔐</div><div class="feature-content" data-v-cd164033><h3 data-v-cd164033>Secure Wallet Integration</h3><p data-v-cd164033>Supports mainstream wallets like MetaMask, ensuring the security of your digital assets. All transactions are encrypted and protected.</p></div></div><div class="feature-item" data-v-cd164033><div class="feature-icon" data-v-cd164033>📈</div><div class="feature-content" data-v-cd164033><h3 data-v-cd164033>Real-Time Trading</h3><p data-v-cd164033>24/7 real-time trading functionality, allowing you to buy and sell real estate tokens, enjoy market liquidity.</p></div></div><div class="feature-item" data-v-cd164033><div class="feature-icon" data-v-cd164033>📊</div><div class="feature-content" data-v-cd164033><h3 data-v-cd164033>Portfolio Management</h3><p data-v-cd164033>Intuitive portfolio dashboard, tracking your investment performance and returns in real-time.</p></div></div><div class="feature-item" data-v-cd164033><div class="feature-icon" data-v-cd164033>🏘️</div><div class="feature-content" data-v-cd164033><h3 data-v-cd164033>Project Details</h3><p data-v-cd164033>Detailed real estate project information, including location, valuation, rental income, and other key data.</p></div></div><div class="feature-item" data-v-cd164033><div class="feature-icon" data-v-cd164033>🔍</div><div class="feature-content" data-v-cd164033><h3 data-v-cd164033>Smart Filtering</h3><p data-v-cd164033>Filter investment projects by type, region, risk level, and other criteria to find the best investment opportunities.</p></div></div><div class="feature-item" data-v-cd164033><div class="feature-icon" data-v-cd164033>📱</div><div class="feature-content" data-v-cd164033><h3 data-v-cd164033>Mobile Support</h3><p data-v-cd164033>Responsive design, perfectly supporting mobile and tablet devices, allowing you to manage your investments anytime, anywhere.</p></div></div></div>',1)),o("div",yR,[t[2]||(t[2]=o("h2",null,"Ready to Start Investing?",-1)),t[3]||(t[3]=o("p",null,"Register an account now, start your real estate tokenization investment journey",-1)),o("div",bR,[wt(a,{to:"/signup",class:"btn primary"},{default:$t(()=>[...t[0]||(t[0]=[pt("Register Now",-1)])]),_:1}),wt(a,{to:"/projects",class:"btn secondary"},{default:$t(()=>[...t[1]||(t[1]=[pt("Browse Projects",-1)])]),_:1})])])])])}const AR=zt(mR,[["render",wR],["__scopeId","data-v-cd164033"]]),ER={name:"SolutionsView"},kR={class:"container"},CR={class:"solutions-content"},SR={class:"solution-cards"},TR={class:"solution-card"},_R={class:"solution-content"},PR={class:"solution-cta"},xR={class:"solution-card featured"},IR={class:"solution-content"},RR={class:"solution-cta"},NR={class:"solution-card"},LR={class:"solution-content"},DR={class:"solution-cta"};function BR(e,t,s,n,i,r){const a=Xs("router-link");return S(),T("div",kR,[t[11]||(t[11]=o("div",{class:"page-header"},[o("h1",null,"Solutions"),o("p",{class:"page-subtitle"},"Customized investment solutions for different investors")],-1)),o("div",CR,[o("div",SR,[o("div",TR,[t[2]||(t[2]=o("div",{class:"solution-header"},[o("div",{class:"solution-icon"},"👤"),o("h3",null,"Individual Investors")],-1)),o("div",_R,[t[1]||(t[1]=o("ul",{class:"solution-features"},[o("li",null,"低门槛投资,最低100澳元起投"),o("li",null,"多样化投资组合，分散风险"),o("li",null,"简单易用的交易界面"),o("li",null,"Real-time Investment Tracking"),o("li",null,"24/7 Customer Support")],-1)),o("div",PR,[wt(a,{to:"/signup",class:"btn primary"},{default:$t(()=>[...t[0]||(t[0]=[pt("Start Investing",-1)])]),_:1})])])]),o("div",xR,[t[5]||(t[5]=o("div",{class:"featured-badge"},"Recommended",-1)),t[6]||(t[6]=o("div",{class:"solution-header"},[o("div",{class:"solution-icon"},"🏢"),o("h3",null,"Institutional Investors")],-1)),o("div",IR,[t[4]||(t[4]=o("ul",{class:"solution-features"},[o("li",null,"大额投资优惠费率"),o("li",null,"专属投资顾问服务"),o("li",null,"定制化投资策略"),o("li",null,"API接口集成"),o("li",null,"白标解决方案")],-1)),o("div",RR,[wt(a,{to:"/contact",class:"btn primary"},{default:$t(()=>[...t[3]||(t[3]=[pt("Contact Sales",-1)])]),_:1})])])]),o("div",NR,[t[9]||(t[9]=o("div",{class:"solution-header"},[o("div",{class:"solution-icon"},"🏦"),o("h3",null,"Financial Institutions")],-1)),o("div",LR,[t[8]||(t[8]=o("ul",{class:"solution-features"},[o("li",null,"Complete tokenization infrastructure"),o("li",null,"Compliance support"),o("li",null,"Liquidity management tools"),o("li",null,"Risk management framework"),o("li",null,"Technical integration support")],-1)),o("div",DR,[wt(a,{to:"/contact",class:"btn primary"},{default:$t(()=>[...t[7]||(t[7]=[pt("Learn More",-1)])]),_:1})])])])]),t[10]||(t[10]=ne('<div class="comparison-section" data-v-246e801a><h2 data-v-246e801a>Comparison of Solutions</h2><div class="comparison-table" data-v-246e801a><div class="table-header" data-v-246e801a><div class="table-cell" data-v-246e801a>Function Features</div><div class="table-cell" data-v-246e801a>Individual Investors</div><div class="table-cell" data-v-246e801a>Institutional Investors</div><div class="table-cell" data-v-246e801a>Financial Institutions</div></div><div class="table-row" data-v-246e801a><div class="table-cell" data-v-246e801a>Minimum Investment</div><div class="table-cell" data-v-246e801a>$100</div><div class="table-cell" data-v-246e801a>$10,000</div><div class="table-cell" data-v-246e801a>$100,000</div></div><div class="table-row" data-v-246e801a><div class="table-cell" data-v-246e801a>Transaction Fee Rate</div><div class="table-cell" data-v-246e801a>1.5%</div><div class="table-cell" data-v-246e801a>1.0%</div><div class="table-cell" data-v-246e801a>0.5%</div></div><div class="table-row" data-v-246e801a><div class="table-cell" data-v-246e801a>Exclusive Support</div><div class="table-cell" data-v-246e801a>❌</div><div class="table-cell" data-v-246e801a>✅</div><div class="table-cell" data-v-246e801a>✅</div></div><div class="table-row" data-v-246e801a><div class="table-cell" data-v-246e801a>API Access</div><div class="table-cell" data-v-246e801a>❌</div><div class="table-cell" data-v-246e801a>✅</div><div class="table-cell" data-v-246e801a>✅</div></div></div></div>',1))])])}const OR=zt(ER,[["render",BR],["__scopeId","data-v-246e801a"]]),MR={name:"TutorialsView"},UR={class:"container"};function FR(e,t,s,n,i,r){return S(),T("div",UR,[...t[0]||(t[0]=[ne('<div class="page-header" data-v-5d3ec8ab><h1 data-v-5d3ec8ab>Learning Center</h1><p class="page-subtitle" data-v-5d3ec8ab>Learn how to start your real estate tokenization investment journey</p></div><div class="tutorials-content" data-v-5d3ec8ab><div class="tutorial-categories" data-v-5d3ec8ab><div class="category-card" data-v-5d3ec8ab><div class="category-icon" data-v-5d3ec8ab>🚀</div><h3 data-v-5d3ec8ab>Newcomer&#39;s Guide</h3><p data-v-5d3ec8ab>Learn how to start your real estate tokenization investment journey</p><ul data-v-5d3ec8ab><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>What is real estate tokenization?</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>How to create a wallet?</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>First investment guide</a></li></ul></div><div class="category-card" data-v-5d3ec8ab><div class="category-icon" data-v-5d3ec8ab>💡</div><h3 data-v-5d3ec8ab>Investment Strategy</h3><p data-v-5d3ec8ab>Learn professional investment strategies and techniques</p><ul data-v-5d3ec8ab><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Portfolio building</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Risk management strategy</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Market analysis techniques</a></li></ul></div><div class="category-card" data-v-5d3ec8ab><div class="category-icon" data-v-5d3ec8ab>🔧</div><h3 data-v-5d3ec8ab>Platform Usage</h3><p data-v-5d3ec8ab>Learn how to use the platform&#39;s features</p><ul data-v-5d3ec8ab><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Transaction operation guide</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Portfolio management</a></li><li data-v-5d3ec8ab><a href="#" data-v-5d3ec8ab>Security settings guide</a></li></ul></div></div><div class="featured-tutorials" data-v-5d3ec8ab><h2 data-v-5d3ec8ab>Featured Tutorials</h2><div class="tutorial-list" data-v-5d3ec8ab><div class="tutorial-item" data-v-5d3ec8ab><div class="tutorial-thumbnail" data-v-5d3ec8ab>📹</div><div class="tutorial-info" data-v-5d3ec8ab><h3 data-v-5d3ec8ab>5-Minute Quick Start Guide</h3><p data-v-5d3ec8ab>Through this short video tutorial, quickly understand the basic functions and usage of the platform.</p><div class="tutorial-meta" data-v-5d3ec8ab><span class="duration" data-v-5d3ec8ab>5 minutes</span><span class="level" data-v-5d3ec8ab>Beginner</span></div></div></div><div class="tutorial-item" data-v-5d3ec8ab><div class="tutorial-thumbnail" data-v-5d3ec8ab>📹</div><div class="tutorial-info" data-v-5d3ec8ab><h3 data-v-5d3ec8ab>How to choose good investment projects</h3><p data-v-5d3ec8ab>Learn how to analyze project data, identify good investment opportunities, and reduce investment risk.</p><div class="tutorial-meta" data-v-5d3ec8ab><span class="duration" data-v-5d3ec8ab>15 minutes</span><span class="level" data-v-5d3ec8ab>Intermediate</span></div></div></div><div class="tutorial-item" data-v-5d3ec8ab><div class="tutorial-thumbnail" data-v-5d3ec8ab>📹</div><div class="tutorial-info" data-v-5d3ec8ab><h3 data-v-5d3ec8ab>Advanced trading strategies</h3><p data-v-5d3ec8ab>Learn advanced trading techniques, including the use of professional trading tools such as limit orders and stop loss orders.</p><div class="tutorial-meta" data-v-5d3ec8ab><span class="duration" data-v-5d3ec8ab>25 minutes</span><span class="level" data-v-5d3ec8ab>Advanced</span></div></div></div></div></div></div>',2)])])}const $R=zt(MR,[["render",FR],["__scopeId","data-v-5d3ec8ab"]]),VR={name:"PricingView"},HR={class:"container"},jR={class:"pricing-content"},GR={class:"pricing-cards"},KR={class:"pricing-card"},WR={class:"pricing-cta"},zR={class:"pricing-card featured"},YR={class:"pricing-cta"},QR={class:"pricing-card"},qR={class:"pricing-cta"};function JR(e,t,s,n,i,r){const a=Xs("router-link");return S(),T("div",HR,[t[7]||(t[7]=o("div",{class:"page-header"},[o("h1",null,"定价方案"),o("p",{class:"page-subtitle"},"透明的费用结构，让您清楚了解每笔交易的成本")],-1)),o("div",jR,[o("div",GR,[o("div",KR,[t[1]||(t[1]=ne('<div class="pricing-header" data-v-6c4c63dd><h3 data-v-6c4c63dd>个人投资者</h3><div class="price" data-v-6c4c63dd><span class="currency" data-v-6c4c63dd>$</span><span class="amount" data-v-6c4c63dd>1.5</span><span class="period" data-v-6c4c63dd>%</span></div><p class="price-description" data-v-6c4c63dd>每笔交易手续费</p></div><div class="pricing-features" data-v-6c4c63dd><ul data-v-6c4c63dd><li data-v-6c4c63dd>✅ 无最低投资限制</li><li data-v-6c4c63dd>✅ 基础交易功能</li><li data-v-6c4c63dd>✅ 投资组合跟踪</li><li data-v-6c4c63dd>✅ 邮件支持</li><li data-v-6c4c63dd>❌ 专属客服</li><li data-v-6c4c63dd>❌ API访问</li></ul></div>',2)),o("div",WR,[wt(a,{to:"/signup",class:"btn primary"},{default:$t(()=>[...t[0]||(t[0]=[pt("开始投资",-1)])]),_:1})])]),o("div",zR,[t[3]||(t[3]=ne('<div class="featured-badge" data-v-6c4c63dd>最受欢迎</div><div class="pricing-header" data-v-6c4c63dd><h3 data-v-6c4c63dd>机构投资者</h3><div class="price" data-v-6c4c63dd><span class="currency" data-v-6c4c63dd>$</span><span class="amount" data-v-6c4c63dd>1.0</span><span class="period" data-v-6c4c63dd>%</span></div><p class="price-description" data-v-6c4c63dd>每笔交易手续费</p></div><div class="pricing-features" data-v-6c4c63dd><ul data-v-6c4c63dd><li data-v-6c4c63dd>✅ 最低投资 $10,000</li><li data-v-6c4c63dd>✅ 高级交易功能</li><li data-v-6c4c63dd>✅ 专属投资顾问</li><li data-v-6c4c63dd>✅ 优先客服支持</li><li data-v-6c4c63dd>✅ API访问</li><li data-v-6c4c63dd>✅ 定制化报告</li></ul></div>',3)),o("div",YR,[wt(a,{to:"/contact",class:"btn primary"},{default:$t(()=>[...t[2]||(t[2]=[pt("联系销售",-1)])]),_:1})])]),o("div",QR,[t[5]||(t[5]=ne('<div class="pricing-header" data-v-6c4c63dd><h3 data-v-6c4c63dd>企业客户</h3><div class="price" data-v-6c4c63dd><span class="currency" data-v-6c4c63dd>$</span><span class="amount" data-v-6c4c63dd>0.5</span><span class="period" data-v-6c4c63dd>%</span></div><p class="price-description" data-v-6c4c63dd>每笔交易手续费</p></div><div class="pricing-features" data-v-6c4c63dd><ul data-v-6c4c63dd><li data-v-6c4c63dd>✅ 最低投资 $100,000</li><li data-v-6c4c63dd>✅ 完整API集成</li><li data-v-6c4c63dd>✅ 白标解决方案</li><li data-v-6c4c63dd>✅ 24/7专属支持</li><li data-v-6c4c63dd>✅ 定制化开发</li><li data-v-6c4c63dd>✅ 合规性支持</li></ul></div>',2)),o("div",qR,[wt(a,{to:"/contact",class:"btn primary"},{default:$t(()=>[...t[4]||(t[4]=[pt("定制方案",-1)])]),_:1})])])]),t[6]||(t[6]=ne('<div class="fee-breakdown" data-v-6c4c63dd><h2 data-v-6c4c63dd>费用明细</h2><div class="fee-table" data-v-6c4c63dd><div class="fee-row" data-v-6c4c63dd><div class="fee-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>交易手续费</h4><p data-v-6c4c63dd>基于交易金额的百分比费用，在交易时自动扣除</p></div><div class="fee-amount" data-v-6c4c63dd>0.5% - 1.5%</div></div><div class="fee-row" data-v-6c4c63dd><div class="fee-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>网络费用</h4><p data-v-6c4c63dd>区块链网络交易费用，由网络拥堵程度决定</p></div><div class="fee-amount" data-v-6c4c63dd>$2 - $20</div></div><div class="fee-row" data-v-6c4c63dd><div class="fee-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>提现费用</h4><p data-v-6c4c63dd>将资金提取到银行账户的手续费</p></div><div class="fee-amount" data-v-6c4c63dd>$5</div></div><div class="fee-row" data-v-6c4c63dd><div class="fee-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>管理费</h4><p data-v-6c4c63dd>年度资产管理费用，从投资收益中扣除</p></div><div class="fee-amount" data-v-6c4c63dd>0.2%</div></div></div></div><div class="faq-section" data-v-6c4c63dd><h2 data-v-6c4c63dd>常见问题</h2><div class="faq-list" data-v-6c4c63dd><div class="faq-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>是否有隐藏费用？</h4><p data-v-6c4c63dd>我们承诺透明的费用结构，所有费用都会在交易前明确显示，不会有任何隐藏费用。</p></div><div class="faq-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>如何降低交易费用？</h4><p data-v-6c4c63dd>大额投资可以享受更低的费率，机构投资者和企业客户可以申请定制化费率方案。</p></div><div class="faq-item" data-v-6c4c63dd><h4 data-v-6c4c63dd>费用何时收取？</h4><p data-v-6c4c63dd>交易手续费在交易执行时自动扣除，管理费按年度从投资收益中扣除。</p></div></div></div>',2))])])}const ZR=zt(VR,[["render",JR],["__scopeId","data-v-6c4c63dd"]]),XR={name:"AboutUsView"},t5={class:"container"};function e5(e,t,s,n,i,r){return S(),T("div",t5,[...t[0]||(t[0]=[ne('<div class="page-header" data-v-e2dabbb1><h1 data-v-e2dabbb1>About Us</h1><p class="page-subtitle" data-v-e2dabbb1>Innovative technology company dedicated to revolutionizing real estate investment</p></div><div class="about-content" data-v-e2dabbb1><div class="background-vision-section" data-v-e2dabbb1><h2 data-v-e2dabbb1>Background</h2><div class="vision-content" data-v-e2dabbb1><div class="vision-text" data-v-e2dabbb1><p class="vision-intro" data-v-e2dabbb1><strong data-v-e2dabbb1>RWATdealmaker</strong> is a global RWA matching SaaS platform that helps asset holders and investors establish compliant and transparent investment transactions. Our platform&#39;s first POC/MVP use case is &quot;Australian residential real estate mortgage loan equity tokenization&quot;, with the goal of verifying a complete closed loop (registration/KYC → whitelist → subscription → interest calculation → redemption/default). </p><div class="vision-timeline" data-v-e2dabbb1><h3 data-v-e2dabbb1>Our Vision</h3><div class="timeline-item" data-v-e2dabbb1><div class="timeline-phase" data-v-e2dabbb1><span class="phase-icon" data-v-e2dabbb1>🎯</span><h4 data-v-e2dabbb1>Short-term</h4></div><p data-v-e2dabbb1>Implement single project Demo, complete the full closed loop;</p></div><div class="timeline-item" data-v-e2dabbb1><div class="timeline-phase" data-v-e2dabbb1><span class="phase-icon" data-v-e2dabbb1>📈</span><h4 data-v-e2dabbb1>Medium-term</h4></div><p data-v-e2dabbb1>Support multiple projects in parallel, investor Dashboard displays token quantities, amounts, shares and maturity for each project;</p></div><div class="timeline-item" data-v-e2dabbb1><div class="timeline-phase" data-v-e2dabbb1><span class="phase-icon" data-v-e2dabbb1>🌍</span><h4 data-v-e2dabbb1>Long-term</h4></div><p data-v-e2dabbb1>Expand to secondary market trading and DAO governance under compliance premises, serving global investors and asset owners.</p></div></div></div><div class="vision-image" data-v-e2dabbb1><div class="image-placeholder" data-v-e2dabbb1>🚀</div></div></div></div><div class="mission-section" data-v-e2dabbb1><div class="mission-text" data-v-e2dabbb1><h2 data-v-e2dabbb1>Our Mission</h2><p data-v-e2dabbb1>We are committed to revolutionizing traditional real estate investment through blockchain technology, allowing everyone to participate in优质房地产投资，共享房地产市场的增长红利。</p><p data-v-e2dabbb1>Through tokenization technology, we will break down traditional real estate investment that requires a large amount of capital into small, tradable units, allowing ordinary investors to enjoy stable returns from real estate investment.</p></div><div class="mission-image" data-v-e2dabbb1><div class="image-placeholder" data-v-e2dabbb1>🏢</div></div></div><div class="values-section" data-v-e2dabbb1><h2 data-v-e2dabbb1>Core Values</h2><div class="values-grid" data-v-e2dabbb1><div class="value-card" data-v-e2dabbb1><div class="value-icon" data-v-e2dabbb1>🔒</div><h3 data-v-e2dabbb1>Security First</h3><p data-v-e2dabbb1>Use the most advanced encryption technology and multiple security measures to ensure the security of user assets and transactions.</p></div><div class="value-card" data-v-e2dabbb1><div class="value-icon" data-v-e2dabbb1>🌐</div><h3 data-v-e2dabbb1>Transparent and Open</h3><p data-v-e2dabbb1>All transaction records are stored on the chain, project information is completely transparent, allowing investors to invest clearly and clearly.</p></div><div class="value-card" data-v-e2dabbb1><div class="value-icon" data-v-e2dabbb1>🚀</div><h3 data-v-e2dabbb1>Continuous Innovation</h3><p data-v-e2dabbb1>Continuously explore new technologies, optimize user experience, and provide better services for investors.</p></div><div class="value-card" data-v-e2dabbb1><div class="value-icon" data-v-e2dabbb1>🤝</div><h3 data-v-e2dabbb1>User-Centered</h3><p data-v-e2dabbb1>Provide professional,贴心 services, helping users achieve wealth增值。</p></div></div></div><div class="team-section" data-v-e2dabbb1><h2 data-v-e2dabbb1>Core Team</h2><div class="team-grid" data-v-e2dabbb1><div class="team-member" data-v-e2dabbb1><div class="member-avatar" data-v-e2dabbb1>👨‍💼</div><h4 data-v-e2dabbb1>张明</h4><p class="member-title" data-v-e2dabbb1></p><p class="member-bio" data-v-e2dabbb1>拥有15年金融科技经验，曾在多家知名金融机构担任高管职务。</p></div><div class="team-member" data-v-e2dabbb1><div class="member-avatar" data-v-e2dabbb1>👩‍💻</div><h4 data-v-e2dabbb1>李华</h4><p class="member-title" data-v-e2dabbb1>CFO</p><p class="member-bio" data-v-e2dabbb1>区块链技术专家，在分布式系统和智能合约开发方面有丰富经验。</p></div><div class="team-member" data-v-e2dabbb1><div class="member-avatar" data-v-e2dabbb1>👨‍💼</div><h4 data-v-e2dabbb1>王强</h4><p class="member-title" data-v-e2dabbb1>CMO</p><p class="member-bio" data-v-e2dabbb1>房地产行业资深专家，对市场趋势和投资机会有深刻洞察。</p></div></div></div><div class="stats-section" data-v-e2dabbb1><h2 data-v-e2dabbb1>Company Data</h2><div class="stats-grid" data-v-e2dabbb1><div class="stat-item" data-v-e2dabbb1><div class="stat-number" data-v-e2dabbb1>2023</div><div class="stat-label" data-v-e2dabbb1>Year of Establishment</div></div><div class="stat-item" data-v-e2dabbb1><div class="stat-number" data-v-e2dabbb1>50+</div><div class="stat-label" data-v-e2dabbb1>Team Members</div></div><div class="stat-item" data-v-e2dabbb1><div class="stat-number" data-v-e2dabbb1>$50M+</div><div class="stat-label" data-v-e2dabbb1>Managed Assets</div></div><div class="stat-item" data-v-e2dabbb1><div class="stat-number" data-v-e2dabbb1>1,200+</div><div class="stat-label" data-v-e2dabbb1>Active Users</div></div></div></div></div>',2)])])}const s5=zt(XR,[["render",e5],["__scopeId","data-v-e2dabbb1"]]),n5={name:"ContactView",data(){return{form:{name:"",email:"",phone:"",subject:"",message:""},isSubmitting:!1}},methods:{async submitForm(){this.isSubmitting=!0,setTimeout(()=>{alert("Message sent successfully! We will reply to you soon."),this.form={name:"",email:"",phone:"",subject:"",message:""},this.isSubmitting=!1},2e3)}}},i5={class:"container"},r5={class:"contact-content"},a5={class:"contact-grid"},o5={class:"contact-form"},l5={class:"form-fields"},c5={class:"form-group"},u5={class:"form-group"},d5={class:"form-group"},f5={class:"form-group"},h5={class:"form-group"},p5={class:"form-submit"},m5=["disabled"];function g5(e,t,s,n,i,r){return S(),T("div",i5,[t[15]||(t[15]=o("div",{class:"page-header"},[o("h1",null,"Contact Us"),o("p",{class:"page-subtitle"},"We are happy to help you")],-1)),o("div",r5,[o("div",a5,[t[13]||(t[13]=ne('<div class="contact-info" data-v-6ced6933><h2 data-v-6ced6933>Contact Information</h2><div class="contact-methods" data-v-6ced6933><div class="contact-method" data-v-6ced6933><div class="method-icon" data-v-6ced6933>📧</div><div class="method-details" data-v-6ced6933><h4 data-v-6ced6933>Email</h4><p data-v-6ced6933>support@mortgagerwa.com</p><p data-v-6ced6933>business@mortgagerwa.com</p></div></div><div class="contact-method" data-v-6ced6933><div class="method-icon" data-v-6ced6933>📞</div><div class="method-details" data-v-6ced6933><h4 data-v-6ced6933>Phone</h4><p data-v-6ced6933>+61 2 1234 5678</p><p data-v-6ced6933>Monday to Friday 9:00-18:00</p></div></div><div class="contact-method" data-v-6ced6933><div class="method-icon" data-v-6ced6933>📍</div><div class="method-details" data-v-6ced6933><h4 data-v-6ced6933>Address</h4><p data-v-6ced6933>123 George Street</p><p data-v-6ced6933>Sydney NSW 2000, Australia</p></div></div><div class="contact-method" data-v-6ced6933><div class="method-icon" data-v-6ced6933>💬</div><div class="method-details" data-v-6ced6933><h4 data-v-6ced6933>Online Customer Service</h4><p data-v-6ced6933>24/7 Online Support</p><p data-v-6ced6933>Average Response Time &lt; 5 minutes</p></div></div></div><div class="social-links" data-v-6ced6933><h3 data-v-6ced6933>Follow Us</h3><div class="social-icons" data-v-6ced6933><a href="#" class="social-icon" data-v-6ced6933>🐦</a><a href="#" class="social-icon" data-v-6ced6933>💼</a><a href="#" class="social-icon" data-v-6ced6933>📘</a><a href="#" class="social-icon" data-v-6ced6933>🐙</a></div></div></div>',1)),o("div",o5,[t[12]||(t[12]=o("h2",null,"Send Message",-1)),o("form",{onSubmit:t[5]||(t[5]=St((...a)=>r.submitForm&&r.submitForm(...a),["prevent"])),class:"form-container"},[o("div",l5,[o("div",c5,[t[6]||(t[6]=o("label",{for:"name"},"Name *",-1)),It(o("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.name=a),required:""},null,512),[[ye,i.form.name]])]),o("div",u5,[t[7]||(t[7]=o("label",{for:"email"},"Email *",-1)),It(o("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.email=a),required:""},null,512),[[ye,i.form.email]])]),o("div",d5,[t[8]||(t[8]=o("label",{for:"phone"},"Phone",-1)),It(o("input",{type:"tel",id:"phone","onUpdate:modelValue":t[2]||(t[2]=a=>i.form.phone=a)},null,512),[[ye,i.form.phone]])]),o("div",f5,[t[10]||(t[10]=o("label",{for:"subject"},"Subject *",-1)),It(o("select",{id:"subject","onUpdate:modelValue":t[3]||(t[3]=a=>i.form.subject=a),required:""},[...t[9]||(t[9]=[ne('<option value="" data-v-6ced6933>Please select a subject</option><option value="general" data-v-6ced6933>General Consultation</option><option value="technical" data-v-6ced6933>Technical Support</option><option value="business" data-v-6ced6933>Business Cooperation</option><option value="investment" data-v-6ced6933>Investment Consultation</option><option value="other" data-v-6ced6933>Other</option>',6)])],512),[[De,i.form.subject]])]),o("div",h5,[t[11]||(t[11]=o("label",{for:"message"},"Message Content *",-1)),It(o("textarea",{id:"message","onUpdate:modelValue":t[4]||(t[4]=a=>i.form.message=a),rows:"5",required:""},null,512),[[ye,i.form.message]])])]),o("div",p5,[o("button",{type:"submit",class:"btn primary",disabled:i.isSubmitting},y(i.isSubmitting?"Sending...":"Send Message"),9,m5)])],32)])]),t[14]||(t[14]=ne('<div class="faq-section" data-v-6ced6933><h2 data-v-6ced6933>FAQ</h2><div class="faq-list" data-v-6ced6933><div class="faq-item" data-v-6ced6933><h4 data-v-6ced6933>How to start investing?</h4><p data-v-6ced6933>First, you need to register an account and complete the KYC certification, then connect your digital wallet, and you can start browsing and investing in real estate tokens.</p></div><div class="faq-item" data-v-6ced6933><h4 data-v-6ced6933>Is there a minimum investment amount?</h4><p data-v-6ced6933>The minimum investment amount for individual investors is 100 Australian dollars, and the minimum investment requirements for institutional investors and corporate clients are different.</p></div><div class="faq-item" data-v-6ced6933><h4 data-v-6ced6933>How to withdraw investment returns？</h4><p data-v-6ced6933>You can view the investment returns on the investment portfolio page, and withdraw the returns to your bank account through the wallet function.</p></div><div class="faq-item" data-v-6ced6933><h4 data-v-6ced6933>Is the platform safe?</h4><p data-v-6ced6933>We use bank-level security measures, including multiple encryption, cold wallet storage, etc., to ensure the security of user assets.</p></div></div></div>',1))])])}const rf=zt(n5,[["render",g5],["__scopeId","data-v-6ced6933"]]),v5={name:"TermView",methods:{goBack(){this.$router.go(-1)},acceptTerms(){this.$emit("terms-accepted"),this.$router.go(-1)}}},y5={class:"terms-page"},b5={class:"container"},w5={class:"content"},A5={class:"footer-actions"};function E5(e,t,s,n,i,r){return S(),T("div",y5,[o("div",b5,[t[3]||(t[3]=o("div",{class:"header"},[o("h1",null,"Terms of Service"),o("p",{class:"subtitle"},"Please read these terms carefully before using our service")],-1)),o("div",w5,[t[2]||(t[2]=ne('<section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>1. Acceptance of Terms</h2><p data-v-ca4c7f46> By accessing and using this website and our services, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>2. Description of Service</h2><p data-v-ca4c7f46> Our platform provides access to real-world asset (RWA) tokenization services, allowing users to invest in tokenized real estate and other physical assets. We facilitate the connection between investors and asset providers through blockchain technology. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>3. User Responsibilities</h2><ul data-v-ca4c7f46><li data-v-ca4c7f46>You must be at least 18 years old to use our services</li><li data-v-ca4c7f46>You are responsible for maintaining the confidentiality of your account</li><li data-v-ca4c7f46>You agree to provide accurate and complete information</li><li data-v-ca4c7f46>You will not use the service for any illegal or unauthorized purpose</li><li data-v-ca4c7f46>You will comply with all applicable laws and regulations</li></ul></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>4. Investment Risks</h2><p data-v-ca4c7f46><strong data-v-ca4c7f46>Important:</strong> All investments carry risk. The value of your investments can go down as well as up. Past performance is not indicative of future results. You should only invest money that you can afford to lose. </p><ul data-v-ca4c7f46><li data-v-ca4c7f46>Real estate investments are subject to market fluctuations</li><li data-v-ca4c7f46>Tokenized assets may have liquidity restrictions</li><li data-v-ca4c7f46>Regulatory changes may affect the value of your investments</li><li data-v-ca4c7f46>Technology risks including smart contract vulnerabilities</li></ul></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>5. KYC and Compliance</h2><p data-v-ca4c7f46> We are required to comply with Know Your Customer (KYC) and Anti-Money Laundering (AML) regulations. You agree to provide necessary documentation and information for verification purposes. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>6. Prohibited Activities</h2><p data-v-ca4c7f46>You agree not to:</p><ul data-v-ca4c7f46><li data-v-ca4c7f46>Use the service for money laundering or terrorist financing</li><li data-v-ca4c7f46>Attempt to circumvent security measures</li><li data-v-ca4c7f46>Interfere with the proper functioning of the platform</li><li data-v-ca4c7f46>Provide false or misleading information</li><li data-v-ca4c7f46>Violate any applicable laws or regulations</li></ul></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>7. Limitation of Liability</h2><p data-v-ca4c7f46> To the maximum extent permitted by law, we shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your use of the service. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>8. Modifications</h2><p data-v-ca4c7f46> We reserve the right to modify these terms at any time. We will notify users of any material changes through our platform or by email. Your continued use of the service after such modifications constitutes acceptance of the updated terms. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>9. Termination</h2><p data-v-ca4c7f46> We may terminate or suspend your account and access to the service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>10. Governing Law</h2><p data-v-ca4c7f46> These Terms shall be interpreted and governed by the laws of Australia, without regard to its conflict of law provisions. Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. </p></section><section class="section" data-v-ca4c7f46><h2 data-v-ca4c7f46>11. Contact Information</h2><p data-v-ca4c7f46> If you have any questions about these Terms of Service, please contact us at: <br data-v-ca4c7f46> Email: legal@rwatoken.com <br data-v-ca4c7f46> Address: Sydney, Australia </p></section>',11)),o("div",A5,[o("button",{onClick:t[0]||(t[0]=(...a)=>r.goBack&&r.goBack(...a)),class:"btn btn-secondary"},"Back to Signup"),o("button",{onClick:t[1]||(t[1]=(...a)=>r.acceptTerms&&r.acceptTerms(...a)),class:"btn btn-primary"},"I Accept These Terms")])])])])}const k5=zt(v5,[["render",E5],["__scopeId","data-v-ca4c7f46"]]),C5={name:"PrivacyPolicyView",data(){return{lastUpdated:new Date().toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"})}},methods:{goBack(){this.$router.go(-1)},acceptPolicy(){this.$emit("policy-accepted"),this.$router.go(-1)}}},S5={class:"privacy-page"},T5={class:"container"},_5={class:"header"},P5={class:"last-updated"},x5={class:"content"},I5={class:"footer-actions"};function R5(e,t,s,n,i,r){return S(),T("div",S5,[o("div",T5,[o("div",_5,[t[2]||(t[2]=o("h1",null,"Privacy Policy",-1)),t[3]||(t[3]=o("p",{class:"subtitle"},"How we collect, use, and protect your personal information",-1)),o("p",P5,"Last updated: "+y(i.lastUpdated),1)]),o("div",x5,[t[4]||(t[4]=ne('<section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>1. Introduction</h2><p data-v-80dfd0e3> At RWA Token Platform, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform. </p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>2. Information We Collect</h2><h3 data-v-80dfd0e3>2.1 Personal Information</h3><p data-v-80dfd0e3>We may collect the following types of personal information:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Identity Information:</strong> Full name, date of birth, government-issued ID numbers</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Contact Information:</strong> Email address, phone number, mailing address</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Financial Information:</strong> Bank account details, income information, investment experience</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>KYC/AML Documentation:</strong> Identity verification documents, proof of address, source of funds</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Account Information:</strong> Username, password (encrypted), account preferences</li></ul><h3 data-v-80dfd0e3>2.2 Technical Information</h3><p data-v-80dfd0e3>We automatically collect certain technical information:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>IP address and location data</li><li data-v-80dfd0e3>Device information (browser type, operating system)</li><li data-v-80dfd0e3>Usage patterns and preferences</li><li data-v-80dfd0e3>Cookies and similar tracking technologies</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>3. How We Use Your Information</h2><p data-v-80dfd0e3>We use your personal information for the following purposes:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Account Management:</strong> Creating and maintaining your account</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Identity Verification:</strong> Conducting KYC and AML checks as required by law</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Service Provision:</strong> Providing access to our tokenization platform</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Communication:</strong> Sending important updates, notifications, and support</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Compliance:</strong> Meeting regulatory requirements and legal obligations</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Security:</strong> Protecting against fraud and unauthorized access</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Improvement:</strong> Enhancing our services and user experience</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>4. Legal Basis for Processing</h2><p data-v-80dfd0e3>We process your personal information based on the following legal grounds:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Contract Performance:</strong> To provide our services under our terms of service</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Legal Obligation:</strong> To comply with KYC, AML, and other regulatory requirements</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Legitimate Interest:</strong> To improve our services and prevent fraud</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Consent:</strong> For marketing communications and non-essential cookies</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>5. Information Sharing and Disclosure</h2><p data-v-80dfd0e3>We may share your information in the following circumstances:</p><h3 data-v-80dfd0e3>5.1 Service Providers</h3><p data-v-80dfd0e3>We share information with trusted third-party service providers who assist us in:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Identity verification and KYC services</li><li data-v-80dfd0e3>Payment processing and banking services</li><li data-v-80dfd0e3>Cloud hosting and data storage</li><li data-v-80dfd0e3>Customer support and communication</li></ul><h3 data-v-80dfd0e3>5.2 Legal Requirements</h3><p data-v-80dfd0e3>We may disclose information when required by law or to:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Comply with legal processes or government requests</li><li data-v-80dfd0e3>Protect our rights, property, or safety</li><li data-v-80dfd0e3>Prevent fraud or illegal activities</li><li data-v-80dfd0e3>Enforce our terms of service</li></ul><h3 data-v-80dfd0e3>5.3 Business Transfers</h3><p data-v-80dfd0e3>In the event of a merger, acquisition, or sale of assets, your information may be transferred to the new entity.</p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>6. Data Security</h2><p data-v-80dfd0e3>We implement comprehensive security measures to protect your information:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Encryption:</strong> All data is encrypted in transit and at rest</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Access Controls:</strong> Strict access controls and authentication protocols</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Regular Audits:</strong> Regular security audits and penetration testing</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Employee Training:</strong> Comprehensive privacy and security training for all staff</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Incident Response:</strong> Robust incident response procedures</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>7. Data Retention</h2><p data-v-80dfd0e3> We retain your personal information for as long as necessary to fulfill the purposes outlined in this policy, comply with legal obligations, resolve disputes, and enforce our agreements. Specifically: </p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Account information: Retained while your account is active</li><li data-v-80dfd0e3>KYC/AML documents: Retained for 7 years as required by law</li><li data-v-80dfd0e3>Transaction records: Retained for 7 years for regulatory compliance</li><li data-v-80dfd0e3>Marketing data: Retained until you opt out or for 3 years of inactivity</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>8. Your Rights</h2><p data-v-80dfd0e3>Depending on your location, you may have the following rights:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3><strong data-v-80dfd0e3>Access:</strong> Request a copy of your personal information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Rectification:</strong> Correct inaccurate or incomplete information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Erasure:</strong> Request deletion of your personal information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Portability:</strong> Receive your data in a structured format</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Restriction:</strong> Limit how we process your information</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Objection:</strong> Object to certain types of processing</li><li data-v-80dfd0e3><strong data-v-80dfd0e3>Withdraw Consent:</strong> Withdraw consent for consent-based processing</li></ul><p data-v-80dfd0e3>To exercise these rights, please contact us at privacy@rwatoken.com</p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>9. Cookies and Tracking</h2><p data-v-80dfd0e3>We use cookies and similar technologies to:</p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Remember your preferences and settings</li><li data-v-80dfd0e3>Analyze website usage and performance</li><li data-v-80dfd0e3>Provide personalized content and advertisements</li><li data-v-80dfd0e3>Ensure security and prevent fraud</li></ul><p data-v-80dfd0e3>You can control cookie settings through your browser preferences.</p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>10. International Transfers</h2><p data-v-80dfd0e3> Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers, including: </p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Standard contractual clauses</li><li data-v-80dfd0e3>Adequacy decisions by relevant authorities</li><li data-v-80dfd0e3>Certification schemes and codes of conduct</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>11. Children&#39;s Privacy</h2><p data-v-80dfd0e3> Our services are not intended for individuals under 18 years of age. We do not knowingly collect personal information from children under 18. If we become aware that we have collected such information, we will take steps to delete it. </p></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>12. Changes to This Policy</h2><p data-v-80dfd0e3> We may update this Privacy Policy from time to time. We will notify you of any material changes by: </p><ul data-v-80dfd0e3><li data-v-80dfd0e3>Posting the updated policy on our website</li><li data-v-80dfd0e3>Sending email notifications to registered users</li><li data-v-80dfd0e3>Displaying prominent notices on our platform</li></ul></section><section class="section" data-v-80dfd0e3><h2 data-v-80dfd0e3>13. Contact Us</h2><p data-v-80dfd0e3> If you have any questions about this Privacy Policy or our privacy practices, please contact us: </p><div class="contact-info" data-v-80dfd0e3><p data-v-80dfd0e3><strong data-v-80dfd0e3>Email:</strong> privacy@rwatoken.com</p><p data-v-80dfd0e3><strong data-v-80dfd0e3>Data Protection Officer:</strong> dpo@rwatoken.com</p><p data-v-80dfd0e3><strong data-v-80dfd0e3>Address:</strong> Sydney, Australia</p><p data-v-80dfd0e3><strong data-v-80dfd0e3>Phone:</strong> +61 (0) 2 1234 5678</p></div></section>',13)),o("div",I5,[o("button",{onClick:t[0]||(t[0]=(...a)=>r.goBack&&r.goBack(...a)),class:"btn btn-secondary"},"Back to Signup"),o("button",{onClick:t[1]||(t[1]=(...a)=>r.acceptPolicy&&r.acceptPolicy(...a)),class:"btn btn-primary"},"I Accept This Policy")])])])])}const N5=zt(C5,[["render",R5],["__scopeId","data-v-80dfd0e3"]]),L5={name:"OptionsView",data(){return{}},methods:{saveOptions(){console.log("Options saved")}}},D5={class:"options-page"};function B5(e,t,s,n,i,r){return S(),T("div",D5,[...t[0]||(t[0]=[ne('<div class="container" data-v-179a0aa8><div class="page-header" data-v-179a0aa8><h1 class="page-title" data-v-179a0aa8>Options</h1><p class="page-subtitle" data-v-179a0aa8>Configure your account preferences and settings</p></div><div class="options-grid" data-v-179a0aa8><div class="option-section" data-v-179a0aa8><div class="section-header" data-v-179a0aa8><h2 class="section-title" data-v-179a0aa8>Account Options</h2><span class="section-icon" data-v-179a0aa8>👤</span></div><div class="option-items" data-v-179a0aa8><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Profile Visibility</h3><p class="option-description" data-v-179a0aa8>Control who can see your profile information</p></div><div class="option-control" data-v-179a0aa8><select class="option-select" data-v-179a0aa8><option value="public" data-v-179a0aa8>Public</option><option value="friends" data-v-179a0aa8>Friends Only</option><option value="private" data-v-179a0aa8>Private</option></select></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Email Notifications</h3><p class="option-description" data-v-179a0aa8>Receive notifications about account activities</p></div><div class="option-control" data-v-179a0aa8><label class="toggle-switch" data-v-179a0aa8><input type="checkbox" checked data-v-179a0aa8><span class="toggle-slider" data-v-179a0aa8></span></label></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Two-Factor Authentication</h3><p class="option-description" data-v-179a0aa8>Add an extra layer of security to your account</p></div><div class="option-control" data-v-179a0aa8><button class="btn btn-secondary" data-v-179a0aa8>Enable 2FA</button></div></div></div></div><div class="option-section" data-v-179a0aa8><div class="section-header" data-v-179a0aa8><h2 class="section-title" data-v-179a0aa8>Trading Options</h2><span class="section-icon" data-v-179a0aa8>📊</span></div><div class="option-items" data-v-179a0aa8><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Default Trading Pair</h3><p class="option-description" data-v-179a0aa8>Set your preferred trading pair for quick access</p></div><div class="option-control" data-v-179a0aa8><select class="option-select" data-v-179a0aa8><option value="ETH/USDT" data-v-179a0aa8>ETH/USDT</option><option value="BTC/USDT" data-v-179a0aa8>BTC/USDT</option><option value="USDC/USDT" data-v-179a0aa8>USDC/USDT</option></select></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Auto-Confirm Trades</h3><p class="option-description" data-v-179a0aa8>Automatically confirm trades under specified amount</p></div><div class="option-control" data-v-179a0aa8><label class="toggle-switch" data-v-179a0aa8><input type="checkbox" data-v-179a0aa8><span class="toggle-slider" data-v-179a0aa8></span></label></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Price Alerts</h3><p class="option-description" data-v-179a0aa8>Get notified when prices reach your target</p></div><div class="option-control" data-v-179a0aa8><button class="btn btn-secondary" data-v-179a0aa8>Manage Alerts</button></div></div></div></div><div class="option-section" data-v-179a0aa8><div class="section-header" data-v-179a0aa8><h2 class="section-title" data-v-179a0aa8>Privacy Options</h2><span class="section-icon" data-v-179a0aa8>🔒</span></div><div class="option-items" data-v-179a0aa8><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Data Collection</h3><p class="option-description" data-v-179a0aa8>Allow us to collect anonymous usage data</p></div><div class="option-control" data-v-179a0aa8><label class="toggle-switch" data-v-179a0aa8><input type="checkbox" checked data-v-179a0aa8><span class="toggle-slider" data-v-179a0aa8></span></label></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Marketing Emails</h3><p class="option-description" data-v-179a0aa8>Receive promotional emails and updates</p></div><div class="option-control" data-v-179a0aa8><label class="toggle-switch" data-v-179a0aa8><input type="checkbox" data-v-179a0aa8><span class="toggle-slider" data-v-179a0aa8></span></label></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Third-Party Sharing</h3><p class="option-description" data-v-179a0aa8>Allow sharing data with trusted partners</p></div><div class="option-control" data-v-179a0aa8><label class="toggle-switch" data-v-179a0aa8><input type="checkbox" data-v-179a0aa8><span class="toggle-slider" data-v-179a0aa8></span></label></div></div></div></div><div class="option-section" data-v-179a0aa8><div class="section-header" data-v-179a0aa8><h2 class="section-title" data-v-179a0aa8>Advanced Options</h2><span class="section-icon" data-v-179a0aa8>⚙️</span></div><div class="option-items" data-v-179a0aa8><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>API Access</h3><p class="option-description" data-v-179a0aa8>Manage your API keys and permissions</p></div><div class="option-control" data-v-179a0aa8><button class="btn btn-secondary" data-v-179a0aa8>API Settings</button></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Export Data</h3><p class="option-description" data-v-179a0aa8>Download your account data</p></div><div class="option-control" data-v-179a0aa8><button class="btn btn-secondary" data-v-179a0aa8>Export</button></div></div><div class="option-item" data-v-179a0aa8><div class="option-info" data-v-179a0aa8><h3 class="option-name" data-v-179a0aa8>Reset Preferences</h3><p class="option-description" data-v-179a0aa8>Reset all options to default values</p></div><div class="option-control" data-v-179a0aa8><button class="btn btn-danger" data-v-179a0aa8>Reset</button></div></div></div></div></div><div class="page-actions" data-v-179a0aa8><button class="btn btn-primary" data-v-179a0aa8>Save Changes</button><button class="btn btn-secondary" data-v-179a0aa8>Cancel</button></div></div>',1)])])}const O5=zt(L5,[["render",B5],["__scopeId","data-v-179a0aa8"]]),M5={name:"SettingsView",data(){return{settings:{language:"en",theme:"dark",timezone:"UTC",sessionTimeout:30,defaultWallet:"metamask",autoConnect:!1,pushNotifications:!0,emailNotifications:!0,smsAlerts:!1,autoRefresh:60,cacheSize:250,developerMode:!1,analytics:!0}}},methods:{saveSettings(){console.log("Settings saved:",this.settings),localStorage.setItem("userSettings",JSON.stringify(this.settings)),alert("Settings saved successfully!")},resetSettings(){confirm("Are you sure you want to reset all settings to default values?")&&(this.settings={language:"en",theme:"dark",timezone:"UTC",sessionTimeout:30,defaultWallet:"metamask",autoConnect:!1,pushNotifications:!0,emailNotifications:!0,smsAlerts:!1,autoRefresh:60,cacheSize:250,developerMode:!1,analytics:!0},localStorage.removeItem("userSettings"),alert("Settings reset to default values!"))}},mounted(){const e=localStorage.getItem("userSettings");e&&(this.settings={...this.settings,...JSON.parse(e)})}},U5={class:"settings-page"},F5={class:"container"},$5={class:"page-actions"};function V5(e,t,s,n,i,r){return S(),T("div",U5,[o("div",F5,[t[2]||(t[2]=ne('<div class="page-header" data-v-90df6586><h1 class="page-title" data-v-90df6586>Settings</h1><p class="page-subtitle" data-v-90df6586>Manage your application preferences and system configurations</p></div><div class="settings-grid" data-v-90df6586><div class="settings-section" data-v-90df6586><div class="section-header" data-v-90df6586><h2 class="section-title" data-v-90df6586>General Settings</h2><span class="section-icon" data-v-90df6586>⚙️</span></div><div class="settings-items" data-v-90df6586><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Language</h3><p class="settings-description" data-v-90df6586>Choose your preferred language</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="en" data-v-90df6586>English</option><option value="zh" data-v-90df6586>中文</option><option value="ja" data-v-90df6586>日本語</option><option value="ko" data-v-90df6586>한국어</option></select></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Theme</h3><p class="settings-description" data-v-90df6586>Select your preferred theme</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="dark" data-v-90df6586>Dark</option><option value="light" data-v-90df6586>Light</option><option value="auto" data-v-90df6586>Auto</option></select></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Timezone</h3><p class="settings-description" data-v-90df6586>Set your local timezone</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="UTC" data-v-90df6586>UTC</option><option value="EST" data-v-90df6586>Eastern Time</option><option value="PST" data-v-90df6586>Pacific Time</option><option value="CST" data-v-90df6586>China Standard Time</option></select></div></div></div></div><div class="settings-section" data-v-90df6586><div class="section-header" data-v-90df6586><h2 class="section-title" data-v-90df6586>Security Settings</h2><span class="section-icon" data-v-90df6586>🔐</span></div><div class="settings-items" data-v-90df6586><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Password</h3><p class="settings-description" data-v-90df6586>Change your account password</p></div><div class="settings-control" data-v-90df6586><button class="btn btn-secondary" data-v-90df6586>Change Password</button></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Session Timeout</h3><p class="settings-description" data-v-90df6586>Set automatic logout time</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="15" data-v-90df6586>15 minutes</option><option value="30" data-v-90df6586>30 minutes</option><option value="60" data-v-90df6586>1 hour</option><option value="480" data-v-90df6586>8 hours</option></select></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Login Alerts</h3><p class="settings-description" data-v-90df6586>Get notified of new login attempts</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" checked data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div></div></div><div class="settings-section" data-v-90df6586><div class="section-header" data-v-90df6586><h2 class="section-title" data-v-90df6586>Wallet Settings</h2><span class="section-icon" data-v-90df6586>💼</span></div><div class="settings-items" data-v-90df6586><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Default Wallet</h3><p class="settings-description" data-v-90df6586>Select your preferred wallet provider</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="metamask" data-v-90df6586>MetaMask</option><option value="walletconnect" data-v-90df6586>WalletConnect</option><option value="coinbase" data-v-90df6586>Coinbase Wallet</option></select></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Auto-Connect</h3><p class="settings-description" data-v-90df6586>Automatically connect wallet on page load</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Gas Settings</h3><p class="settings-description" data-v-90df6586>Configure transaction gas preferences</p></div><div class="settings-control" data-v-90df6586><button class="btn btn-secondary" data-v-90df6586>Gas Settings</button></div></div></div></div><div class="settings-section" data-v-90df6586><div class="section-header" data-v-90df6586><h2 class="section-title" data-v-90df6586>Notifications</h2><span class="section-icon" data-v-90df6586>🔔</span></div><div class="settings-items" data-v-90df6586><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Push Notifications</h3><p class="settings-description" data-v-90df6586>Enable browser push notifications</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" checked data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Email Notifications</h3><p class="settings-description" data-v-90df6586>Receive important updates via email</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" checked data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>SMS Alerts</h3><p class="settings-description" data-v-90df6586>Get critical alerts via SMS</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div></div></div><div class="settings-section" data-v-90df6586><div class="section-header" data-v-90df6586><h2 class="section-title" data-v-90df6586>Performance</h2><span class="section-icon" data-v-90df6586>⚡</span></div><div class="settings-items" data-v-90df6586><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Auto-Refresh</h3><p class="settings-description" data-v-90df6586>Automatically refresh data</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="0" data-v-90df6586>Disabled</option><option value="30" data-v-90df6586>30 seconds</option><option value="60" data-v-90df6586>1 minute</option><option value="300" data-v-90df6586>5 minutes</option></select></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Cache Size</h3><p class="settings-description" data-v-90df6586>Maximum cache storage size</p></div><div class="settings-control" data-v-90df6586><select class="settings-select" data-v-90df6586><option value="100" data-v-90df6586>100 MB</option><option value="250" data-v-90df6586>250 MB</option><option value="500" data-v-90df6586>500 MB</option><option value="1000" data-v-90df6586>1 GB</option></select></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Clear Cache</h3><p class="settings-description" data-v-90df6586>Clear all cached data</p></div><div class="settings-control" data-v-90df6586><button class="btn btn-secondary" data-v-90df6586>Clear Cache</button></div></div></div></div><div class="settings-section" data-v-90df6586><div class="section-header" data-v-90df6586><h2 class="section-title" data-v-90df6586>Advanced</h2><span class="section-icon" data-v-90df6586>🔧</span></div><div class="settings-items" data-v-90df6586><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Developer Mode</h3><p class="settings-description" data-v-90df6586>Enable developer tools and debug mode</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Analytics</h3><p class="settings-description" data-v-90df6586>Help improve the app by sharing usage data</p></div><div class="settings-control" data-v-90df6586><label class="toggle-switch" data-v-90df6586><input type="checkbox" checked data-v-90df6586><span class="toggle-slider" data-v-90df6586></span></label></div></div><div class="settings-item" data-v-90df6586><div class="settings-info" data-v-90df6586><h3 class="settings-name" data-v-90df6586>Reset All Settings</h3><p class="settings-description" data-v-90df6586>Reset all settings to default values</p></div><div class="settings-control" data-v-90df6586><button class="btn btn-danger" data-v-90df6586>Reset Settings</button></div></div></div></div></div>',2)),o("div",$5,[o("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...a)=>r.saveSettings&&r.saveSettings(...a))},"Save Settings"),o("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...a)=>r.resetSettings&&r.resetSettings(...a))},"Reset to Default")])])])}const H5=zt(M5,[["render",V5],["__scopeId","data-v-90df6586"]]),j5=m3({history:GE(),routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:Eh},{path:"/wallet",name:"wallet",component:Km},{path:"/portfolio",name:"portfolio",component:Bm},{path:"/projects",name:"projects",component:kh},{path:"/detail/:id?",name:"detail",component:zm,props:!0},{path:"/swap",name:"swap",component:WI},{path:"/bridge",name:"bridge",component:UI},{path:"/send",name:"send",component:HI},{path:"/token/:address",name:"tokenDetail",component:dR,props:!0},{path:"/profile",name:"profile",component:Gm},{path:"/login",name:"login",component:$m},{path:"/signup",name:"signup",component:Vm},{path:"/trade/:code",name:"tradeProject",component:DI,props:!0},{path:"/kycService",component:Wm},{path:"/overview",name:"overview",component:cs},{path:"/features",name:"features",component:AR},{path:"/solutions",name:"solutions",component:OR},{path:"/tutorials",name:"tutorials",component:$R},{path:"/pricing",name:"pricing",component:ZR},{path:"/about",name:"about",component:s5},{path:"/contact",name:"contact",component:rf},{path:"/releases",name:"releases",component:cs},{path:"/careers",name:"careers",component:cs},{path:"/press",name:"press",component:cs},{path:"/news",name:"news",component:cs},{path:"/media-kit",name:"media-kit",component:cs},{path:"/blog",name:"blog",component:cs},{path:"/newsletter",name:"newsletter",component:cs},{path:"/events",name:"events",component:cs},{path:"/help",name:"help",component:cs},{path:"/support",name:"support",component:rf},{path:"/terms",name:"terms",component:k5},{path:"/privacy",name:"privacy",component:N5},{path:"/cookies",name:"cookies",component:cs},{path:"/licenses",name:"licenses",component:cs},{path:"/settings",name:"settings",component:H5},{path:"/options",name:"options",component:O5},{path:"/test/contract-address",name:"contractAddressTest",component:()=>Jx(()=>import("./ContractAddressTestView-1MEr-8KV.js"),__vite__mapDeps([0,1]))}]});V0(Yx).use(j5).mount("#app");export{xt as F,zt as _,o as a,et as b,T as c,Ue as d,Ct as n,S as o,Ae as r,y as t,Qn as u};

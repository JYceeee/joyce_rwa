# 开场视频功能说明

## 功能概述

本功能在用户访问网站主页时，会先播放一段开场视频，然后再跳转到主页。用户可以选择跳过视频，系统会记住用户的选择，避免重复播放。

## 功能特性

- ✅ 自动播放开场视频
- ✅ 用户可以跳过视频（3秒后显示跳过按钮）
- ✅ 记住用户观看状态，避免重复播放
- ✅ 视频加载失败时自动跳转
- ✅ 响应式设计，支持移动端
- ✅ 在设置页面提供重新观看选项

## 文件结构

```
Website/src/
├── components/
│   └── IntroVideo.vue          # 开场视频组件
├── router/
│   └── index.ts               # 路由配置（已修改）
├── views/
│   └── settings/
│       └── SettingsView.vue   # 设置页面（已修改）
└── App.vue                    # 主应用组件（已修改）
```

## 路由配置

- `/` - 重定向到 `/intro`
- `/intro` - 开场视频页面
- `/home` - 主页（视频播放后跳转）

## 组件说明

### IntroVideo.vue

开场视频组件的主要功能：

1. **视频播放**: 自动播放 `/videos/Blockchainvideo.mp4`
2. **状态管理**: 使用 localStorage 记录用户观看状态
3. **用户交互**: 
   - 跳过按钮（3秒后显示）
   - 视频播放完成后自动跳转
4. **错误处理**: 视频加载失败时自动跳转到主页

### 主要方法

- `checkIntroStatus()` - 检查用户是否已观看过视频
- `handleVideoEnd()` - 视频播放完成处理
- `skipVideo()` - 用户跳过视频
- `proceedToHome()` - 跳转到主页并设置标记

## 设置页面集成

在设置页面的 General 部分添加了"开场视频"选项，用户可以：

1. 点击"观看开场视频"按钮
2. 系统清除观看记录
3. 跳转到开场视频页面

## 使用方法

### 开发者

1. **首次访问**: 用户访问网站时会自动播放开场视频
2. **跳过视频**: 用户可以点击跳过按钮或等待视频播放完成
3. **重复访问**: 已观看过的用户直接跳转到主页
4. **重新观看**: 在设置页面可以重新观看视频

### 测试

1. 访问 `http://localhost:5173/test-intro-video.html` 进行功能测试
2. 清除浏览器 localStorage 来重置观看状态
3. 测试不同设备和浏览器兼容性

## 自定义配置

### 修改视频文件

1. 替换 `Website/public/videos/Blockchainvideo.mp4`
2. 确保视频格式为 MP4
3. 建议视频时长不超过 30 秒

### 修改跳过按钮显示时间

在 `IntroVideo.vue` 中修改：

```javascript
// 当前设置：3秒后显示跳过按钮
this.skipTimer = setTimeout(() => {
  this.showSkipButton = true
}, 3000) // 修改这里的数值（毫秒）
```

### 修改视频路径

在 `IntroVideo.vue` 中修改视频源：

```html
<source src="/videos/your-video.mp4" type="video/mp4">
```

## 浏览器兼容性

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+
- ✅ 移动端浏览器

## 注意事项

1. **视频文件大小**: 建议控制在 5MB 以内，确保快速加载
2. **网络环境**: 在慢速网络环境下提供跳过选项
3. **用户体验**: 避免强制观看，始终提供跳过选项
4. **SEO 影响**: 开场视频不会影响搜索引擎抓取

## 故障排除

### 视频无法播放

1. 检查视频文件是否存在
2. 确认视频格式为 MP4
3. 检查浏览器控制台错误信息
4. 验证视频文件完整性

### localStorage 问题

1. 检查浏览器是否支持 localStorage
2. 确认没有禁用 JavaScript
3. 检查浏览器隐私设置

### 路由跳转问题

1. 确认 Vue Router 配置正确
2. 检查路由守卫设置
3. 验证组件导入路径

## 更新日志

- **v1.0.0** - 初始版本，基本开场视频功能
- **v1.1.0** - 添加设置页面重新观看功能
- **v1.2.0** - 优化移动端显示效果

